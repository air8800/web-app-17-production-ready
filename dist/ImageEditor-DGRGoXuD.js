import{c as xe,r as g,D as Ee,g as Xe,j as t,X as V,Z as Ye,b as De,M as _,P as We,R as He}from"./main-DUpaawXr.js";import{M as ze,C as Te,R as de,D as Le,a as ge,b as Ae,G as Fe,c as Pe,A as Be,d as Oe,S as $e}from"./Dropdown-CyGWHJ9W.js";/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=xe("Contrast",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z",key:"j4l70d"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Ve=({file:Y,onSave:ue,onCancel:J,pageSize:D=Ee,onPageSizeChange:K,colorMode:W="BW",pagesPerSheet:Q=1})=>{const[X,ee]=g.useState(null),[N,pe]=g.useState(null),[fe,L]=g.useState(!1),[te,B]=g.useState(null),[O,se]=g.useState(D);g.useEffect(()=>{D!==O&&se(D)},[D]);const[a,E]=g.useState({brightness:0,contrast:0,saturation:0,rotation:0,filter:"none",scale:100,offsetX:0,offsetY:0}),[A,$]=g.useState(!1),[m,F]=g.useState(null),[G,ae]=g.useState(!1),[we,ne]=g.useState(null),[r,be]=g.useState({x:0,y:0}),I=g.useRef(null),[Ue,ie]=g.useState(null),[U,ve]=g.useState(!1),[v,oe]=g.useState(1),[H,ye]=g.useState("pagesize"),[Z,je]=g.useState(D),M=g.useRef(null),Ne=g.useRef(null),z=g.useRef(null);g.useEffect(()=>{Y&&Y.type.startsWith("image/")&&Ce()},[Y]),g.useEffect(()=>(X&&(z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{I.current&&cancelAnimationFrame(I.current),I.current=requestAnimationFrame(()=>{Me(),I.current=null})},16)),()=>{z.current&&clearTimeout(z.current),I.current&&cancelAnimationFrame(I.current)}),[a,X,O,W,Q]);const Ce=async()=>{try{console.time("â±ï¸ Image Editor - Total Load Time"),L(!0),B(null),console.time("â±ï¸ Image Editor - Create Image Object");const e=new Image;e.onload=()=>{console.timeEnd("â±ï¸ Image Editor - Create Image Object"),console.log(`ðŸ–¼ï¸ Image Editor - Dimensions: ${e.width}x${e.height}`),console.time("â±ï¸ Image Editor - Create Canvas");const s=document.createElement("canvas"),p=s.getContext("2d");s.width=e.width,s.height=e.height,p.fillStyle="white",p.fillRect(0,0,s.width,s.height),p.drawImage(e,0,0),console.timeEnd("â±ï¸ Image Editor - Create Canvas"),console.time("â±ï¸ Image Editor - Setup State"),ee({canvas:s,width:e.width,height:e.height}),pe({canvas:s.cloneNode(),width:e.width,height:e.height}),console.timeEnd("â±ï¸ Image Editor - Setup State"),console.timeEnd("â±ï¸ Image Editor - Total Load Time"),console.log("âœ… Image Editor - Image loaded successfully"),L(!1)},e.onerror=()=>{console.error("âŒ Error loading image"),B("Failed to load image"),L(!1)},e.src=URL.createObjectURL(Y)}catch(e){console.error("âŒ Error loading image:",e),B("Failed to load image: "+e.message),L(!1)}},Me=()=>{if(!X||!M.current)return;const e=M.current,s=e.getContext("2d"),p=Xe(O);let x=N?N.canvas:X.canvas,d=x,l=x.width,h=x.height;const c=p.width,w=p.height;e.width=c,e.height=w,s.clearRect(0,0,e.width,e.height),s.fillStyle="white",s.fillRect(0,0,e.width,e.height),s.save(),s.translate(e.width/2,e.height/2),s.translate(a.offsetX,a.offsetY),a.rotation!==0&&s.rotate(a.rotation*Math.PI/180);let f="";switch(a.brightness!==0&&(f+=`brightness(${100+a.brightness}%) `),a.contrast!==0&&(f+=`contrast(${100+a.contrast}%) `),a.saturation!==0&&(f+=`saturate(${100+a.saturation}%) `),a.filter){case"grayscale":f+="grayscale(100%) ";break;case"sepia":f+="sepia(100%) ";break;case"blur":f+="blur(1px) ";break}s.filter=f||"none";let C=1,y=l,k=h;const b=a.rotation%360;if(b===90||b===270){const i=h,o=l,S=c/i,j=w/o;C=Math.min(S,j,1)}else{const i=c/l,o=w/h;C=Math.min(i,o,1)}y=l*C,k=h*C;const n=a.scale/100;if(y*=n,k*=n,s.drawImage(d,-y/2,-k/2,y,k),s.restore(),W==="BW"){const i=document.createElement("canvas");i.width=e.width,i.height=e.height;const o=i.getContext("2d");o.filter="grayscale(100%)",o.drawImage(e,0,0),s.clearRect(0,0,e.width,e.height),s.fillStyle="white",s.fillRect(0,0,e.width,e.height),s.drawImage(i,0,0)}if(Q===2){const i=document.createElement("canvas");i.width=e.width,i.height=e.height,i.getContext("2d").drawImage(e,0,0);const S=12;e.width=i.width*2+S,e.height=i.height,s.fillStyle="white",s.fillRect(0,0,e.width,e.height);const j=e.width/2,u=3;s.strokeStyle="#3B82F6",s.lineWidth=2,s.setLineDash([6,6]),s.strokeRect(u,u,j-S/2-u,e.height-u*2),s.strokeRect(j+S/2,u,j-S/2-u,e.height-u*2),s.setLineDash([]);const T=j-S/2-u*3,he=e.height-u*4;s.drawImage(i,u*2,u*2,T,he),s.drawImage(i,j+S/2+u,u*2,T,he)}setTimeout(ke,150)},ke=()=>{if(!M.current)return;const e=M.current,s=e.getBoundingClientRect(),p=e.closest(".image-container"),x=p?p.getBoundingClientRect():{left:0,top:0},d={left:s.left-x.left,top:s.top-x.top,width:s.width,height:s.height};ie(d)},Re=()=>{$(!0),setTimeout(()=>{const e=M.current;if(e){const s=e.getBoundingClientRect(),x=e.closest(".image-container").getBoundingClientRect(),d={left:s.left-x.left,top:s.top-x.top,width:s.width,height:s.height};ie(d);const l=e.width,h=e.height,c=l*.8,w=h*.8,f=(l-c)/2,C=(h-w)/2;F({x:f,y:C,width:c,height:w})}},200)},P=(e,s)=>{if(!A||!m)return;e.preventDefault(),e.stopPropagation(),console.log("ðŸ•±ï¸ Mouse down on handle:",s,"Current zoom:",v),ae(!0),ne(s);const d=M.current.closest(".image-container").getBoundingClientRect(),l=(e.clientX-d.left)/v,h=(e.clientY-d.top)/v;be({domX:l,domY:h,cropX:m.x,cropY:m.y,cropWidth:m.width,cropHeight:m.height})},re=e=>{!G||!m||(e.preventDefault(),I.current&&cancelAnimationFrame(I.current),I.current=requestAnimationFrame(()=>{const s=M.current;if(!s)return;const x=s.closest(".image-container").getBoundingClientRect(),d=s.getBoundingClientRect(),l=(e.clientX-x.left)/v,h=(e.clientY-x.top)/v,c=l-r.domX,w=h-r.domY,f=d.width/v,C=d.height/v,y=f/s.width,k=C/s.height,b=c/y,R=w/k;let n={...m};const i=50,o=10;switch(s.width-o*2,s.height-o*2,we){case"nw":const S=Math.max(o,Math.min(r.cropX+b,r.cropX+r.cropWidth-i)),j=Math.max(o,Math.min(r.cropY+R,r.cropY+r.cropHeight-i));n.x=S,n.y=j,n.width=r.cropWidth-(S-r.cropX),n.height=r.cropHeight-(j-r.cropY);break;case"ne":const u=Math.max(o,Math.min(r.cropY+R,r.cropY+r.cropHeight-i));n.y=u,n.width=Math.max(i,Math.min(r.cropWidth+b,s.width-r.cropX-o)),n.height=r.cropHeight-(u-r.cropY);break;case"sw":const T=Math.max(o,Math.min(r.cropX+b,r.cropX+r.cropWidth-i));n.x=T,n.width=r.cropWidth-(T-r.cropX),n.height=Math.max(i,Math.min(r.cropHeight+R,s.height-r.cropY-o));break;case"se":n.width=Math.max(i,Math.min(r.cropWidth+b,s.width-r.cropX-o)),n.height=Math.max(i,Math.min(r.cropHeight+R,s.height-r.cropY-o));break;case"center":n.x=Math.max(o,Math.min(r.cropX+b,s.width-r.cropWidth-o)),n.y=Math.max(o,Math.min(r.cropY+R,s.height-r.cropHeight-o));break}n.x=Math.max(o,Math.min(n.x,s.width-i-o)),n.y=Math.max(o,Math.min(n.y,s.height-i-o)),n.width=Math.max(i,Math.min(n.width,s.width-n.x-o)),n.height=Math.max(i,Math.min(n.height,s.height-n.y-o)),n.x+n.width>s.width-o&&(n.width=s.width-n.x-o),n.y+n.height>s.height-o&&(n.height=s.height-n.y-o),F(n)}))},q=()=>{I.current&&(cancelAnimationFrame(I.current),I.current=null),ae(!1),ne(null)},ce=async()=>{if(!(!m||!X))try{const e=M.current;if(!e||m.width<10||m.height<10)return;const s=document.createElement("canvas"),p=s.getContext("2d"),x=Math.max(0,Math.round(m.x)),d=Math.max(0,Math.round(m.y)),l=Math.min(Math.round(m.width),e.width-x),h=Math.min(Math.round(m.height),e.height-d);s.width=l,s.height=h,p.drawImage(e,x,d,l,h,0,0,l,h);const c=document.createElement("canvas"),w=c.getContext("2d");c.width=N.width,c.height=N.height,w.fillStyle="white",w.fillRect(0,0,c.width,c.height);const f=(c.width-l)/2,C=(c.height-h)/2;w.drawImage(s,f,C),ee({canvas:c,width:N.width,height:N.height}),E({brightness:0,contrast:0,saturation:0,rotation:0,filter:"none",scale:100,offsetX:0,offsetY:0}),$(!1),F(null),requestAnimationFrame(()=>{if(M.current){const y=M.current,k=y.getContext("2d");y.width=c.width,y.height=c.height,k.drawImage(c,0,0)}})}catch(e){console.error("âŒ Error applying crop:",e)}},Se=()=>{E({brightness:0,contrast:0,saturation:0,rotation:0,filter:"none",scale:100,offsetX:0,offsetY:0})},Ie=()=>{if(A&&m&&!G){ce(),setTimeout(()=>{le()},100);return}le()},le=()=>{if(!X||!N)return;const e=document.createElement("canvas"),s=e.getContext("2d"),p=a.rotation%360,x=p===90||p===270;let d,l;x?(d=N.height,l=N.width):(d=N.width,l=N.height);const h=a.scale/100;d=Math.round(d*h),l=Math.round(l*h),e.width=d,e.height=l,s.fillStyle="white",s.fillRect(0,0,e.width,e.height),s.save(),s.translate(e.width/2,e.height/2),s.translate(a.offsetX*h,a.offsetY*h),a.rotation!==0&&s.rotate(a.rotation*Math.PI/180);let c="";switch(a.brightness!==0&&(c+=`brightness(${100+a.brightness}%) `),a.contrast!==0&&(c+=`contrast(${100+a.contrast}%) `),a.saturation!==0&&(c+=`saturate(${100+a.saturation}%) `),a.filter){case"grayscale":c+="grayscale(100%) ";break;case"sepia":c+="sepia(100%) ";break;case"blur":c+="blur(1px) ";break}s.filter=c||"none";const w=N.canvas,f=N.width,C=N.height,y=f*h,k=C*h;if(s.drawImage(w,-y/2,-k/2,y,k),s.restore(),W==="BW"){const b=document.createElement("canvas");b.width=e.width,b.height=e.height;const R=b.getContext("2d");R.filter="grayscale(100%)",R.drawImage(e,0,0),s.clearRect(0,0,e.width,e.height),s.fillStyle="white",s.fillRect(0,0,e.width,e.height),s.drawImage(b,0,0)}e.toBlob(b=>{const R=new File([b],Y.name,{type:"image/png"});ue(R)},"image/png",.95)};return fe?t.jsx("div",{className:"fixed inset-0 bg-gray-800/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-100 rounded-2xl shadow-2xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl mx-auto mb-4 flex items-center justify-center animate-pulse",children:t.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Loading Image Editor"}),t.jsx("p",{className:"text-gray-600",children:"Preparing your image for editing..."})]})}):te?t.jsx("div",{className:"fixed inset-0 bg-gray-800/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 text-center max-w-md",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:t.jsx(V,{className:"w-8 h-8 text-red-600"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error Loading Image"}),t.jsx("p",{className:"text-gray-600 mb-6",children:te}),t.jsx("button",{onClick:J,className:"px-6 py-3 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-200",children:"Close Editor"})]})}):t.jsxs("div",{className:"fixed inset-0 bg-white z-50 flex flex-col overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-2 py-2 sm:px-4 sm:py-3 flex items-center justify-between flex-shrink-0 shadow-md",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),t.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[t.jsx("h2",{className:"text-sm sm:text-base font-bold truncate",children:"Edit Image"}),t.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${W==="Color"?"bg-pink-500 text-white":"bg-white/25 text-white"}`,children:W==="Color"?"ðŸŽ¨":"âš«"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[t.jsxs("div",{className:"hidden sm:flex items-center gap-1 bg-white/15 rounded-md px-2 py-1",children:[t.jsx("button",{onClick:()=>oe(Math.max(.5,v-.25)),className:"p-1 hover:bg-white/20 rounded transition-colors",children:t.jsx(Ye,{className:"w-3 h-3"})}),t.jsxs("span",{className:"text-xs font-bold px-1",children:[Math.round(v*100),"%"]}),t.jsx("button",{onClick:()=>oe(Math.min(2,v+.25)),className:"p-1 hover:bg-white/20 rounded transition-colors",children:t.jsx(De,{className:"w-3 h-3"})})]}),t.jsx("button",{onClick:J,className:"p-1.5 bg-white/15 hover:bg-white/25 rounded transition-colors",title:"Close",children:t.jsx(V,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"flex-1 bg-gray-100 flex items-center justify-center relative overflow-hidden",children:t.jsx("div",{ref:Ne,className:"image-container relative w-full h-full flex items-center justify-center overflow-hidden",style:{transform:`scale(${v})`},onMouseMove:re,onMouseUp:q,onMouseLeave:q,onTouchMove:e=>{if(G){e.preventDefault();const s=e.touches[0];re({clientX:s.clientX,clientY:s.clientY,preventDefault:()=>{}})}},onTouchEnd:q,children:X&&t.jsxs(t.Fragment,{children:[t.jsx("canvas",{ref:M,className:"max-w-full max-h-full object-contain"}),U&&t.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30",style:{backgroundImage:`
                        linear-gradient(rgba(59, 130, 246, 0.3) 1px, transparent 1px),
                        linear-gradient(90deg, rgba(59, 130, 246, 0.3) 1px, transparent 1px)
                      `,backgroundSize:"20px 20px"}}),A&&m&&M.current&&(()=>{const e=M.current,s=e.getBoundingClientRect(),x=e.closest(".image-container").getBoundingClientRect(),d=s.width/v,l=s.height/v,h=e.width,c=e.height,w=d/h,f=l/c,C=m.x*w,y=m.y*f,k=m.width*w,b=m.height*f,R=(x.width/v-d)/2,n=(x.height/v-l)/2;return t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:t.jsxs("div",{className:"absolute border-2 border-blue-500 bg-blue-500/10 backdrop-blur-sm pointer-events-auto",style:{left:R+C,top:n+y,width:k,height:b,transition:"none"},children:[t.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-white/80 rounded-sm"}),t.jsxs("div",{className:"absolute inset-0 opacity-40",children:[t.jsx("div",{className:"absolute left-1/3 top-0 bottom-0 w-px bg-white"}),t.jsx("div",{className:"absolute left-2/3 top-0 bottom-0 w-px bg-white"}),t.jsx("div",{className:"absolute top-1/3 left-0 right-0 h-px bg-white"}),t.jsx("div",{className:"absolute top-2/3 left-0 right-0 h-px bg-white"})]}),[{handle:"nw",position:{left:-10,top:-10},cursor:"nw-resize"},{handle:"ne",position:{right:-10,top:-10},cursor:"ne-resize"},{handle:"sw",position:{left:-10,bottom:-10},cursor:"sw-resize"},{handle:"se",position:{right:-10,bottom:-10},cursor:"se-resize"}].map(({handle:i,position:o,cursor:S})=>t.jsx("div",{className:`absolute w-8 h-8 sm:w-7 sm:h-7 bg-gradient-to-br from-blue-400 to-blue-600 border-3 border-white rounded-full shadow-lg cursor-${S} hover:scale-110 active:scale-125 transition-all duration-150 hover:shadow-xl z-10 pointer-events-auto touch-none`,style:o,onMouseDown:j=>P(j,i),onTouchStart:j=>{j.preventDefault();const u=j.touches[0];P({clientX:u.clientX,clientY:u.clientY,preventDefault:()=>{},stopPropagation:()=>{}},i)}},i)),t.jsx("div",{className:"absolute w-10 h-10 sm:w-9 sm:h-9 bg-gradient-to-br from-blue-500 to-purple-600 border-3 border-white rounded-full shadow-lg cursor-move hover:scale-110 active:scale-125 transition-all duration-150 hover:shadow-xl flex items-center justify-center z-10 pointer-events-auto touch-none",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"},onMouseDown:i=>P(i,"center"),onTouchStart:i=>{i.preventDefault();const o=i.touches[0];P({clientX:o.clientX,clientY:o.clientY,preventDefault:()=>{},stopPropagation:()=>{}},"center")},children:t.jsx(ze,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{className:"absolute -top-8 left-0 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-2 py-1 rounded text-xs font-medium shadow-lg pointer-events-none",children:["ðŸ“ ",Math.round(m.width)," Ã— ",Math.round(m.height)]})]})})})()]})})}),t.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 p-2 flex-shrink-0",children:[t.jsx("div",{className:"flex gap-1 mb-2",children:[{id:"pagesize",label:"Size",icon:_},{id:"crop",label:"Crop",icon:Te},{id:"adjust",label:"Adjust",icon:me},{id:"transform",label:"Rotate",icon:de}].map(e=>t.jsxs("button",{onClick:()=>ye(e.id),className:`flex items-center justify-center gap-1 px-2 py-1.5 rounded-lg font-semibold transition-colors text-xs flex-1 ${H===e.id?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[t.jsx(e.icon,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:e.label})]},e.id))}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[H==="pagesize"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-200 rounded-lg p-2 shadow-sm flex-wrap",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"text-xs font-medium whitespace-nowrap",children:"Page Size:"})]}),t.jsx(Le,{value:Z,onChange:je,options:Object.entries(We).map(([e,s])=>({value:e,label:s.displayName})),fullWidth:!1,className:"min-w-[180px]"})]}),t.jsxs("button",{onClick:()=>{se(Z),K&&K(Z)},className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors text-xs font-semibold",children:[t.jsx(ge,{className:"w-3.5 h-3.5"}),"Apply"]})]}),H==="crop"&&t.jsxs(t.Fragment,{children:[A?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("button",{onClick:ce,className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors text-xs font-semibold",children:[t.jsx(ge,{className:"w-3.5 h-3.5"}),"Apply"]}),t.jsxs("button",{onClick:()=>{$(!1),F(null)},className:"flex items-center gap-1 px-3 py-1.5 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors text-xs font-semibold",children:[t.jsx(V,{className:"w-3.5 h-3.5"}),"Cancel"]})]}):t.jsxs("button",{onClick:Re,className:"flex items-center gap-1 px-3 py-1.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors text-xs font-semibold",children:[t.jsx(Ae,{className:"w-3.5 h-3.5"}),"Start"]}),t.jsxs("button",{onClick:()=>ve(!U),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg transition-colors text-xs font-semibold ${U?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[t.jsx(Fe,{className:"w-3.5 h-3.5"}),"Grid"]})]}),H==="adjust"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-1 bg-white border border-gray-200 rounded p-2 shadow-sm",children:[t.jsx(me,{className:"w-3 h-3 text-yellow-500"}),t.jsx("span",{className:"text-xs font-medium min-w-[50px]",children:"Bright"}),t.jsx("input",{type:"range",min:"-100",max:"100",value:a.brightness,onChange:e=>E(s=>({...s,brightness:parseInt(e.target.value)})),className:"w-24 sm:w-32 h-2"}),t.jsx("span",{className:"text-xs text-gray-600 min-w-[30px] font-medium",children:a.brightness})]}),t.jsxs("div",{className:"flex items-center gap-1 bg-white border border-gray-200 rounded p-2 shadow-sm",children:[t.jsx(Ge,{className:"w-3 h-3 text-gray-600"}),t.jsx("span",{className:"text-xs font-medium min-w-[50px]",children:"Contrast"}),t.jsx("input",{type:"range",min:"-100",max:"100",value:a.contrast,onChange:e=>E(s=>({...s,contrast:parseInt(e.target.value)})),className:"w-24 sm:w-32 h-2"}),t.jsx("span",{className:"text-xs text-gray-600 min-w-[30px] font-medium",children:a.contrast})]})]}),H==="transform"&&t.jsxs("div",{className:"flex flex-col gap-2.5 w-full",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>E(e=>({...e,rotation:(e.rotation-90+360)%360})),className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",title:"Rotate Left",children:t.jsx(He,{className:"w-4 h-4 text-gray-700"})}),t.jsx("button",{onClick:()=>E(e=>({...e,rotation:(e.rotation+90)%360})),className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",title:"Rotate Right",children:t.jsx(de,{className:"w-4 h-4 text-gray-700"})}),t.jsxs("div",{className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-xs font-medium",children:[a.rotation,"Â°"]}),t.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),t.jsxs("button",{onClick:Se,className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-xs font-medium",children:[t.jsx(Pe,{className:"w-3.5 h-3.5"}),"Reset"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),t.jsx("span",{className:"text-xs text-gray-600 font-medium min-w-[36px]",children:"Scale"}),t.jsx("input",{type:"range",min:"10",max:"700",step:"5",value:a.scale,onChange:e=>E(s=>({...s,scale:parseInt(e.target.value)})),className:"flex-1 h-1.5"}),t.jsxs("span",{className:"text-xs text-gray-700 font-medium min-w-[42px] text-right",children:[a.scale,"%"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Be,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),t.jsx("span",{className:"text-xs text-gray-600 font-medium min-w-[36px]",children:"Horiz"}),t.jsx("input",{type:"range",min:"-300",max:"300",value:a.offsetX,onChange:e=>E(s=>({...s,offsetX:parseInt(e.target.value)})),className:"flex-1 h-1.5"}),t.jsxs("span",{className:"text-xs text-gray-700 font-medium min-w-[42px] text-right",children:[a.offsetX,"px"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Oe,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),t.jsx("span",{className:"text-xs text-gray-600 font-medium min-w-[36px]",children:"Vert"}),t.jsx("input",{type:"range",min:"-300",max:"300",value:a.offsetY,onChange:e=>E(s=>({...s,offsetY:parseInt(e.target.value)})),className:"flex-1 h-1.5"}),t.jsxs("span",{className:"text-xs text-gray-700 font-medium min-w-[42px] text-right",children:[a.offsetY,"px"]}),t.jsx("button",{onClick:()=>E(e=>({...e,offsetX:0,offsetY:0})),className:"px-2.5 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-xs font-medium",title:"Center content",children:"Center"})]})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:t.jsxs("button",{onClick:Ie,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg transition-colors text-xs font-medium",children:[t.jsx($e,{className:"w-3.5 h-3.5"}),"Save & Close"]})})]})]})};export{Ve as default};
