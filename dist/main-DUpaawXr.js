const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./PDFEditor-XAbRHtk9.js","./Dropdown-CyGWHJ9W.js","./ImageEditor-DGRGoXuD.js"])))=>i.map(i=>d[i]);
var ou=Object.defineProperty;var wo=s=>{throw TypeError(s)};var lu=(s,e,a)=>e in s?ou(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a;var Hr=(s,e,a)=>lu(s,typeof e!="symbol"?e+"":e,a),ds=(s,e,a)=>e.has(s)||wo("Cannot "+a);var lt=(s,e,a)=>(ds(s,e,"read from private field"),a?a.call(s):e.get(s)),$t=(s,e,a)=>e.has(s)?wo("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,a),Qt=(s,e,a,o)=>(ds(s,e,"write to private field"),o?o.call(s,a):e.set(s,a),a),Wt=(s,e,a)=>(ds(s,e,"access private method"),a);var rn=(s,e,a,o)=>({set _(d){Qt(s,e,d,a)},get _(){return lt(s,e,o)}});function _mergeNamespaces(s,e){for(var a=0;a<e.length;a++){const o=e[a];if(typeof o!="string"&&!Array.isArray(o)){for(const d in o)if(d!=="default"&&!(d in s)){const h=Object.getOwnPropertyDescriptor(o,d);h&&Object.defineProperty(s,d,h.get?h:{enumerable:!0,get:()=>o[d]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function a(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(d){if(d.ep)return;d.ep=!0;const h=a(d);fetch(d.href,h)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function getAugmentedNamespace(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var a=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(s).forEach(function(o){var d=Object.getOwnPropertyDescriptor(s,o);Object.defineProperty(a,o,d.get?d:{enumerable:!0,get:function(){return s[o]}})}),a}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(s){return s===null||typeof s!="object"?null:(s=z$1&&s[z$1]||s["@@iterator"],typeof s=="function"?s:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(s,e,a){this.props=s,this.context=e,this.refs=D$1,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(s,e){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,e,"setState")};E$1.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(s,e,a){this.props=s,this.context=e,this.refs=D$1,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(s,e,a){var o,d={},h=null,g=null;if(e!=null)for(o in e.ref!==void 0&&(g=e.ref),e.key!==void 0&&(h=""+e.key),e)J.call(e,o)&&!L$1.hasOwnProperty(o)&&(d[o]=e[o]);var b=arguments.length-2;if(b===1)d.children=a;else if(1<b){for(var j=Array(b),_=0;_<b;_++)j[_]=arguments[_+2];d.children=j}if(s&&s.defaultProps)for(o in b=s.defaultProps,b)d[o]===void 0&&(d[o]=b[o]);return{$$typeof:l$1,type:s,key:h,ref:g,props:d,_owner:K$1.current}}function N$1(s,e){return{$$typeof:l$1,type:s.type,key:e,ref:s.ref,props:s.props,_owner:s._owner}}function O$1(s){return typeof s=="object"&&s!==null&&s.$$typeof===l$1}function escape$1(s){var e={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(a){return e[a]})}var P$1=/\/+/g;function Q$1(s,e){return typeof s=="object"&&s!==null&&s.key!=null?escape$1(""+s.key):e.toString(36)}function R$1(s,e,a,o,d){var h=typeof s;(h==="undefined"||h==="boolean")&&(s=null);var g=!1;if(s===null)g=!0;else switch(h){case"string":case"number":g=!0;break;case"object":switch(s.$$typeof){case l$1:case n$1:g=!0}}if(g)return g=s,d=d(g),s=o===""?"."+Q$1(g,0):o,I$1(d)?(a="",s!=null&&(a=s.replace(P$1,"$&/")+"/"),R$1(d,e,a,"",function(_){return _})):d!=null&&(O$1(d)&&(d=N$1(d,a+(!d.key||g&&g.key===d.key?"":(""+d.key).replace(P$1,"$&/")+"/")+s)),e.push(d)),1;if(g=0,o=o===""?".":o+":",I$1(s))for(var b=0;b<s.length;b++){h=s[b];var j=o+Q$1(h,b);g+=R$1(h,e,a,j,d)}else if(j=A$1(s),typeof j=="function")for(s=j.call(s),b=0;!(h=s.next()).done;)h=h.value,j=o+Q$1(h,b++),g+=R$1(h,e,a,j,d);else if(h==="object")throw e=String(s),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return g}function S$1(s,e,a){if(s==null)return s;var o=[],d=0;return R$1(s,o,"","",function(h){return e.call(a,h,d++)}),o}function T$1(s){if(s._status===-1){var e=s._result;e=e(),e.then(function(a){(s._status===0||s._status===-1)&&(s._status=1,s._result=a)},function(a){(s._status===0||s._status===-1)&&(s._status=2,s._result=a)}),s._status===-1&&(s._status=0,s._result=e)}if(s._status===1)return s._result.default;throw s._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(s,e,a){S$1(s,function(){e.apply(this,arguments)},a)},count:function(s){var e=0;return S$1(s,function(){e++}),e},toArray:function(s){return S$1(s,function(e){return e})||[]},only:function(s){if(!O$1(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(s,e,a){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var o=C$1({},s.props),d=s.key,h=s.ref,g=s._owner;if(e!=null){if(e.ref!==void 0&&(h=e.ref,g=K$1.current),e.key!==void 0&&(d=""+e.key),s.type&&s.type.defaultProps)var b=s.type.defaultProps;for(j in e)J.call(e,j)&&!L$1.hasOwnProperty(j)&&(o[j]=e[j]===void 0&&b!==void 0?b[j]:e[j])}var j=arguments.length-2;if(j===1)o.children=a;else if(1<j){b=Array(j);for(var _=0;_<j;_++)b[_]=arguments[_+2];o.children=b}return{$$typeof:l$1,type:s.type,key:d,ref:h,props:o,_owner:g}};react_production_min.createContext=function(s){return s={$$typeof:u,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:t,_context:s},s.Consumer=s};react_production_min.createElement=M$1;react_production_min.createFactory=function(s){var e=M$1.bind(null,s);return e.type=s,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(s){return{$$typeof:v$1,render:s}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(s){return{$$typeof:y,_payload:{_status:-1,_result:s},_init:T$1}};react_production_min.memo=function(s,e){return{$$typeof:x,type:s,compare:e===void 0?null:e}};react_production_min.startTransition=function(s){var e=V$1.transition;V$1.transition={};try{s()}finally{V$1.transition=e}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(s,e){return U$1.current.useCallback(s,e)};react_production_min.useContext=function(s){return U$1.current.useContext(s)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(s){return U$1.current.useDeferredValue(s)};react_production_min.useEffect=function(s,e){return U$1.current.useEffect(s,e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(s,e,a){return U$1.current.useImperativeHandle(s,e,a)};react_production_min.useInsertionEffect=function(s,e){return U$1.current.useInsertionEffect(s,e)};react_production_min.useLayoutEffect=function(s,e){return U$1.current.useLayoutEffect(s,e)};react_production_min.useMemo=function(s,e){return U$1.current.useMemo(s,e)};react_production_min.useReducer=function(s,e,a){return U$1.current.useReducer(s,e,a)};react_production_min.useRef=function(s){return U$1.current.useRef(s)};react_production_min.useState=function(s){return U$1.current.useState(s)};react_production_min.useSyncExternalStore=function(s,e,a){return U$1.current.useSyncExternalStore(s,e,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$1(s,e,a){var o,d={},h=null,g=null;a!==void 0&&(h=""+a),e.key!==void 0&&(h=""+e.key),e.ref!==void 0&&(g=e.ref);for(o in e)m$1.call(e,o)&&!p$1.hasOwnProperty(o)&&(d[o]=e[o]);if(s&&s.defaultProps)for(o in e=s.defaultProps,e)d[o]===void 0&&(d[o]=e[o]);return{$$typeof:k,type:s,key:h,ref:g,props:d,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function e(It,yt){var Dt=It.length;It.push(yt);e:for(;0<Dt;){var Mt=Dt-1>>>1,St=It[Mt];if(0<d(St,yt))It[Mt]=yt,It[Dt]=St,Dt=Mt;else break e}}function a(It){return It.length===0?null:It[0]}function o(It){if(It.length===0)return null;var yt=It[0],Dt=It.pop();if(Dt!==yt){It[0]=Dt;e:for(var Mt=0,St=It.length,gt=St>>>1;Mt<gt;){var mt=2*(Mt+1)-1,xt=It[mt],_t=mt+1,At=It[_t];if(0>d(xt,Dt))_t<St&&0>d(At,xt)?(It[Mt]=At,It[_t]=Dt,Mt=_t):(It[Mt]=xt,It[mt]=Dt,Mt=mt);else if(_t<St&&0>d(At,Dt))It[Mt]=At,It[_t]=Dt,Mt=_t;else break e}}return yt}function d(It,yt){var Dt=It.sortIndex-yt.sortIndex;return Dt!==0?Dt:It.id-yt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var g=Date,b=g.now();s.unstable_now=function(){return g.now()-b}}var j=[],_=[],$=1,_e=null,et=3,tt=!1,nt=!1,it=!1,st=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ht(It){for(var yt=a(_);yt!==null;){if(yt.callback===null)o(_);else if(yt.startTime<=It)o(_),yt.sortIndex=yt.expirationTime,e(j,yt);else break;yt=a(_)}}function ft(It){if(it=!1,ht(It),!nt)if(a(j)!==null)nt=!0,Ft(ot);else{var yt=a(_);yt!==null&&wt(ft,yt.startTime-It)}}function ot(It,yt){nt=!1,it&&(it=!1,rt(dt),dt=-1),tt=!0;var Dt=et;try{for(ht(yt),_e=a(j);_e!==null&&(!(_e.expirationTime>yt)||It&&!pt());){var Mt=_e.callback;if(typeof Mt=="function"){_e.callback=null,et=_e.priorityLevel;var St=Mt(_e.expirationTime<=yt);yt=s.unstable_now(),typeof St=="function"?_e.callback=St:_e===a(j)&&o(j),ht(yt)}else o(j);_e=a(j)}if(_e!==null)var gt=!0;else{var mt=a(_);mt!==null&&wt(ft,mt.startTime-yt),gt=!1}return gt}finally{_e=null,et=Dt,tt=!1}}var ut=!1,ct=null,dt=-1,vt=5,Et=-1;function pt(){return!(s.unstable_now()-Et<vt)}function bt(){if(ct!==null){var It=s.unstable_now();Et=It;var yt=!0;try{yt=ct(!0,It)}finally{yt?Ct():(ut=!1,ct=null)}}else ut=!1}var Ct;if(typeof at=="function")Ct=function(){at(bt)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,jt=Bt.port2;Bt.port1.onmessage=bt,Ct=function(){jt.postMessage(null)}}else Ct=function(){st(bt,0)};function Ft(It){ct=It,ut||(ut=!0,Ct())}function wt(It,yt){dt=st(function(){It(s.unstable_now())},yt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(It){It.callback=null},s.unstable_continueExecution=function(){nt||tt||(nt=!0,Ft(ot))},s.unstable_forceFrameRate=function(It){0>It||125<It?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):vt=0<It?Math.floor(1e3/It):5},s.unstable_getCurrentPriorityLevel=function(){return et},s.unstable_getFirstCallbackNode=function(){return a(j)},s.unstable_next=function(It){switch(et){case 1:case 2:case 3:var yt=3;break;default:yt=et}var Dt=et;et=yt;try{return It()}finally{et=Dt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(It,yt){switch(It){case 1:case 2:case 3:case 4:case 5:break;default:It=3}var Dt=et;et=It;try{return yt()}finally{et=Dt}},s.unstable_scheduleCallback=function(It,yt,Dt){var Mt=s.unstable_now();switch(typeof Dt=="object"&&Dt!==null?(Dt=Dt.delay,Dt=typeof Dt=="number"&&0<Dt?Mt+Dt:Mt):Dt=Mt,It){case 1:var St=-1;break;case 2:St=250;break;case 5:St=1073741823;break;case 4:St=1e4;break;default:St=5e3}return St=Dt+St,It={id:$++,callback:yt,priorityLevel:It,startTime:Dt,expirationTime:St,sortIndex:-1},Dt>Mt?(It.sortIndex=Dt,e(_,It),a(j)===null&&It===a(_)&&(it?(rt(dt),dt=-1):it=!0,wt(ft,Dt-Mt))):(It.sortIndex=St,e(j,It),nt||tt||(nt=!0,Ft(ot))),It},s.unstable_shouldYield=pt,s.unstable_wrapCallback=function(It){var yt=et;return function(){var Dt=et;et=yt;try{return It.apply(this,arguments)}finally{et=Dt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(s){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+s,a=1;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+s+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(s,e){ha(s,e),ha(s+"Capture",e)}function ha(s,e){for(ea[s]=e,s=0;s<e.length;s++)da.add(e[s])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(s){return ja.call(ma,s)?!0:ja.call(la,s)?!1:ka.test(s)?ma[s]=!0:(la[s]=!0,!1)}function pa(s,e,a,o){if(a!==null&&a.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function qa(s,e,a,o){if(e===null||typeof e>"u"||pa(s,e,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v(s,e,a,o,d,h,g){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=s,this.type=e,this.sanitizeURL=h,this.removeEmptyString=g}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){z[s]=new v(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var e=s[0];z[e]=new v(e,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){z[s]=new v(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){z[s]=new v(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){z[s]=new v(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){z[s]=new v(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){z[s]=new v(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){z[s]=new v(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){z[s]=new v(s,5,!1,s.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var e=s.replace(ra,sa);z[e]=new v(e,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var e=s.replace(ra,sa);z[e]=new v(e,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var e=s.replace(ra,sa);z[e]=new v(e,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){z[s]=new v(s,1,!1,s.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){z[s]=new v(s,1,!1,s.toLowerCase(),null,!0,!0)});function ta(s,e,a,o){var d=z.hasOwnProperty(e)?z[e]:null;(d!==null?d.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,a,d,o)&&(a=null),o||d===null?oa(e)&&(a===null?s.removeAttribute(e):s.setAttribute(e,""+a)):d.mustUseProperty?s[d.propertyName]=a===null?d.type===3?!1:"":a:(e=d.attributeName,o=d.attributeNamespace,a===null?s.removeAttribute(e):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,o?s.setAttributeNS(o,e,a):s.setAttribute(e,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(s){return s===null||typeof s!="object"?null:(s=Ja&&s[Ja]||s["@@iterator"],typeof s=="function"?s:null)}var A=Object.assign,La;function Ma(s){if(La===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+s}var Na=!1;function Oa(s,e){if(!s||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(_){var o=_}Reflect.construct(s,[],e)}else{try{e.call()}catch(_){o=_}s.call(e.prototype)}else{try{throw Error()}catch(_){o=_}s()}}catch(_){if(_&&o&&typeof _.stack=="string"){for(var d=_.stack.split(`
`),h=o.stack.split(`
`),g=d.length-1,b=h.length-1;1<=g&&0<=b&&d[g]!==h[b];)b--;for(;1<=g&&0<=b;g--,b--)if(d[g]!==h[b]){if(g!==1||b!==1)do if(g--,b--,0>b||d[g]!==h[b]){var j=`
`+d[g].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=g&&0<=b);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(s=s?s.displayName||s.name:"")?Ma(s):""}function Pa(s){switch(s.tag){case 5:return Ma(s.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return s=Oa(s.type,!1),s;case 11:return s=Oa(s.type.render,!1),s;case 1:return s=Oa(s.type,!0),s;default:return""}}function Qa(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ca:return(s.displayName||"Context")+".Consumer";case Ba:return(s._context.displayName||"Context")+".Provider";case Da:var e=s.render;return s=s.displayName,s||(s=e.displayName||e.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ga:return e=s.displayName||null,e!==null?e:Qa(s.type)||"Memo";case Ha:e=s._payload,s=s._init;try{return Qa(s(e))}catch{}}return null}function Ra(s){var e=s.type;switch(s.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=e.render,s=s.displayName||s.name||"",e.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ta(s){var e=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(s){var e=Ta(s)?"checked":"value",a=Object.getOwnPropertyDescriptor(s.constructor.prototype,e),o=""+s[e];if(!s.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,h=a.set;return Object.defineProperty(s,e,{configurable:!0,get:function(){return d.call(this)},set:function(g){o=""+g,h.call(this,g)}}),Object.defineProperty(s,e,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){s._valueTracker=null,delete s[e]}}}}function Va(s){s._valueTracker||(s._valueTracker=Ua(s))}function Wa(s){if(!s)return!1;var e=s._valueTracker;if(!e)return!0;var a=e.getValue(),o="";return s&&(o=Ta(s)?s.checked?"true":"false":s.value),s=o,s!==a?(e.setValue(s),!0):!1}function Xa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ya(s,e){var a=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??s._wrapperState.initialChecked})}function Za(s,e){var a=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;a=Sa(e.value!=null?e.value:a),s._wrapperState={initialChecked:o,initialValue:a,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(s,e){e=e.checked,e!=null&&ta(s,"checked",e,!1)}function bb(s,e){ab(s,e);var a=Sa(e.value),o=e.type;if(a!=null)o==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+a):s.value!==""+a&&(s.value=""+a);else if(o==="submit"||o==="reset"){s.removeAttribute("value");return}e.hasOwnProperty("value")?cb(s,e.type,a):e.hasOwnProperty("defaultValue")&&cb(s,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(s.defaultChecked=!!e.defaultChecked)}function db(s,e,a){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+s._wrapperState.initialValue,a||e===s.value||(s.value=e),s.defaultValue=e}a=s.name,a!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,a!==""&&(s.name=a)}function cb(s,e,a){(e!=="number"||Xa(s.ownerDocument)!==s)&&(a==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+a&&(s.defaultValue=""+a))}var eb=Array.isArray;function fb(s,e,a,o){if(s=s.options,e){e={};for(var d=0;d<a.length;d++)e["$"+a[d]]=!0;for(a=0;a<s.length;a++)d=e.hasOwnProperty("$"+s[a].value),s[a].selected!==d&&(s[a].selected=d),d&&o&&(s[a].defaultSelected=!0)}else{for(a=""+Sa(a),e=null,d=0;d<s.length;d++){if(s[d].value===a){s[d].selected=!0,o&&(s[d].defaultSelected=!0);return}e!==null||s[d].disabled||(e=s[d])}e!==null&&(e.selected=!0)}}function gb(s,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hb(s,e){var a=e.value;if(a==null){if(a=e.children,e=e.defaultValue,a!=null){if(e!=null)throw Error(p(92));if(eb(a)){if(1<a.length)throw Error(p(93));a=a[0]}e=a}e==null&&(e=""),a=e}s._wrapperState={initialValue:Sa(a)}}function ib(s,e){var a=Sa(e.value),o=Sa(e.defaultValue);a!=null&&(a=""+a,a!==s.value&&(s.value=a),e.defaultValue==null&&s.defaultValue!==a&&(s.defaultValue=a)),o!=null&&(s.defaultValue=""+o)}function jb(s){var e=s.textContent;e===s._wrapperState.initialValue&&e!==""&&e!==null&&(s.value=e)}function kb(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(s,e){return s==null||s==="http://www.w3.org/1999/xhtml"?kb(e):s==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mb,nb=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,a,o,d){MSApp.execUnsafeLocalFunction(function(){return s(e,a,o,d)})}:s}(function(s,e){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;e.firstChild;)s.appendChild(e.firstChild)}});function ob(s,e){if(e){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=e;return}}s.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(s){qb.forEach(function(e){e=e+s.charAt(0).toUpperCase()+s.substring(1),pb[e]=pb[s]})});function rb(s,e,a){return e==null||typeof e=="boolean"||e===""?"":a||typeof e!="number"||e===0||pb.hasOwnProperty(s)&&pb[s]?(""+e).trim():e+"px"}function sb(s,e){s=s.style;for(var a in e)if(e.hasOwnProperty(a)){var o=a.indexOf("--")===0,d=rb(a,e[a],o);a==="float"&&(a="cssFloat"),o?s.setProperty(a,d):s[a]=d}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(s,e){if(e){if(tb[s]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,s));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(s,e){if(s.indexOf("-")===-1)return typeof e.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yb=null,zb=null,Ab=null;function Bb(s){if(s=Cb(s)){if(typeof yb!="function")throw Error(p(280));var e=s.stateNode;e&&(e=Db(e),yb(s.stateNode,s.type,e))}}function Eb(s){zb?Ab?Ab.push(s):Ab=[s]:zb=s}function Fb(){if(zb){var s=zb,e=Ab;if(Ab=zb=null,Bb(s),e)for(s=0;s<e.length;s++)Bb(e[s])}}function Gb(s,e){return s(e)}function Hb(){}var Ib=!1;function Jb(s,e,a){if(Ib)return s(e,a);Ib=!0;try{return Gb(s,e,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(s,e){var a=s.stateNode;if(a===null)return null;var o=Db(a);if(o===null)return null;a=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(s=s.type,o=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!o;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(p(231,e,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(s,e,a,o,d,h,g,b,j){var _=Array.prototype.slice.call(arguments,3);try{e.apply(a,_)}catch($){this.onError($)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(s){Ob=!0,Pb=s}};function Tb(s,e,a,o,d,h,g,b,j){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(s,e,a,o,d,h,g,b,j){if(Tb.apply(this,arguments),Ob){if(Ob){var _=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=_)}}function Vb(s){var e=s,a=s;if(s.alternate)for(;e.return;)e=e.return;else{s=e;do e=s,e.flags&4098&&(a=e.return),s=e.return;while(s)}return e.tag===3?a:null}function Wb(s){if(s.tag===13){var e=s.memoizedState;if(e===null&&(s=s.alternate,s!==null&&(e=s.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(s){if(Vb(s)!==s)throw Error(p(188))}function Yb(s){var e=s.alternate;if(!e){if(e=Vb(s),e===null)throw Error(p(188));return e!==s?null:s}for(var a=s,o=e;;){var d=a.return;if(d===null)break;var h=d.alternate;if(h===null){if(o=d.return,o!==null){a=o;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===a)return Xb(d),s;if(h===o)return Xb(d),e;h=h.sibling}throw Error(p(188))}if(a.return!==o.return)a=d,o=h;else{for(var g=!1,b=d.child;b;){if(b===a){g=!0,a=d,o=h;break}if(b===o){g=!0,o=d,a=h;break}b=b.sibling}if(!g){for(b=h.child;b;){if(b===a){g=!0,a=h,o=d;break}if(b===o){g=!0,o=h,a=d;break}b=b.sibling}if(!g)throw Error(p(189))}}if(a.alternate!==o)throw Error(p(190))}if(a.tag!==3)throw Error(p(188));return a.stateNode.current===a?s:e}function Zb(s){return s=Yb(s),s!==null?$b(s):null}function $b(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var e=$b(s);if(e!==null)return e;s=s.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(s){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,s,void 0,(s.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(s){return s>>>=0,s===0?32:31-(pc(s)/qc|0)|0}var rc=64,sc=4194304;function tc(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uc(s,e){var a=s.pendingLanes;if(a===0)return 0;var o=0,d=s.suspendedLanes,h=s.pingedLanes,g=a&268435455;if(g!==0){var b=g&~d;b!==0?o=tc(b):(h&=g,h!==0&&(o=tc(h)))}else g=a&~d,g!==0?o=tc(g):h!==0&&(o=tc(h));if(o===0)return 0;if(e!==0&&e!==o&&!(e&d)&&(d=o&-o,h=e&-e,d>=h||d===16&&(h&4194240)!==0))return e;if(o&4&&(o|=a&16),e=s.entangledLanes,e!==0)for(s=s.entanglements,e&=o;0<e;)a=31-oc(e),d=1<<a,o|=s[a],e&=~d;return o}function vc(s,e){switch(s){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(s,e){for(var a=s.suspendedLanes,o=s.pingedLanes,d=s.expirationTimes,h=s.pendingLanes;0<h;){var g=31-oc(h),b=1<<g,j=d[g];j===-1?(!(b&a)||b&o)&&(d[g]=vc(b,e)):j<=e&&(s.expiredLanes|=b),h&=~b}}function xc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yc(){var s=rc;return rc<<=1,!(rc&4194240)&&(rc=64),s}function zc(s){for(var e=[],a=0;31>a;a++)e.push(s);return e}function Ac(s,e,a){s.pendingLanes|=e,e!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,e=31-oc(e),s[e]=a}function Bc(s,e){var a=s.pendingLanes&~e;s.pendingLanes=e,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=e,s.mutableReadLanes&=e,s.entangledLanes&=e,e=s.entanglements;var o=s.eventTimes;for(s=s.expirationTimes;0<a;){var d=31-oc(a),h=1<<d;e[d]=0,o[d]=-1,s[d]=-1,a&=~h}}function Cc(s,e){var a=s.entangledLanes|=e;for(s=s.entanglements;a;){var o=31-oc(a),d=1<<o;d&e|s[o]&e&&(s[o]|=e),a&=~d}}var C=0;function Dc(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(s,e){switch(s){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(s,e,a,o,d,h){return s===null||s.nativeEvent!==h?(s={blockedOn:e,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[d]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),s):(s.eventSystemFlags|=o,e=s.targetContainers,d!==null&&e.indexOf(d)===-1&&e.push(d),s)}function Uc(s,e,a,o,d){switch(e){case"focusin":return Lc=Tc(Lc,s,e,a,o,d),!0;case"dragenter":return Mc=Tc(Mc,s,e,a,o,d),!0;case"mouseover":return Nc=Tc(Nc,s,e,a,o,d),!0;case"pointerover":var h=d.pointerId;return Oc.set(h,Tc(Oc.get(h)||null,s,e,a,o,d)),!0;case"gotpointercapture":return h=d.pointerId,Pc.set(h,Tc(Pc.get(h)||null,s,e,a,o,d)),!0}return!1}function Vc(s){var e=Wc(s.target);if(e!==null){var a=Vb(e);if(a!==null){if(e=a.tag,e===13){if(e=Wb(a),e!==null){s.blockedOn=e,Ic(s.priority,function(){Gc(a)});return}}else if(e===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xc(s){if(s.blockedOn!==null)return!1;for(var e=s.targetContainers;0<e.length;){var a=Yc(s.domEventName,s.eventSystemFlags,e[0],s.nativeEvent);if(a===null){a=s.nativeEvent;var o=new a.constructor(a.type,a);wb=o,a.target.dispatchEvent(o),wb=null}else return e=Cb(a),e!==null&&Fc(e),s.blockedOn=a,!1;e.shift()}return!0}function Zc(s,e,a){Xc(s)&&a.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(s,e){s.blockedOn===e&&(s.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(s){function e(d){return ad(d,s)}if(0<Kc.length){ad(Kc[0],s);for(var a=1;a<Kc.length;a++){var o=Kc[a];o.blockedOn===s&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,s),Mc!==null&&ad(Mc,s),Nc!==null&&ad(Nc,s),Oc.forEach(e),Pc.forEach(e),a=0;a<Qc.length;a++)o=Qc[a],o.blockedOn===s&&(o.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(s,e,a,o){var d=C,h=cd.transition;cd.transition=null;try{C=1,fd(s,e,a,o)}finally{C=d,cd.transition=h}}function gd(s,e,a,o){var d=C,h=cd.transition;cd.transition=null;try{C=4,fd(s,e,a,o)}finally{C=d,cd.transition=h}}function fd(s,e,a,o){if(dd){var d=Yc(s,e,a,o);if(d===null)hd(s,e,o,id,a),Sc(s,o);else if(Uc(d,s,e,a,o))o.stopPropagation();else if(Sc(s,o),e&4&&-1<Rc.indexOf(s)){for(;d!==null;){var h=Cb(d);if(h!==null&&Ec(h),h=Yc(s,e,a,o),h===null&&hd(s,e,o,id,a),h===d)break;d=h}d!==null&&o.stopPropagation()}else hd(s,e,o,null,a)}}var id=null;function Yc(s,e,a,o){if(id=null,s=xb(o),s=Wc(s),s!==null)if(e=Vb(s),e===null)s=null;else if(a=e.tag,a===13){if(s=Wb(e),s!==null)return s;s=null}else if(a===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;s=null}else e!==s&&(s=null);return id=s,null}function jd(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var s,e=ld,a=e.length,o,d="value"in kd?kd.value:kd.textContent,h=d.length;for(s=0;s<a&&e[s]===d[s];s++);var g=a-s;for(o=1;o<=g&&e[a-o]===d[h-o];o++);return md=d.slice(s,1<o?1-o:void 0)}function od(s){var e=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&e===13&&(s=13)):s=e,s===10&&(s=13),32<=s||s===13?s:0}function pd(){return!0}function qd(){return!1}function rd(s){function e(a,o,d,h,g){this._reactName=a,this._targetInst=d,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var b in s)s.hasOwnProperty(b)&&(a=s[b],this[b]=a?a(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yd&&(yd&&s.type==="mousemove"?(wd=s.screenX-yd.screenX,xd=s.screenY-yd.screenY):xd=wd=0,yd=s),wd)},movementY:function(s){return"movementY"in s?s.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(s){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(s):(s=Od[s])?!!e[s]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(s){if(s.key){var e=Md[s.key]||s.key;if(e!=="Unidentified")return e}return s.type==="keypress"?(s=od(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(s){return s.type==="keypress"?od(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?od(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(s,e){switch(s){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ie=!1;function je(s,e){switch(s){case"compositionend":return he(e);case"keypress":return e.which!==32?null:(fe=!0,ee);case"textInput":return s=e.data,s===ee&&fe?null:s;default:return null}}function ke(s,e){if(ie)return s==="compositionend"||!ae&&ge(s,e)?(s=nd(),md=ld=kd=null,ie=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e==="input"?!!le[s.type]:e==="textarea"}function ne(s,e,a,o){Eb(o),e=oe(e,"onChange"),0<e.length&&(a=new td("onChange","change",null,a,o),s.push({event:a,listeners:e}))}var pe=null,qe=null;function re(s){se(s,0)}function te(s){var e=ue(s);if(Wa(e))return s}function ve(s,e){if(s==="change")return e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(s){if(s.propertyName==="value"&&te(qe)){var e=[];ne(e,qe,s,xb(s)),Jb(re,e)}}function Ce(s,e,a){s==="focusin"?(Ae(),pe=e,qe=a,pe.attachEvent("onpropertychange",Be)):s==="focusout"&&Ae()}function De(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return te(qe)}function Ee(s,e){if(s==="click")return te(e)}function Fe(s,e){if(s==="input"||s==="change")return te(e)}function Ge(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(s,e){if(He(s,e))return!0;if(typeof s!="object"||s===null||typeof e!="object"||e===null)return!1;var a=Object.keys(s),o=Object.keys(e);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var d=a[o];if(!ja.call(e,d)||!He(s[d],e[d]))return!1}return!0}function Je(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ke(s,e){var a=Je(s);s=0;for(var o;a;){if(a.nodeType===3){if(o=s+a.textContent.length,s<=e&&o>=e)return{node:a,offset:e-s};s=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le(s,e){return s&&e?s===e?!0:s&&s.nodeType===3?!1:e&&e.nodeType===3?Le(s,e.parentNode):"contains"in s?s.contains(e):s.compareDocumentPosition?!!(s.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var s=window,e=Xa();e instanceof s.HTMLIFrameElement;){try{var a=typeof e.contentWindow.location.href=="string"}catch{a=!1}if(a)s=e.contentWindow;else break;e=Xa(s.document)}return e}function Ne(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e&&(e==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||e==="textarea"||s.contentEditable==="true")}function Oe(s){var e=Me(),a=s.focusedElem,o=s.selectionRange;if(e!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(o!==null&&Ne(a)){if(e=o.start,s=o.end,s===void 0&&(s=e),"selectionStart"in a)a.selectionStart=e,a.selectionEnd=Math.min(s,a.value.length);else if(s=(e=a.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var d=a.textContent.length,h=Math.min(o.start,d);o=o.end===void 0?h:Math.min(o.end,d),!s.extend&&h>o&&(d=o,o=h,h=d),d=Ke(a,h);var g=Ke(a,o);d&&g&&(s.rangeCount!==1||s.anchorNode!==d.node||s.anchorOffset!==d.offset||s.focusNode!==g.node||s.focusOffset!==g.offset)&&(e=e.createRange(),e.setStart(d.node,d.offset),s.removeAllRanges(),h>o?(s.addRange(e),s.extend(g.node,g.offset)):(e.setEnd(g.node,g.offset),s.addRange(e)))}}for(e=[],s=a;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<e.length;a++)s=e[a],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(s,e,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(e=new td("onSelect","select",null,e,a),s.push({event:e,listeners:o}),e.target=Qe)))}function Ve(s,e){var a={};return a[s.toLowerCase()]=e.toLowerCase(),a["Webkit"+s]="webkit"+e,a["Moz"+s]="moz"+e,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(s){if(Xe[s])return Xe[s];if(!We[s])return s;var e=We[s],a;for(a in e)if(e.hasOwnProperty(a)&&a in Ye)return Xe[s]=e[a];return s}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(s,e){df.set(s,e),fa(e,[s])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(s,e,a){var o=s.type||"unknown-event";s.currentTarget=a,Ub(o,e,void 0,s),s.currentTarget=null}function se(s,e){e=(e&4)!==0;for(var a=0;a<s.length;a++){var o=s[a],d=o.event;o=o.listeners;e:{var h=void 0;if(e)for(var g=o.length-1;0<=g;g--){var b=o[g],j=b.instance,_=b.currentTarget;if(b=b.listener,j!==h&&d.isPropagationStopped())break e;nf(d,b,_),h=j}else for(g=0;g<o.length;g++){if(b=o[g],j=b.instance,_=b.currentTarget,b=b.listener,j!==h&&d.isPropagationStopped())break e;nf(d,b,_),h=j}}}if(Qb)throw s=Rb,Qb=!1,Rb=null,s}function D(s,e){var a=e[of];a===void 0&&(a=e[of]=new Set);var o=s+"__bubble";a.has(o)||(pf(e,s,2,!1),a.add(o))}function qf(s,e,a){var o=0;e&&(o|=4),pf(a,s,o,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(s){if(!s[rf]){s[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,s),qf(a,!0,s))});var e=s.nodeType===9?s:s.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(s,e,a,o){switch(jd(e)){case 1:var d=ed;break;case 4:d=gd;break;default:d=fd}a=d.bind(null,e,a,s),d=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(d=!0),o?d!==void 0?s.addEventListener(e,a,{capture:!0,passive:d}):s.addEventListener(e,a,!0):d!==void 0?s.addEventListener(e,a,{passive:d}):s.addEventListener(e,a,!1)}function hd(s,e,a,o,d){var h=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var b=o.stateNode.containerInfo;if(b===d||b.nodeType===8&&b.parentNode===d)break;if(g===4)for(g=o.return;g!==null;){var j=g.tag;if((j===3||j===4)&&(j=g.stateNode.containerInfo,j===d||j.nodeType===8&&j.parentNode===d))return;g=g.return}for(;b!==null;){if(g=Wc(b),g===null)return;if(j=g.tag,j===5||j===6){o=h=g;continue e}b=b.parentNode}}o=o.return}Jb(function(){var _=h,$=xb(a),_e=[];e:{var et=df.get(s);if(et!==void 0){var tt=td,nt=s;switch(s){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":tt=Rd;break;case"focusin":nt="focus",tt=Fd;break;case"focusout":nt="blur",tt=Fd;break;case"beforeblur":case"afterblur":tt=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Vd;break;case $e:case af:case bf:tt=Hd;break;case cf:tt=Xd;break;case"scroll":tt=vd;break;case"wheel":tt=Zd;break;case"copy":case"cut":case"paste":tt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Td}var it=(e&4)!==0,st=!it&&s==="scroll",rt=it?et!==null?et+"Capture":null:et;it=[];for(var at=_,ht;at!==null;){ht=at;var ft=ht.stateNode;if(ht.tag===5&&ft!==null&&(ht=ft,rt!==null&&(ft=Kb(at,rt),ft!=null&&it.push(tf(at,ft,ht)))),st)break;at=at.return}0<it.length&&(et=new tt(et,nt,null,a,$),_e.push({event:et,listeners:it}))}}if(!(e&7)){e:{if(et=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",et&&a!==wb&&(nt=a.relatedTarget||a.fromElement)&&(Wc(nt)||nt[uf]))break e;if((tt||et)&&(et=$.window===$?$:(et=$.ownerDocument)?et.defaultView||et.parentWindow:window,tt?(nt=a.relatedTarget||a.toElement,tt=_,nt=nt?Wc(nt):null,nt!==null&&(st=Vb(nt),nt!==st||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(tt=null,nt=_),tt!==nt)){if(it=Bd,ft="onMouseLeave",rt="onMouseEnter",at="mouse",(s==="pointerout"||s==="pointerover")&&(it=Td,ft="onPointerLeave",rt="onPointerEnter",at="pointer"),st=tt==null?et:ue(tt),ht=nt==null?et:ue(nt),et=new it(ft,at+"leave",tt,a,$),et.target=st,et.relatedTarget=ht,ft=null,Wc($)===_&&(it=new it(rt,at+"enter",nt,a,$),it.target=ht,it.relatedTarget=st,ft=it),st=ft,tt&&nt)t:{for(it=tt,rt=nt,at=0,ht=it;ht;ht=vf(ht))at++;for(ht=0,ft=rt;ft;ft=vf(ft))ht++;for(;0<at-ht;)it=vf(it),at--;for(;0<ht-at;)rt=vf(rt),ht--;for(;at--;){if(it===rt||rt!==null&&it===rt.alternate)break t;it=vf(it),rt=vf(rt)}it=null}else it=null;tt!==null&&wf(_e,et,tt,it,!1),nt!==null&&st!==null&&wf(_e,st,nt,it,!0)}}e:{if(et=_?ue(_):window,tt=et.nodeName&&et.nodeName.toLowerCase(),tt==="select"||tt==="input"&&et.type==="file")var ot=ve;else if(me(et))if(we)ot=Fe;else{ot=De;var ut=Ce}else(tt=et.nodeName)&&tt.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(ot=Ee);if(ot&&(ot=ot(s,_))){ne(_e,ot,a,$);break e}ut&&ut(s,et,_),s==="focusout"&&(ut=et._wrapperState)&&ut.controlled&&et.type==="number"&&cb(et,"number",et.value)}switch(ut=_?ue(_):window,s){case"focusin":(me(ut)||ut.contentEditable==="true")&&(Qe=ut,Re=_,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_e,a,$);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_e,a,$)}var ct;if(ae)e:{switch(s){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else ie?ge(s,a)&&(dt="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(dt="onCompositionStart");dt&&(de&&a.locale!=="ko"&&(ie||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&ie&&(ct=nd()):(kd=$,ld="value"in kd?kd.value:kd.textContent,ie=!0)),ut=oe(_,dt),0<ut.length&&(dt=new Ld(dt,s,null,a,$),_e.push({event:dt,listeners:ut}),ct?dt.data=ct:(ct=he(a),ct!==null&&(dt.data=ct)))),(ct=ce?je(s,a):ke(s,a))&&(_=oe(_,"onBeforeInput"),0<_.length&&($=new Ld("onBeforeInput","beforeinput",null,a,$),_e.push({event:$,listeners:_}),$.data=ct))}se(_e,e)})}function tf(s,e,a){return{instance:s,listener:e,currentTarget:a}}function oe(s,e){for(var a=e+"Capture",o=[];s!==null;){var d=s,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=Kb(s,a),h!=null&&o.unshift(tf(s,h,d)),h=Kb(s,e),h!=null&&o.push(tf(s,h,d))),s=s.return}return o}function vf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wf(s,e,a,o,d){for(var h=e._reactName,g=[];a!==null&&a!==o;){var b=a,j=b.alternate,_=b.stateNode;if(j!==null&&j===o)break;b.tag===5&&_!==null&&(b=_,d?(j=Kb(a,h),j!=null&&g.unshift(tf(a,j,b))):d||(j=Kb(a,h),j!=null&&g.push(tf(a,j,b)))),a=a.return}g.length!==0&&s.push({event:e,listeners:g})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(s){return(typeof s=="string"?s:""+s).replace(xf,`
`).replace(yf,"")}function Af(s,e,a){if(e=zf(e),zf(s)!==e&&a)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(s,e){return s==="textarea"||s==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(s){return Hf.resolve(null).then(s).catch(If)}:Ff;function If(s){setTimeout(function(){throw s})}function Kf(s,e){var a=e,o=0;do{var d=a.nextSibling;if(s.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(o===0){s.removeChild(d),bd(e);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=d}while(a);bd(e)}function Lf(s){for(;s!=null;s=s.nextSibling){var e=s.nodeType;if(e===1||e===3)break;if(e===8){if(e=s.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return s}function Mf(s){s=s.previousSibling;for(var e=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"){if(e===0)return s;e--}else a==="/$"&&e++}s=s.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(s){var e=s[Of];if(e)return e;for(var a=s.parentNode;a;){if(e=a[uf]||a[Of]){if(a=e.alternate,e.child!==null||a!==null&&a.child!==null)for(s=Mf(s);s!==null;){if(a=s[Of])return a;s=Mf(s)}return e}s=a,a=s.parentNode}return null}function Cb(s){return s=s[Of]||s[uf],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ue(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(p(33))}function Db(s){return s[Pf]||null}var Sf=[],Tf=-1;function Uf(s){return{current:s}}function E(s){0>Tf||(s.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(s,e){Tf++,Sf[Tf]=s.current,s.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(s,e){var a=s.type.contextTypes;if(!a)return Vf;var o=s.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in a)d[h]=e[h];return o&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=e,s.__reactInternalMemoizedMaskedChildContext=d),d}function Zf(s){return s=s.childContextTypes,s!=null}function $f(){E(Wf),E(H)}function ag(s,e,a){if(H.current!==Vf)throw Error(p(168));G(H,e),G(Wf,a)}function bg(s,e,a){var o=s.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var d in o)if(!(d in e))throw Error(p(108,Ra(s)||"Unknown",d));return A({},a,o)}function cg(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,s),G(Wf,Wf.current),!0}function dg(s,e,a){var o=s.stateNode;if(!o)throw Error(p(169));a?(s=bg(s,e,Xf),o.__reactInternalMemoizedMergedChildContext=s,E(Wf),E(H),G(H,s)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(s){eg===null?eg=[s]:eg.push(s)}function ig(s){fg=!0,hg(s)}function jg(){if(!gg&&eg!==null){gg=!0;var s=0,e=C;try{var a=eg;for(C=1;s<a.length;s++){var o=a[s];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(d){throw eg!==null&&(eg=eg.slice(s+1)),ac(fc,jg),d}finally{C=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(s,e){kg[lg++]=ng,kg[lg++]=mg,mg=s,ng=e}function ug(s,e,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=s;var o=rg;s=sg;var d=32-oc(o)-1;o&=~(1<<d),a+=1;var h=32-oc(e)+d;if(30<h){var g=d-d%5;h=(o&(1<<g)-1).toString(32),o>>=g,d-=g,rg=1<<32-oc(e)+d|a<<d|o,sg=h+s}else rg=1<<h|a<<d|o,sg=s}function vg(s){s.return!==null&&(tg(s,1),ug(s,1,0))}function wg(s){for(;s===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;s===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(s,e){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=e,a.return=s,e=s.deletions,e===null?(s.deletions=[a],s.flags|=16):e.push(a)}function Cg(s,e){switch(s.tag){case 5:var a=s.type;return e=e.nodeType!==1||a.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(s.stateNode=e,xg=s,yg=Lf(e.firstChild),!0):!1;case 6:return e=s.pendingProps===""||e.nodeType!==3?null:e,e!==null?(s.stateNode=e,xg=s,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(a=qg!==null?{id:rg,overflow:sg}:null,s.memoizedState={dehydrated:e,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=e,a.return=s,s.child=a,xg=s,yg=null,!0):!1;default:return!1}}function Dg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Eg(s){if(I){var e=yg;if(e){var a=e;if(!Cg(s,e)){if(Dg(s))throw Error(p(418));e=Lf(a.nextSibling);var o=xg;e&&Cg(s,e)?Ag(o,a):(s.flags=s.flags&-4097|2,I=!1,xg=s)}}else{if(Dg(s))throw Error(p(418));s.flags=s.flags&-4097|2,I=!1,xg=s}}}function Fg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xg=s}function Gg(s){if(s!==xg)return!1;if(!I)return Fg(s),I=!0,!1;var e;if((e=s.tag!==3)&&!(e=s.tag!==5)&&(e=s.type,e=e!=="head"&&e!=="body"&&!Ef(s.type,s.memoizedProps)),e&&(e=yg)){if(Dg(s))throw Hg(),Error(p(418));for(;e;)Ag(s,e),e=Lf(e.nextSibling)}if(Fg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p(317));e:{for(s=s.nextSibling,e=0;s;){if(s.nodeType===8){var a=s.data;if(a==="/$"){if(e===0){yg=Lf(s.nextSibling);break e}e--}else a!=="$"&&a!=="$!"&&a!=="$?"||e++}s=s.nextSibling}yg=null}}else yg=xg?Lf(s.stateNode.nextSibling):null;return!0}function Hg(){for(var s=yg;s;)s=Lf(s.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(s){zg===null?zg=[s]:zg.push(s)}var Kg=ua.ReactCurrentBatchConfig;function Lg(s,e,a){if(s=a.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p(309));var o=a.stateNode}if(!o)throw Error(p(147,s));var d=o,h=""+s;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===h?e.ref:(e=function(g){var b=d.refs;g===null?delete b[h]:b[h]=g},e._stringRef=h,e)}if(typeof s!="string")throw Error(p(284));if(!a._owner)throw Error(p(290,s))}return s}function Mg(s,e){throw s=Object.prototype.toString.call(e),Error(p(31,s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s))}function Ng(s){var e=s._init;return e(s._payload)}function Og(s){function e(rt,at){if(s){var ht=rt.deletions;ht===null?(rt.deletions=[at],rt.flags|=16):ht.push(at)}}function a(rt,at){if(!s)return null;for(;at!==null;)e(rt,at),at=at.sibling;return null}function o(rt,at){for(rt=new Map;at!==null;)at.key!==null?rt.set(at.key,at):rt.set(at.index,at),at=at.sibling;return rt}function d(rt,at){return rt=Pg(rt,at),rt.index=0,rt.sibling=null,rt}function h(rt,at,ht){return rt.index=ht,s?(ht=rt.alternate,ht!==null?(ht=ht.index,ht<at?(rt.flags|=2,at):ht):(rt.flags|=2,at)):(rt.flags|=1048576,at)}function g(rt){return s&&rt.alternate===null&&(rt.flags|=2),rt}function b(rt,at,ht,ft){return at===null||at.tag!==6?(at=Qg(ht,rt.mode,ft),at.return=rt,at):(at=d(at,ht),at.return=rt,at)}function j(rt,at,ht,ft){var ot=ht.type;return ot===ya?$(rt,at,ht.props.children,ft,ht.key):at!==null&&(at.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===at.type)?(ft=d(at,ht.props),ft.ref=Lg(rt,at,ht),ft.return=rt,ft):(ft=Rg(ht.type,ht.key,ht.props,null,rt.mode,ft),ft.ref=Lg(rt,at,ht),ft.return=rt,ft)}function _(rt,at,ht,ft){return at===null||at.tag!==4||at.stateNode.containerInfo!==ht.containerInfo||at.stateNode.implementation!==ht.implementation?(at=Sg(ht,rt.mode,ft),at.return=rt,at):(at=d(at,ht.children||[]),at.return=rt,at)}function $(rt,at,ht,ft,ot){return at===null||at.tag!==7?(at=Tg(ht,rt.mode,ft,ot),at.return=rt,at):(at=d(at,ht),at.return=rt,at)}function _e(rt,at,ht){if(typeof at=="string"&&at!==""||typeof at=="number")return at=Qg(""+at,rt.mode,ht),at.return=rt,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return ht=Rg(at.type,at.key,at.props,null,rt.mode,ht),ht.ref=Lg(rt,null,at),ht.return=rt,ht;case wa:return at=Sg(at,rt.mode,ht),at.return=rt,at;case Ha:var ft=at._init;return _e(rt,ft(at._payload),ht)}if(eb(at)||Ka(at))return at=Tg(at,rt.mode,ht,null),at.return=rt,at;Mg(rt,at)}return null}function et(rt,at,ht,ft){var ot=at!==null?at.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number")return ot!==null?null:b(rt,at,""+ht,ft);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return ht.key===ot?j(rt,at,ht,ft):null;case wa:return ht.key===ot?_(rt,at,ht,ft):null;case Ha:return ot=ht._init,et(rt,at,ot(ht._payload),ft)}if(eb(ht)||Ka(ht))return ot!==null?null:$(rt,at,ht,ft,null);Mg(rt,ht)}return null}function tt(rt,at,ht,ft,ot){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return rt=rt.get(ht)||null,b(at,rt,""+ft,ot);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case va:return rt=rt.get(ft.key===null?ht:ft.key)||null,j(at,rt,ft,ot);case wa:return rt=rt.get(ft.key===null?ht:ft.key)||null,_(at,rt,ft,ot);case Ha:var ut=ft._init;return tt(rt,at,ht,ut(ft._payload),ot)}if(eb(ft)||Ka(ft))return rt=rt.get(ht)||null,$(at,rt,ft,ot,null);Mg(at,ft)}return null}function nt(rt,at,ht,ft){for(var ot=null,ut=null,ct=at,dt=at=0,vt=null;ct!==null&&dt<ht.length;dt++){ct.index>dt?(vt=ct,ct=null):vt=ct.sibling;var Et=et(rt,ct,ht[dt],ft);if(Et===null){ct===null&&(ct=vt);break}s&&ct&&Et.alternate===null&&e(rt,ct),at=h(Et,at,dt),ut===null?ot=Et:ut.sibling=Et,ut=Et,ct=vt}if(dt===ht.length)return a(rt,ct),I&&tg(rt,dt),ot;if(ct===null){for(;dt<ht.length;dt++)ct=_e(rt,ht[dt],ft),ct!==null&&(at=h(ct,at,dt),ut===null?ot=ct:ut.sibling=ct,ut=ct);return I&&tg(rt,dt),ot}for(ct=o(rt,ct);dt<ht.length;dt++)vt=tt(ct,rt,dt,ht[dt],ft),vt!==null&&(s&&vt.alternate!==null&&ct.delete(vt.key===null?dt:vt.key),at=h(vt,at,dt),ut===null?ot=vt:ut.sibling=vt,ut=vt);return s&&ct.forEach(function(pt){return e(rt,pt)}),I&&tg(rt,dt),ot}function it(rt,at,ht,ft){var ot=Ka(ht);if(typeof ot!="function")throw Error(p(150));if(ht=ot.call(ht),ht==null)throw Error(p(151));for(var ut=ot=null,ct=at,dt=at=0,vt=null,Et=ht.next();ct!==null&&!Et.done;dt++,Et=ht.next()){ct.index>dt?(vt=ct,ct=null):vt=ct.sibling;var pt=et(rt,ct,Et.value,ft);if(pt===null){ct===null&&(ct=vt);break}s&&ct&&pt.alternate===null&&e(rt,ct),at=h(pt,at,dt),ut===null?ot=pt:ut.sibling=pt,ut=pt,ct=vt}if(Et.done)return a(rt,ct),I&&tg(rt,dt),ot;if(ct===null){for(;!Et.done;dt++,Et=ht.next())Et=_e(rt,Et.value,ft),Et!==null&&(at=h(Et,at,dt),ut===null?ot=Et:ut.sibling=Et,ut=Et);return I&&tg(rt,dt),ot}for(ct=o(rt,ct);!Et.done;dt++,Et=ht.next())Et=tt(ct,rt,dt,Et.value,ft),Et!==null&&(s&&Et.alternate!==null&&ct.delete(Et.key===null?dt:Et.key),at=h(Et,at,dt),ut===null?ot=Et:ut.sibling=Et,ut=Et);return s&&ct.forEach(function(bt){return e(rt,bt)}),I&&tg(rt,dt),ot}function st(rt,at,ht,ft){if(typeof ht=="object"&&ht!==null&&ht.type===ya&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:e:{for(var ot=ht.key,ut=at;ut!==null;){if(ut.key===ot){if(ot=ht.type,ot===ya){if(ut.tag===7){a(rt,ut.sibling),at=d(ut,ht.props.children),at.return=rt,rt=at;break e}}else if(ut.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===ut.type){a(rt,ut.sibling),at=d(ut,ht.props),at.ref=Lg(rt,ut,ht),at.return=rt,rt=at;break e}a(rt,ut);break}else e(rt,ut);ut=ut.sibling}ht.type===ya?(at=Tg(ht.props.children,rt.mode,ft,ht.key),at.return=rt,rt=at):(ft=Rg(ht.type,ht.key,ht.props,null,rt.mode,ft),ft.ref=Lg(rt,at,ht),ft.return=rt,rt=ft)}return g(rt);case wa:e:{for(ut=ht.key;at!==null;){if(at.key===ut)if(at.tag===4&&at.stateNode.containerInfo===ht.containerInfo&&at.stateNode.implementation===ht.implementation){a(rt,at.sibling),at=d(at,ht.children||[]),at.return=rt,rt=at;break e}else{a(rt,at);break}else e(rt,at);at=at.sibling}at=Sg(ht,rt.mode,ft),at.return=rt,rt=at}return g(rt);case Ha:return ut=ht._init,st(rt,at,ut(ht._payload),ft)}if(eb(ht))return nt(rt,at,ht,ft);if(Ka(ht))return it(rt,at,ht,ft);Mg(rt,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"?(ht=""+ht,at!==null&&at.tag===6?(a(rt,at.sibling),at=d(at,ht),at.return=rt,rt=at):(a(rt,at),at=Qg(ht,rt.mode,ft),at.return=rt,rt=at),g(rt)):a(rt,at)}return st}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(s){var e=Wg.current;E(Wg),s._currentValue=e}function bh(s,e,a){for(;s!==null;){var o=s.alternate;if((s.childLanes&e)!==e?(s.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),s===a)break;s=s.return}}function ch(s,e){Xg=s,Zg=Yg=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&e&&(dh=!0),s.firstContext=null)}function eh(s){var e=s._currentValue;if(Zg!==s)if(s={context:s,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=s,Xg.dependencies={lanes:0,firstContext:s}}else Yg=Yg.next=s;return e}var fh=null;function gh(s){fh===null?fh=[s]:fh.push(s)}function hh(s,e,a,o){var d=e.interleaved;return d===null?(a.next=a,gh(e)):(a.next=d.next,d.next=a),e.interleaved=a,ih(s,o)}function ih(s,e){s.lanes|=e;var a=s.alternate;for(a!==null&&(a.lanes|=e),a=s,s=s.return;s!==null;)s.childLanes|=e,a=s.alternate,a!==null&&(a.childLanes|=e),a=s,s=s.return;return a.tag===3?a.stateNode:null}var jh=!1;function kh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(s,e){s=s.updateQueue,e.updateQueue===s&&(e.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function mh(s,e){return{eventTime:s,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(s,e,a){var o=s.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var d=o.pending;return d===null?e.next=e:(e.next=d.next,d.next=e),o.pending=e,ih(s,a)}return d=o.interleaved,d===null?(e.next=e,gh(o)):(e.next=d.next,d.next=e),o.interleaved=e,ih(s,a)}function oh(s,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194240)!==0)){var o=e.lanes;o&=s.pendingLanes,a|=o,e.lanes=a,Cc(s,a)}}function ph(s,e){var a=s.updateQueue,o=s.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var d=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};h===null?d=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?d=h=e:h=h.next=e}else d=h=e;a={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:o.shared,effects:o.effects},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=e:s.next=e,a.lastBaseUpdate=e}function qh(s,e,a,o){var d=s.updateQueue;jh=!1;var h=d.firstBaseUpdate,g=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var j=b,_=j.next;j.next=null,g===null?h=_:g.next=_,g=j;var $=s.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==g&&(b===null?$.firstBaseUpdate=_:b.next=_,$.lastBaseUpdate=j))}if(h!==null){var _e=d.baseState;g=0,$=_=j=null,b=h;do{var et=b.lane,tt=b.eventTime;if((o&et)===et){$!==null&&($=$.next={eventTime:tt,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var nt=s,it=b;switch(et=e,tt=a,it.tag){case 1:if(nt=it.payload,typeof nt=="function"){_e=nt.call(tt,_e,et);break e}_e=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=it.payload,et=typeof nt=="function"?nt.call(tt,_e,et):nt,et==null)break e;_e=A({},_e,et);break e;case 2:jh=!0}}b.callback!==null&&b.lane!==0&&(s.flags|=64,et=d.effects,et===null?d.effects=[b]:et.push(b))}else tt={eventTime:tt,lane:et,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(_=$=tt,j=_e):$=$.next=tt,g|=et;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;et=b,b=et.next,et.next=null,d.lastBaseUpdate=et,d.shared.pending=null}}while(!0);if($===null&&(j=_e),d.baseState=j,d.firstBaseUpdate=_,d.lastBaseUpdate=$,e=d.shared.interleaved,e!==null){d=e;do g|=d.lane,d=d.next;while(d!==e)}else h===null&&(d.shared.lanes=0);rh|=g,s.lanes=g,s.memoizedState=_e}}function sh(s,e,a){if(s=e.effects,e.effects=null,s!==null)for(e=0;e<s.length;e++){var o=s[e],d=o.callback;if(d!==null){if(o.callback=null,o=a,typeof d!="function")throw Error(p(191,d));d.call(o)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(s){if(s===th)throw Error(p(174));return s}function yh(s,e){switch(G(wh,e),G(vh,s),G(uh,th),s=e.nodeType,s){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:s=s===8?e.parentNode:e,e=s.namespaceURI||null,s=s.tagName,e=lb(e,s)}E(uh),G(uh,e)}function zh(){E(uh),E(vh),E(wh)}function Ah(s){xh(wh.current);var e=xh(uh.current),a=lb(e,s.type);e!==a&&(G(vh,s),G(uh,a))}function Bh(s){vh.current===s&&(E(uh),E(vh))}var L=Uf(0);function Ch(s){for(var e=s;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var s=0;s<Dh.length;s++)Dh[s]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(s,e){if(e===null)return!1;for(var a=0;a<e.length&&a<s.length;a++)if(!He(s[a],e[a]))return!1;return!0}function Nh(s,e,a,o,d,h){if(Hh=h,M=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=s===null||s.memoizedState===null?Oh:Ph,s=a(o,d),Jh){h=0;do{if(Jh=!1,Kh=0,25<=h)throw Error(p(301));h+=1,O=N=null,e.updateQueue=null,Fh.current=Qh,s=a(o,d)}while(Jh)}if(Fh.current=Rh,e=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,e)throw Error(p(300));return s}function Sh(){var s=Kh!==0;return Kh=0,s}function Th(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=s:O=O.next=s,O}function Uh(){if(N===null){var s=M.alternate;s=s!==null?s.memoizedState:null}else s=N.next;var e=O===null?M.memoizedState:O.next;if(e!==null)O=e,N=s;else{if(s===null)throw Error(p(310));N=s,s={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=s:O=O.next=s}return O}function Vh(s,e){return typeof e=="function"?e(s):e}function Wh(s){var e=Uh(),a=e.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=s;var o=N,d=o.baseQueue,h=a.pending;if(h!==null){if(d!==null){var g=d.next;d.next=h.next,h.next=g}o.baseQueue=d=h,a.pending=null}if(d!==null){h=d.next,o=o.baseState;var b=g=null,j=null,_=h;do{var $=_.lane;if((Hh&$)===$)j!==null&&(j=j.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),o=_.hasEagerState?_.eagerState:s(o,_.action);else{var _e={lane:$,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};j===null?(b=j=_e,g=o):j=j.next=_e,M.lanes|=$,rh|=$}_=_.next}while(_!==null&&_!==h);j===null?g=o:j.next=b,He(o,e.memoizedState)||(dh=!0),e.memoizedState=o,e.baseState=g,e.baseQueue=j,a.lastRenderedState=o}if(s=a.interleaved,s!==null){d=s;do h=d.lane,M.lanes|=h,rh|=h,d=d.next;while(d!==s)}else d===null&&(a.lanes=0);return[e.memoizedState,a.dispatch]}function Xh(s){var e=Uh(),a=e.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=s;var o=a.dispatch,d=a.pending,h=e.memoizedState;if(d!==null){a.pending=null;var g=d=d.next;do h=s(h,g.action),g=g.next;while(g!==d);He(h,e.memoizedState)||(dh=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),a.lastRenderedState=h}return[h,o]}function Yh(){}function Zh(s,e){var a=M,o=Uh(),d=e(),h=!He(o.memoizedState,d);if(h&&(o.memoizedState=d,dh=!0),o=o.queue,$h(ai.bind(null,a,o,s),[s]),o.getSnapshot!==e||h||O!==null&&O.memoizedState.tag&1){if(a.flags|=2048,bi(9,ci.bind(null,a,o,d,e),void 0,null),Q===null)throw Error(p(349));Hh&30||di(a,e,d)}return d}function di(s,e,a){s.flags|=16384,s={getSnapshot:e,value:a},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.stores=[s]):(a=e.stores,a===null?e.stores=[s]:a.push(s))}function ci(s,e,a,o){e.value=a,e.getSnapshot=o,ei(e)&&fi(s)}function ai(s,e,a){return a(function(){ei(e)&&fi(s)})}function ei(s){var e=s.getSnapshot;s=s.value;try{var a=e();return!He(s,a)}catch{return!0}}function fi(s){var e=ih(s,1);e!==null&&gi(e,s,1,-1)}function hi(s){var e=Th();return typeof s=="function"&&(s=s()),e.memoizedState=e.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:s},e.queue=s,s=s.dispatch=ii.bind(null,M,s),[e.memoizedState,s]}function bi(s,e,a,o){return s={tag:s,create:e,destroy:a,deps:o,next:null},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.lastEffect=s.next=s):(a=e.lastEffect,a===null?e.lastEffect=s.next=s:(o=a.next,a.next=s,s.next=o,e.lastEffect=s)),s}function ji(){return Uh().memoizedState}function ki(s,e,a,o){var d=Th();M.flags|=s,d.memoizedState=bi(1|e,a,void 0,o===void 0?null:o)}function li(s,e,a,o){var d=Uh();o=o===void 0?null:o;var h=void 0;if(N!==null){var g=N.memoizedState;if(h=g.destroy,o!==null&&Mh(o,g.deps)){d.memoizedState=bi(e,a,h,o);return}}M.flags|=s,d.memoizedState=bi(1|e,a,h,o)}function mi(s,e){return ki(8390656,8,s,e)}function $h(s,e){return li(2048,8,s,e)}function ni(s,e){return li(4,2,s,e)}function oi(s,e){return li(4,4,s,e)}function pi(s,e){if(typeof e=="function")return s=s(),e(s),function(){e(null)};if(e!=null)return s=s(),e.current=s,function(){e.current=null}}function qi(s,e,a){return a=a!=null?a.concat([s]):null,li(4,4,pi.bind(null,e,s),a)}function ri(){}function si(s,e){var a=Uh();e=e===void 0?null:e;var o=a.memoizedState;return o!==null&&e!==null&&Mh(e,o[1])?o[0]:(a.memoizedState=[s,e],s)}function ti(s,e){var a=Uh();e=e===void 0?null:e;var o=a.memoizedState;return o!==null&&e!==null&&Mh(e,o[1])?o[0]:(s=s(),a.memoizedState=[s,e],s)}function ui(s,e,a){return Hh&21?(He(a,e)||(a=yc(),M.lanes|=a,rh|=a,s.baseState=!0),e):(s.baseState&&(s.baseState=!1,dh=!0),s.memoizedState=a)}function vi(s,e){var a=C;C=a!==0&&4>a?a:4,s(!0);var o=Gh.transition;Gh.transition={};try{s(!1),e()}finally{C=a,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(s,e,a){var o=yi(s);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},zi(s))Ai(e,a);else if(a=hh(s,e,a,o),a!==null){var d=R();gi(a,s,o,d),Bi(a,e,o)}}function ii(s,e,a){var o=yi(s),d={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi(s))Ai(e,d);else{var h=s.alternate;if(s.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var g=e.lastRenderedState,b=h(g,a);if(d.hasEagerState=!0,d.eagerState=b,He(b,g)){var j=e.interleaved;j===null?(d.next=d,gh(e)):(d.next=j.next,j.next=d),e.interleaved=d;return}}catch{}finally{}a=hh(s,e,d,o),a!==null&&(d=R(),gi(a,s,o,d),Bi(a,e,o))}}function zi(s){var e=s.alternate;return s===M||e!==null&&e===M}function Ai(s,e){Jh=Ih=!0;var a=s.pending;a===null?e.next=e:(e.next=a.next,a.next=e),s.pending=e}function Bi(s,e,a){if(a&4194240){var o=e.lanes;o&=s.pendingLanes,a|=o,e.lanes=a,Cc(s,a)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(s,e){return Th().memoizedState=[s,e===void 0?null:e],s},useContext:eh,useEffect:mi,useImperativeHandle:function(s,e,a){return a=a!=null?a.concat([s]):null,ki(4194308,4,pi.bind(null,e,s),a)},useLayoutEffect:function(s,e){return ki(4194308,4,s,e)},useInsertionEffect:function(s,e){return ki(4,2,s,e)},useMemo:function(s,e){var a=Th();return e=e===void 0?null:e,s=s(),a.memoizedState=[s,e],s},useReducer:function(s,e,a){var o=Th();return e=a!==void 0?a(e):e,o.memoizedState=o.baseState=e,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:e},o.queue=s,s=s.dispatch=xi.bind(null,M,s),[o.memoizedState,s]},useRef:function(s){var e=Th();return s={current:s},e.memoizedState=s},useState:hi,useDebugValue:ri,useDeferredValue:function(s){return Th().memoizedState=s},useTransition:function(){var s=hi(!1),e=s[0];return s=vi.bind(null,s[1]),Th().memoizedState=s,[e,s]},useMutableSource:function(){},useSyncExternalStore:function(s,e,a){var o=M,d=Th();if(I){if(a===void 0)throw Error(p(407));a=a()}else{if(a=e(),Q===null)throw Error(p(349));Hh&30||di(o,e,a)}d.memoizedState=a;var h={value:a,getSnapshot:e};return d.queue=h,mi(ai.bind(null,o,h,s),[s]),o.flags|=2048,bi(9,ci.bind(null,o,h,a,e),void 0,null),a},useId:function(){var s=Th(),e=Q.identifierPrefix;if(I){var a=sg,o=rg;a=(o&~(1<<32-oc(o)-1)).toString(32)+a,e=":"+e+"R"+a,a=Kh++,0<a&&(e+="H"+a.toString(32)),e+=":"}else a=Lh++,e=":"+e+"r"+a.toString(32)+":";return s.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(s){var e=Uh();return ui(e,N.memoizedState,s)},useTransition:function(){var s=Wh(Vh)[0],e=Uh().memoizedState;return[s,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(s){var e=Uh();return N===null?e.memoizedState=s:ui(e,N.memoizedState,s)},useTransition:function(){var s=Xh(Vh)[0],e=Uh().memoizedState;return[s,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(s,e){if(s&&s.defaultProps){e=A({},e),s=s.defaultProps;for(var a in s)e[a]===void 0&&(e[a]=s[a]);return e}return e}function Di(s,e,a,o){e=s.memoizedState,a=a(o,e),a=a==null?e:A({},e,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var Ei={isMounted:function(s){return(s=s._reactInternals)?Vb(s)===s:!1},enqueueSetState:function(s,e,a){s=s._reactInternals;var o=R(),d=yi(s),h=mh(o,d);h.payload=e,a!=null&&(h.callback=a),e=nh(s,h,d),e!==null&&(gi(e,s,d,o),oh(e,s,d))},enqueueReplaceState:function(s,e,a){s=s._reactInternals;var o=R(),d=yi(s),h=mh(o,d);h.tag=1,h.payload=e,a!=null&&(h.callback=a),e=nh(s,h,d),e!==null&&(gi(e,s,d,o),oh(e,s,d))},enqueueForceUpdate:function(s,e){s=s._reactInternals;var a=R(),o=yi(s),d=mh(a,o);d.tag=2,e!=null&&(d.callback=e),e=nh(s,d,o),e!==null&&(gi(e,s,o,a),oh(e,s,o))}};function Fi(s,e,a,o,d,h,g){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(o,h,g):e.prototype&&e.prototype.isPureReactComponent?!Ie(a,o)||!Ie(d,h):!0}function Gi(s,e,a){var o=!1,d=Vf,h=e.contextType;return typeof h=="object"&&h!==null?h=eh(h):(d=Zf(e)?Xf:H.current,o=e.contextTypes,h=(o=o!=null)?Yf(s,d):Vf),e=new e(a,h),s.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,s.stateNode=e,e._reactInternals=s,o&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=d,s.__reactInternalMemoizedMaskedChildContext=h),e}function Hi(s,e,a,o){s=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,o),e.state!==s&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(s,e,a,o){var d=s.stateNode;d.props=a,d.state=s.memoizedState,d.refs={},kh(s);var h=e.contextType;typeof h=="object"&&h!==null?d.context=eh(h):(h=Zf(e)?Xf:H.current,d.context=Yf(s,h)),d.state=s.memoizedState,h=e.getDerivedStateFromProps,typeof h=="function"&&(Di(s,e,h,a),d.state=s.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(e=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),e!==d.state&&Ei.enqueueReplaceState(d,d.state,null),qh(s,a,d,o),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308)}function Ji(s,e){try{var a="",o=e;do a+=Pa(o),o=o.return;while(o);var d=a}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:s,source:e,stack:d,digest:null}}function Ki(s,e,a){return{value:s,source:null,stack:a??null,digest:e??null}}function Li(s,e){try{console.error(e.value)}catch(a){setTimeout(function(){throw a})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(s,e,a){a=mh(-1,a),a.tag=3,a.payload={element:null};var o=e.value;return a.callback=function(){Oi||(Oi=!0,Pi=o),Li(s,e)},a}function Qi(s,e,a){a=mh(-1,a),a.tag=3;var o=s.type.getDerivedStateFromError;if(typeof o=="function"){var d=e.value;a.payload=function(){return o(d)},a.callback=function(){Li(s,e)}}var h=s.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(a.callback=function(){Li(s,e),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var g=e.stack;this.componentDidCatch(e.value,{componentStack:g!==null?g:""})}),a}function Si(s,e,a){var o=s.pingCache;if(o===null){o=s.pingCache=new Mi;var d=new Set;o.set(e,d)}else d=o.get(e),d===void 0&&(d=new Set,o.set(e,d));d.has(a)||(d.add(a),s=Ti.bind(null,s,e,a),e.then(s,s))}function Ui(s){do{var e;if((e=s.tag===13)&&(e=s.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return s;s=s.return}while(s!==null);return null}function Vi(s,e,a,o,d){return s.mode&1?(s.flags|=65536,s.lanes=d,s):(s===e?s.flags|=65536:(s.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(e=mh(-1,1),e.tag=2,nh(a,e,1))),a.lanes|=1),s)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(s,e,a,o){e.child=s===null?Vg(e,null,a,o):Ug(e,s.child,a,o)}function Yi(s,e,a,o,d){a=a.render;var h=e.ref;return ch(e,d),o=Nh(s,e,a,o,h,d),a=Sh(),s!==null&&!dh?(e.updateQueue=s.updateQueue,e.flags&=-2053,s.lanes&=~d,Zi(s,e,d)):(I&&a&&vg(e),e.flags|=1,Xi(s,e,o,d),e.child)}function $i(s,e,a,o,d){if(s===null){var h=a.type;return typeof h=="function"&&!aj(h)&&h.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(e.tag=15,e.type=h,bj(s,e,h,o,d)):(s=Rg(a.type,null,o,e,e.mode,d),s.ref=e.ref,s.return=e,e.child=s)}if(h=s.child,!(s.lanes&d)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a(g,o)&&s.ref===e.ref)return Zi(s,e,d)}return e.flags|=1,s=Pg(h,o),s.ref=e.ref,s.return=e,e.child=s}function bj(s,e,a,o,d){if(s!==null){var h=s.memoizedProps;if(Ie(h,o)&&s.ref===e.ref)if(dh=!1,e.pendingProps=o=h,(s.lanes&d)!==0)s.flags&131072&&(dh=!0);else return e.lanes=s.lanes,Zi(s,e,d)}return cj(s,e,a,o,d)}function dj(s,e,a){var o=e.pendingProps,d=o.children,h=s!==null?s.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=a;else{if(!(a&1073741824))return s=h!==null?h.baseLanes|a:a,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:s,cachePool:null,transitions:null},e.updateQueue=null,G(ej,fj),fj|=s,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=h!==null?h.baseLanes:a,G(ej,fj),fj|=o}else h!==null?(o=h.baseLanes|a,e.memoizedState=null):o=a,G(ej,fj),fj|=o;return Xi(s,e,d,a),e.child}function gj(s,e){var a=e.ref;(s===null&&a!==null||s!==null&&s.ref!==a)&&(e.flags|=512,e.flags|=2097152)}function cj(s,e,a,o,d){var h=Zf(a)?Xf:H.current;return h=Yf(e,h),ch(e,d),a=Nh(s,e,a,o,h,d),o=Sh(),s!==null&&!dh?(e.updateQueue=s.updateQueue,e.flags&=-2053,s.lanes&=~d,Zi(s,e,d)):(I&&o&&vg(e),e.flags|=1,Xi(s,e,a,d),e.child)}function hj(s,e,a,o,d){if(Zf(a)){var h=!0;cg(e)}else h=!1;if(ch(e,d),e.stateNode===null)ij(s,e),Gi(e,a,o),Ii(e,a,o,d),o=!0;else if(s===null){var g=e.stateNode,b=e.memoizedProps;g.props=b;var j=g.context,_=a.contextType;typeof _=="object"&&_!==null?_=eh(_):(_=Zf(a)?Xf:H.current,_=Yf(e,_));var $=a.getDerivedStateFromProps,_e=typeof $=="function"||typeof g.getSnapshotBeforeUpdate=="function";_e||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==o||j!==_)&&Hi(e,g,o,_),jh=!1;var et=e.memoizedState;g.state=et,qh(e,o,g,d),j=e.memoizedState,b!==o||et!==j||Wf.current||jh?(typeof $=="function"&&(Di(e,a,$,o),j=e.memoizedState),(b=jh||Fi(e,a,b,o,et,j,_))?(_e||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(e.flags|=4194308)):(typeof g.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=j),g.props=o,g.state=j,g.context=_,o=b):(typeof g.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{g=e.stateNode,lh(s,e),b=e.memoizedProps,_=e.type===e.elementType?b:Ci(e.type,b),g.props=_,_e=e.pendingProps,et=g.context,j=a.contextType,typeof j=="object"&&j!==null?j=eh(j):(j=Zf(a)?Xf:H.current,j=Yf(e,j));var tt=a.getDerivedStateFromProps;($=typeof tt=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==_e||et!==j)&&Hi(e,g,o,j),jh=!1,et=e.memoizedState,g.state=et,qh(e,o,g,d);var nt=e.memoizedState;b!==_e||et!==nt||Wf.current||jh?(typeof tt=="function"&&(Di(e,a,tt,o),nt=e.memoizedState),(_=jh||Fi(e,a,_,o,et,nt,j)||!1)?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,nt,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,nt,j)),typeof g.componentDidUpdate=="function"&&(e.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===s.memoizedProps&&et===s.memoizedState||(e.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&et===s.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=nt),g.props=o,g.state=nt,g.context=j,o=_):(typeof g.componentDidUpdate!="function"||b===s.memoizedProps&&et===s.memoizedState||(e.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&et===s.memoizedState||(e.flags|=1024),o=!1)}return jj(s,e,a,o,h,d)}function jj(s,e,a,o,d,h){gj(s,e);var g=(e.flags&128)!==0;if(!o&&!g)return d&&dg(e,a,!1),Zi(s,e,h);o=e.stateNode,Wi.current=e;var b=g&&typeof a.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,s!==null&&g?(e.child=Ug(e,s.child,null,h),e.child=Ug(e,null,b,h)):Xi(s,e,b,h),e.memoizedState=o.state,d&&dg(e,a,!0),e.child}function kj(s){var e=s.stateNode;e.pendingContext?ag(s,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(s,e.context,!1),yh(s,e.containerInfo)}function lj(s,e,a,o,d){return Ig(),Jg(d),e.flags|=256,Xi(s,e,a,o),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(s){return{baseLanes:s,cachePool:null,transitions:null}}function oj(s,e,a){var o=e.pendingProps,d=L.current,h=!1,g=(e.flags&128)!==0,b;if((b=g)||(b=s!==null&&s.memoizedState===null?!1:(d&2)!==0),b?(h=!0,e.flags&=-129):(s===null||s.memoizedState!==null)&&(d|=1),G(L,d&1),s===null)return Eg(e),s=e.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(e.mode&1?s.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(g=o.children,s=o.fallback,h?(o=e.mode,h=e.child,g={mode:"hidden",children:g},!(o&1)&&h!==null?(h.childLanes=0,h.pendingProps=g):h=pj(g,o,0,null),s=Tg(s,o,a,null),h.return=e,s.return=e,h.sibling=s,e.child=h,e.child.memoizedState=nj(a),e.memoizedState=mj,s):qj(e,g));if(d=s.memoizedState,d!==null&&(b=d.dehydrated,b!==null))return rj(s,e,g,o,b,d,a);if(h){h=o.fallback,g=e.mode,d=s.child,b=d.sibling;var j={mode:"hidden",children:o.children};return!(g&1)&&e.child!==d?(o=e.child,o.childLanes=0,o.pendingProps=j,e.deletions=null):(o=Pg(d,j),o.subtreeFlags=d.subtreeFlags&14680064),b!==null?h=Pg(b,h):(h=Tg(h,g,a,null),h.flags|=2),h.return=e,o.return=e,o.sibling=h,e.child=o,o=h,h=e.child,g=s.child.memoizedState,g=g===null?nj(a):{baseLanes:g.baseLanes|a,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=s.childLanes&~a,e.memoizedState=mj,o}return h=s.child,s=h.sibling,o=Pg(h,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=a),o.return=e,o.sibling=null,s!==null&&(a=e.deletions,a===null?(e.deletions=[s],e.flags|=16):a.push(s)),e.child=o,e.memoizedState=null,o}function qj(s,e){return e=pj({mode:"visible",children:e},s.mode,0,null),e.return=s,s.child=e}function sj(s,e,a,o){return o!==null&&Jg(o),Ug(e,s.child,null,a),s=qj(e,e.pendingProps.children),s.flags|=2,e.memoizedState=null,s}function rj(s,e,a,o,d,h,g){if(a)return e.flags&256?(e.flags&=-257,o=Ki(Error(p(422))),sj(s,e,g,o)):e.memoizedState!==null?(e.child=s.child,e.flags|=128,null):(h=o.fallback,d=e.mode,o=pj({mode:"visible",children:o.children},d,0,null),h=Tg(h,d,g,null),h.flags|=2,o.return=e,h.return=e,o.sibling=h,e.child=o,e.mode&1&&Ug(e,s.child,null,g),e.child.memoizedState=nj(g),e.memoizedState=mj,h);if(!(e.mode&1))return sj(s,e,g,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var b=o.dgst;return o=b,h=Error(p(419)),o=Ki(h,o,void 0),sj(s,e,g,o)}if(b=(g&s.childLanes)!==0,dh||b){if(o=Q,o!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(o.suspendedLanes|g)?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,ih(s,d),gi(o,s,d,-1))}return tj(),o=Ki(Error(p(421))),sj(s,e,g,o)}return d.data==="$?"?(e.flags|=128,e.child=s.child,e=uj.bind(null,s),d._reactRetry=e,null):(s=h.treeContext,yg=Lf(d.nextSibling),xg=e,I=!0,zg=null,s!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=s.id,sg=s.overflow,qg=e),e=qj(e,o.children),e.flags|=4096,e)}function vj(s,e,a){s.lanes|=e;var o=s.alternate;o!==null&&(o.lanes|=e),bh(s.return,e,a)}function wj(s,e,a,o,d){var h=s.memoizedState;h===null?s.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:d}:(h.isBackwards=e,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=a,h.tailMode=d)}function xj(s,e,a){var o=e.pendingProps,d=o.revealOrder,h=o.tail;if(Xi(s,e,o.children,a),o=L.current,o&2)o=o&1|2,e.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=e.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vj(s,a,e);else if(s.tag===19)vj(s,a,e);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o&=1}if(G(L,o),!(e.mode&1))e.memoizedState=null;else switch(d){case"forwards":for(a=e.child,d=null;a!==null;)s=a.alternate,s!==null&&Ch(s)===null&&(d=a),a=a.sibling;a=d,a===null?(d=e.child,e.child=null):(d=a.sibling,a.sibling=null),wj(e,!1,d,a,h);break;case"backwards":for(a=null,d=e.child,e.child=null;d!==null;){if(s=d.alternate,s!==null&&Ch(s)===null){e.child=d;break}s=d.sibling,d.sibling=a,a=d,d=s}wj(e,!0,a,null,h);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(s,e){!(e.mode&1)&&s!==null&&(s.alternate=null,e.alternate=null,e.flags|=2)}function Zi(s,e,a){if(s!==null&&(e.dependencies=s.dependencies),rh|=e.lanes,!(a&e.childLanes))return null;if(s!==null&&e.child!==s.child)throw Error(p(153));if(e.child!==null){for(s=e.child,a=Pg(s,s.pendingProps),e.child=a,a.return=e;s.sibling!==null;)s=s.sibling,a=a.sibling=Pg(s,s.pendingProps),a.return=e;a.sibling=null}return e.child}function yj(s,e,a){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,d=e.memoizedProps.value;G(Wg,o._currentValue),o._currentValue=d;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(G(L,L.current&1),e.flags|=128,null):a&e.child.childLanes?oj(s,e,a):(G(L,L.current&1),s=Zi(s,e,a),s!==null?s.sibling:null);G(L,L.current&1);break;case 19:if(o=(a&e.childLanes)!==0,s.flags&128){if(o)return xj(s,e,a);e.flags|=128}if(d=e.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),G(L,L.current),o)break;return null;case 22:case 23:return e.lanes=0,dj(s,e,a)}return Zi(s,e,a)}var zj,Aj,Bj,Cj;zj=function(s,e){for(var a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Aj=function(){};Bj=function(s,e,a,o){var d=s.memoizedProps;if(d!==o){s=e.stateNode,xh(uh.current);var h=null;switch(a){case"input":d=Ya(s,d),o=Ya(s,o),h=[];break;case"select":d=A({},d,{value:void 0}),o=A({},o,{value:void 0}),h=[];break;case"textarea":d=gb(s,d),o=gb(s,o),h=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(s.onclick=Bf)}ub(a,o);var g;a=null;for(_ in d)if(!o.hasOwnProperty(_)&&d.hasOwnProperty(_)&&d[_]!=null)if(_==="style"){var b=d[_];for(g in b)b.hasOwnProperty(g)&&(a||(a={}),a[g]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea.hasOwnProperty(_)?h||(h=[]):(h=h||[]).push(_,null));for(_ in o){var j=o[_];if(b=d!=null?d[_]:void 0,o.hasOwnProperty(_)&&j!==b&&(j!=null||b!=null))if(_==="style")if(b){for(g in b)!b.hasOwnProperty(g)||j&&j.hasOwnProperty(g)||(a||(a={}),a[g]="");for(g in j)j.hasOwnProperty(g)&&b[g]!==j[g]&&(a||(a={}),a[g]=j[g])}else a||(h||(h=[]),h.push(_,a)),a=j;else _==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,b=b?b.__html:void 0,j!=null&&b!==j&&(h=h||[]).push(_,j)):_==="children"?typeof j!="string"&&typeof j!="number"||(h=h||[]).push(_,""+j):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(ea.hasOwnProperty(_)?(j!=null&&_==="onScroll"&&D("scroll",s),h||b===j||(h=[])):(h=h||[]).push(_,j))}a&&(h=h||[]).push("style",a);var _=h;(e.updateQueue=_)&&(e.flags|=4)}};Cj=function(s,e,a,o){a!==o&&(e.flags|=4)};function Dj(s,e){if(!I)switch(s.tailMode){case"hidden":e=s.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?e||s.tail===null?s.tail=null:s.tail.sibling=null:o.sibling=null}}function S(s){var e=s.alternate!==null&&s.alternate.child===s.child,a=0,o=0;if(e)for(var d=s.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=o,s.childLanes=a,e}function Ej(s,e,a){var o=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(e),null;case 1:return Zf(e.type)&&$f(),S(e),null;case 3:return o=e.stateNode,zh(),E(Wf),E(H),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Gg(e)?e.flags|=4:s===null||s.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(s,e),S(e),null;case 5:Bh(e);var d=xh(wh.current);if(a=e.type,s!==null&&e.stateNode!=null)Bj(s,e,a,o,d),s.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(p(166));return S(e),null}if(s=xh(uh.current),Gg(e)){o=e.stateNode,a=e.type;var h=e.memoizedProps;switch(o[Of]=e,o[Pf]=h,s=(e.mode&1)!==0,a){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(d=0;d<lf.length;d++)D(lf[d],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,h),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!h.multiple},D("invalid",o);break;case"textarea":hb(o,h),D("invalid",o)}ub(a,h),d=null;for(var g in h)if(h.hasOwnProperty(g)){var b=h[g];g==="children"?typeof b=="string"?o.textContent!==b&&(h.suppressHydrationWarning!==!0&&Af(o.textContent,b,s),d=["children",b]):typeof b=="number"&&o.textContent!==""+b&&(h.suppressHydrationWarning!==!0&&Af(o.textContent,b,s),d=["children",""+b]):ea.hasOwnProperty(g)&&b!=null&&g==="onScroll"&&D("scroll",o)}switch(a){case"input":Va(o),db(o,h,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(o.onclick=Bf)}o=d,e.updateQueue=o,o!==null&&(e.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kb(a)),s==="http://www.w3.org/1999/xhtml"?a==="script"?(s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof o.is=="string"?s=g.createElement(a,{is:o.is}):(s=g.createElement(a),a==="select"&&(g=s,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):s=g.createElementNS(s,a),s[Of]=e,s[Pf]=o,zj(s,e,!1,!1),e.stateNode=s;e:{switch(g=vb(a,o),a){case"dialog":D("cancel",s),D("close",s),d=o;break;case"iframe":case"object":case"embed":D("load",s),d=o;break;case"video":case"audio":for(d=0;d<lf.length;d++)D(lf[d],s);d=o;break;case"source":D("error",s),d=o;break;case"img":case"image":case"link":D("error",s),D("load",s),d=o;break;case"details":D("toggle",s),d=o;break;case"input":Za(s,o),d=Ya(s,o),D("invalid",s);break;case"option":d=o;break;case"select":s._wrapperState={wasMultiple:!!o.multiple},d=A({},o,{value:void 0}),D("invalid",s);break;case"textarea":hb(s,o),d=gb(s,o),D("invalid",s);break;default:d=o}ub(a,d),b=d;for(h in b)if(b.hasOwnProperty(h)){var j=b[h];h==="style"?sb(s,j):h==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&nb(s,j)):h==="children"?typeof j=="string"?(a!=="textarea"||j!=="")&&ob(s,j):typeof j=="number"&&ob(s,""+j):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ea.hasOwnProperty(h)?j!=null&&h==="onScroll"&&D("scroll",s):j!=null&&ta(s,h,j,g))}switch(a){case"input":Va(s),db(s,o,!1);break;case"textarea":Va(s),jb(s);break;case"option":o.value!=null&&s.setAttribute("value",""+Sa(o.value));break;case"select":s.multiple=!!o.multiple,h=o.value,h!=null?fb(s,!!o.multiple,h,!1):o.defaultValue!=null&&fb(s,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(s.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S(e),null;case 6:if(s&&e.stateNode!=null)Cj(s,e,s.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(p(166));if(a=xh(wh.current),xh(uh.current),Gg(e)){if(o=e.stateNode,a=e.memoizedProps,o[Of]=e,(h=o.nodeValue!==a)&&(s=xg,s!==null))switch(s.tag){case 3:Af(o.nodeValue,a,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,a,(s.mode&1)!==0)}h&&(e.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[Of]=e,e.stateNode=o}return S(e),null;case 13:if(E(L),o=e.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,h=!1;else if(h=Gg(e),o!==null&&o.dehydrated!==null){if(s===null){if(!h)throw Error(p(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(p(317));h[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S(e),h=!1}else zg!==null&&(Fj(zg),zg=null),h=!0;if(!h)return e.flags&65536?e:null}return e.flags&128?(e.lanes=a,e):(o=o!==null,o!==(s!==null&&s.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(s===null||L.current&1?T===0&&(T=3):tj())),e.updateQueue!==null&&(e.flags|=4),S(e),null);case 4:return zh(),Aj(s,e),s===null&&sf(e.stateNode.containerInfo),S(e),null;case 10:return ah(e.type._context),S(e),null;case 17:return Zf(e.type)&&$f(),S(e),null;case 19:if(E(L),h=e.memoizedState,h===null)return S(e),null;if(o=(e.flags&128)!==0,g=h.rendering,g===null)if(o)Dj(h,!1);else{if(T!==0||s!==null&&s.flags&128)for(s=e.child;s!==null;){if(g=Ch(s),g!==null){for(e.flags|=128,Dj(h,!1),o=g.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=a,a=e.child;a!==null;)h=a,s=o,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=s,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,s=g.dependencies,h.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a=a.sibling;return G(L,L.current&1|2),e.child}s=s.sibling}h.tail!==null&&B()>Gj&&(e.flags|=128,o=!0,Dj(h,!1),e.lanes=4194304)}else{if(!o)if(s=Ch(g),s!==null){if(e.flags|=128,o=!0,a=s.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),Dj(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!I)return S(e),null}else 2*B()-h.renderingStartTime>Gj&&a!==1073741824&&(e.flags|=128,o=!0,Dj(h,!1),e.lanes=4194304);h.isBackwards?(g.sibling=e.child,e.child=g):(a=h.last,a!==null?a.sibling=g:e.child=g,h.last=g)}return h.tail!==null?(e=h.tail,h.rendering=e,h.tail=e.sibling,h.renderingStartTime=B(),e.sibling=null,a=L.current,G(L,o?a&1|2:a&1),e):(S(e),null);case 22:case 23:return Hj(),o=e.memoizedState!==null,s!==null&&s.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?fj&1073741824&&(S(e),e.subtreeFlags&6&&(e.flags|=8192)):S(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Ij(s,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 3:return zh(),E(Wf),E(H),Eh(),s=e.flags,s&65536&&!(s&128)?(e.flags=s&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E(L),s=e.memoizedState,s!==null&&s.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(s,e){var a=s.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){W(s,e,o)}else a.current=null}function Mj(s,e,a){try{a()}catch(o){W(s,e,o)}}var Nj=!1;function Oj(s,e){if(Cf=dd,s=Me(),Ne(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var d=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,b=-1,j=-1,_=0,$=0,_e=s,et=null;t:for(;;){for(var tt;_e!==a||d!==0&&_e.nodeType!==3||(b=g+d),_e!==h||o!==0&&_e.nodeType!==3||(j=g+o),_e.nodeType===3&&(g+=_e.nodeValue.length),(tt=_e.firstChild)!==null;)et=_e,_e=tt;for(;;){if(_e===s)break t;if(et===a&&++_===d&&(b=g),et===h&&++$===o&&(j=g),(tt=_e.nextSibling)!==null)break;_e=et,et=_e.parentNode}_e=tt}a=b===-1||j===-1?null:{start:b,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:s,selectionRange:a},dd=!1,V=e;V!==null;)if(e=V,s=e.child,(e.subtreeFlags&1028)!==0&&s!==null)s.return=e,V=s;else for(;V!==null;){e=V;try{var nt=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var it=nt.memoizedProps,st=nt.memoizedState,rt=e.stateNode,at=rt.getSnapshotBeforeUpdate(e.elementType===e.type?it:Ci(e.type,it),st);rt.__reactInternalSnapshotBeforeUpdate=at}break;case 3:var ht=e.stateNode.containerInfo;ht.nodeType===1?ht.textContent="":ht.nodeType===9&&ht.documentElement&&ht.removeChild(ht.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ft){W(e,e.return,ft)}if(s=e.sibling,s!==null){s.return=e.return,V=s;break}V=e.return}return nt=Nj,Nj=!1,nt}function Pj(s,e,a){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&s)===s){var h=d.destroy;d.destroy=void 0,h!==void 0&&Mj(e,a,h)}d=d.next}while(d!==o)}}function Qj(s,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var a=e=e.next;do{if((a.tag&s)===s){var o=a.create;a.destroy=o()}a=a.next}while(a!==e)}}function Rj(s){var e=s.ref;if(e!==null){var a=s.stateNode;switch(s.tag){case 5:s=a;break;default:s=a}typeof e=="function"?e(s):e.current=s}}function Sj(s){var e=s.alternate;e!==null&&(s.alternate=null,Sj(e)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(e=s.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Tj(s){return s.tag===5||s.tag===3||s.tag===4}function Uj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Tj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vj(s,e,a){var o=s.tag;if(o===5||o===6)s=s.stateNode,e?a.nodeType===8?a.parentNode.insertBefore(s,e):a.insertBefore(s,e):(a.nodeType===8?(e=a.parentNode,e.insertBefore(s,a)):(e=a,e.appendChild(s)),a=a._reactRootContainer,a!=null||e.onclick!==null||(e.onclick=Bf));else if(o!==4&&(s=s.child,s!==null))for(Vj(s,e,a),s=s.sibling;s!==null;)Vj(s,e,a),s=s.sibling}function Wj(s,e,a){var o=s.tag;if(o===5||o===6)s=s.stateNode,e?a.insertBefore(s,e):a.appendChild(s);else if(o!==4&&(s=s.child,s!==null))for(Wj(s,e,a),s=s.sibling;s!==null;)Wj(s,e,a),s=s.sibling}var X$1=null,Xj=!1;function Yj(s,e,a){for(a=a.child;a!==null;)Zj(s,e,a),a=a.sibling}function Zj(s,e,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U||Lj(a,e);case 6:var o=X$1,d=Xj;X$1=null,Yj(s,e,a),X$1=o,Xj=d,X$1!==null&&(Xj?(s=X$1,a=a.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):X$1.removeChild(a.stateNode));break;case 18:X$1!==null&&(Xj?(s=X$1,a=a.stateNode,s.nodeType===8?Kf(s.parentNode,a):s.nodeType===1&&Kf(s,a),bd(s)):Kf(X$1,a.stateNode));break;case 4:o=X$1,d=Xj,X$1=a.stateNode.containerInfo,Xj=!0,Yj(s,e,a),X$1=o,Xj=d;break;case 0:case 11:case 14:case 15:if(!U&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var h=d,g=h.destroy;h=h.tag,g!==void 0&&(h&2||h&4)&&Mj(a,e,g),d=d.next}while(d!==o)}Yj(s,e,a);break;case 1:if(!U&&(Lj(a,e),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(b){W(a,e,b)}Yj(s,e,a);break;case 21:Yj(s,e,a);break;case 22:a.mode&1?(U=(o=U)||a.memoizedState!==null,Yj(s,e,a),U=o):Yj(s,e,a);break;default:Yj(s,e,a)}}function ak(s){var e=s.updateQueue;if(e!==null){s.updateQueue=null;var a=s.stateNode;a===null&&(a=s.stateNode=new Kj),e.forEach(function(o){var d=bk.bind(null,s,o);a.has(o)||(a.add(o),o.then(d,d))})}}function ck(s,e){var a=e.deletions;if(a!==null)for(var o=0;o<a.length;o++){var d=a[o];try{var h=s,g=e,b=g;e:for(;b!==null;){switch(b.tag){case 5:X$1=b.stateNode,Xj=!1;break e;case 3:X$1=b.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=b.stateNode.containerInfo,Xj=!0;break e}b=b.return}if(X$1===null)throw Error(p(160));Zj(h,g,d),X$1=null,Xj=!1;var j=d.alternate;j!==null&&(j.return=null),d.return=null}catch(_){W(d,e,_)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,s),e=e.sibling}function dk(s,e){var a=s.alternate,o=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ck(e,s),ek(s),o&4){try{Pj(3,s,s.return),Qj(3,s)}catch(it){W(s,s.return,it)}try{Pj(5,s,s.return)}catch(it){W(s,s.return,it)}}break;case 1:ck(e,s),ek(s),o&512&&a!==null&&Lj(a,a.return);break;case 5:if(ck(e,s),ek(s),o&512&&a!==null&&Lj(a,a.return),s.flags&32){var d=s.stateNode;try{ob(d,"")}catch(it){W(s,s.return,it)}}if(o&4&&(d=s.stateNode,d!=null)){var h=s.memoizedProps,g=a!==null?a.memoizedProps:h,b=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{b==="input"&&h.type==="radio"&&h.name!=null&&ab(d,h),vb(b,g);var _=vb(b,h);for(g=0;g<j.length;g+=2){var $=j[g],_e=j[g+1];$==="style"?sb(d,_e):$==="dangerouslySetInnerHTML"?nb(d,_e):$==="children"?ob(d,_e):ta(d,$,_e,_)}switch(b){case"input":bb(d,h);break;case"textarea":ib(d,h);break;case"select":var et=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var tt=h.value;tt!=null?fb(d,!!h.multiple,tt,!1):et!==!!h.multiple&&(h.defaultValue!=null?fb(d,!!h.multiple,h.defaultValue,!0):fb(d,!!h.multiple,h.multiple?[]:"",!1))}d[Pf]=h}catch(it){W(s,s.return,it)}}break;case 6:if(ck(e,s),ek(s),o&4){if(s.stateNode===null)throw Error(p(162));d=s.stateNode,h=s.memoizedProps;try{d.nodeValue=h}catch(it){W(s,s.return,it)}}break;case 3:if(ck(e,s),ek(s),o&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(it){W(s,s.return,it)}break;case 4:ck(e,s),ek(s);break;case 13:ck(e,s),ek(s),d=s.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(fk=B())),o&4&&ak(s);break;case 22:if($=a!==null&&a.memoizedState!==null,s.mode&1?(U=(_=U)||$,ck(e,s),U=_):ck(e,s),ek(s),o&8192){if(_=s.memoizedState!==null,(s.stateNode.isHidden=_)&&!$&&s.mode&1)for(V=s,$=s.child;$!==null;){for(_e=V=$;V!==null;){switch(et=V,tt=et.child,et.tag){case 0:case 11:case 14:case 15:Pj(4,et,et.return);break;case 1:Lj(et,et.return);var nt=et.stateNode;if(typeof nt.componentWillUnmount=="function"){o=et,a=et.return;try{e=o,nt.props=e.memoizedProps,nt.state=e.memoizedState,nt.componentWillUnmount()}catch(it){W(o,a,it)}}break;case 5:Lj(et,et.return);break;case 22:if(et.memoizedState!==null){gk(_e);continue}}tt!==null?(tt.return=et,V=tt):gk(_e)}$=$.sibling}e:for($=null,_e=s;;){if(_e.tag===5){if($===null){$=_e;try{d=_e.stateNode,_?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(b=_e.stateNode,j=_e.memoizedProps.style,g=j!=null&&j.hasOwnProperty("display")?j.display:null,b.style.display=rb("display",g))}catch(it){W(s,s.return,it)}}}else if(_e.tag===6){if($===null)try{_e.stateNode.nodeValue=_?"":_e.memoizedProps}catch(it){W(s,s.return,it)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===s)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===s)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===s)break e;$===_e&&($=null),_e=_e.return}$===_e&&($=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:ck(e,s),ek(s),o&4&&ak(s);break;case 21:break;default:ck(e,s),ek(s)}}function ek(s){var e=s.flags;if(e&2){try{e:{for(var a=s.return;a!==null;){if(Tj(a)){var o=a;break e}a=a.return}throw Error(p(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(ob(d,""),o.flags&=-33);var h=Uj(s);Wj(s,h,d);break;case 3:case 4:var g=o.stateNode.containerInfo,b=Uj(s);Vj(s,b,g);break;default:throw Error(p(161))}}catch(j){W(s,s.return,j)}s.flags&=-3}e&4096&&(s.flags&=-4097)}function hk(s,e,a){V=s,ik(s)}function ik(s,e,a){for(var o=(s.mode&1)!==0;V!==null;){var d=V,h=d.child;if(d.tag===22&&o){var g=d.memoizedState!==null||Jj;if(!g){var b=d.alternate,j=b!==null&&b.memoizedState!==null||U;b=Jj;var _=U;if(Jj=g,(U=j)&&!_)for(V=d;V!==null;)g=V,j=g.child,g.tag===22&&g.memoizedState!==null?jk(d):j!==null?(j.return=g,V=j):jk(d);for(;h!==null;)V=h,ik(h),h=h.sibling;V=d,Jj=b,U=_}kk(s)}else d.subtreeFlags&8772&&h!==null?(h.return=d,V=h):kk(s)}}function kk(s){for(;V!==null;){var e=V;if(e.flags&8772){var a=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U||Qj(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!U)if(a===null)o.componentDidMount();else{var d=e.elementType===e.type?a.memoizedProps:Ci(e.type,a.memoizedProps);o.componentDidUpdate(d,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var h=e.updateQueue;h!==null&&sh(e,h,o);break;case 3:var g=e.updateQueue;if(g!==null){if(a=null,e.child!==null)switch(e.child.tag){case 5:a=e.child.stateNode;break;case 1:a=e.child.stateNode}sh(e,g,a)}break;case 5:var b=e.stateNode;if(a===null&&e.flags&4){a=b;var j=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&a.focus();break;case"img":j.src&&(a.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var _=e.alternate;if(_!==null){var $=_.memoizedState;if($!==null){var _e=$.dehydrated;_e!==null&&bd(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||e.flags&512&&Rj(e)}catch(et){W(e,e.return,et)}}if(e===s){V=null;break}if(a=e.sibling,a!==null){a.return=e.return,V=a;break}V=e.return}}function gk(s){for(;V!==null;){var e=V;if(e===s){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}function jk(s){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var a=e.return;try{Qj(4,e)}catch(j){W(e,a,j)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var d=e.return;try{o.componentDidMount()}catch(j){W(e,d,j)}}var h=e.return;try{Rj(e)}catch(j){W(e,h,j)}break;case 5:var g=e.return;try{Rj(e)}catch(j){W(e,g,j)}}}catch(j){W(e,e.return,j)}if(e===s){V=null;break}var b=e.sibling;if(b!==null){b.return=e.return,V=b;break}V=e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(s){return s.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(s=C,s!==0||(s=window.event,s=s===void 0?16:jd(s.type)),s):1}function gi(s,e,a,o){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(s,a,o),(!(K&2)||s!==Q)&&(s===Q&&(!(K&2)&&(qk|=a),T===4&&Ck(s,Z)),Dk(s,o),a===1&&K===0&&!(e.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(s,e){var a=s.callbackNode;wc(s,e);var o=uc(s,s===Q?Z:0);if(o===0)a!==null&&bc(a),s.callbackNode=null,s.callbackPriority=0;else if(e=o&-o,s.callbackPriority!==e){if(a!=null&&bc(a),e===1)s.tag===0?ig(Ek.bind(null,s)):hg(Ek.bind(null,s)),Jf(function(){!(K&6)&&jg()}),a=null;else{switch(Dc(o)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Fk(a,Gk.bind(null,s))}s.callbackPriority=e,s.callbackNode=a}}function Gk(s,e){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var a=s.callbackNode;if(Hk()&&s.callbackNode!==a)return null;var o=uc(s,s===Q?Z:0);if(o===0)return null;if(o&30||o&s.expiredLanes||e)e=Ik(s,o);else{e=o;var d=K;K|=2;var h=Jk();(Q!==s||Z!==e)&&(uk=null,Gj=B()+500,Kk(s,e));do try{Lk();break}catch(b){Mk(s,b)}while(!0);$g(),mk.current=h,K=d,Y!==null?e=0:(Q=null,Z=0,e=T)}if(e!==0){if(e===2&&(d=xc(s),d!==0&&(o=d,e=Nk(s,d))),e===1)throw a=pk,Kk(s,0),Ck(s,o),Dk(s,B()),a;if(e===6)Ck(s,o);else{if(d=s.current.alternate,!(o&30)&&!Ok(d)&&(e=Ik(s,o),e===2&&(h=xc(s),h!==0&&(o=h,e=Nk(s,h))),e===1))throw a=pk,Kk(s,0),Ck(s,o),Dk(s,B()),a;switch(s.finishedWork=d,s.finishedLanes=o,e){case 0:case 1:throw Error(p(345));case 2:Pk(s,tk,uk);break;case 3:if(Ck(s,o),(o&130023424)===o&&(e=fk+500-B(),10<e)){if(uc(s,0)!==0)break;if(d=s.suspendedLanes,(d&o)!==o){R(),s.pingedLanes|=s.suspendedLanes&d;break}s.timeoutHandle=Ff(Pk.bind(null,s,tk,uk),e);break}Pk(s,tk,uk);break;case 4:if(Ck(s,o),(o&4194240)===o)break;for(e=s.eventTimes,d=-1;0<o;){var g=31-oc(o);h=1<<g,g=e[g],g>d&&(d=g),o&=~h}if(o=d,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){s.timeoutHandle=Ff(Pk.bind(null,s,tk,uk),o);break}Pk(s,tk,uk);break;case 5:Pk(s,tk,uk);break;default:throw Error(p(329))}}}return Dk(s,B()),s.callbackNode===a?Gk.bind(null,s):null}function Nk(s,e){var a=sk;return s.current.memoizedState.isDehydrated&&(Kk(s,e).flags|=256),s=Ik(s,e),s!==2&&(e=tk,tk=a,e!==null&&Fj(e)),s}function Fj(s){tk===null?tk=s:tk.push.apply(tk,s)}function Ok(s){for(var e=s;;){if(e.flags&16384){var a=e.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var d=a[o],h=d.getSnapshot;d=d.value;try{if(!He(h(),d))return!1}catch{return!1}}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(s,e){for(e&=~rk,e&=~qk,s.suspendedLanes|=e,s.pingedLanes&=~e,s=s.expirationTimes;0<e;){var a=31-oc(e),o=1<<a;s[a]=-1,e&=~o}}function Ek(s){if(K&6)throw Error(p(327));Hk();var e=uc(s,0);if(!(e&1))return Dk(s,B()),null;var a=Ik(s,e);if(s.tag!==0&&a===2){var o=xc(s);o!==0&&(e=o,a=Nk(s,o))}if(a===1)throw a=pk,Kk(s,0),Ck(s,e),Dk(s,B()),a;if(a===6)throw Error(p(345));return s.finishedWork=s.current.alternate,s.finishedLanes=e,Pk(s,tk,uk),Dk(s,B()),null}function Qk(s,e){var a=K;K|=1;try{return s(e)}finally{K=a,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(s){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var e=K;K|=1;var a=ok.transition,o=C;try{if(ok.transition=null,C=1,s)return s()}finally{C=o,ok.transition=a,K=e,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(s,e){s.finishedWork=null,s.finishedLanes=0;var a=s.timeoutHandle;if(a!==-1&&(s.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var o=a;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}a=a.return}if(Q=s,Y=s=Pg(s.current,null),Z=fj=e,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(a=fh[e],o=a.interleaved,o!==null){a.interleaved=null;var d=o.next,h=a.pending;if(h!==null){var g=h.next;h.next=d,o.next=g}a.pending=o}fh=null}return s}function Mk(s,e){do{var a=Y;try{if($g(),Fh.current=Rh,Ih){for(var o=M.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,a===null||a.return===null){T=1,pk=e,Y=null;break}e:{var h=s,g=a.return,b=a,j=e;if(e=Z,b.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var _=j,$=b,_e=$.tag;if(!($.mode&1)&&(_e===0||_e===11||_e===15)){var et=$.alternate;et?($.updateQueue=et.updateQueue,$.memoizedState=et.memoizedState,$.lanes=et.lanes):($.updateQueue=null,$.memoizedState=null)}var tt=Ui(g);if(tt!==null){tt.flags&=-257,Vi(tt,g,b,h,e),tt.mode&1&&Si(h,_,e),e=tt,j=_;var nt=e.updateQueue;if(nt===null){var it=new Set;it.add(j),e.updateQueue=it}else nt.add(j);break e}else{if(!(e&1)){Si(h,_,e),tj();break e}j=Error(p(426))}}else if(I&&b.mode&1){var st=Ui(g);if(st!==null){!(st.flags&65536)&&(st.flags|=256),Vi(st,g,b,h,e),Jg(Ji(j,b));break e}}h=j=Ji(j,b),T!==4&&(T=2),sk===null?sk=[h]:sk.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,e&=-e,h.lanes|=e;var rt=Ni(h,j,e);ph(h,rt);break e;case 1:b=j;var at=h.type,ht=h.stateNode;if(!(h.flags&128)&&(typeof at.getDerivedStateFromError=="function"||ht!==null&&typeof ht.componentDidCatch=="function"&&(Ri===null||!Ri.has(ht)))){h.flags|=65536,e&=-e,h.lanes|=e;var ft=Qi(h,b,e);ph(h,ft);break e}}h=h.return}while(h!==null)}Sk(a)}catch(ot){e=ot,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(!0)}function Jk(){var s=mk.current;return mk.current=Rh,s===null?Rh:s}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(s,e){var a=K;K|=2;var o=Jk();(Q!==s||Z!==e)&&(uk=null,Kk(s,e));do try{Tk();break}catch(d){Mk(s,d)}while(!0);if($g(),K=a,mk.current=o,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(s){var e=Vk(s.alternate,s,fj);s.memoizedProps=s.pendingProps,e===null?Sk(s):Y=e,nk.current=null}function Sk(s){var e=s;do{var a=e.alternate;if(s=e.return,e.flags&32768){if(a=Ij(a,e),a!==null){a.flags&=32767,Y=a;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{T=6,Y=null;return}}else if(a=Ej(a,e,fj),a!==null){Y=a;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=s}while(e!==null);T===0&&(T=5)}function Pk(s,e,a){var o=C,d=ok.transition;try{ok.transition=null,C=1,Wk(s,e,a,o)}finally{ok.transition=d,C=o}return null}function Wk(s,e,a,o){do Hk();while(wk!==null);if(K&6)throw Error(p(327));a=s.finishedWork;var d=s.finishedLanes;if(a===null)return null;if(s.finishedWork=null,s.finishedLanes=0,a===s.current)throw Error(p(177));s.callbackNode=null,s.callbackPriority=0;var h=a.lanes|a.childLanes;if(Bc(s,h),s===Q&&(Y=Q=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),h=(a.flags&15990)!==0,a.subtreeFlags&15990||h){h=ok.transition,ok.transition=null;var g=C;C=1;var b=K;K|=4,nk.current=null,Oj(s,a),dk(a,s),Oe(Df),dd=!!Cf,Df=Cf=null,s.current=a,hk(a),dc(),K=b,C=g,ok.transition=h}else s.current=a;if(vk&&(vk=!1,wk=s,xk=d),h=s.pendingLanes,h===0&&(Ri=null),mc(a.stateNode),Dk(s,B()),e!==null)for(o=s.onRecoverableError,a=0;a<e.length;a++)d=e[a],o(d.value,{componentStack:d.stack,digest:d.digest});if(Oi)throw Oi=!1,s=Pi,Pi=null,s;return xk&1&&s.tag!==0&&Hk(),h=s.pendingLanes,h&1?s===zk?yk++:(yk=0,zk=s):yk=0,jg(),null}function Hk(){if(wk!==null){var s=Dc(xk),e=ok.transition,a=C;try{if(ok.transition=null,C=16>s?16:s,wk===null)var o=!1;else{if(s=wk,wk=null,xk=0,K&6)throw Error(p(331));var d=K;for(K|=4,V=s.current;V!==null;){var h=V,g=h.child;if(V.flags&16){var b=h.deletions;if(b!==null){for(var j=0;j<b.length;j++){var _=b[j];for(V=_;V!==null;){var $=V;switch($.tag){case 0:case 11:case 15:Pj(8,$,h)}var _e=$.child;if(_e!==null)_e.return=$,V=_e;else for(;V!==null;){$=V;var et=$.sibling,tt=$.return;if(Sj($),$===_){V=null;break}if(et!==null){et.return=tt,V=et;break}V=tt}}}var nt=h.alternate;if(nt!==null){var it=nt.child;if(it!==null){nt.child=null;do{var st=it.sibling;it.sibling=null,it=st}while(it!==null)}}V=h}}if(h.subtreeFlags&2064&&g!==null)g.return=h,V=g;else e:for(;V!==null;){if(h=V,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Pj(9,h,h.return)}var rt=h.sibling;if(rt!==null){rt.return=h.return,V=rt;break e}V=h.return}}var at=s.current;for(V=at;V!==null;){g=V;var ht=g.child;if(g.subtreeFlags&2064&&ht!==null)ht.return=g,V=ht;else e:for(g=at;V!==null;){if(b=V,b.flags&2048)try{switch(b.tag){case 0:case 11:case 15:Qj(9,b)}}catch(ot){W(b,b.return,ot)}if(b===g){V=null;break e}var ft=b.sibling;if(ft!==null){ft.return=b.return,V=ft;break e}V=b.return}}if(K=d,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,s)}catch{}o=!0}return o}finally{C=a,ok.transition=e}}return!1}function Xk(s,e,a){e=Ji(a,e),e=Ni(s,e,1),s=nh(s,e,1),e=R(),s!==null&&(Ac(s,1,e),Dk(s,e))}function W(s,e,a){if(s.tag===3)Xk(s,s,a);else for(;e!==null;){if(e.tag===3){Xk(e,s,a);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){s=Ji(a,s),s=Qi(e,s,1),e=nh(e,s,1),s=R(),e!==null&&(Ac(e,1,s),Dk(e,s));break}}e=e.return}}function Ti(s,e,a){var o=s.pingCache;o!==null&&o.delete(e),e=R(),s.pingedLanes|=s.suspendedLanes&a,Q===s&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(s,0):rk|=a),Dk(s,e)}function Yk(s,e){e===0&&(s.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var a=R();s=ih(s,e),s!==null&&(Ac(s,e,a),Dk(s,a))}function uj(s){var e=s.memoizedState,a=0;e!==null&&(a=e.retryLane),Yk(s,a)}function bk(s,e){var a=0;switch(s.tag){case 13:var o=s.stateNode,d=s.memoizedState;d!==null&&(a=d.retryLane);break;case 19:o=s.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(e),Yk(s,a)}var Vk;Vk=function(s,e,a){if(s!==null)if(s.memoizedProps!==e.pendingProps||Wf.current)dh=!0;else{if(!(s.lanes&a)&&!(e.flags&128))return dh=!1,yj(s,e,a);dh=!!(s.flags&131072)}else dh=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;ij(s,e),s=e.pendingProps;var d=Yf(e,H.current);ch(e,a),d=Nh(null,e,o,s,d,a);var h=Sh();return e.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(o)?(h=!0,cg(e)):h=!1,e.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,kh(e),d.updater=Ei,e.stateNode=d,d._reactInternals=e,Ii(e,o,s,a),e=jj(null,e,o,!0,h,a)):(e.tag=0,I&&h&&vg(e),Xi(null,e,d,a),e=e.child),e;case 16:o=e.elementType;e:{switch(ij(s,e),s=e.pendingProps,d=o._init,o=d(o._payload),e.type=o,d=e.tag=Zk(o),s=Ci(o,s),d){case 0:e=cj(null,e,o,s,a);break e;case 1:e=hj(null,e,o,s,a);break e;case 11:e=Yi(null,e,o,s,a);break e;case 14:e=$i(null,e,o,Ci(o.type,s),a);break e}throw Error(p(306,o,""))}return e;case 0:return o=e.type,d=e.pendingProps,d=e.elementType===o?d:Ci(o,d),cj(s,e,o,d,a);case 1:return o=e.type,d=e.pendingProps,d=e.elementType===o?d:Ci(o,d),hj(s,e,o,d,a);case 3:e:{if(kj(e),s===null)throw Error(p(387));o=e.pendingProps,h=e.memoizedState,d=h.element,lh(s,e),qh(e,o,null,a);var g=e.memoizedState;if(o=g.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){d=Ji(Error(p(423)),e),e=lj(s,e,o,a,d);break e}else if(o!==d){d=Ji(Error(p(424)),e),e=lj(s,e,o,a,d);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,a=Vg(e,null,o,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),o===d){e=Zi(s,e,a);break e}Xi(s,e,o,a)}e=e.child}return e;case 5:return Ah(e),s===null&&Eg(e),o=e.type,d=e.pendingProps,h=s!==null?s.memoizedProps:null,g=d.children,Ef(o,d)?g=null:h!==null&&Ef(o,h)&&(e.flags|=32),gj(s,e),Xi(s,e,g,a),e.child;case 6:return s===null&&Eg(e),null;case 13:return oj(s,e,a);case 4:return yh(e,e.stateNode.containerInfo),o=e.pendingProps,s===null?e.child=Ug(e,null,o,a):Xi(s,e,o,a),e.child;case 11:return o=e.type,d=e.pendingProps,d=e.elementType===o?d:Ci(o,d),Yi(s,e,o,d,a);case 7:return Xi(s,e,e.pendingProps,a),e.child;case 8:return Xi(s,e,e.pendingProps.children,a),e.child;case 12:return Xi(s,e,e.pendingProps.children,a),e.child;case 10:e:{if(o=e.type._context,d=e.pendingProps,h=e.memoizedProps,g=d.value,G(Wg,o._currentValue),o._currentValue=g,h!==null)if(He(h.value,g)){if(h.children===d.children&&!Wf.current){e=Zi(s,e,a);break e}}else for(h=e.child,h!==null&&(h.return=e);h!==null;){var b=h.dependencies;if(b!==null){g=h.child;for(var j=b.firstContext;j!==null;){if(j.context===o){if(h.tag===1){j=mh(-1,a&-a),j.tag=2;var _=h.updateQueue;if(_!==null){_=_.shared;var $=_.pending;$===null?j.next=j:(j.next=$.next,$.next=j),_.pending=j}}h.lanes|=a,j=h.alternate,j!==null&&(j.lanes|=a),bh(h.return,a,e),b.lanes|=a;break}j=j.next}}else if(h.tag===10)g=h.type===e.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(p(341));g.lanes|=a,b=g.alternate,b!==null&&(b.lanes|=a),bh(g,a,e),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}Xi(s,e,d.children,a),e=e.child}return e;case 9:return d=e.type,o=e.pendingProps.children,ch(e,a),d=eh(d),o=o(d),e.flags|=1,Xi(s,e,o,a),e.child;case 14:return o=e.type,d=Ci(o,e.pendingProps),d=Ci(o.type,d),$i(s,e,o,d,a);case 15:return bj(s,e,e.type,e.pendingProps,a);case 17:return o=e.type,d=e.pendingProps,d=e.elementType===o?d:Ci(o,d),ij(s,e),e.tag=1,Zf(o)?(s=!0,cg(e)):s=!1,ch(e,a),Gi(e,o,d),Ii(e,o,d,a),jj(null,e,o,!0,s,a);case 19:return xj(s,e,a);case 22:return dj(s,e,a)}throw Error(p(156,e.tag))};function Fk(s,e){return ac(s,e)}function $k(s,e,a,o){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(s,e,a,o){return new $k(s,e,a,o)}function aj(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zk(s){if(typeof s=="function")return aj(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Da)return 11;if(s===Ga)return 14}return 2}function Pg(s,e){var a=s.alternate;return a===null?(a=Bg(s.tag,e,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=e,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&14680064,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a}function Rg(s,e,a,o,d,h){var g=2;if(o=s,typeof s=="function")aj(s)&&(g=1);else if(typeof s=="string")g=5;else e:switch(s){case ya:return Tg(a.children,d,h,e);case za:g=8,d|=8;break;case Aa:return s=Bg(12,a,e,d|2),s.elementType=Aa,s.lanes=h,s;case Ea:return s=Bg(13,a,e,d),s.elementType=Ea,s.lanes=h,s;case Fa:return s=Bg(19,a,e,d),s.elementType=Fa,s.lanes=h,s;case Ia:return pj(a,d,h,e);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ba:g=10;break e;case Ca:g=9;break e;case Da:g=11;break e;case Ga:g=14;break e;case Ha:g=16,o=null;break e}throw Error(p(130,s==null?s:typeof s,""))}return e=Bg(g,a,e,d),e.elementType=s,e.type=o,e.lanes=h,e}function Tg(s,e,a,o){return s=Bg(7,s,o,e),s.lanes=a,s}function pj(s,e,a,o){return s=Bg(22,s,o,e),s.elementType=Ia,s.lanes=a,s.stateNode={isHidden:!1},s}function Qg(s,e,a){return s=Bg(6,s,null,e),s.lanes=a,s}function Sg(s,e,a){return e=Bg(4,s.children!==null?s.children:[],s.key,e),e.lanes=a,e.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},e}function al(s,e,a,o,d){this.tag=e,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function bl(s,e,a,o,d,h,g,b,j){return s=new al(s,e,a,b,j),e===1?(e=1,h===!0&&(e|=8)):e=0,h=Bg(3,null,null,e),s.current=h,h.stateNode=s,h.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(h),s}function cl(s,e,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:s,containerInfo:e,implementation:a}}function dl(s){if(!s)return Vf;s=s._reactInternals;e:{if(Vb(s)!==s||s.tag!==1)throw Error(p(170));var e=s;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p(171))}if(s.tag===1){var a=s.type;if(Zf(a))return bg(s,a,e)}return e}function el(s,e,a,o,d,h,g,b,j){return s=bl(a,o,!0,s,d,h,g,b,j),s.context=dl(null),a=s.current,o=R(),d=yi(a),h=mh(o,d),h.callback=e??null,nh(a,h,d),s.current.lanes=d,Ac(s,d,o),Dk(s,o),s}function fl(s,e,a,o){var d=e.current,h=R(),g=yi(d);return a=dl(a),e.context===null?e.context=a:e.pendingContext=a,e=mh(h,g),e.payload={element:s},o=o===void 0?null:o,o!==null&&(e.callback=o),s=nh(d,e,g),s!==null&&(gi(s,d,g,h),oh(s,d,g)),g}function gl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hl(s,e){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<e?a:e}}function il(s,e){hl(s,e),(s=s.alternate)&&hl(s,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(s){console.error(s)};function ll(s){this._internalRoot=s}ml.prototype.render=ll.prototype.render=function(s){var e=this._internalRoot;if(e===null)throw Error(p(409));fl(s,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var e=s.containerInfo;Rk(function(){fl(null,s,null,null)}),e[uf]=null}};function ml(s){this._internalRoot=s}ml.prototype.unstable_scheduleHydration=function(s){if(s){var e=Hc();s={blockedOn:null,target:s,priority:e};for(var a=0;a<Qc.length&&e!==0&&e<Qc[a].priority;a++);Qc.splice(a,0,s),a===0&&Vc(s)}};function nl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ol(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(s,e,a,o,d){if(d){if(typeof o=="function"){var h=o;o=function(){var _=gl(g);h.call(_)}}var g=el(e,o,s,0,null,!1,!1,"",pl);return s._reactRootContainer=g,s[uf]=g.current,sf(s.nodeType===8?s.parentNode:s),Rk(),g}for(;d=s.lastChild;)s.removeChild(d);if(typeof o=="function"){var b=o;o=function(){var _=gl(j);b.call(_)}}var j=bl(s,0,!1,null,null,!1,!1,"",pl);return s._reactRootContainer=j,s[uf]=j.current,sf(s.nodeType===8?s.parentNode:s),Rk(function(){fl(e,j,a,o)}),j}function rl(s,e,a,o,d){var h=a._reactRootContainer;if(h){var g=h;if(typeof d=="function"){var b=d;d=function(){var j=gl(g);b.call(j)}}fl(e,g,s,d)}else g=ql(a,e,s,d,o);return gl(g)}Ec=function(s){switch(s.tag){case 3:var e=s.stateNode;if(e.current.memoizedState.isDehydrated){var a=tc(e.pendingLanes);a!==0&&(Cc(e,a|1),Dk(e,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var o=ih(s,1);if(o!==null){var d=R();gi(o,s,1,d)}}),il(s,1)}};Fc=function(s){if(s.tag===13){var e=ih(s,134217728);if(e!==null){var a=R();gi(e,s,134217728,a)}il(s,134217728)}};Gc=function(s){if(s.tag===13){var e=yi(s),a=ih(s,e);if(a!==null){var o=R();gi(a,s,e,o)}il(s,e)}};Hc=function(){return C};Ic=function(s,e){var a=C;try{return C=s,e()}finally{C=a}};yb=function(s,e,a){switch(e){case"input":if(bb(s,a),e=a.name,a.type==="radio"&&e!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<a.length;e++){var o=a[e];if(o!==s&&o.form===s.form){var d=Db(o);if(!d)throw Error(p(90));Wa(o),bb(o,d)}}}break;case"textarea":ib(s,a);break;case"select":e=a.value,e!=null&&fb(s,!!a.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Zb(s),s===null?null:s.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(s,e){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p(200));return cl(s,e,null,a)};reactDom_production_min.createRoot=function(s,e){if(!nl(s))throw Error(p(299));var a=!1,o="",d=kl;return e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(d=e.onRecoverableError)),e=bl(s,1,!1,null,null,a,!1,o,d),s[uf]=e.current,sf(s.nodeType===8?s.parentNode:s),new ll(e)};reactDom_production_min.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var e=s._reactInternals;if(e===void 0)throw typeof s.render=="function"?Error(p(188)):(s=Object.keys(s).join(","),Error(p(268,s)));return s=Zb(e),s=s===null?null:s.stateNode,s};reactDom_production_min.flushSync=function(s){return Rk(s)};reactDom_production_min.hydrate=function(s,e,a){if(!ol(e))throw Error(p(200));return rl(null,s,e,!0,a)};reactDom_production_min.hydrateRoot=function(s,e,a){if(!nl(s))throw Error(p(405));var o=a!=null&&a.hydratedSources||null,d=!1,h="",g=kl;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),e=el(e,null,s,1,a??null,d,!1,h,g),s[uf]=e.current,sf(s),o)for(s=0;s<o.length;s++)a=o[s],d=a._getVersion,d=d(a._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[a,d]:e.mutableSourceEagerHydrationData.push(a,d);return new ml(e)};reactDom_production_min.render=function(s,e,a){if(!ol(e))throw Error(p(200));return rl(null,s,e,!1,a)};reactDom_production_min.unmountComponentAtNode=function(s){if(!ol(s))throw Error(p(40));return s._reactRootContainer?(Rk(function(){rl(null,null,s,!1,function(){s._reactRootContainer=null,s[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(s,e,a,o){if(!ol(a))throw Error(p(200));if(s==null||s._reactInternals===void 0)throw Error(p(38));return rl(s,e,a,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(s){console.error(s)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},_extends$2.apply(this,arguments)}var Action;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(s){s===void 0&&(s={});function e(o,d){let{pathname:h,search:g,hash:b}=o.location;return createLocation("",{pathname:h,search:g,hash:b},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function a(o,d){return typeof d=="string"?d:createPath(d)}return getUrlBasedHistory(e,a,null,s)}function invariant(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function warning(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(s,e){return{usr:s.state,key:s.key,idx:e}}function createLocation(s,e,a,o){return a===void 0&&(a=null),_extends$2({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:a,key:e&&e.key||o||createKey()})}function createPath(s){let{pathname:e="/",search:a="",hash:o=""}=s;return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function parsePath(s){let e={};if(s){let a=s.indexOf("#");a>=0&&(e.hash=s.substr(a),s=s.substr(0,a));let o=s.indexOf("?");o>=0&&(e.search=s.substr(o),s=s.substr(0,o)),s&&(e.pathname=s)}return e}function getUrlBasedHistory(s,e,a,o){o===void 0&&(o={});let{window:d=document.defaultView,v5Compat:h=!1}=o,g=d.history,b=Action.Pop,j=null,_=$();_==null&&(_=0,g.replaceState(_extends$2({},g.state,{idx:_}),""));function $(){return(g.state||{idx:null}).idx}function _e(){b=Action.Pop;let st=$(),rt=st==null?null:st-_;_=st,j&&j({action:b,location:it.location,delta:rt})}function et(st,rt){b=Action.Push;let at=createLocation(it.location,st,rt);_=$()+1;let ht=getHistoryState(at,_),ft=it.createHref(at);try{g.pushState(ht,"",ft)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;d.location.assign(ft)}h&&j&&j({action:b,location:it.location,delta:1})}function tt(st,rt){b=Action.Replace;let at=createLocation(it.location,st,rt);_=$();let ht=getHistoryState(at,_),ft=it.createHref(at);g.replaceState(ht,"",ft),h&&j&&j({action:b,location:it.location,delta:0})}function nt(st){let rt=d.location.origin!=="null"?d.location.origin:d.location.href,at=typeof st=="string"?st:createPath(st);return at=at.replace(/ $/,"%20"),invariant(rt,"No window.location.(origin|href) available to create URL for href: "+at),new URL(at,rt)}let it={get action(){return b},get location(){return s(d,g)},listen(st){if(j)throw new Error("A history only accepts one active listener");return d.addEventListener(PopStateEventType,_e),j=st,()=>{d.removeEventListener(PopStateEventType,_e),j=null}},createHref(st){return e(d,st)},createURL:nt,encodeLocation(st){let rt=nt(st);return{pathname:rt.pathname,search:rt.search,hash:rt.hash}},push:et,replace:tt,go(st){return g.go(st)}};return it}var ResultType;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(ResultType||(ResultType={}));function matchRoutes(s,e,a){return a===void 0&&(a="/"),matchRoutesImpl(s,e,a)}function matchRoutesImpl(s,e,a,o){let d=typeof e=="string"?parsePath(e):e,h=stripBasename(d.pathname||"/",a);if(h==null)return null;let g=flattenRoutes(s);rankRouteBranches(g);let b=null;for(let j=0;b==null&&j<g.length;++j){let _=decodePath(h);b=matchRouteBranch(g[j],_)}return b}function flattenRoutes(s,e,a,o){e===void 0&&(e=[]),a===void 0&&(a=[]),o===void 0&&(o="");let d=(h,g,b)=>{let j={relativePath:b===void 0?h.path||"":b,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};j.relativePath.startsWith("/")&&(invariant(j.relativePath.startsWith(o),'Absolute route path "'+j.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),j.relativePath=j.relativePath.slice(o.length));let _=joinPaths([o,j.relativePath]),$=a.concat(j);h.children&&h.children.length>0&&(invariant(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),flattenRoutes(h.children,e,$,_)),!(h.path==null&&!h.index)&&e.push({path:_,score:computeScore(_,h.index),routesMeta:$})};return s.forEach((h,g)=>{var b;if(h.path===""||!((b=h.path)!=null&&b.includes("?")))d(h,g);else for(let j of explodeOptionalSegments(h.path))d(h,g,j)}),e}function explodeOptionalSegments(s){let e=s.split("/");if(e.length===0)return[];let[a,...o]=e,d=a.endsWith("?"),h=a.replace(/\?$/,"");if(o.length===0)return d?[h,""]:[h];let g=explodeOptionalSegments(o.join("/")),b=[];return b.push(...g.map(j=>j===""?h:[h,j].join("/"))),d&&b.push(...g),b.map(j=>s.startsWith("/")&&j===""?"/":j)}function rankRouteBranches(s){s.sort((e,a)=>e.score!==a.score?a.score-e.score:compareIndexes(e.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=s=>s==="*";function computeScore(s,e){let a=s.split("/"),o=a.length;return a.some(isSplat)&&(o+=splatPenalty),e&&(o+=indexRouteValue),a.filter(d=>!isSplat(d)).reduce((d,h)=>d+(paramRe.test(h)?dynamicSegmentValue:h===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(s,e){return s.length===e.length&&s.slice(0,-1).every((o,d)=>o===e[d])?s[s.length-1]-e[e.length-1]:0}function matchRouteBranch(s,e,a){let{routesMeta:o}=s,d={},h="/",g=[];for(let b=0;b<o.length;++b){let j=o[b],_=b===o.length-1,$=h==="/"?e:e.slice(h.length)||"/",_e=matchPath({path:j.relativePath,caseSensitive:j.caseSensitive,end:_},$),et=j.route;if(!_e)return null;Object.assign(d,_e.params),g.push({params:d,pathname:joinPaths([h,_e.pathname]),pathnameBase:normalizePathname(joinPaths([h,_e.pathnameBase])),route:et}),_e.pathnameBase!=="/"&&(h=joinPaths([h,_e.pathnameBase]))}return g}function matchPath(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,o]=compilePath(s.path,s.caseSensitive,s.end),d=e.match(a);if(!d)return null;let h=d[0],g=h.replace(/(.)\/+$/,"$1"),b=d.slice(1);return{params:o.reduce((_,$,_e)=>{let{paramName:et,isOptional:tt}=$;if(et==="*"){let it=b[_e]||"";g=h.slice(0,h.length-it.length).replace(/(.)\/+$/,"$1")}const nt=b[_e];return tt&&!nt?_[et]=void 0:_[et]=(nt||"").replace(/%2F/g,"/"),_},{}),pathname:h,pathnameBase:g,pattern:s}}function compilePath(s,e,a){e===void 0&&(e=!1),a===void 0&&(a=!0),warning(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let o=[],d="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,b,j)=>(o.push({paramName:b,isOptional:j!=null}),j?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),d+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?d+="\\/*$":s!==""&&s!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,e?void 0:"i"),o]}function decodePath(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function stripBasename(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,o=s.charAt(a);return o&&o!=="/"?null:s.slice(a)||"/"}function resolvePath(s,e){e===void 0&&(e="/");let{pathname:a,search:o="",hash:d=""}=typeof s=="string"?parsePath(s):s;return{pathname:a?a.startsWith("/")?a:resolvePathname(a,e):e,search:normalizeSearch(o),hash:normalizeHash(d)}}function resolvePathname(s,e){let a=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(d=>{d===".."?a.length>1&&a.pop():d!=="."&&a.push(d)}),a.length>1?a.join("/"):"/"}function getInvalidPathError(s,e,a,o){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(s){return s.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(s,e){let a=getPathContributingMatches(s);return e?a.map((o,d)=>d===a.length-1?o.pathname:o.pathnameBase):a.map(o=>o.pathnameBase)}function resolveTo(s,e,a,o){o===void 0&&(o=!1);let d;typeof s=="string"?d=parsePath(s):(d=_extends$2({},s),invariant(!d.pathname||!d.pathname.includes("?"),getInvalidPathError("?","pathname","search",d)),invariant(!d.pathname||!d.pathname.includes("#"),getInvalidPathError("#","pathname","hash",d)),invariant(!d.search||!d.search.includes("#"),getInvalidPathError("#","search","hash",d)));let h=s===""||d.pathname==="",g=h?"/":d.pathname,b;if(g==null)b=a;else{let _e=e.length-1;if(!o&&g.startsWith("..")){let et=g.split("/");for(;et[0]==="..";)et.shift(),_e-=1;d.pathname=et.join("/")}b=_e>=0?e[_e]:"/"}let j=resolvePath(d,b),_=g&&g!=="/"&&g.endsWith("/"),$=(h||g===".")&&a.endsWith("/");return!j.pathname.endsWith("/")&&(_||$)&&(j.pathname+="/"),j}const joinPaths=s=>s.join("/").replace(/\/\/+/g,"/"),normalizePathname=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,normalizeHash=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function isRouteErrorResponse(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(s,e){let{relative:a}=e===void 0?{}:e;useInRouterContext()||invariant(!1);let{basename:o,navigator:d}=reactExports.useContext(NavigationContext),{hash:h,pathname:g,search:b}=useResolvedPath(s,{relative:a}),j=g;return o!=="/"&&(j=g==="/"?o:joinPaths([o,g])),d.createHref({pathname:j,search:b,hash:h})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(s){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(s)}function useNavigate(){let{isDataRoute:s}=reactExports.useContext(RouteContext);return s?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let s=reactExports.useContext(DataRouterContext),{basename:e,future:a,navigator:o}=reactExports.useContext(NavigationContext),{matches:d}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),g=JSON.stringify(getResolveToMatches(d,a.v7_relativeSplatPath)),b=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{b.current=!0}),reactExports.useCallback(function(_,$){if($===void 0&&($={}),!b.current)return;if(typeof _=="number"){o.go(_);return}let _e=resolveTo(_,JSON.parse(g),h,$.relative==="path");s==null&&e!=="/"&&(_e.pathname=_e.pathname==="/"?e:joinPaths([e,_e.pathname])),($.replace?o.replace:o.push)(_e,$.state,$)},[e,o,g,h,s])}function useParams(){let{matches:s}=reactExports.useContext(RouteContext),e=s[s.length-1];return e?e.params:{}}function useResolvedPath(s,e){let{relative:a}=e===void 0?{}:e,{future:o}=reactExports.useContext(NavigationContext),{matches:d}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),g=JSON.stringify(getResolveToMatches(d,o.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(s,JSON.parse(g),h,a==="path"),[s,g,h,a])}function useRoutes(s,e){return useRoutesImpl(s,e)}function useRoutesImpl(s,e,a,o){useInRouterContext()||invariant(!1);let{navigator:d}=reactExports.useContext(NavigationContext),{matches:h}=reactExports.useContext(RouteContext),g=h[h.length-1],b=g?g.params:{};g&&g.pathname;let j=g?g.pathnameBase:"/";g&&g.route;let _=useLocation(),$;if(e){var _e;let st=typeof e=="string"?parsePath(e):e;j==="/"||(_e=st.pathname)!=null&&_e.startsWith(j)||invariant(!1),$=st}else $=_;let et=$.pathname||"/",tt=et;if(j!=="/"){let st=j.replace(/^\//,"").split("/");tt="/"+et.replace(/^\//,"").split("/").slice(st.length).join("/")}let nt=matchRoutes(s,{pathname:tt}),it=_renderMatches(nt&&nt.map(st=>Object.assign({},st,{params:Object.assign({},b,st.params),pathname:joinPaths([j,d.encodeLocation?d.encodeLocation(st.pathname).pathname:st.pathname]),pathnameBase:st.pathnameBase==="/"?j:joinPaths([j,d.encodeLocation?d.encodeLocation(st.pathnameBase).pathname:st.pathnameBase])})),h,a,o);return e&&it?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},$),navigationType:Action.Pop}},it):it}function DefaultErrorComponent(){let s=useRouteError(),e=isRouteErrorResponse(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),a?reactExports.createElement("pre",{style:d},a):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){console.error("React Router caught the following error during render",e,a)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(s){let{routeContext:e,match:a,children:o}=s,d=reactExports.useContext(DataRouterContext);return d&&d.static&&d.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=a.route.id),reactExports.createElement(RouteContext.Provider,{value:e},o)}function _renderMatches(s,e,a,o){var d;if(e===void 0&&(e=[]),a===void 0&&(a=null),o===void 0&&(o=null),s==null){var h;if(!a)return null;if(a.errors)s=a.matches;else if((h=o)!=null&&h.v7_partialHydration&&e.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let g=s,b=(d=a)==null?void 0:d.errors;if(b!=null){let $=g.findIndex(_e=>_e.route.id&&(b==null?void 0:b[_e.route.id])!==void 0);$>=0||invariant(!1),g=g.slice(0,Math.min(g.length,$+1))}let j=!1,_=-1;if(a&&o&&o.v7_partialHydration)for(let $=0;$<g.length;$++){let _e=g[$];if((_e.route.HydrateFallback||_e.route.hydrateFallbackElement)&&(_=$),_e.route.id){let{loaderData:et,errors:tt}=a,nt=_e.route.loader&&et[_e.route.id]===void 0&&(!tt||tt[_e.route.id]===void 0);if(_e.route.lazy||nt){j=!0,_>=0?g=g.slice(0,_+1):g=[g[0]];break}}}return g.reduceRight(($,_e,et)=>{let tt,nt=!1,it=null,st=null;a&&(tt=b&&_e.route.id?b[_e.route.id]:void 0,it=_e.route.errorElement||defaultErrorElement,j&&(_<0&&et===0?(warningOnce("route-fallback"),nt=!0,st=null):_===et&&(nt=!0,st=_e.route.hydrateFallbackElement||null)));let rt=e.concat(g.slice(0,et+1)),at=()=>{let ht;return tt?ht=it:nt?ht=st:_e.route.Component?ht=reactExports.createElement(_e.route.Component,null):_e.route.element?ht=_e.route.element:ht=$,reactExports.createElement(RenderedRoute,{match:_e,routeContext:{outlet:$,matches:rt,isDataRoute:a!=null},children:ht})};return a&&(_e.route.ErrorBoundary||_e.route.errorElement||et===0)?reactExports.createElement(RenderErrorBoundary,{location:a.location,revalidation:a.revalidation,component:it,error:tt,children:at(),routeContext:{outlet:null,matches:rt,isDataRoute:!0}}):at()},null)}var DataRouterHook$1=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(DataRouterHook$1||{}),DataRouterStateHook$1=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(DataRouterStateHook$1||{});function useDataRouterContext(s){let e=reactExports.useContext(DataRouterContext);return e||invariant(!1),e}function useDataRouterState(s){let e=reactExports.useContext(DataRouterStateContext);return e||invariant(!1),e}function useRouteContext(s){let e=reactExports.useContext(RouteContext);return e||invariant(!1),e}function useCurrentRouteId(s){let e=useRouteContext(),a=e.matches[e.matches.length-1];return a.route.id||invariant(!1),a.route.id}function useRouteError(){var s;let e=reactExports.useContext(RouteErrorContext),a=useDataRouterState(),o=useCurrentRouteId();return e!==void 0?e:(s=a.errors)==null?void 0:s[o]}function useNavigateStable(){let{router:s}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),a=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{a.current=!0}),reactExports.useCallback(function(d,h){h===void 0&&(h={}),a.current&&(typeof d=="number"?s.navigate(d):s.navigate(d,_extends$1({fromRouteId:e},h)))},[s,e])}const alreadyWarned$1={};function warningOnce(s,e,a){alreadyWarned$1[s]||(alreadyWarned$1[s]=!0)}function logV6DeprecationWarnings(s,e){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function Navigate(s){let{to:e,replace:a,state:o,relative:d}=s;useInRouterContext()||invariant(!1);let{future:h,static:g}=reactExports.useContext(NavigationContext),{matches:b}=reactExports.useContext(RouteContext),{pathname:j}=useLocation(),_=useNavigate(),$=resolveTo(e,getResolveToMatches(b,h.v7_relativeSplatPath),j,d==="path"),_e=JSON.stringify($);return reactExports.useEffect(()=>_(JSON.parse(_e),{replace:a,state:o,relative:d}),[_,_e,d,a,o]),null}function Route(s){invariant(!1)}function Router(s){let{basename:e="/",children:a=null,location:o,navigationType:d=Action.Pop,navigator:h,static:g=!1,future:b}=s;useInRouterContext()&&invariant(!1);let j=e.replace(/^\/*/,"/"),_=reactExports.useMemo(()=>({basename:j,navigator:h,static:g,future:_extends$1({v7_relativeSplatPath:!1},b)}),[j,b,h,g]);typeof o=="string"&&(o=parsePath(o));let{pathname:$="/",search:_e="",hash:et="",state:tt=null,key:nt="default"}=o,it=reactExports.useMemo(()=>{let st=stripBasename($,j);return st==null?null:{location:{pathname:st,search:_e,hash:et,state:tt,key:nt},navigationType:d}},[j,$,_e,et,tt,nt,d]);return it==null?null:reactExports.createElement(NavigationContext.Provider,{value:_},reactExports.createElement(LocationContext.Provider,{children:a,value:it}))}function Routes(s){let{children:e,location:a}=s;return useRoutes(createRoutesFromChildren(e),a)}new Promise(()=>{});function createRoutesFromChildren(s,e){e===void 0&&(e=[]);let a=[];return reactExports.Children.forEach(s,(o,d)=>{if(!reactExports.isValidElement(o))return;let h=[...e,d];if(o.type===reactExports.Fragment){a.push.apply(a,createRoutesFromChildren(o.props.children,h));return}o.type!==Route&&invariant(!1),!o.props.index||!o.props.children||invariant(!1);let g={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(g.children=createRoutesFromChildren(o.props.children,h)),a.push(g)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(s,e){if(s==null)return{};var a={},o=Object.keys(s),d,h;for(h=0;h<o.length;h++)d=o[h],!(e.indexOf(d)>=0)&&(a[d]=s[d]);return a}function isModifiedEvent(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function shouldProcessLinkClick(s,e){return s.button===0&&(!e||e==="_self")&&!isModifiedEvent(s)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(s){let{basename:e,children:a,future:o,window:d}=s,h=reactExports.useRef();h.current==null&&(h.current=createBrowserHistory({window:d,v5Compat:!0}));let g=h.current,[b,j]=reactExports.useState({action:g.action,location:g.location}),{v7_startTransition:_}=o||{},$=reactExports.useCallback(_e=>{_&&startTransitionImpl?startTransitionImpl(()=>j(_e)):j(_e)},[j,_]);return reactExports.useLayoutEffect(()=>g.listen($),[g,$]),reactExports.useEffect(()=>logV6DeprecationWarnings(o),[o]),reactExports.createElement(Router,{basename:e,children:a,location:b.location,navigationType:b.action,navigator:g,future:o})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,a){let{onClick:o,relative:d,reloadDocument:h,replace:g,state:b,target:j,to:_,preventScrollReset:$,viewTransition:_e}=e,et=_objectWithoutPropertiesLoose(e,_excluded),{basename:tt}=reactExports.useContext(NavigationContext),nt,it=!1;if(typeof _=="string"&&ABSOLUTE_URL_REGEX.test(_)&&(nt=_,isBrowser$1))try{let ht=new URL(window.location.href),ft=_.startsWith("//")?new URL(ht.protocol+_):new URL(_),ot=stripBasename(ft.pathname,tt);ft.origin===ht.origin&&ot!=null?_=ot+ft.search+ft.hash:it=!0}catch{}let st=useHref(_,{relative:d}),rt=useLinkClickHandler(_,{replace:g,state:b,target:j,preventScrollReset:$,relative:d,viewTransition:_e});function at(ht){o&&o(ht),ht.defaultPrevented||rt(ht)}return reactExports.createElement("a",_extends({},et,{href:nt||st,onClick:it||h?o:at,ref:a,target:j}))});var DataRouterHook;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(s,e){let{target:a,replace:o,state:d,preventScrollReset:h,relative:g,viewTransition:b}=e===void 0?{}:e,j=useNavigate(),_=useLocation(),$=useResolvedPath(s,{relative:g});return reactExports.useCallback(_e=>{if(shouldProcessLinkClick(_e,a)){_e.preventDefault();let et=o!==void 0?o:createPath(_)===createPath($);j(s,{replace:et,state:d,preventScrollReset:h,relative:g,viewTransition:b})}},[_,j,$,o,d,a,s,h,g,b])}var extendStatics$1=function(s,e){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(a[d]=o[d])},extendStatics$1(s,e)};function __extends$1(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics$1(s,e);function a(){this.constructor=s}s.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}var __assign$1=function(){return __assign$1=Object.assign||function(e){for(var a,o=1,d=arguments.length;o<d;o++){a=arguments[o];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(e[h]=a[h])}return e},__assign$1.apply(this,arguments)};function __rest$1(s,e){var a={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&e.indexOf(o)<0&&(a[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(s);d<o.length;d++)e.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(s,o[d])&&(a[o[d]]=s[o[d]]);return a}function __decorate(s,e,a,o){var d=arguments.length,h=d<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,a):o,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(s,e,a,o);else for(var b=s.length-1;b>=0;b--)(g=s[b])&&(h=(d<3?g(h):d>3?g(e,a,h):g(e,a))||h);return d>3&&h&&Object.defineProperty(e,a,h),h}function __param(s,e){return function(a,o){e(a,o,s)}}function __esDecorate(s,e,a,o,d,h){function g(rt){if(rt!==void 0&&typeof rt!="function")throw new TypeError("Function expected");return rt}for(var b=o.kind,j=b==="getter"?"get":b==="setter"?"set":"value",_=!e&&s?o.static?s:s.prototype:null,$=e||(_?Object.getOwnPropertyDescriptor(_,o.name):{}),_e,et=!1,tt=a.length-1;tt>=0;tt--){var nt={};for(var it in o)nt[it]=it==="access"?{}:o[it];for(var it in o.access)nt.access[it]=o.access[it];nt.addInitializer=function(rt){if(et)throw new TypeError("Cannot add initializers after decoration has completed");h.push(g(rt||null))};var st=(0,a[tt])(b==="accessor"?{get:$.get,set:$.set}:$[j],nt);if(b==="accessor"){if(st===void 0)continue;if(st===null||typeof st!="object")throw new TypeError("Object expected");(_e=g(st.get))&&($.get=_e),(_e=g(st.set))&&($.set=_e),(_e=g(st.init))&&d.unshift(_e)}else(_e=g(st))&&(b==="field"?d.unshift(_e):$[j]=_e)}_&&Object.defineProperty(_,o.name,$),et=!0}function __runInitializers(s,e,a){for(var o=arguments.length>2,d=0;d<e.length;d++)a=o?e[d].call(s,a):e[d].call(s);return o?a:void 0}function __propKey(s){return typeof s=="symbol"?s:"".concat(s)}function __setFunctionName(s,e,a){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:a?"".concat(a," ",e):e})}function __metadata(s,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,e)}function __awaiter$1(s,e,a,o){function d(h){return h instanceof a?h:new a(function(g){g(h)})}return new(a||(a=Promise))(function(h,g){function b($){try{_(o.next($))}catch(_e){g(_e)}}function j($){try{_(o.throw($))}catch(_e){g(_e)}}function _($){$.done?h($.value):d($.value).then(b,j)}_((o=o.apply(s,e||[])).next())})}function __generator$1(s,e){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,d,h,g=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return g.next=b(0),g.throw=b(1),g.return=b(2),typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(_){return function($){return j([_,$])}}function j(_){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,_[0]&&(a=0)),a;)try{if(o=1,d&&(h=_[0]&2?d.return:_[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,_[1])).done)return h;switch(d=0,h&&(_=[_[0]&2,h.value]),_[0]){case 0:case 1:h=_;break;case 4:return a.label++,{value:_[1],done:!1};case 5:a.label++,d=_[1],_=[0];continue;case 7:_=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(_[0]===6||_[0]===2)){a=0;continue}if(_[0]===3&&(!h||_[1]>h[0]&&_[1]<h[3])){a.label=_[1];break}if(_[0]===6&&a.label<h[1]){a.label=h[1],h=_;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(_);break}h[2]&&a.ops.pop(),a.trys.pop();continue}_=e.call(s,a)}catch($){_=[6,$],d=0}finally{o=h=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}}var __createBinding=Object.create?function(s,e,a,o){o===void 0&&(o=a);var d=Object.getOwnPropertyDescriptor(e,a);(!d||("get"in d?!e.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(s,o,d)}:function(s,e,a,o){o===void 0&&(o=a),s[o]=e[a]};function __exportStar(s,e){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(e,a)&&__createBinding(e,s,a)}function __values(s){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&s[e],o=0;if(a)return a.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&o>=s.length&&(s=void 0),{value:s&&s[o++],done:!s}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(s,e){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var o=a.call(s),d,h=[],g;try{for(;(e===void 0||e-- >0)&&!(d=o.next()).done;)h.push(d.value)}catch(b){g={error:b}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(g)throw g.error}}return h}function __spread(){for(var s=[],e=0;e<arguments.length;e++)s=s.concat(__read(arguments[e]));return s}function __spreadArrays$1(){for(var s=0,e=0,a=arguments.length;e<a;e++)s+=arguments[e].length;for(var o=Array(s),d=0,e=0;e<a;e++)for(var h=arguments[e],g=0,b=h.length;g<b;g++,d++)o[d]=h[g];return o}function __spreadArray(s,e,a){if(a||arguments.length===2)for(var o=0,d=e.length,h;o<d;o++)(h||!(o in e))&&(h||(h=Array.prototype.slice.call(e,0,o)),h[o]=e[o]);return s.concat(h||Array.prototype.slice.call(e))}function __await(s){return this instanceof __await?(this.v=s,this):new __await(s)}function __asyncGenerator(s,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(s,e||[]),d,h=[];return d=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),b("next"),b("throw"),b("return",g),d[Symbol.asyncIterator]=function(){return this},d;function g(tt){return function(nt){return Promise.resolve(nt).then(tt,_e)}}function b(tt,nt){o[tt]&&(d[tt]=function(it){return new Promise(function(st,rt){h.push([tt,it,st,rt])>1||j(tt,it)})},nt&&(d[tt]=nt(d[tt])))}function j(tt,nt){try{_(o[tt](nt))}catch(it){et(h[0][3],it)}}function _(tt){tt.value instanceof __await?Promise.resolve(tt.value.v).then($,_e):et(h[0][2],tt)}function $(tt){j("next",tt)}function _e(tt){j("throw",tt)}function et(tt,nt){tt(nt),h.shift(),h.length&&j(h[0][0],h[0][1])}}function __asyncDelegator(s){var e,a;return e={},o("next"),o("throw",function(d){throw d}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(d,h){e[d]=s[d]?function(g){return(a=!a)?{value:__await(s[d](g)),done:!1}:h?h(g):g}:h}}function __asyncValues(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],a;return e?e.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(h){a[h]=s[h]&&function(g){return new Promise(function(b,j){g=s[h](g),d(b,j,g.done,g.value)})}}function d(h,g,b,j){Promise.resolve(j).then(function(_){h({value:_,done:b})},g)}}function __makeTemplateObject(s,e){return Object.defineProperty?Object.defineProperty(s,"raw",{value:e}):s.raw=e,s}var __setModuleDefault=Object.create?function(s,e){Object.defineProperty(s,"default",{enumerable:!0,value:e})}:function(s,e){s.default=e},ownKeys$2=function(s){return ownKeys$2=Object.getOwnPropertyNames||function(e){var a=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[a.length]=o);return a},ownKeys$2(s)};function __importStar(s){if(s&&s.__esModule)return s;var e={};if(s!=null)for(var a=ownKeys$2(s),o=0;o<a.length;o++)a[o]!=="default"&&__createBinding(e,s,a[o]);return __setModuleDefault(e,s),e}function __importDefault(s){return s&&s.__esModule?s:{default:s}}function __classPrivateFieldGet(s,e,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!o:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(s):o?o.value:e.get(s)}function __classPrivateFieldSet(s,e,a,o,d){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!d:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?d.call(s,a):d?d.value=a:e.set(s,a),a}function __classPrivateFieldIn(s,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?e===s:s.has(e)}function __addDisposableResource(s,e,a){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var o,d;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=e[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=e[Symbol.dispose],a&&(d=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");d&&(o=function(){try{d.call(this)}catch(h){return Promise.reject(h)}}),s.stack.push({value:e,dispose:o,async:a})}else a&&s.stack.push({async:!0});return e}var _SuppressedError=typeof SuppressedError=="function"?SuppressedError:function(s,e,a){var o=new Error(a);return o.name="SuppressedError",o.error=s,o.suppressed=e,o};function __disposeResources(s){function e(h){s.error=s.hasError?new _SuppressedError(h,s.error,"An error was suppressed during disposal."):h,s.hasError=!0}var a,o=0;function d(){for(;a=s.stack.pop();)try{if(!a.async&&o===1)return o=0,s.stack.push(a),Promise.resolve().then(d);if(a.dispose){var h=a.dispose.call(a.value);if(a.async)return o|=2,Promise.resolve(h).then(d,function(g){return e(g),d()})}else o|=1}catch(g){e(g)}if(o===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return d()}function __rewriteRelativeImportExtension(s,e){return typeof s=="string"&&/^\.\.?\//.test(s)?s.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,o,d,h,g){return o?e?".jsx":".js":d&&(!h||!g)?a:d+h+"."+g.toLowerCase()+"js"}):s}const tslib_es6={__extends:__extends$1,__assign:__assign$1,__rest:__rest$1,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter:__awaiter$1,__generator:__generator$1,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays:__spreadArrays$1,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources,__rewriteRelativeImportExtension},tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource,get __assign(){return __assign$1},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter:__awaiter$1,__classPrivateFieldGet,__classPrivateFieldIn,__classPrivateFieldSet,__createBinding,__decorate,__disposeResources,__esDecorate,__exportStar,__extends:__extends$1,__generator:__generator$1,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__propKey,__read,__rest:__rest$1,__rewriteRelativeImportExtension,__runInitializers,__setFunctionName,__spread,__spreadArray,__spreadArrays:__spreadArrays$1,__values,default:tslib_es6},Symbol.toStringTag,{value:"Module"})),scriptRel="modulepreload",assetsURL=function(s,e){return new URL(s,e).href},seen={},__vitePreload=function(e,a,o){let d=Promise.resolve();if(a&&a.length>0){const g=document.getElementsByTagName("link"),b=document.querySelector("meta[property=csp-nonce]"),j=(b==null?void 0:b.nonce)||(b==null?void 0:b.getAttribute("nonce"));d=Promise.allSettled(a.map(_=>{if(_=assetsURL(_,o),_ in seen)return;seen[_]=!0;const $=_.endsWith(".css"),_e=$?'[rel="stylesheet"]':"";if(!!o)for(let nt=g.length-1;nt>=0;nt--){const it=g[nt];if(it.href===_&&(!$||it.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${_}"]${_e}`))return;const tt=document.createElement("link");if(tt.rel=$?"stylesheet":scriptRel,$||(tt.as="script"),tt.crossOrigin="",tt.href=_,j&&tt.setAttribute("nonce",j),document.head.appendChild(tt),$)return new Promise((nt,it)=>{tt.addEventListener("load",nt),tt.addEventListener("error",()=>it(new Error(`Unable to preload CSS for ${_}`)))})}))}function h(g){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=g,window.dispatchEvent(b),!b.defaultPrevented)throw g}return d.then(g=>{for(const b of g||[])b.status==="rejected"&&h(b.reason);return e().catch(h)})},resolveFetch$4=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...a)=>__vitePreload(async()=>{const{default:o}=await Promise.resolve().then(()=>browser);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...a)):e=fetch,(...a)=>e(...a)};class FunctionsError extends Error{constructor(e,a="FunctionsError",o){super(e),this.name=a,this.context=o}}class FunctionsFetchError extends FunctionsError{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class FunctionsRelayError extends FunctionsError{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class FunctionsHttpError extends FunctionsError{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var FunctionRegion;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));class FunctionsClient{constructor(e,{headers:a={},customFetch:o,region:d=FunctionRegion.Any}={}){this.url=e,this.headers=a,this.region=d,this.fetch=resolveFetch$4(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return __awaiter$1(this,arguments,void 0,function*(a,o={}){var d;try{const{headers:h,method:g,body:b,signal:j}=o;let _={},{region:$}=o;$||($=this.region);const _e=new URL(`${this.url}/${a}`);$&&$!=="any"&&(_["x-region"]=$,_e.searchParams.set("forceFunctionRegion",$));let et;b&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",et=b):typeof b=="string"?(_["Content-Type"]="text/plain",et=b):typeof FormData<"u"&&b instanceof FormData?et=b:(_["Content-Type"]="application/json",et=JSON.stringify(b)):et=b;const tt=yield this.fetch(_e.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),h),body:et,signal:j}).catch(rt=>{throw rt.name==="AbortError"?rt:new FunctionsFetchError(rt)}),nt=tt.headers.get("x-relay-error");if(nt&&nt==="true")throw new FunctionsRelayError(tt);if(!tt.ok)throw new FunctionsHttpError(tt);let it=((d=tt.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),st;return it==="application/json"?st=yield tt.json():it==="application/octet-stream"||it==="application/pdf"?st=yield tt.blob():it==="text/event-stream"?st=tt:it==="multipart/form-data"?st=yield tt.formData():st=yield tt.text(),{data:st,error:null,response:tt}}catch(h){return h instanceof Error&&h.name==="AbortError"?{data:null,error:new FunctionsFetchError(h)}:{data:null,error:h,response:h instanceof FunctionsHttpError||h instanceof FunctionsRelayError?h.context:void 0}}})}}var cjs={};const require$$0=getAugmentedNamespace(tslib_es6$1);var PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request$1=globalObject.Request,Response$2=globalObject.Response,browser=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request:Request$1,Response:Response$2,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(browser);var PostgrestError$2={},hasRequiredPostgrestError;function requirePostgrestError(){if(hasRequiredPostgrestError)return PostgrestError$2;hasRequiredPostgrestError=1,Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});class s extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return PostgrestError$2.default=s,PostgrestError$2}var hasRequiredPostgrestBuilder;function requirePostgrestBuilder(){if(hasRequiredPostgrestBuilder)return PostgrestBuilder$2;hasRequiredPostgrestBuilder=1,Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const s=require$$0,e=s.__importDefault(require$$1),a=s.__importDefault(requirePostgrestError());class o{constructor(h){var g,b;this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=new Headers(h.headers),this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=(g=h.shouldThrowOnError)!==null&&g!==void 0?g:!1,this.signal=h.signal,this.isMaybeSingle=(b=h.isMaybeSingle)!==null&&b!==void 0?b:!1,h.fetch?this.fetch=h.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(h,g){return this.headers=new Headers(this.headers),this.headers.set(h,g),this}then(h,g){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const b=this.fetch;let j=b(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async _=>{var $,_e,et,tt;let nt=null,it=null,st=null,rt=_.status,at=_.statusText;if(_.ok){if(this.method!=="HEAD"){const ut=await _.text();ut===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!(($=this.headers.get("Accept"))===null||$===void 0)&&$.includes("application/vnd.pgrst.plan+text"))?it=ut:it=JSON.parse(ut))}const ft=(_e=this.headers.get("Prefer"))===null||_e===void 0?void 0:_e.match(/count=(exact|planned|estimated)/),ot=(et=_.headers.get("content-range"))===null||et===void 0?void 0:et.split("/");ft&&ot&&ot.length>1&&(st=parseInt(ot[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(it)&&(it.length>1?(nt={code:"PGRST116",details:`Results contain ${it.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},it=null,st=null,rt=406,at="Not Acceptable"):it.length===1?it=it[0]:it=null)}else{const ft=await _.text();try{nt=JSON.parse(ft),Array.isArray(nt)&&_.status===404&&(it=[],nt=null,rt=200,at="OK")}catch{_.status===404&&ft===""?(rt=204,at="No Content"):nt={message:ft}}if(nt&&this.isMaybeSingle&&(!((tt=nt==null?void 0:nt.details)===null||tt===void 0)&&tt.includes("0 rows"))&&(nt=null,rt=200,at="OK"),nt&&this.shouldThrowOnError)throw new a.default(nt)}return{error:nt,data:it,count:st,status:rt,statusText:at}});return this.shouldThrowOnError||(j=j.catch(_=>{var $,_e,et;return{error:{message:`${($=_==null?void 0:_.name)!==null&&$!==void 0?$:"FetchError"}: ${_==null?void 0:_.message}`,details:`${(_e=_==null?void 0:_.stack)!==null&&_e!==void 0?_e:""}`,hint:"",code:`${(et=_==null?void 0:_.code)!==null&&et!==void 0?et:""}`},data:null,count:null,status:0,statusText:""}})),j.then(h,g)}returns(){return this}overrideTypes(){return this}}return PostgrestBuilder$2.default=o,PostgrestBuilder$2}var hasRequiredPostgrestTransformBuilder;function requirePostgrestTransformBuilder(){if(hasRequiredPostgrestTransformBuilder)return PostgrestTransformBuilder$2;hasRequiredPostgrestTransformBuilder=1,Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const e=require$$0.__importDefault(requirePostgrestBuilder());class a extends e.default{select(d){let h=!1;const g=(d??"*").split("").map(b=>/\s/.test(b)&&!h?"":(b==='"'&&(h=!h),b)).join("");return this.url.searchParams.set("select",g),this.headers.append("Prefer","return=representation"),this}order(d,{ascending:h=!0,nullsFirst:g,foreignTable:b,referencedTable:j=b}={}){const _=j?`${j}.order`:"order",$=this.url.searchParams.get(_);return this.url.searchParams.set(_,`${$?`${$},`:""}${d}.${h?"asc":"desc"}${g===void 0?"":g?".nullsfirst":".nullslast"}`),this}limit(d,{foreignTable:h,referencedTable:g=h}={}){const b=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(b,`${d}`),this}range(d,h,{foreignTable:g,referencedTable:b=g}={}){const j=typeof b>"u"?"offset":`${b}.offset`,_=typeof b>"u"?"limit":`${b}.limit`;return this.url.searchParams.set(j,`${d}`),this.url.searchParams.set(_,`${h-d+1}`),this}abortSignal(d){return this.signal=d,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:d=!1,verbose:h=!1,settings:g=!1,buffers:b=!1,wal:j=!1,format:_="text"}={}){var $;const _e=[d?"analyze":null,h?"verbose":null,g?"settings":null,b?"buffers":null,j?"wal":null].filter(Boolean).join("|"),et=($=this.headers.get("Accept"))!==null&&$!==void 0?$:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${_}; for="${et}"; options=${_e};`),_==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(d){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${d}`),this}}return PostgrestTransformBuilder$2.default=a,PostgrestTransformBuilder$2}var hasRequiredPostgrestFilterBuilder;function requirePostgrestFilterBuilder(){if(hasRequiredPostgrestFilterBuilder)return PostgrestFilterBuilder$2;hasRequiredPostgrestFilterBuilder=1,Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const e=require$$0.__importDefault(requirePostgrestTransformBuilder()),a=new RegExp("[,()]");class o extends e.default{eq(h,g){return this.url.searchParams.append(h,`eq.${g}`),this}neq(h,g){return this.url.searchParams.append(h,`neq.${g}`),this}gt(h,g){return this.url.searchParams.append(h,`gt.${g}`),this}gte(h,g){return this.url.searchParams.append(h,`gte.${g}`),this}lt(h,g){return this.url.searchParams.append(h,`lt.${g}`),this}lte(h,g){return this.url.searchParams.append(h,`lte.${g}`),this}like(h,g){return this.url.searchParams.append(h,`like.${g}`),this}likeAllOf(h,g){return this.url.searchParams.append(h,`like(all).{${g.join(",")}}`),this}likeAnyOf(h,g){return this.url.searchParams.append(h,`like(any).{${g.join(",")}}`),this}ilike(h,g){return this.url.searchParams.append(h,`ilike.${g}`),this}ilikeAllOf(h,g){return this.url.searchParams.append(h,`ilike(all).{${g.join(",")}}`),this}ilikeAnyOf(h,g){return this.url.searchParams.append(h,`ilike(any).{${g.join(",")}}`),this}is(h,g){return this.url.searchParams.append(h,`is.${g}`),this}in(h,g){const b=Array.from(new Set(g)).map(j=>typeof j=="string"&&a.test(j)?`"${j}"`:`${j}`).join(",");return this.url.searchParams.append(h,`in.(${b})`),this}contains(h,g){return typeof g=="string"?this.url.searchParams.append(h,`cs.${g}`):Array.isArray(g)?this.url.searchParams.append(h,`cs.{${g.join(",")}}`):this.url.searchParams.append(h,`cs.${JSON.stringify(g)}`),this}containedBy(h,g){return typeof g=="string"?this.url.searchParams.append(h,`cd.${g}`):Array.isArray(g)?this.url.searchParams.append(h,`cd.{${g.join(",")}}`):this.url.searchParams.append(h,`cd.${JSON.stringify(g)}`),this}rangeGt(h,g){return this.url.searchParams.append(h,`sr.${g}`),this}rangeGte(h,g){return this.url.searchParams.append(h,`nxl.${g}`),this}rangeLt(h,g){return this.url.searchParams.append(h,`sl.${g}`),this}rangeLte(h,g){return this.url.searchParams.append(h,`nxr.${g}`),this}rangeAdjacent(h,g){return this.url.searchParams.append(h,`adj.${g}`),this}overlaps(h,g){return typeof g=="string"?this.url.searchParams.append(h,`ov.${g}`):this.url.searchParams.append(h,`ov.{${g.join(",")}}`),this}textSearch(h,g,{config:b,type:j}={}){let _="";j==="plain"?_="pl":j==="phrase"?_="ph":j==="websearch"&&(_="w");const $=b===void 0?"":`(${b})`;return this.url.searchParams.append(h,`${_}fts${$}.${g}`),this}match(h){return Object.entries(h).forEach(([g,b])=>{this.url.searchParams.append(g,`eq.${b}`)}),this}not(h,g,b){return this.url.searchParams.append(h,`not.${g}.${b}`),this}or(h,{foreignTable:g,referencedTable:b=g}={}){const j=b?`${b}.or`:"or";return this.url.searchParams.append(j,`(${h})`),this}filter(h,g,b){return this.url.searchParams.append(h,`${g}.${b}`),this}}return PostgrestFilterBuilder$2.default=o,PostgrestFilterBuilder$2}var hasRequiredPostgrestQueryBuilder;function requirePostgrestQueryBuilder(){if(hasRequiredPostgrestQueryBuilder)return PostgrestQueryBuilder$2;hasRequiredPostgrestQueryBuilder=1,Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const e=require$$0.__importDefault(requirePostgrestFilterBuilder());class a{constructor(d,{headers:h={},schema:g,fetch:b}){this.url=d,this.headers=new Headers(h),this.schema=g,this.fetch=b}select(d,h){const{head:g=!1,count:b}=h??{},j=g?"HEAD":"GET";let _=!1;const $=(d??"*").split("").map(_e=>/\s/.test(_e)&&!_?"":(_e==='"'&&(_=!_),_e)).join("");return this.url.searchParams.set("select",$),b&&this.headers.append("Prefer",`count=${b}`),new e.default({method:j,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(d,{count:h,defaultToNull:g=!0}={}){var b;const j="POST";if(h&&this.headers.append("Prefer",`count=${h}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const _=d.reduce(($,_e)=>$.concat(Object.keys(_e)),[]);if(_.length>0){const $=[...new Set(_)].map(_e=>`"${_e}"`);this.url.searchParams.set("columns",$.join(","))}}return new e.default({method:j,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}upsert(d,{onConflict:h,ignoreDuplicates:g=!1,count:b,defaultToNull:j=!0}={}){var _;const $="POST";if(this.headers.append("Prefer",`resolution=${g?"ignore":"merge"}-duplicates`),h!==void 0&&this.url.searchParams.set("on_conflict",h),b&&this.headers.append("Prefer",`count=${b}`),j||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const _e=d.reduce((et,tt)=>et.concat(Object.keys(tt)),[]);if(_e.length>0){const et=[...new Set(_e)].map(tt=>`"${tt}"`);this.url.searchParams.set("columns",et.join(","))}}return new e.default({method:$,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}update(d,{count:h}={}){var g;const b="PATCH";return h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}delete({count:d}={}){var h;const g="DELETE";return d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return PostgrestQueryBuilder$2.default=a,PostgrestQueryBuilder$2}var hasRequiredPostgrestClient;function requirePostgrestClient(){if(hasRequiredPostgrestClient)return PostgrestClient$2;hasRequiredPostgrestClient=1,Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const s=require$$0,e=s.__importDefault(requirePostgrestQueryBuilder()),a=s.__importDefault(requirePostgrestFilterBuilder());class o{constructor(h,{headers:g={},schema:b,fetch:j}={}){this.url=h,this.headers=new Headers(g),this.schemaName=b,this.fetch=j}from(h){const g=new URL(`${this.url}/${h}`);return new e.default(g,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new o(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,g={},{head:b=!1,get:j=!1,count:_}={}){var $;let _e;const et=new URL(`${this.url}/rpc/${h}`);let tt;b||j?(_e=b?"HEAD":"GET",Object.entries(g).filter(([it,st])=>st!==void 0).map(([it,st])=>[it,Array.isArray(st)?`{${st.join(",")}}`:`${st}`]).forEach(([it,st])=>{et.searchParams.append(it,st)})):(_e="POST",tt=g);const nt=new Headers(this.headers);return _&&nt.set("Prefer",`count=${_}`),new a.default({method:_e,url:et,headers:nt,schema:this.schemaName,body:tt,fetch:($=this.fetch)!==null&&$!==void 0?$:fetch})}}return PostgrestClient$2.default=o,PostgrestClient$2}Object.defineProperty(cjs,"__esModule",{value:!0});var PostgrestError$1=cjs.PostgrestError=PostgrestBuilder$1=cjs.PostgrestBuilder=PostgrestTransformBuilder$1=cjs.PostgrestTransformBuilder=PostgrestFilterBuilder$1=cjs.PostgrestFilterBuilder=PostgrestQueryBuilder$1=cjs.PostgrestQueryBuilder=PostgrestClient$1=cjs.PostgrestClient=void 0;const tslib_1=require$$0,PostgrestClient_1=tslib_1.__importDefault(requirePostgrestClient());var PostgrestClient$1=cjs.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=tslib_1.__importDefault(requirePostgrestQueryBuilder());var PostgrestQueryBuilder$1=cjs.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=tslib_1.__importDefault(requirePostgrestFilterBuilder());var PostgrestFilterBuilder$1=cjs.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=tslib_1.__importDefault(requirePostgrestTransformBuilder());var PostgrestTransformBuilder$1=cjs.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=tslib_1.__importDefault(requirePostgrestBuilder());var PostgrestBuilder$1=cjs.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=tslib_1.__importDefault(requirePostgrestError());PostgrestError$1=cjs.PostgrestError=PostgrestError_1.default;var _default=cjs.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const index=_mergeNamespaces({__proto__:null,get PostgrestBuilder(){return PostgrestBuilder$1},get PostgrestClient(){return PostgrestClient$1},get PostgrestError(){return PostgrestError$1},get PostgrestFilterBuilder(){return PostgrestFilterBuilder$1},get PostgrestQueryBuilder(){return PostgrestQueryBuilder$1},get PostgrestTransformBuilder(){return PostgrestTransformBuilder$1},default:_default},[cjs]),{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default||index;class WebSocketFactory{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const o=a.node,d=parseInt(o.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let a=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(a+=`

Suggested solution: ${e.workaround}`),new Error(a)}static createWebSocket(e,a){const o=this.getWebSocketConstructor();return new o(e,a)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const version$4="2.78.0",DEFAULT_VERSION=`realtime-js/${version$4}`,VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(s){s.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(e,a){return e.constructor===ArrayBuffer?a(this._binaryDecode(e)):a(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const a=new DataView(e),o=new TextDecoder;return this._decodeBroadcast(e,a,o)}_decodeBroadcast(e,a,o){const d=a.getUint8(1),h=a.getUint8(2);let g=this.HEADER_LENGTH+2;const b=o.decode(e.slice(g,g+d));g=g+d;const j=o.decode(e.slice(g,g+h));g=g+h;const _=JSON.parse(o.decode(e.slice(g,e.byteLength)));return{ref:null,topic:b,event:j,payload:_}}}class Timer{constructor(e,a){this.callback=e,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(s,e,a={})=>{var o;const d=(o=a.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((h,g)=>(h[g]=convertColumn(g,s,e,d),h),{}):{}},convertColumn=(s,e,a,o)=>{const d=e.find(b=>b.name===s),h=d==null?void 0:d.type,g=a[s];return h&&!o.includes(h)?convertCell(h,g):noop$1(g)},convertCell=(s,e)=>{if(s.charAt(0)==="_"){const a=s.slice(1,s.length);return toArray(e,a)}switch(s){case PostgresTypes.bool:return toBoolean(e);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(e);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(e);case PostgresTypes.timestamp:return toTimestampString(e);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(e);default:return noop$1(e)}},noop$1=s=>s,toBoolean=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},toNumber=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},toJson=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},toArray=(s,e)=>{if(typeof s!="string")return s;const a=s.length-1,o=s[a];if(s[0]==="{"&&o==="}"){let h;const g=s.slice(1,a);try{h=JSON.parse("["+g+"]")}catch{h=g?g.split(","):[]}return h.map(b=>convertCell(e,b))}return s},toTimestampString=s=>typeof s=="string"?s.replace(" ","T"):s,httpEndpointURL=s=>{const e=new URL(s);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Push{constructor(e,a,o={},d=DEFAULT_TIMEOUT){this.channel=e,this.event=a,this.payload=o,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,a){var o;return this._hasReceived(e)&&a((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:a}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(a))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(e,a){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},d=>{const{onJoin:h,onLeave:g,onSync:b}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,d,h,g),this.pendingDiffs.forEach(j=>{this.state=RealtimePresence.syncDiff(this.state,j,h,g)}),this.pendingDiffs=[],b()}),this.channel._on(o.diff,{},d=>{const{onJoin:h,onLeave:g,onSync:b}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=RealtimePresence.syncDiff(this.state,d,h,g),b())}),this.onJoin((d,h,g)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:h,newPresences:g})}),this.onLeave((d,h,g)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:h,leftPresences:g})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,a,o,d){const h=this.cloneDeep(e),g=this.transformState(a),b={},j={};return this.map(h,(_,$)=>{g[_]||(j[_]=$)}),this.map(g,(_,$)=>{const _e=h[_];if(_e){const et=$.map(st=>st.presence_ref),tt=_e.map(st=>st.presence_ref),nt=$.filter(st=>tt.indexOf(st.presence_ref)<0),it=_e.filter(st=>et.indexOf(st.presence_ref)<0);nt.length>0&&(b[_]=nt),it.length>0&&(j[_]=it)}else b[_]=$}),this.syncDiff(h,{joins:b,leaves:j},o,d)}static syncDiff(e,a,o,d){const{joins:h,leaves:g}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return o||(o=()=>{}),d||(d=()=>{}),this.map(h,(b,j)=>{var _;const $=(_=e[b])!==null&&_!==void 0?_:[];if(e[b]=this.cloneDeep(j),$.length>0){const _e=e[b].map(tt=>tt.presence_ref),et=$.filter(tt=>_e.indexOf(tt.presence_ref)<0);e[b].unshift(...et)}o(b,$,j)}),this.map(g,(b,j)=>{let _=e[b];if(!_)return;const $=j.map(_e=>_e.presence_ref);_=_.filter(_e=>$.indexOf(_e.presence_ref)<0),e[b]=_,d(b,_,j),_.length===0&&delete e[b]}),e}static map(e,a){return Object.getOwnPropertyNames(e).map(o=>a(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((a,o)=>{const d=e[o];return"metas"in d?a[o]=d.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):a[o]=d,a},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(e,a={config:{}},o){var d,h;if(this.topic=e,this.params=a,this.socket=o,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(g=>g.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(g=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,g),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",g=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,g),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(g,b)=>{this._trigger(this._replyEventName(b),g)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,a=this.timeout){var o,d,h;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:g,presence:b,private:j}}=this.params,_=(d=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(tt=>tt.filter))!==null&&d!==void 0?d:[],$=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,_e={},et={broadcast:g,presence:Object.assign(Object.assign({},b),{enabled:$}),postgres_changes:_,private:j};this.socket.accessTokenValue&&(_e.access_token=this.socket.accessTokenValue),this._onError(tt=>e==null?void 0:e(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,tt)),this._onClose(()=>e==null?void 0:e(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:et},_e)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:tt})=>{var nt;if(this.socket.setAuth(),tt===void 0){e==null||e(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const it=this.bindings.postgres_changes,st=(nt=it==null?void 0:it.length)!==null&&nt!==void 0?nt:0,rt=[];for(let at=0;at<st;at++){const ht=it[at],{filter:{event:ft,schema:ot,table:ut,filter:ct}}=ht,dt=tt&&tt[at];if(dt&&dt.event===ft&&dt.schema===ot&&dt.table===ut&&dt.filter===ct)rt.push(Object.assign(Object.assign({},ht),{id:dt.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,e==null||e(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=rt,e&&e(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",tt=>{this.state=CHANNEL_STATES.errored,e==null||e(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(tt).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,a={}){return await this.send({type:"presence",event:"track",payload:e},a.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,a,o){return this.state===CHANNEL_STATES.joined&&e===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,a,o)}async httpSend(e,a,o={}){var d;const h=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(a==null)return Promise.reject("Payload is required for httpSend()");const g={method:"POST",headers:{Authorization:h,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:a,private:this.private}]})},b=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(d=o.timeout)!==null&&d!==void 0?d:this.timeout);if(b.status===202)return{success:!0};let j=b.statusText;try{const _=await b.json();j=_.error||_.message||j}catch{}return Promise.reject(new Error(j))}async send(e,a={}){var o,d;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:g}=e,j={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:g,private:this.private}]})};try{const _=await this._fetchWithTimeout(this.broadcastEndpointURL,j,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);return await((d=_.body)===null||d===void 0?void 0:d.cancel()),_.ok?"ok":"error"}catch(_){return _.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var g,b,j;const _=this._push(e.type,e,a.timeout||this.timeout);e.type==="broadcast"&&!(!((j=(b=(g=this.params)===null||g===void 0?void 0:g.config)===null||b===void 0?void 0:b.broadcast)===null||j===void 0)&&j.ack)&&h("ok"),_.receive("ok",()=>h("ok")),_.receive("error",()=>h("error")),_.receive("timeout",()=>h("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=CHANNEL_STATES.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(d=>{o=new Push(this,CHANNEL_EVENTS.leave,{},e),o.receive("ok",()=>{a(),d("ok")}).receive("timeout",()=>{a(),d("timed out")}).receive("error",()=>{d("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(e,a,o){const d=new AbortController,h=setTimeout(()=>d.abort(),o),g=await this.socket.fetch(e,Object.assign(Object.assign({},a),{signal:d.signal}));return clearTimeout(h),g}_push(e,a,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Push(this,e,a,o);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(e,a,o){return a}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,a,o){var d,h;const g=e.toLocaleLowerCase(),{close:b,error:j,leave:_,join:$}=CHANNEL_EVENTS;if(o&&[b,j,_,$].indexOf(g)>=0&&o!==this._joinRef())return;let et=this._onMessage(g,a,o);if(a&&!et)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(g)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(tt=>{var nt,it,st;return((nt=tt.filter)===null||nt===void 0?void 0:nt.event)==="*"||((st=(it=tt.filter)===null||it===void 0?void 0:it.event)===null||st===void 0?void 0:st.toLocaleLowerCase())===g}).map(tt=>tt.callback(et,o)):(h=this.bindings[g])===null||h===void 0||h.filter(tt=>{var nt,it,st,rt,at,ht;if(["broadcast","presence","postgres_changes"].includes(g))if("id"in tt){const ft=tt.id,ot=(nt=tt.filter)===null||nt===void 0?void 0:nt.event;return ft&&((it=a.ids)===null||it===void 0?void 0:it.includes(ft))&&(ot==="*"||(ot==null?void 0:ot.toLocaleLowerCase())===((st=a.data)===null||st===void 0?void 0:st.type.toLocaleLowerCase()))}else{const ft=(at=(rt=tt==null?void 0:tt.filter)===null||rt===void 0?void 0:rt.event)===null||at===void 0?void 0:at.toLocaleLowerCase();return ft==="*"||ft===((ht=a==null?void 0:a.event)===null||ht===void 0?void 0:ht.toLocaleLowerCase())}else return tt.type.toLocaleLowerCase()===g}).map(tt=>{if(typeof et=="object"&&"ids"in et){const nt=et.data,{schema:it,table:st,commit_timestamp:rt,type:at,errors:ht}=nt;et=Object.assign(Object.assign({},{schema:it,table:st,commit_timestamp:rt,eventType:at,new:{},old:{},errors:ht}),this._getPayloadRecords(nt))}tt.callback(et,o)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,a,o){const d=e.toLocaleLowerCase(),h={type:d,filter:a,callback:o};return this.bindings[d]?this.bindings[d].push(h):this.bindings[d]=[h],this}_off(e,a){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(d=>{var h;return!(((h=d.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===o&&RealtimeChannel.isEqual(d.filter,a))})),this}static isEqual(e,a){if(Object.keys(e).length!==Object.keys(a).length)return!1;for(const o in e)if(e[o]!==a[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(CHANNEL_EVENTS.close,{},e)}_onError(e){this._on(CHANNEL_EVENTS.error,{},a=>e(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const a={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(a.new=convertChangeData(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(a.old=convertChangeData(e.columns,e.old_record)),a}}const noop=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(e,a){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop,this.ref=0,this.reconnectTimer=null,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=d=>{let h;return d?h=d:typeof fetch>"u"?h=(...g)=>__vitePreload(async()=>{const{default:b}=await Promise.resolve().then(()=>browser);return{default:b}},void 0,import.meta.url).then(({default:b})=>b(...g)).catch(b=>{throw new Error(`Failed to load @supabase/node-fetch: ${b.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):h=fetch,(...g)=>h(...g)},!(!((o=a==null?void 0:a.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${e}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(e),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const a=e.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect(e,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},e?this.conn.close(e,a??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const a=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const e=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,a,o){this.logger(e,a,o)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,a={config:{}}){const o=`realtime:${e}`,d=this.getChannels().find(h=>h.topic===o);if(d)return d;{const h=new RealtimeChannel(`realtime:${e}`,a,this);return this.channels.push(h),h}}push(e){const{topic:a,event:o,payload:d,ref:h}=e,g=()=>{this.encode(e,b=>{var j;(j=this.conn)===null||j===void 0||j.send(b)})};this.log("push",`${a} ${o} (${h})`,d),this.isConnected()?g():this.sendBuffer.push(g)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let a=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${e}"`),a.unsubscribe())}_remove(e){this.channels=this.channels.filter(a=>a.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(_){this.log("error","error in heartbeat callback",_)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:d,payload:h,ref:g}=a,b=g?`(${g})`:"",j=h.status||"";this.log("receive",`${j} ${o} ${d} ${b}`.trim(),h),this.channels.filter(_=>_._isMember(o)).forEach(_=>_._trigger(d,h,g)),this._triggerStateCallbacks("message",a)})}_clearTimer(e){var a;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var a;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(CHANNEL_EVENTS.error))}_appendParams(e,a){if(Object.keys(a).length===0)return e;const o=e.match(/\?/)?"&":"?",d=new URLSearchParams(a);return`${e}${o}${d}`}_workerObjectUrl(e){let a;if(e)a=e;else{const o=new Blob([WORKER_SCRIPT],{type:"application/javascript"});a=URL.createObjectURL(o)}return a}_setConnectionState(e,a=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(e=null){let a;e?a=e:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(o=>{const d={access_token:a,version:DEFAULT_VERSION};a&&o.updateJoinPayload(d),o.joinedOnce&&o._isJoined()&&o._push(CHANNEL_EVENTS.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${e}`,a)})}_triggerStateCallbacks(e,a){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(a)}catch(d){this.log("error",`error in ${e} callback`,d)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var a,o,d,h,g,b,j,_,$;if(this.transport=(a=e==null?void 0:e.transport)!==null&&a!==void 0?a:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(d=e==null?void 0:e.heartbeatIntervalMs)!==null&&d!==void 0?d:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(h=e==null?void 0:e.worker)!==null&&h!==void 0?h:!1,this.accessToken=(g=e==null?void 0:e.accessToken)!==null&&g!==void 0?g:null,this.heartbeatCallback=(b=e==null?void 0:e.heartbeatCallback)!==null&&b!==void 0?b:noop,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(j=e==null?void 0:e.reconnectAfterMs)!==null&&j!==void 0?j:_e=>RECONNECT_INTERVALS[_e-1]||DEFAULT_RECONNECT_FALLBACK,this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:(_e,et)=>et(JSON.stringify(_e)),this.decode=($=e==null?void 0:e.decode)!==null&&$!==void 0?$:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class StorageError extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class StorageApiError extends StorageError{constructor(e,a,o){super(e),this.name="StorageApiError",this.status=a,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageUnknownError extends StorageError{constructor(e,a){super(e),this.name="StorageUnknownError",this.originalError=a}}const resolveFetch$3=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...a)=>__vitePreload(async()=>{const{default:o}=await Promise.resolve().then(()=>browser);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...a)):e=fetch,(...a)=>e(...a)},resolveResponse=()=>__awaiter$1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser),void 0,import.meta.url)).Response:Response}),recursiveToCamel=s=>{if(Array.isArray(s))return s.map(a=>recursiveToCamel(a));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([a,o])=>{const d=a.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));e[d]=recursiveToCamel(o)}),e},isPlainObject$1=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},_getErrorMessage$2=s=>{var e;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(e=s.error)===null||e===void 0?void 0:e.message)||JSON.stringify(s)},handleError$2=(s,e,a)=>__awaiter$1(void 0,void 0,void 0,function*(){const o=yield resolveResponse();s instanceof o&&!(a!=null&&a.noResolveJson)?s.json().then(d=>{const h=s.status||500,g=(d==null?void 0:d.statusCode)||h+"";e(new StorageApiError(_getErrorMessage$2(d),h,g))}).catch(d=>{e(new StorageUnknownError(_getErrorMessage$2(d),d))}):e(new StorageUnknownError(_getErrorMessage$2(s),s))}),_getRequestParams$2=(s,e,a,o)=>{const d={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"||!o?d:(isPlainObject$1(o)?(d.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),d.body=JSON.stringify(o)):d.body=o,e!=null&&e.duplex&&(d.duplex=e.duplex),Object.assign(Object.assign({},d),a))};function _handleRequest$2(s,e,a,o,d,h){return __awaiter$1(this,void 0,void 0,function*(){return new Promise((g,b)=>{s(a,_getRequestParams$2(e,o,d,h)).then(j=>{if(!j.ok)throw j;return o!=null&&o.noResolveJson?j:j.json()}).then(j=>g(j)).catch(j=>handleError$2(j,b,o))})})}function get(s,e,a,o){return __awaiter$1(this,void 0,void 0,function*(){return _handleRequest$2(s,"GET",e,a,o)})}function post$1(s,e,a,o,d){return __awaiter$1(this,void 0,void 0,function*(){return _handleRequest$2(s,"POST",e,o,d,a)})}function put(s,e,a,o,d){return __awaiter$1(this,void 0,void 0,function*(){return _handleRequest$2(s,"PUT",e,o,d,a)})}function head(s,e,a,o){return __awaiter$1(this,void 0,void 0,function*(){return _handleRequest$2(s,"HEAD",e,Object.assign(Object.assign({},a),{noResolveJson:!0}),o)})}function remove(s,e,a,o,d){return __awaiter$1(this,void 0,void 0,function*(){return _handleRequest$2(s,"DELETE",e,o,d,a)})}class StreamDownloadBuilder{constructor(e,a){this.downloadFn=e,this.shouldThrowOnError=a}then(e,a){return this.execute().then(e,a)}execute(){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(isStorageError(e))return{data:null,error:e};throw e}})}}var _a;class BlobDownloadBuilder{constructor(e,a){this.downloadFn=e,this.shouldThrowOnError=a,this[_a]="BlobDownloadBuilder",this.promise=null}asStream(){return new StreamDownloadBuilder(this.downloadFn,this.shouldThrowOnError)}then(e,a){return this.getPromise().then(e,a)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(isStorageError(e))return{data:null,error:e};throw e}})}}_a=Symbol.toStringTag;const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(e,a={},o,d){this.shouldThrowOnError=!1,this.url=e,this.headers=a,this.bucketId=o,this.fetch=resolveFetch$3(d)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,a,o,d){return __awaiter$1(this,void 0,void 0,function*(){try{let h;const g=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),d);let b=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(g.upsert)});const j=g.metadata;typeof Blob<"u"&&o instanceof Blob?(h=new FormData,h.append("cacheControl",g.cacheControl),j&&h.append("metadata",this.encodeMetadata(j)),h.append("",o)):typeof FormData<"u"&&o instanceof FormData?(h=o,h.append("cacheControl",g.cacheControl),j&&h.append("metadata",this.encodeMetadata(j))):(h=o,b["cache-control"]=`max-age=${g.cacheControl}`,b["content-type"]=g.contentType,j&&(b["x-metadata"]=this.toBase64(this.encodeMetadata(j)))),d!=null&&d.headers&&(b=Object.assign(Object.assign({},b),d.headers));const _=this._removeEmptyFolders(a),$=this._getFinalPath(_),_e=yield(e=="PUT"?put:post$1)(this.fetch,`${this.url}/object/${$}`,h,Object.assign({headers:b},g!=null&&g.duplex?{duplex:g.duplex}:{}));return{data:{path:_,id:_e.Id,fullPath:_e.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(isStorageError(h))return{data:null,error:h};throw h}})}upload(e,a,o){return __awaiter$1(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,a,o)})}uploadToSignedUrl(e,a,o,d){return __awaiter$1(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(e),g=this._getFinalPath(h),b=new URL(this.url+`/object/upload/sign/${g}`);b.searchParams.set("token",a);try{let j;const _=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},d),$=Object.assign(Object.assign({},this.headers),{"x-upsert":String(_.upsert)});typeof Blob<"u"&&o instanceof Blob?(j=new FormData,j.append("cacheControl",_.cacheControl),j.append("",o)):typeof FormData<"u"&&o instanceof FormData?(j=o,j.append("cacheControl",_.cacheControl)):(j=o,$["cache-control"]=`max-age=${_.cacheControl}`,$["content-type"]=_.contentType);const _e=yield put(this.fetch,b.toString(),j,{headers:$});return{data:{path:h,fullPath:_e.Key},error:null}}catch(j){if(this.shouldThrowOnError)throw j;if(isStorageError(j))return{data:null,error:j};throw j}})}createSignedUploadUrl(e,a){return __awaiter$1(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e);const d=Object.assign({},this.headers);a!=null&&a.upsert&&(d["x-upsert"]="true");const h=yield post$1(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:d}),g=new URL(this.url+h.url),b=g.searchParams.get("token");if(!b)throw new StorageError("No token returned by API");return{data:{signedUrl:g.toString(),path:e,token:b},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}update(e,a,o){return __awaiter$1(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,a,o)})}move(e,a,o){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:a,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(isStorageError(d))return{data:null,error:d};throw d}})}copy(e,a,o){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:{path:(yield post$1(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:a,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(isStorageError(d))return{data:null,error:d};throw d}})}createSignedUrl(e,a,o){return __awaiter$1(this,void 0,void 0,function*(){try{let d=this._getFinalPath(e),h=yield post$1(this.fetch,`${this.url}/object/sign/${d}`,Object.assign({expiresIn:a},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const g=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${g}`)},{data:h,error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(isStorageError(d))return{data:null,error:d};throw d}})}createSignedUrls(e,a,o){return __awaiter$1(this,void 0,void 0,function*(){try{const d=yield post$1(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:e},{headers:this.headers}),h=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:d.map(g=>Object.assign(Object.assign({},g),{signedUrl:g.signedURL?encodeURI(`${this.url}${g.signedURL}${h}`):null})),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(isStorageError(d))return{data:null,error:d};throw d}})}download(e,a){const d=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),g=h?`?${h}`:"",b=this._getFinalPath(e),j=()=>get(this.fetch,`${this.url}/${d}/${b}${g}`,{headers:this.headers,noResolveJson:!0});return new BlobDownloadBuilder(j,this.shouldThrowOnError)}info(e){return __awaiter$1(this,void 0,void 0,function*(){const a=this._getFinalPath(e);try{const o=yield get(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:recursiveToCamel(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}exists(e){return __awaiter$1(this,void 0,void 0,function*(){const a=this._getFinalPath(e);try{return yield head(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o)&&o instanceof StorageUnknownError){const d=o.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:o}}throw o}})}getPublicUrl(e,a){const o=this._getFinalPath(e),d=[],h=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";h!==""&&d.push(h);const b=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",j=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});j!==""&&d.push(j);let _=d.join("&");return _!==""&&(_=`?${_}`),{data:{publicUrl:encodeURI(`${this.url}/${b}/public/${o}${_}`)}}}remove(e){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageError(a))return{data:null,error:a};throw a}})}list(e,a,o){return __awaiter$1(this,void 0,void 0,function*(){try{const d=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),a),{prefix:e||""});return{data:yield post$1(this.fetch,`${this.url}/object/list/${this.bucketId}`,d,{headers:this.headers},o),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(isStorageError(d))return{data:null,error:d};throw d}})}listV2(e,a){return __awaiter$1(this,void 0,void 0,function*(){try{const o=Object.assign({},e);return{data:yield post$1(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const a=[];return e.width&&a.push(`width=${e.width}`),e.height&&a.push(`height=${e.height}`),e.resize&&a.push(`resize=${e.resize}`),e.format&&a.push(`format=${e.format}`),e.quality&&a.push(`quality=${e.quality}`),a.join("&")}}const version$3="2.78.0",DEFAULT_HEADERS$3={"X-Client-Info":`storage-js/${version$3}`};class StorageBucketApi{constructor(e,a={},o,d){this.shouldThrowOnError=!1;const h=new URL(e);d!=null&&d.useNewHostname&&/supabase\.(co|in|red)$/.test(h.hostname)&&!h.hostname.includes("storage.supabase.")&&(h.hostname=h.hostname.replace("supabase.","storage.supabase.")),this.url=h.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$3),a),this.fetch=resolveFetch$3(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return __awaiter$1(this,void 0,void 0,function*(){try{const a=this.listBucketOptionsToQueryString(e);return{data:yield get(this.fetch,`${this.url}/bucket${a}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageError(a))return{data:null,error:a};throw a}})}getBucket(e){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageError(a))return{data:null,error:a};throw a}})}createBucket(e){return __awaiter$1(this,arguments,void 0,function*(a,o={public:!1}){try{return{data:yield post$1(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(isStorageError(d))return{data:null,error:d};throw d}})}updateBucket(e,a){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}emptyBucket(e){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageError(a))return{data:null,error:a};throw a}})}deleteBucket(e){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageError(a))return{data:null,error:a};throw a}})}listBucketOptionsToQueryString(e){const a={};return e&&("limit"in e&&(a.limit=String(e.limit)),"offset"in e&&(a.offset=String(e.offset)),e.search&&(a.search=e.search),e.sortColumn&&(a.sortColumn=e.sortColumn),e.sortOrder&&(a.sortOrder=e.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}}class StorageAnalyticsApi{constructor(e,a={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$3),a),this.fetch=resolveFetch$3(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageError(a))return{data:null,error:a};throw a}})}listBuckets(e){return __awaiter$1(this,void 0,void 0,function*(){try{const a=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&a.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&a.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&a.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&a.set("sortOrder",e.sortOrder),e!=null&&e.search&&a.set("search",e.search);const o=a.toString(),d=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield get(this.fetch,d,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageError(a))return{data:null,error:a};throw a}})}deleteBucket(e){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageError(a))return{data:null,error:a};throw a}})}}const DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$3}`,"Content-Type":"application/json"};class StorageVectorsError extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function isStorageVectorsError(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}class StorageVectorsApiError extends StorageVectorsError{constructor(e,a,o){super(e),this.name="StorageVectorsApiError",this.status=a,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageVectorsUnknownError extends StorageVectorsError{constructor(e,a){super(e),this.name="StorageVectorsUnknownError",this.originalError=a}}var StorageVectorsErrorCode;(function(s){s.InternalError="InternalError",s.S3VectorConflictException="S3VectorConflictException",s.S3VectorNotFoundException="S3VectorNotFoundException",s.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",s.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",s.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(StorageVectorsErrorCode||(StorageVectorsErrorCode={}));const resolveFetch$2=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...a)=>__vitePreload(async()=>{const{default:o}=await Promise.resolve().then(()=>browser);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...a)):e=fetch,(...a)=>e(...a)},isPlainObject=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},_getErrorMessage$1=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),handleError$1=(s,e,a)=>__awaiter$1(void 0,void 0,void 0,function*(){if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(a!=null&&a.noResolveJson)){const d=s.status||500,h=s;if(typeof h.json=="function")h.json().then(g=>{const b=(g==null?void 0:g.statusCode)||(g==null?void 0:g.code)||d+"";e(new StorageVectorsApiError(_getErrorMessage$1(g),d,b))}).catch(()=>{const g=d+"",b=h.statusText||`HTTP ${d} error`;e(new StorageVectorsApiError(b,d,g))});else{const g=d+"",b=h.statusText||`HTTP ${d} error`;e(new StorageVectorsApiError(b,d,g))}}else e(new StorageVectorsUnknownError(_getErrorMessage$1(s),s))}),_getRequestParams$1=(s,e,a,o)=>{const d={method:s,headers:(e==null?void 0:e.headers)||{}};return o?(isPlainObject(o)?(d.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),d.body=JSON.stringify(o)):d.body=o,Object.assign(Object.assign({},d),a)):d};function _handleRequest$1(s,e,a,o,d,h){return __awaiter$1(this,void 0,void 0,function*(){return new Promise((g,b)=>{s(a,_getRequestParams$1(e,o,d,h)).then(j=>{if(!j.ok)throw j;if(o!=null&&o.noResolveJson)return j;const _=j.headers.get("content-type");return!_||!_.includes("application/json")?{}:j.json()}).then(j=>g(j)).catch(j=>handleError$1(j,b,o))})})}function post(s,e,a,o,d){return __awaiter$1(this,void 0,void 0,function*(){return _handleRequest$1(s,"POST",e,o,d,a)})}class VectorIndexApi{constructor(e,a={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),a),this.fetch=resolveFetch$2(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageVectorsError(a))return{data:null,error:a};throw a}})}getIndex(e,a){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:a},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageVectorsError(o))return{data:null,error:o};throw o}})}listIndexes(e){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageVectorsError(a))return{data:null,error:a};throw a}})}deleteIndex(e,a){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:a},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageVectorsError(o))return{data:null,error:o};throw o}})}}class VectorDataApi{constructor(e,a={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),a),this.fetch=resolveFetch$2(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return __awaiter$1(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield post(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageVectorsError(a))return{data:null,error:a};throw a}})}getVectors(e){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageVectorsError(a))return{data:null,error:a};throw a}})}listVectors(e){return __awaiter$1(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield post(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageVectorsError(a))return{data:null,error:a};throw a}})}queryVectors(e){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageVectorsError(a))return{data:null,error:a};throw a}})}deleteVectors(e){return __awaiter$1(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield post(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageVectorsError(a))return{data:null,error:a};throw a}})}}class VectorBucketApi{constructor(e,a={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),a),this.fetch=resolveFetch$2(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageVectorsError(a))return{data:null,error:a};throw a}})}getBucket(e){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageVectorsError(a))return{data:null,error:a};throw a}})}listBuckets(){return __awaiter$1(this,arguments,void 0,function*(e={}){try{return{data:yield post(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageVectorsError(a))return{data:null,error:a};throw a}})}deleteBucket(e){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(isStorageVectorsError(a))return{data:null,error:a};throw a}})}}class StorageVectorsClient extends VectorBucketApi{constructor(e,a={}){super(e,a.headers||{},a.fetch)}from(e){return new VectorBucketScope(this.url,this.headers,e,this.fetch)}}class VectorBucketScope extends VectorIndexApi{constructor(e,a,o,d){super(e,a,d),this.vectorBucketName=o}createIndex(e){const a=Object.create(null,{createIndex:{get:()=>super.createIndex}});return __awaiter$1(this,void 0,void 0,function*(){return a.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return __awaiter$1(this,arguments,void 0,function*(a={}){return e.listIndexes.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const a=Object.create(null,{getIndex:{get:()=>super.getIndex}});return __awaiter$1(this,void 0,void 0,function*(){return a.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const a=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return __awaiter$1(this,void 0,void 0,function*(){return a.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new VectorIndexScope(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class VectorIndexScope extends VectorDataApi{constructor(e,a,o,d,h){super(e,a,h),this.vectorBucketName=o,this.indexName=d}putVectors(e){const a=Object.create(null,{putVectors:{get:()=>super.putVectors}});return __awaiter$1(this,void 0,void 0,function*(){return a.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const a=Object.create(null,{getVectors:{get:()=>super.getVectors}});return __awaiter$1(this,void 0,void 0,function*(){return a.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return __awaiter$1(this,arguments,void 0,function*(a={}){return e.listVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const a=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return __awaiter$1(this,void 0,void 0,function*(){return a.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const a=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return __awaiter$1(this,void 0,void 0,function*(){return a.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class StorageClient extends StorageBucketApi{constructor(e,a={},o,d){super(e,a,o,d)}from(e){return new StorageFileApi(this.url,this.headers,e,this.fetch)}get vectors(){return new StorageVectorsClient(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new StorageAnalyticsApi(this.url+"/iceberg",this.headers,this.fetch)}}const version$2="2.78.0";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$2}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={},resolveFetch$1=s=>{let e;return s?e=s:typeof fetch>"u"?e=nodeFetch:e=fetch,(...a)=>e(...a)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(s,e,a)=>{const o=resolveFetch$1(a),d=resolveHeadersConstructor();return async(h,g)=>{var b;const j=(b=await e())!==null&&b!==void 0?b:s;let _=new d(g==null?void 0:g.headers);return _.has("apikey")||_.set("apikey",s),_.has("Authorization")||_.set("Authorization",`Bearer ${j}`),o(h,Object.assign(Object.assign({},g),{headers:_}))}};function ensureTrailingSlash(s){return s.endsWith("/")?s:s+"/"}function applySettingDefaults(s,e){var a,o;const{db:d,auth:h,realtime:g,global:b}=s,{db:j,auth:_,realtime:$,global:_e}=e,et={db:Object.assign(Object.assign({},j),d),auth:Object.assign(Object.assign({},_),h),realtime:Object.assign(Object.assign({},$),g),storage:{},global:Object.assign(Object.assign(Object.assign({},_e),b),{headers:Object.assign(Object.assign({},(a=_e==null?void 0:_e.headers)!==null&&a!==void 0?a:{}),(o=b==null?void 0:b.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return s.accessToken?et.accessToken=s.accessToken:delete et.accessToken,et}function validateSupabaseUrl(s){const e=s==null?void 0:s.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ensureTrailingSlash(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const version$1="2.78.0",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version$1}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=10*60*1e3;class AuthError extends Error{constructor(e,a,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=o}}function isAuthError(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class AuthApiError extends AuthError{constructor(e,a,o){super(e,a,o),this.name="AuthApiError",this.status=a,this.code=o}}function isAuthApiError(s){return isAuthError(s)&&s.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(e,a){super(e),this.name="AuthUnknownError",this.originalError=a}}class CustomAuthError extends AuthError{constructor(e,a,o,d){super(e,o,d),this.name=a,this.status=o}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(s){return isAuthError(s)&&s.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(e,a=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(s){return isAuthError(s)&&s.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(e,a=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(e,a){super(e,"AuthRetryableFetchError",a,void 0)}}function isAuthRetryableFetchError(s){return isAuthError(s)&&s.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(e,a,o){super(e,"AuthWeakPasswordError",a,"weak_password"),this.reasons=o}}class AuthInvalidJwtError extends CustomAuthError{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<IGNORE_BASE64URL.length;e+=1)s[IGNORE_BASE64URL[e].charCodeAt(0)]=-2;for(let e=0;e<TO_BASE64URL.length;e+=1)s[TO_BASE64URL[e].charCodeAt(0)]=e;return s})();function byteToBase64URL(s,e,a){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;a(TO_BASE64URL[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;a(TO_BASE64URL[o]),e.queuedBits-=6}}function byteFromBase64URL(s,e,a){const o=FROM_BASE64URL[s];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)a(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function stringFromBase64URL(s){const e=[],a=g=>{e.push(String.fromCodePoint(g))},o={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},h=g=>{stringFromUTF8(g,o,a)};for(let g=0;g<s.length;g+=1)byteFromBase64URL(s.charCodeAt(g),d,h);return e.join("")}function codepointToUTF8(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function stringToUTF8(s,e){for(let a=0;a<s.length;a+=1){let o=s.charCodeAt(a);if(o>55295&&o<=56319){const d=(o-55296)*1024&65535;o=(s.charCodeAt(a+1)-56320&65535|d)+65536,a+=1}codepointToUTF8(o,e)}}function stringFromUTF8(s,e,a){if(e.utf8seq===0){if(s<=127){a(s);return}for(let o=1;o<6;o+=1)if(!(s>>7-o&1)){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&a(e.codepoint)}}function base64UrlToUint8Array(s){const e=[],a={queue:0,queuedBits:0},o=d=>{e.push(d)};for(let d=0;d<s.length;d+=1)byteFromBase64URL(s.charCodeAt(d),a,o);return new Uint8Array(e)}function stringToUint8Array(s){const e=[];return stringToUTF8(s,a=>e.push(a)),new Uint8Array(e)}function bytesToBase64URL(s){const e=[],a={queue:0,queuedBits:0},o=d=>{e.push(d)};return s.forEach(d=>byteToBase64URL(d,a,o)),byteToBase64URL(null,a,o),e.join("")}function expiresAt(s){return Math.round(Date.now()/1e3)+s}function uuid$1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(s){const e={},a=new URL(s);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((d,h)=>{e[h]=d})}catch{}return a.searchParams.forEach((o,d)=>{e[d]=o}),e}const resolveFetch=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...a)=>__vitePreload(async()=>{const{default:o}=await Promise.resolve().then(()=>browser);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...a)):e=fetch,(...a)=>e(...a)},looksLikeFetchResponse=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",setItemAsync=async(s,e,a)=>{await s.setItem(e,JSON.stringify(a))},getItemAsync=async(s,e)=>{const a=await s.getItem(e);if(!a)return null;try{return JSON.parse(a)}catch{return a}},removeItemAsync=async(s,e)=>{await s.removeItem(e)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((e,a)=>{this.resolve=e,this.reject=a})}}Deferred.promiseConstructor=Promise;function decodeJWT(s){const e=s.split(".");if(e.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!BASE64URL_REGEX.test(e[o]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(e[0])),payload:JSON.parse(stringFromBase64URL(e[1])),signature:base64UrlToUint8Array(e[2]),raw:{header:e[0],payload:e[1]}}}async function sleep(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function retryable(s,e){return new Promise((o,d)=>{(async()=>{for(let h=0;h<1/0;h++)try{const g=await s(h);if(!e(h,null,g)){o(g);return}}catch(g){if(!e(h,g)){d(g);return}}})()})}function dec2hex(s){return("0"+s.toString(16)).substr(-2)}function generatePKCEVerifier(){const e=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=a.length;let d="";for(let h=0;h<56;h++)d+=a.charAt(Math.floor(Math.random()*o));return d}return crypto.getRandomValues(e),Array.from(e,dec2hex).join("")}async function sha256(s){const a=new TextEncoder().encode(s),o=await crypto.subtle.digest("SHA-256",a),d=new Uint8Array(o);return Array.from(d).map(h=>String.fromCharCode(h)).join("")}async function generatePKCEChallenge(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const a=await sha256(s);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(s,e,a=!1){const o=generatePKCEVerifier();let d=o;a&&(d+="/PASSWORD_RECOVERY"),await setItemAsync(s,`${e}-code-verifier`,d);const h=await generatePKCEChallenge(o);return[h,o===h?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(s){const e=s.headers.get(API_VERSION_HEADER_NAME);if(!e||!e.match(API_VERSION_REGEX))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function validateExp(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function getAlgorithm(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(s){if(!UUID_REGEX.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const s={};return new Proxy(s,{get:(e,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function insecureUserWarningProxy(s,e){return new Proxy(s,{get:(a,o,d)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const h=o.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,o,d)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(a,o,d)}})}function deepClone(s){return JSON.parse(JSON.stringify(s))}const _getErrorMessage=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),NETWORK_ERROR_CODES=[502,503,504];async function handleError(s){var e;if(!looksLikeFetchResponse(s))throw new AuthRetryableFetchError(_getErrorMessage(s),0);if(NETWORK_ERROR_CODES.includes(s.status))throw new AuthRetryableFetchError(_getErrorMessage(s),s.status);let a;try{a=await s.json()}catch(h){throw new AuthUnknownError(_getErrorMessage(h),h)}let o;const d=parseResponseAPIVersion(s);if(d&&d.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?o=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(o=a.error_code),o){if(o==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(a),s.status,((e=a.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new AuthSessionMissingError}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((h,g)=>h&&typeof g=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(a),s.status,a.weak_password.reasons);throw new AuthApiError(_getErrorMessage(a),s.status||500,o)}const _getRequestParams=(s,e,a,o)=>{const d={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),d.body=JSON.stringify(o),Object.assign(Object.assign({},d),a))};async function _request(s,e,a,o){var d;const h=Object.assign({},o==null?void 0:o.headers);h[API_VERSION_HEADER_NAME]||(h[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),o!=null&&o.jwt&&(h.Authorization=`Bearer ${o.jwt}`);const g=(d=o==null?void 0:o.query)!==null&&d!==void 0?d:{};o!=null&&o.redirectTo&&(g.redirect_to=o.redirectTo);const b=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",j=await _handleRequest(s,e,a+b,{headers:h,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(j):{data:Object.assign({},j),error:null}}async function _handleRequest(s,e,a,o,d,h){const g=_getRequestParams(e,o,d,h);let b;try{b=await s(a,Object.assign({},g))}catch(j){throw console.error(j),new AuthRetryableFetchError(_getErrorMessage(j),0)}if(b.ok||await handleError(b),o!=null&&o.noResolveJson)return b;try{return await b.json()}catch(j){await handleError(j)}}function _sessionResponse(s){var e;let a=null;hasSession(s)&&(a=Object.assign({},s),s.expires_at||(a.expires_at=expiresAt(s.expires_in)));const o=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:a,user:o},error:null}}function _sessionResponsePassword(s){const e=_sessionResponse(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0)&&(e.data.weak_password=s.weak_password),e}function _userResponse(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function _ssoResponse(s){return{data:s,error:null}}function _generateLinkResponse(s){const{action_link:e,email_otp:a,hashed_token:o,redirect_to:d,verification_type:h}=s,g=__rest$1(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),b={action_link:e,email_otp:a,hashed_token:o,redirect_to:d,verification_type:h},j=Object.assign({},g);return{data:{properties:b,user:j},error:null}}function _noResolveJsonResponse(s){return s}function hasSession(s){return s.access_token&&s.refresh_token&&s.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];class GoTrueAdminApi{constructor({url:e="",headers:a={},fetch:o}){this.url=e,this.headers=a,this.fetch=resolveFetch(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,a=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,a={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:a}=e,o=__rest$1(e,["options"]),d=Object.assign(Object.assign({},o),a);return"newEmail"in o&&(d.new_email=o==null?void 0:o.newEmail,delete d.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:_generateLinkResponse,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(isAuthError(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(e){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}async listUsers(e){var a,o,d,h,g,b,j;try{const _={nextPage:null,lastPage:0,total:0},$=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(a=e==null?void 0:e.page)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:"",per_page:(h=(d=e==null?void 0:e.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:_noResolveJsonResponse});if($.error)throw $.error;const _e=await $.json(),et=(g=$.headers.get("x-total-count"))!==null&&g!==void 0?g:0,tt=(j=(b=$.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&j!==void 0?j:[];return tt.length>0&&(tt.forEach(nt=>{const it=parseInt(nt.split(";")[0].split("=")[1].substring(0,1)),st=JSON.parse(nt.split(";")[1].split("=")[1]);_[`${st}Page`]=it}),_.total=parseInt(et)),{data:Object.assign(Object.assign({},_e),_),error:null}}catch(_){if(isAuthError(_))return{data:{users:[]},error:_};throw _}}async getUserById(e){validateUUID(e);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_userResponse})}catch(a){if(isAuthError(a))return{data:{user:null},error:a};throw a}}async updateUserById(e,a){validateUUID(e);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:a,headers:this.headers,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,a=!1){validateUUID(e);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:a},xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){validateUUID(e.userId);try{const{data:a,error:o}=await _request(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:a,error:o}}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _deleteFactor(e){validateUUID(e.userId),validateUUID(e.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _listOAuthClients(e){var a,o,d,h,g,b,j;try{const _={nextPage:null,lastPage:0,total:0},$=await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(a=e==null?void 0:e.page)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:"",per_page:(h=(d=e==null?void 0:e.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:_noResolveJsonResponse});if($.error)throw $.error;const _e=await $.json(),et=(g=$.headers.get("x-total-count"))!==null&&g!==void 0?g:0,tt=(j=(b=$.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&j!==void 0?j:[];return tt.length>0&&(tt.forEach(nt=>{const it=parseInt(nt.split(";")[0].split("=")[1].substring(0,1)),st=JSON.parse(nt.split(";")[1].split("=")[1]);_[`${st}Page`]=it}),_.total=parseInt(et)),{data:Object.assign(Object.assign({},_e),_),error:null}}catch(_){if(isAuthError(_))return{data:{clients:[]},error:_};throw _}}async _createOAuthClient(e){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _getOAuthClient(e){try{return await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _updateOAuthClient(e,a){try{return await _request(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:a,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(e){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}}function memoryLocalStorageAdapter(s={}){return{getItem:e=>s[e]||null,setItem:(e,a)=>{s[e]=a},removeItem:e=>{delete s[e]}}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(s,e,a){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async d=>{if(d){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,d.name);try{return await a()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,d.name)}}else{if(e===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(internals.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function getAddress(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function fromHex(s){return parseInt(s,16)}function toHex(s){const e=new TextEncoder().encode(s);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function createSiweMessage(s){var e;const{chainId:a,domain:o,expirationTime:d,issuedAt:h=new Date,nonce:g,notBefore:b,requestId:j,resources:_,scheme:$,uri:_e,version:et}=s;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(g&&g.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${g}`);if(!_e)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(et!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${et}`);if(!((e=s.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const tt=getAddress(s.address),nt=$?`${$}://${o}`:o,it=s.statement?`${s.statement}
`:"",st=`${nt} wants you to sign in with your Ethereum account:
${tt}

${it}`;let rt=`URI: ${_e}
Version: ${et}
Chain ID: ${a}${g?`
Nonce: ${g}`:""}
Issued At: ${h.toISOString()}`;if(d&&(rt+=`
Expiration Time: ${d.toISOString()}`),b&&(rt+=`
Not Before: ${b.toISOString()}`),j&&(rt+=`
Request ID: ${j}`),_){let at=`
Resources:`;for(const ht of _){if(!ht||typeof ht!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${ht}`);at+=`
- ${ht}`}rt+=at}return`${st}
${rt}`}class WebAuthnError extends Error{constructor({message:e,code:a,cause:o,name:d}){var h;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(h=d??(o instanceof Error?o.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=a}}class WebAuthnUnknownError extends WebAuthnError{constructor(e,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:e}),this.name="WebAuthnUnknownError",this.originalError=a}}function identifyRegistrationError({error:s,options:e}){var a,o,d;const{publicKey:h}=e;if(!h)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new WebAuthnError({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((a=h.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new WebAuthnError({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(e.mediation==="conditional"&&((o=h.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new WebAuthnError({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((d=h.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new WebAuthnError({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new WebAuthnError({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new WebAuthnError({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return h.pubKeyCredParams.filter(b=>b.type==="public-key").length===0?new WebAuthnError({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new WebAuthnError({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const g=window.location.hostname;if(isValidDomain(g)){if(h.rp.id!==g)return new WebAuthnError({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new WebAuthnError({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function identifyAuthenticationError({error:s,options:e}){const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new WebAuthnError({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new WebAuthnError({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(isValidDomain(o)){if(a.rpId!==o)return new WebAuthnError({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class WebAuthnAbortService{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const webAuthnAbortService=new WebAuthnAbortService;function deserializeCredentialCreationOptions(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:e,user:a,excludeCredentials:o}=s,d=__rest$1(s,["challenge","user","excludeCredentials"]),h=base64UrlToUint8Array(e).buffer,g=Object.assign(Object.assign({},a),{id:base64UrlToUint8Array(a.id).buffer}),b=Object.assign(Object.assign({},d),{challenge:h,user:g});if(o&&o.length>0){b.excludeCredentials=new Array(o.length);for(let j=0;j<o.length;j++){const _=o[j];b.excludeCredentials[j]=Object.assign(Object.assign({},_),{id:base64UrlToUint8Array(_.id).buffer,type:_.type||"public-key",transports:_.transports})}}return b}function deserializeCredentialRequestOptions(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:e,allowCredentials:a}=s,o=__rest$1(s,["challenge","allowCredentials"]),d=base64UrlToUint8Array(e).buffer,h=Object.assign(Object.assign({},o),{challenge:d});if(a&&a.length>0){h.allowCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const b=a[g];h.allowCredentials[g]=Object.assign(Object.assign({},b),{id:base64UrlToUint8Array(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return h}function serializeCredentialCreationResponse(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const a=s;return{id:s.id,rawId:s.id,response:{attestationObject:bytesToBase64URL(new Uint8Array(s.response.attestationObject)),clientDataJSON:bytesToBase64URL(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(e=a.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function serializeCredentialRequestResponse(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const a=s,o=s.getClientExtensionResults(),d=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:bytesToBase64URL(new Uint8Array(d.authenticatorData)),clientDataJSON:bytesToBase64URL(new Uint8Array(d.clientDataJSON)),signature:bytesToBase64URL(new Uint8Array(d.signature)),userHandle:d.userHandle?bytesToBase64URL(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=a.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function isValidDomain(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function browserSupportsWebAuthn(){var s,e;return!!(isBrowser()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function createCredential(s){try{const e=await navigator.credentials.create(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",e)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",e)}}catch(e){return{data:null,error:identifyRegistrationError({error:e,options:s})}}}async function getCredential(s){try{const e=await navigator.credentials.get(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",e)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",e)}}catch(e){return{data:null,error:identifyAuthenticationError({error:e,options:s})}}}const DEFAULT_CREATION_OPTIONS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},DEFAULT_REQUEST_OPTIONS={userVerification:"preferred",hints:["security-key"]};function deepMerge(...s){const e=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),a=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),o={};for(const d of s)if(d)for(const h in d){const g=d[h];if(g!==void 0)if(Array.isArray(g))o[h]=g;else if(a(g))o[h]=g;else if(e(g)){const b=o[h];e(b)?o[h]=deepMerge(b,g):o[h]=deepMerge(g)}else o[h]=g}return o}function mergeCredentialCreationOptions(s,e){return deepMerge(DEFAULT_CREATION_OPTIONS,s,e||{})}function mergeCredentialRequestOptions(s,e){return deepMerge(DEFAULT_REQUEST_OPTIONS,s,e||{})}class WebAuthnApi{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:a,friendlyName:o,signal:d},h){try{const{data:g,error:b}=await this.client.mfa.challenge({factorId:e,webauthn:a});if(!g)return{data:null,error:b};const j=d??webAuthnAbortService.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:_}=g.webauthn.credential_options.publicKey;_.name||(_.name=`${_.id}:${o}`),_.displayName||(_.displayName=_.name)}switch(g.webauthn.type){case"create":{const _=mergeCredentialCreationOptions(g.webauthn.credential_options.publicKey,h==null?void 0:h.create),{data:$,error:_e}=await createCredential({publicKey:_,signal:j});return $?{data:{factorId:e,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:$}},error:null}:{data:null,error:_e}}case"request":{const _=mergeCredentialRequestOptions(g.webauthn.credential_options.publicKey,h==null?void 0:h.request),{data:$,error:_e}=await getCredential(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:_,signal:j}));return $?{data:{factorId:e,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:$}},error:null}:{data:null,error:_e}}}}catch(g){return isAuthError(g)?{data:null,error:g}:{data:null,error:new AuthUnknownError("Unexpected error in challenge",g)}}}async _verify({challengeId:e,factorId:a,webauthn:o}){return this.client.mfa.verify({factorId:a,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:d}},h){if(!a)return{data:null,error:new AuthError("rpId is required for WebAuthn authentication")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:g,error:b}=await this.challenge({factorId:e,webauthn:{rpId:a,rpOrigins:o},signal:d},{request:h});if(!g)return{data:null,error:b};const{webauthn:j}=g;return this._verify({factorId:e,challengeId:g.challengeId,webauthn:{type:j.type,rpId:a,rpOrigins:o,credential_response:j.credential_response}})}catch(g){return isAuthError(g)?{data:null,error:g}:{data:null,error:new AuthUnknownError("Unexpected error in authenticate",g)}}}async _register({friendlyName:e,rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:d},h){if(!a)return{data:null,error:new AuthError("rpId is required for WebAuthn registration")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:g,error:b}=await this._enroll({friendlyName:e});if(!g)return await this.client.mfa.listFactors().then($=>{var _e;return(_e=$.data)===null||_e===void 0?void 0:_e.all.find(et=>et.factor_type==="webauthn"&&et.friendly_name===e&&et.status!=="unverified")}).then($=>$?this.client.mfa.unenroll({factorId:$==null?void 0:$.id}):void 0),{data:null,error:b};const{data:j,error:_}=await this._challenge({factorId:g.id,friendlyName:g.friendly_name,webauthn:{rpId:a,rpOrigins:o},signal:d},{create:h});return j?this._verify({factorId:g.id,challengeId:j.challengeId,webauthn:{rpId:a,rpOrigins:o,type:j.webauthn.type,credential_response:j.webauthn.credential_response}}):{data:null,error:_}}catch(g){return isAuthError(g)?{data:null,error:g}:{data:null,error:new AuthUnknownError("Unexpected error in register",g)}}}}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lockNoOp(s,e,a){return await a()}const GLOBAL_JWKS={};class GoTrueClient{get jwks(){var e,a;return(a=(e=GLOBAL_JWKS[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(e){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,a;return(a=(e=GLOBAL_JWKS[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:e})}constructor(e){var a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const d=Object.assign(Object.assign({},DEFAULT_OPTIONS),e);if(this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.persistSession=d.persistSession,this.storageKey=d.storageKey,this.autoRefreshToken=d.autoRefreshToken,this.admin=new GoTrueAdminApi({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=resolveFetch(d.fetch),this.lock=d.lock||lockNoOp,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,d.lock?this.lock=d.lock:isBrowser()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WebAuthnApi(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version$1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const a=parseParametersFromURL(window.location.href);let o="none";if(this._isImplicitGrantCallback(a)?o="implicit":await this._isPKCECallback(a)&&(o="pkce"),isBrowser()&&this.detectSessionInUrl&&o!=="none"){const{data:d,error:h}=await this._getSessionFromURL(a,o);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),isAuthImplicitGrantRedirectError(h)){const j=(e=h.details)===null||e===void 0?void 0:e.code;if(j==="identity_already_exists"||j==="identity_not_found"||j==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:g,redirectType:b}=d;return this._debug("#_initialize()","detected session in URL",g,"redirect type",b),await this._saveSession(g),setTimeout(async()=>{b==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",g):await this._notifyAllSubscribers("SIGNED_IN",g)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return isAuthError(a)?{error:a}:{error:new AuthUnknownError("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var a,o,d;try{const h=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(d=e==null?void 0:e.options)===null||d===void 0?void 0:d.captchaToken}},xform:_sessionResponse}),{data:g,error:b}=h;if(b||!g)return{data:{user:null,session:null},error:b};const j=g.session,_=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",j)),{data:{user:_,session:j},error:null}}catch(h){if(isAuthError(h))return{data:{user:null,session:null},error:h};throw h}}async signUp(e){var a,o,d;try{let h;if("email"in e){const{email:$,password:_e,options:et}=e;let tt=null,nt=null;this.flowType==="pkce"&&([tt,nt]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),h=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:et==null?void 0:et.emailRedirectTo,body:{email:$,password:_e,data:(a=et==null?void 0:et.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:et==null?void 0:et.captchaToken},code_challenge:tt,code_challenge_method:nt},xform:_sessionResponse})}else if("phone"in e){const{phone:$,password:_e,options:et}=e;h=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:$,password:_e,data:(o=et==null?void 0:et.data)!==null&&o!==void 0?o:{},channel:(d=et==null?void 0:et.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:et==null?void 0:et.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:g,error:b}=h;if(b||!g)return{data:{user:null,session:null},error:b};const j=g.session,_=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",j)),{data:{user:_,session:j},error:null}}catch(h){if(isAuthError(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(e){try{let a;if("email"in e){const{email:h,password:g,options:b}=e;a=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:g,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in e){const{phone:h,password:g,options:b}=e;a=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:g,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:o,error:d}=a;return d?{data:{user:null,session:null},error:d}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:d})}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(e){var a,o,d,h;return await this._handleProviderSignIn(e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(h=e.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:a}=e;switch(a){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(e){var a,o,d,h,g,b,j,_,$,_e,et;let tt,nt;if("message"in e)tt=e.message,nt=e.signature;else{const{chain:it,wallet:st,statement:rt,options:at}=e;let ht;if(isBrowser())if(typeof st=="object")ht=st;else{const vt=window;if("ethereum"in vt&&typeof vt.ethereum=="object"&&"request"in vt.ethereum&&typeof vt.ethereum.request=="function")ht=vt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof st!="object"||!(at!=null&&at.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ht=st}const ft=new URL((a=at==null?void 0:at.url)!==null&&a!==void 0?a:window.location.href),ot=await ht.request({method:"eth_requestAccounts"}).then(vt=>vt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ot||ot.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ut=getAddress(ot[0]);let ct=(o=at==null?void 0:at.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ct){const vt=await ht.request({method:"eth_chainId"});ct=fromHex(vt)}const dt={domain:ft.host,address:ut,statement:rt,uri:ft.href,version:"1",chainId:ct,nonce:(d=at==null?void 0:at.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(g=(h=at==null?void 0:at.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&g!==void 0?g:new Date,expirationTime:(b=at==null?void 0:at.signInWithEthereum)===null||b===void 0?void 0:b.expirationTime,notBefore:(j=at==null?void 0:at.signInWithEthereum)===null||j===void 0?void 0:j.notBefore,requestId:(_=at==null?void 0:at.signInWithEthereum)===null||_===void 0?void 0:_.requestId,resources:($=at==null?void 0:at.signInWithEthereum)===null||$===void 0?void 0:$.resources};tt=createSiweMessage(dt),nt=await ht.request({method:"personal_sign",params:[toHex(tt),ut]})}try{const{data:it,error:st}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:tt,signature:nt},!((_e=e.options)===null||_e===void 0)&&_e.captchaToken?{gotrue_meta_security:{captcha_token:(et=e.options)===null||et===void 0?void 0:et.captchaToken}}:null),xform:_sessionResponse});if(st)throw st;return!it||!it.session||!it.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(it.session&&(await this._saveSession(it.session),await this._notifyAllSubscribers("SIGNED_IN",it.session)),{data:Object.assign({},it),error:st})}catch(it){if(isAuthError(it))return{data:{user:null,session:null},error:it};throw it}}async signInWithSolana(e){var a,o,d,h,g,b,j,_,$,_e,et,tt;let nt,it;if("message"in e)nt=e.message,it=e.signature;else{const{chain:st,wallet:rt,statement:at,options:ht}=e;let ft;if(isBrowser())if(typeof rt=="object")ft=rt;else{const ut=window;if("solana"in ut&&typeof ut.solana=="object"&&("signIn"in ut.solana&&typeof ut.solana.signIn=="function"||"signMessage"in ut.solana&&typeof ut.solana.signMessage=="function"))ft=ut.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof rt!="object"||!(ht!=null&&ht.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ft=rt}const ot=new URL((a=ht==null?void 0:ht.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in ft&&ft.signIn){const ut=await ft.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},ht==null?void 0:ht.signInWithSolana),{version:"1",domain:ot.host,uri:ot.href}),at?{statement:at}:null));let ct;if(Array.isArray(ut)&&ut[0]&&typeof ut[0]=="object")ct=ut[0];else if(ut&&typeof ut=="object"&&"signedMessage"in ut&&"signature"in ut)ct=ut;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ct&&"signature"in ct&&(typeof ct.signedMessage=="string"||ct.signedMessage instanceof Uint8Array)&&ct.signature instanceof Uint8Array)nt=typeof ct.signedMessage=="string"?ct.signedMessage:new TextDecoder().decode(ct.signedMessage),it=ct.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ft)||typeof ft.signMessage!="function"||!("publicKey"in ft)||typeof ft!="object"||!ft.publicKey||!("toBase58"in ft.publicKey)||typeof ft.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");nt=[`${ot.host} wants you to sign in with your Solana account:`,ft.publicKey.toBase58(),...at?["",at,""]:[""],"Version: 1",`URI: ${ot.href}`,`Issued At: ${(d=(o=ht==null?void 0:ht.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((h=ht==null?void 0:ht.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${ht.signInWithSolana.notBefore}`]:[],...!((g=ht==null?void 0:ht.signInWithSolana)===null||g===void 0)&&g.expirationTime?[`Expiration Time: ${ht.signInWithSolana.expirationTime}`]:[],...!((b=ht==null?void 0:ht.signInWithSolana)===null||b===void 0)&&b.chainId?[`Chain ID: ${ht.signInWithSolana.chainId}`]:[],...!((j=ht==null?void 0:ht.signInWithSolana)===null||j===void 0)&&j.nonce?[`Nonce: ${ht.signInWithSolana.nonce}`]:[],...!((_=ht==null?void 0:ht.signInWithSolana)===null||_===void 0)&&_.requestId?[`Request ID: ${ht.signInWithSolana.requestId}`]:[],...!((_e=($=ht==null?void 0:ht.signInWithSolana)===null||$===void 0?void 0:$.resources)===null||_e===void 0)&&_e.length?["Resources",...ht.signInWithSolana.resources.map(ct=>`- ${ct}`)]:[]].join(`
`);const ut=await ft.signMessage(new TextEncoder().encode(nt),"utf8");if(!ut||!(ut instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");it=ut}}try{const{data:st,error:rt}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:nt,signature:bytesToBase64URL(it)},!((et=e.options)===null||et===void 0)&&et.captchaToken?{gotrue_meta_security:{captcha_token:(tt=e.options)===null||tt===void 0?void 0:tt.captchaToken}}:null),xform:_sessionResponse});if(rt)throw rt;return!st||!st.session||!st.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(st.session&&(await this._saveSession(st.session),await this._notifyAllSubscribers("SIGNED_IN",st.session)),{data:Object.assign({},st),error:rt})}catch(st){if(isAuthError(st))return{data:{user:null,session:null},error:st};throw st}}async _exchangeCodeForSession(e){const a=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[o,d]=(a??"").split("/");try{const{data:h,error:g}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),g)throw g;return!h||!h.session||!h.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:Object.assign(Object.assign({},h),{redirectType:d??null}),error:g})}catch(h){if(isAuthError(h))return{data:{user:null,session:null,redirectType:null},error:h};throw h}}async signInWithIdToken(e){try{const{options:a,provider:o,token:d,access_token:h,nonce:g}=e,b=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:d,access_token:h,nonce:g,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_sessionResponse}),{data:j,error:_}=b;return _?{data:{user:null,session:null},error:_}:!j||!j.session||!j.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:j,error:_})}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(e){var a,o,d,h,g;try{if("email"in e){const{email:b,options:j}=e;let _=null,$=null;this.flowType==="pkce"&&([_,$]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:_e}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:b,data:(a=j==null?void 0:j.data)!==null&&a!==void 0?a:{},create_user:(o=j==null?void 0:j.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:_,code_challenge_method:$},redirectTo:j==null?void 0:j.emailRedirectTo});return{data:{user:null,session:null},error:_e}}if("phone"in e){const{phone:b,options:j}=e,{data:_,error:$}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:b,data:(d=j==null?void 0:j.data)!==null&&d!==void 0?d:{},create_user:(h=j==null?void 0:j.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},channel:(g=j==null?void 0:j.channel)!==null&&g!==void 0?g:"sms"}});return{data:{user:null,session:null,messageId:_==null?void 0:_.message_id},error:$}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(b){if(isAuthError(b))return{data:{user:null,session:null},error:b};throw b}}async verifyOtp(e){var a,o;try{let d,h;"options"in e&&(d=(a=e.options)===null||a===void 0?void 0:a.redirectTo,h=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:g,error:b}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:h}}),redirectTo:d,xform:_sessionResponse});if(b)throw b;if(!g)throw new Error("An error occurred on token verification.");const j=g.session,_=g.user;return j!=null&&j.access_token&&(await this._saveSession(j),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",j)),{data:{user:_,session:j},error:null}}catch(d){if(isAuthError(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithSSO(e){var a,o,d;try{let h=null,g=null;return this.flowType==="pkce"&&([h,g]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(a=e.options)===null||a===void 0?void 0:a.redirectTo)!==null&&o!==void 0?o:void 0}),!((d=e==null?void 0:e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:g}),headers:this.headers,xform:_ssoResponse})}catch(h){if(isAuthError(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:a},error:o}=e;if(o)throw o;if(!a)throw new AuthSessionMissingError;const{error:d}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:d}})}catch(e){if(isAuthError(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const a=`${this.url}/resend`;if("email"in e){const{email:o,type:d,options:h}=e,{error:g}=await _request(this.fetch,"POST",a,{headers:this.headers,body:{email:o,type:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:g}}else if("phone"in e){const{phone:o,type:d,options:h}=e,{data:g,error:b}=await _request(this.fetch,"POST",a,{headers:this.headers,body:{phone:o,type:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:b}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(e,a){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await o,await a()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=a();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await e(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const a=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?e=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const g=await getItemAsync(this.userStorage,this.storageKey+"-user");g!=null&&g.user?e.user=g.user:e.user=userNotAvailableProxy()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const g={value:this.suppressGetSessionWarning};e.user=insecureUserWarningProxy(e.user,g),g.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);return h?{data:{session:null},error:h}:{data:{session:d},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_userResponse}):await this._useSession(async a=>{var o,d,h;const{data:g,error:b}=a;if(b)throw b;return!(!((o=g.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0,xform:_userResponse})})}catch(a){if(isAuthError(a))return isAuthSessionMissingError(a)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(e,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,a))}async _updateUser(e,a={}){try{return await this._useSession(async o=>{const{data:d,error:h}=o;if(h)throw h;if(!d.session)throw new AuthSessionMissingError;const g=d.session;let b=null,j=null;this.flowType==="pkce"&&e.email!=null&&([b,j]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:_,error:$}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:b,code_challenge_method:j}),jwt:g.access_token,xform:_userResponse});if($)throw $;return g.user=_.user,await this._saveSession(g),await this._notifyAllSubscribers("USER_UPDATED",g),{data:{user:g.user},error:null}})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new AuthSessionMissingError;const a=Date.now()/1e3;let o=a,d=!0,h=null;const{payload:g}=decodeJWT(e.access_token);if(g.exp&&(o=g.exp,d=o<=a),d){const{data:b,error:j}=await this._callRefreshToken(e.refresh_token);if(j)return{data:{user:null,session:null},error:j};if(!b)return{data:{user:null,session:null},error:null};h=b}else{const{data:b,error:j}=await this._getUser(e.access_token);if(j)throw j;h={access_token:e.access_token,refresh_token:e.refresh_token,user:b.user,token_type:"bearer",expires_in:o-a,expires_at:o},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(a){if(isAuthError(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async a=>{var o;if(!e){const{data:g,error:b}=a;if(b)throw b;e=(o=g.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new AuthSessionMissingError;const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);return h?{data:{user:null,session:null},error:h}:d?{data:{user:d.user,session:d},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(e,a){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(e.error||e.error_description||e.error_code)throw new AuthImplicitGrantRedirectError(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:at,error:ht}=await this._exchangeCodeForSession(e.code);if(ht)throw ht;const ft=new URL(window.location.href);return ft.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ft.toString()),{data:{session:at.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:d,access_token:h,refresh_token:g,expires_in:b,expires_at:j,token_type:_}=e;if(!h||!b||!g||!_)throw new AuthImplicitGrantRedirectError("No session defined in URL");const $=Math.round(Date.now()/1e3),_e=parseInt(b);let et=$+_e;j&&(et=parseInt(j));const tt=et-$;tt*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${tt}s, should have been closer to ${_e}s`);const nt=et-_e;$-nt>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",nt,et,$):$-nt<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",nt,et,$);const{data:it,error:st}=await this._getUser(h);if(st)throw st;const rt={provider_token:o,provider_refresh_token:d,access_token:h,expires_in:_e,expires_at:et,refresh_token:g,token_type:_,user:it.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:rt,redirectType:e.type},error:null}}catch(o){if(isAuthError(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const a=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&a)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async a=>{var o;const{data:d,error:h}=a;if(h)return{error:h};const g=(o=d.session)===null||o===void 0?void 0:o.access_token;if(g){const{error:b}=await this.admin.signOut(g,e);if(b&&!(isAuthApiError(b)&&(b.status===404||b.status===401||b.status===403)))return{error:b}}return e!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const a=uuid$1(),o={id:a,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async a=>{var o,d;try{const{data:{session:h},error:g}=a;if(g)throw g;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",e,"session",h)}catch(h){await((d=this.stateChangeEmitters.get(e))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",h),console.error(h)}})}async resetPasswordForEmail(e,a={}){let o=null,d=null;this.flowType==="pkce"&&([o,d]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:d,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(h){if(isAuthError(h))return{data:null,error:h};throw h}}async getUserIdentities(){var e;try{const{data:a,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(e=a.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var a;try{const{data:o,error:d}=await this._useSession(async h=>{var g,b,j,_,$;const{data:_e,error:et}=h;if(et)throw et;const tt=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(g=e.options)===null||g===void 0?void 0:g.redirectTo,scopes:(b=e.options)===null||b===void 0?void 0:b.scopes,queryParams:(j=e.options)===null||j===void 0?void 0:j.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",tt,{headers:this.headers,jwt:($=(_=_e.session)===null||_===void 0?void 0:_.access_token)!==null&&$!==void 0?$:void 0})});if(d)throw d;return isBrowser()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:e.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(isAuthError(o))return{data:{provider:e.provider,url:null},error:o};throw o}}async linkIdentityIdToken(e){return await this._useSession(async a=>{var o;try{const{error:d,data:{session:h}}=a;if(d)throw d;const{options:g,provider:b,token:j,access_token:_,nonce:$}=e,_e=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=h==null?void 0:h.access_token)!==null&&o!==void 0?o:void 0,body:{provider:b,id_token:j,access_token:_,nonce:$,link_identity:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_sessionResponse}),{data:et,error:tt}=_e;return tt?{data:{user:null,session:null},error:tt}:!et||!et.session||!et.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(et.session&&(await this._saveSession(et.session),await this._notifyAllSubscribers("USER_UPDATED",et.session)),{data:et,error:tt})}catch(d){if(isAuthError(d))return{data:{user:null,session:null},error:d};throw d}})}async unlinkIdentity(e){try{return await this._useSession(async a=>{var o,d;const{data:h,error:g}=a;if(g)throw g;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(d=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _refreshAccessToken(e){const a=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{const o=Date.now();return await retryable(async d=>(d>0&&await sleep(200*Math.pow(2,d-1)),this._debug(a,"refreshing attempt",d),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_sessionResponse})),(d,h)=>{const g=200*Math.pow(2,d);return h&&isAuthRetryableFetchError(h)&&Date.now()+g-o<AUTO_REFRESH_TICK_DURATION_MS})}catch(o){if(this._debug(a,"error",o),isAuthError(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(a,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,a){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",a,"url",o),isBrowser()&&!a.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,a;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const d=await getItemAsync(this.storage,this.storageKey);if(d&&this.userStorage){let g=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!g&&(g={user:d.user},await setItemAsync(this.userStorage,this.storageKey+"-user",g)),d.user=(e=g==null?void 0:g.user)!==null&&e!==void 0?e:userNotAvailableProxy()}else if(d&&!d.user&&!d.user){const g=await getItemAsync(this.storage,this.storageKey+"-user");g&&(g!=null&&g.user)?(d.user=g.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,d)):d.user=userNotAvailableProxy()}if(this._debug(o,"session from storage",d),!this._isValidSession(d)){this._debug(o,"session is not valid"),d!==null&&await this._removeSession();return}const h=((a=d.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(o,`session has${h?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),h){if(this.autoRefreshToken&&d.refresh_token){const{error:g}=await this._callRefreshToken(d.refresh_token);g&&(console.error(g),isAuthRetryableFetchError(g)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",g),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:g,error:b}=await this._getUser(d.access_token);!b&&(g!=null&&g.user)?(d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(g){console.error("Error getting user data:",g),this._debug(o,"error getting user data, skipping SIGNED_IN notification",g)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(o,"error",d),console.error(d);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var a,o;if(!e)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Deferred;const{data:h,error:g}=await this._refreshAccessToken(e);if(g)throw g;if(!h.session)throw new AuthSessionMissingError;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const b={data:h.session,error:null};return this.refreshingDeferred.resolve(b),b}catch(h){if(this._debug(d,"error",h),isAuthError(h)){const g={data:null,error:h};return isAuthRetryableFetchError(h)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(g),g}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(h),h}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(e,a,o=!0){const d=`#_notifyAllSubscribers(${e})`;this._debug(d,"begin",a,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:a});const h=[],g=Array.from(this.stateChangeEmitters.values()).map(async b=>{try{await b.callback(e,a)}catch(j){h.push(j)}});if(await Promise.all(g),h.length>0){for(let b=0;b<h.length;b+=1)console.error(h[b]);throw h[0]}}finally{this._debug(d,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const a=Object.assign({},e),o=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&a.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:a.user});const d=Object.assign({},a);delete d.user;const h=deepClone(d);await setItemAsync(this.storage,this.storageKey,h)}else{const d=deepClone(a);await setItemAsync(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&isBrowser()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async a=>{const{data:{session:o}}=a;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((o.expires_at*1e3-e)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),d<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(o.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const a=`#_onVisibilityChanged(${e})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,a,o){const d=[`provider=${encodeURIComponent(a)}`];if(o!=null&&o.redirectTo&&d.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&d.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[h,g]=await getCodeChallengeAndMethod(this.storage,this.storageKey),b=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(g)}`});d.push(b.toString())}if(o!=null&&o.queryParams){const h=new URLSearchParams(o.queryParams);d.push(h.toString())}return o!=null&&o.skipBrowserRedirect&&d.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${d.join("&")}`}async _unenroll(e){try{return await this._useSession(async a=>{var o;const{data:d,error:h}=a;return h?{data:null,error:h}:await _request(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _enroll(e){try{return await this._useSession(async a=>{var o,d;const{data:h,error:g}=a;if(g)return{data:null,error:g};const b=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:j,error:_}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:b,headers:this.headers,jwt:(o=h==null?void 0:h.session)===null||o===void 0?void 0:o.access_token});return _?{data:null,error:_}:(e.factorType==="totp"&&j.type==="totp"&&(!((d=j==null?void 0:j.totp)===null||d===void 0)&&d.qr_code)&&(j.totp.qr_code=`data:image/svg+xml;utf-8,${j.totp.qr_code}`),{data:j,error:null})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var o;const{data:d,error:h}=a;if(h)return{data:null,error:h};const g=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?serializeCredentialCreationResponse(e.webauthn.credential_response):serializeCredentialRequestResponse(e.webauthn.credential_response)})}:{code:e.code}),{data:b,error:j}=await _request(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:g,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});return j?{data:null,error:j}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+b.expires_in},b)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",b),{data:b,error:j})})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var o;const{data:d,error:h}=a;if(h)return{data:null,error:h};const g=await _request(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});if(g.error)return g;const{data:b}=g;if(b.type!=="webauthn")return{data:b,error:null};switch(b.webauthn.type){case"create":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:deserializeCredentialCreationOptions(b.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:deserializeCredentialRequestOptions(b.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(e){const{data:a,error:o}=await this._challenge({factorId:e.factorId});return o?{data:null,error:o}:await this._verify({factorId:e.factorId,challengeId:a.id,code:e.code})}async _listFactors(){var e;const{data:{user:a},error:o}=await this.getUser();if(o)return{data:null,error:o};const d={all:[],phone:[],totp:[],webauthn:[]};for(const h of(e=a==null?void 0:a.factors)!==null&&e!==void 0?e:[])d.all.push(h),h.status==="verified"&&d[h.factor_type].push(h);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var e,a;const{data:{session:o},error:d}=await this.getSession();if(d)return{data:null,error:d};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=decodeJWT(o.access_token);let g=null;h.aal&&(g=h.aal);let b=g;((a=(e=o.user.factors)===null||e===void 0?void 0:e.filter($=>$.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(b="aal2");const _=h.amr||[];return{data:{currentLevel:g,nextLevel:b,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async a=>{const{data:{session:o},error:d}=a;return d?{data:null,error:d}:o?await _request(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:h=>({data:h,error:null})}):{data:null,error:new AuthSessionMissingError}})}catch(a){if(isAuthError(a))return{data:null,error:a};throw a}}async _approveAuthorization(e,a){try{return await this._useSession(async o=>{const{data:{session:d},error:h}=o;if(h)return{data:null,error:h};if(!d)return{data:null,error:new AuthSessionMissingError};const g=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:b=>({data:b,error:null})});return g.data&&g.data.redirect_url&&isBrowser()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(g.data.redirect_url),g})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}async _denyAuthorization(e,a){try{return await this._useSession(async o=>{const{data:{session:d},error:h}=o;if(h)return{data:null,error:h};if(!d)return{data:null,error:new AuthSessionMissingError};const g=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:b=>({data:b,error:null})});return g.data&&g.data.redirect_url&&isBrowser()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(g.data.redirect_url),g})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}async fetchJwk(e,a={keys:[]}){let o=a.keys.find(b=>b.kid===e);if(o)return o;const d=Date.now();if(o=this.jwks.keys.find(b=>b.kid===e),o&&this.jwks_cached_at+JWKS_TTL>d)return o;const{data:h,error:g}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(g)throw g;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=d,o=h.keys.find(b=>b.kid===e),!o)?null:o}async getClaims(e,a={}){try{let o=e;if(!o){const{data:tt,error:nt}=await this.getSession();if(nt||!tt.session)return{data:null,error:nt};o=tt.session.access_token}const{header:d,payload:h,signature:g,raw:{header:b,payload:j}}=decodeJWT(o);a!=null&&a.allowExpired||validateExp(h.exp);const _=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!_){const{error:tt}=await this.getUser(o);if(tt)throw tt;return{data:{claims:h,header:d,signature:g},error:null}}const $=getAlgorithm(d.alg),_e=await crypto.subtle.importKey("jwk",_,$,!0,["verify"]);if(!await crypto.subtle.verify($,_e,g,stringToUint8Array(`${b}.${j}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:h,header:d,signature:g},error:null}}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor(e){super(e)}}class SupabaseClient{constructor(e,a,o){var d,h,g;this.supabaseUrl=e,this.supabaseKey=a;const b=validateSupabaseUrl(e);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",b),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",b),this.storageUrl=new URL("storage/v1",b),this.functionsUrl=new URL("functions/v1",b);const j=`sb-${b.hostname.split(".")[0]}-auth-token`,_={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:DEFAULT_GLOBAL_OPTIONS},$=applySettingDefaults(o??{},_);this.storageKey=(d=$.auth.storageKey)!==null&&d!==void 0?d:"",this.headers=(h=$.global.headers)!==null&&h!==void 0?h:{},$.accessToken?(this.accessToken=$.accessToken,this.auth=new Proxy({},{get:(_e,et)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(et)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((g=$.auth)!==null&&g!==void 0?g:{},this.headers,$.global.fetch),this.fetch=fetchWithAuth(a,this._getAccessToken.bind(this),$.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},$.realtime)),this.rest=new PostgrestClient(new URL("rest/v1",b).href,{headers:this.headers,schema:$.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),$.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,a={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,a,o)}channel(e,a={config:{}}){return this.realtime.channel(e,a)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,a;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(a=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&a!==void 0?a:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:a,detectSessionInUrl:o,storage:d,userStorage:h,storageKey:g,flowType:b,lock:j,debug:_},$,_e){const et={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},et),$),storageKey:g,autoRefreshToken:e,persistSession:a,detectSessionInUrl:o,storage:d,userStorage:h,flowType:b,lock:j,debug:_,fetch:_e,hasCustomAuthorizationHeader:Object.keys(this.headers).some(tt=>tt.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,o)=>{this._handleTokenChanged(a,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(e,a,o){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(s,e,a)=>new SupabaseClient(s,e,a);function shouldShowDeprecationWarning(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const e=s.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function _typeof$8(s){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$8(s)}function _createClass$8(s,e,a){return Object.defineProperty(s,"prototype",{writable:!1}),s}function _classCallCheck$8(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function _callSuper$1(s,e,a){return e=_getPrototypeOf$1(e),_possibleConstructorReturn$1(s,_isNativeReflectConstruct$1()?Reflect.construct(e,a||[],_getPrototypeOf$1(s).constructor):e.apply(s,a))}function _possibleConstructorReturn$1(s,e){if(e&&(_typeof$8(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(s)}function _assertThisInitialized$1(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function _inherits$1(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&_setPrototypeOf$1(s,e)}function _wrapNativeSuper(s){var e=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(o){if(o===null||!_isNativeFunction(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(o))return e.get(o);e.set(o,d)}function d(){return _construct(o,arguments,_getPrototypeOf$1(this).constructor)}return d.prototype=Object.create(o.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf$1(d,o)},_wrapNativeSuper(s)}function _construct(s,e,a){if(_isNativeReflectConstruct$1())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var d=new(s.bind.apply(s,o));return a&&_setPrototypeOf$1(d,a.prototype),d}function _isNativeReflectConstruct$1(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!s})()}function _isNativeFunction(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}function _setPrototypeOf$1(s,e){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,d){return o.__proto__=d,o},_setPrototypeOf$1(s,e)}function _getPrototypeOf$1(s){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf$1(s)}var DetailedError=function(s){function e(a){var o,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(_classCallCheck$8(this,e),o=_callSuper$1(this,e,[a]),o.originalRequest=h,o.originalResponse=g,o.causingError=d,d!=null&&(a+=", caused by ".concat(d.toString())),h!=null){var b=h.getHeader("X-Request-ID")||"n/a",j=h.getMethod(),_=h.getURL(),$=g?g.getStatus():"n/a",_e=g?g.getBody()||"":"n/a";a+=", originated from request (method: ".concat(j,", url: ").concat(_,", response code: ").concat($,", response text: ").concat(_e,", request id: ").concat(b,")")}return o.message=a,o}return _inherits$1(e,s),_createClass$8(e)}(_wrapNativeSuper(Error));function log(s){}function _typeof$7(s){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$7(s)}function _classCallCheck$7(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(s,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,_toPropertyKey$7(o.key),o)}}function _createClass$7(s,e,a){return e&&_defineProperties$7(s.prototype,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function _toPropertyKey$7(s){var e=_toPrimitive$7(s,"string");return _typeof$7(e)=="symbol"?e:e+""}function _toPrimitive$7(s,e){if(_typeof$7(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var o=a.call(s,e);if(_typeof$7(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var NoopUrlStorage=function(){function s(){_classCallCheck$7(this,s)}return _createClass$7(s,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(a){return Promise.resolve([])}},{key:"removeUpload",value:function(a){return Promise.resolve()}},{key:"addUpload",value:function(a,o){return Promise.resolve(null)}}])}();const version="3.7.8",VERSION=version,_hasBuffer=typeof Buffer=="function",_TD=typeof TextDecoder=="function"?new TextDecoder:void 0,_TE=typeof TextEncoder=="function"?new TextEncoder:void 0,b64ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64chs=Array.prototype.slice.call(b64ch),b64tab=(s=>{let e={};return s.forEach((a,o)=>e[a]=o),e})(b64chs),b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_fromCC=String.fromCharCode.bind(String),_U8Afrom=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):s=>new Uint8Array(Array.prototype.slice.call(s,0)),_mkUriSafe=s=>s.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),_tidyB64=s=>s.replace(/[^A-Za-z0-9\+\/]/g,""),btoaPolyfill=s=>{let e,a,o,d,h="";const g=s.length%3;for(let b=0;b<s.length;){if((a=s.charCodeAt(b++))>255||(o=s.charCodeAt(b++))>255||(d=s.charCodeAt(b++))>255)throw new TypeError("invalid character found");e=a<<16|o<<8|d,h+=b64chs[e>>18&63]+b64chs[e>>12&63]+b64chs[e>>6&63]+b64chs[e&63]}return g?h.slice(0,g-3)+"===".substring(g):h},_btoa=typeof btoa=="function"?s=>btoa(s):_hasBuffer?s=>Buffer.from(s,"binary").toString("base64"):btoaPolyfill,_fromUint8Array=_hasBuffer?s=>Buffer.from(s).toString("base64"):s=>{let a=[];for(let o=0,d=s.length;o<d;o+=4096)a.push(_fromCC.apply(null,s.subarray(o,o+4096)));return _btoa(a.join(""))},fromUint8Array=(s,e=!1)=>e?_mkUriSafe(_fromUint8Array(s)):_fromUint8Array(s),cb_utob=s=>{if(s.length<2){var e=s.charCodeAt(0);return e<128?s:e<2048?_fromCC(192|e>>>6)+_fromCC(128|e&63):_fromCC(224|e>>>12&15)+_fromCC(128|e>>>6&63)+_fromCC(128|e&63)}else{var e=65536+(s.charCodeAt(0)-55296)*1024+(s.charCodeAt(1)-56320);return _fromCC(240|e>>>18&7)+_fromCC(128|e>>>12&63)+_fromCC(128|e>>>6&63)+_fromCC(128|e&63)}},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=s=>s.replace(re_utob,cb_utob),_encode=_hasBuffer?s=>Buffer.from(s,"utf8").toString("base64"):_TE?s=>_fromUint8Array(_TE.encode(s)):s=>_btoa(utob(s)),encode$1=(s,e=!1)=>e?_mkUriSafe(_encode(s)):_encode(s),encodeURI$1=s=>encode$1(s,!0),re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=s=>{switch(s.length){case 4:var e=(7&s.charCodeAt(0))<<18|(63&s.charCodeAt(1))<<12|(63&s.charCodeAt(2))<<6|63&s.charCodeAt(3),a=e-65536;return _fromCC((a>>>10)+55296)+_fromCC((a&1023)+56320);case 3:return _fromCC((15&s.charCodeAt(0))<<12|(63&s.charCodeAt(1))<<6|63&s.charCodeAt(2));default:return _fromCC((31&s.charCodeAt(0))<<6|63&s.charCodeAt(1))}},btou=s=>s.replace(re_btou,cb_btou),atobPolyfill=s=>{if(s=s.replace(/\s+/g,""),!b64re.test(s))throw new TypeError("malformed base64.");s+="==".slice(2-(s.length&3));let e,a,o,d=[];for(let h=0;h<s.length;)e=b64tab[s.charAt(h++)]<<18|b64tab[s.charAt(h++)]<<12|(a=b64tab[s.charAt(h++)])<<6|(o=b64tab[s.charAt(h++)]),a===64?d.push(_fromCC(e>>16&255)):o===64?d.push(_fromCC(e>>16&255,e>>8&255)):d.push(_fromCC(e>>16&255,e>>8&255,e&255));return d.join("")},_atob=typeof atob=="function"?s=>atob(_tidyB64(s)):_hasBuffer?s=>Buffer.from(s,"base64").toString("binary"):atobPolyfill,_toUint8Array=_hasBuffer?s=>_U8Afrom(Buffer.from(s,"base64")):s=>_U8Afrom(_atob(s).split("").map(e=>e.charCodeAt(0))),toUint8Array$1=s=>_toUint8Array(_unURI(s)),_decode=_hasBuffer?s=>Buffer.from(s,"base64").toString("utf8"):_TD?s=>_TD.decode(_toUint8Array(s)):s=>btou(_atob(s)),_unURI=s=>_tidyB64(s.replace(/[-_]/g,e=>e=="-"?"+":"/")),decode$1=s=>_decode(_unURI(s)),isValid=s=>{if(typeof s!="string")return!1;const e=s.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},_noEnum=s=>({value:s,enumerable:!1,writable:!0,configurable:!0}),extendString=function(){const s=(e,a)=>Object.defineProperty(String.prototype,e,_noEnum(a));s("fromBase64",function(){return decode$1(this)}),s("toBase64",function(e){return encode$1(this,e)}),s("toBase64URI",function(){return encode$1(this,!0)}),s("toBase64URL",function(){return encode$1(this,!0)}),s("toUint8Array",function(){return toUint8Array$1(this)})},extendUint8Array=function(){const s=(e,a)=>Object.defineProperty(Uint8Array.prototype,e,_noEnum(a));s("toBase64",function(e){return fromUint8Array(this,e)}),s("toBase64URI",function(){return fromUint8Array(this,!0)}),s("toBase64URL",function(){return fromUint8Array(this,!0)})},extendBuiltins=()=>{extendString(),extendUint8Array()},gBase64={version,VERSION,atob:_atob,atobPolyfill,btoa:_btoa,btoaPolyfill,fromBase64:decode$1,toBase64:encode$1,encode:encode$1,encodeURI:encodeURI$1,encodeURL:encodeURI$1,utob,btou,decode:decode$1,isValid,fromUint8Array,toUint8Array:toUint8Array$1,extendString,extendUint8Array,extendBuiltins};var requiresPort=function(e,a){if(a=a.split(":")[0],e=+e,!e)return!1;switch(a){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},querystringify$1={},has=Object.prototype.hasOwnProperty,undef;function decode(s){try{return decodeURIComponent(s.replace(/\+/g," "))}catch{return null}}function encode(s){try{return encodeURIComponent(s)}catch{return null}}function querystring(s){for(var e=/([^=?#&]+)=?([^&]*)/g,a={},o;o=e.exec(s);){var d=decode(o[1]),h=decode(o[2]);d===null||h===null||d in a||(a[d]=h)}return a}function querystringify(s,e){e=e||"";var a=[],o,d;typeof e!="string"&&(e="?");for(d in s)if(has.call(s,d)){if(o=s[d],!o&&(o===null||o===undef||isNaN(o))&&(o=""),d=encode(d),o=encode(o),d===null||o===null)continue;a.push(d+"="+o)}return a.length?e+a.join("&"):""}querystringify$1.stringify=querystringify;querystringify$1.parse=querystring;var required=requiresPort,qs=querystringify$1,controlOrWhitespace=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,CRHTLF=/[\n\r\t]/g,slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,port=/:\d+$/,protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,windowsDriveLetter=/^[a-zA-Z]:/;function trimLeft(s){return(s||"").toString().replace(controlOrWhitespace,"")}var rules=[["#","hash"],["?","query"],function(e,a){return isSpecial(a.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ignore={hash:1,query:1};function lolcation(s){var e;typeof window<"u"?e=window:typeof commonjsGlobal<"u"?e=commonjsGlobal:typeof self<"u"?e=self:e={};var a=e.location||{};s=s||a;var o={},d=typeof s,h;if(s.protocol==="blob:")o=new Url(unescape(s.pathname),{});else if(d==="string"){o=new Url(s,{});for(h in ignore)delete o[h]}else if(d==="object"){for(h in s)h in ignore||(o[h]=s[h]);o.slashes===void 0&&(o.slashes=slashes.test(s.href))}return o}function isSpecial(s){return s==="file:"||s==="ftp:"||s==="http:"||s==="https:"||s==="ws:"||s==="wss:"}function extractProtocol(s,e){s=trimLeft(s),s=s.replace(CRHTLF,""),e=e||{};var a=protocolre.exec(s),o=a[1]?a[1].toLowerCase():"",d=!!a[2],h=!!a[3],g=0,b;return d?h?(b=a[2]+a[3]+a[4],g=a[2].length+a[3].length):(b=a[2]+a[4],g=a[2].length):h?(b=a[3]+a[4],g=a[3].length):b=a[4],o==="file:"?g>=2&&(b=b.slice(2)):isSpecial(o)?b=a[4]:o?d&&(b=b.slice(2)):g>=2&&isSpecial(e.protocol)&&(b=a[4]),{protocol:o,slashes:d||isSpecial(o),slashesCount:g,rest:b}}function resolve(s,e){if(s==="")return e;for(var a=(e||"/").split("/").slice(0,-1).concat(s.split("/")),o=a.length,d=a[o-1],h=!1,g=0;o--;)a[o]==="."?a.splice(o,1):a[o]===".."?(a.splice(o,1),g++):g&&(o===0&&(h=!0),a.splice(o,1),g--);return h&&a.unshift(""),(d==="."||d==="..")&&a.push(""),a.join("/")}function Url(s,e,a){if(s=trimLeft(s),s=s.replace(CRHTLF,""),!(this instanceof Url))return new Url(s,e,a);var o,d,h,g,b,j,_=rules.slice(),$=typeof e,_e=this,et=0;for($!=="object"&&$!=="string"&&(a=e,e=null),a&&typeof a!="function"&&(a=qs.parse),e=lolcation(e),d=extractProtocol(s||"",e),o=!d.protocol&&!d.slashes,_e.slashes=d.slashes||o&&e.slashes,_e.protocol=d.protocol||e.protocol||"",s=d.rest,(d.protocol==="file:"&&(d.slashesCount!==2||windowsDriveLetter.test(s))||!d.slashes&&(d.protocol||d.slashesCount<2||!isSpecial(_e.protocol)))&&(_[3]=[/(.*)/,"pathname"]);et<_.length;et++){if(g=_[et],typeof g=="function"){s=g(s,_e);continue}h=g[0],j=g[1],h!==h?_e[j]=s:typeof h=="string"?(b=h==="@"?s.lastIndexOf(h):s.indexOf(h),~b&&(typeof g[2]=="number"?(_e[j]=s.slice(0,b),s=s.slice(b+g[2])):(_e[j]=s.slice(b),s=s.slice(0,b)))):(b=h.exec(s))&&(_e[j]=b[1],s=s.slice(0,b.index)),_e[j]=_e[j]||o&&g[3]&&e[j]||"",g[4]&&(_e[j]=_e[j].toLowerCase())}a&&(_e.query=a(_e.query)),o&&e.slashes&&_e.pathname.charAt(0)!=="/"&&(_e.pathname!==""||e.pathname!=="")&&(_e.pathname=resolve(_e.pathname,e.pathname)),_e.pathname.charAt(0)!=="/"&&isSpecial(_e.protocol)&&(_e.pathname="/"+_e.pathname),required(_e.port,_e.protocol)||(_e.host=_e.hostname,_e.port=""),_e.username=_e.password="",_e.auth&&(b=_e.auth.indexOf(":"),~b?(_e.username=_e.auth.slice(0,b),_e.username=encodeURIComponent(decodeURIComponent(_e.username)),_e.password=_e.auth.slice(b+1),_e.password=encodeURIComponent(decodeURIComponent(_e.password))):_e.username=encodeURIComponent(decodeURIComponent(_e.auth)),_e.auth=_e.password?_e.username+":"+_e.password:_e.username),_e.origin=_e.protocol!=="file:"&&isSpecial(_e.protocol)&&_e.host?_e.protocol+"//"+_e.host:"null",_e.href=_e.toString()}function set(s,e,a){var o=this;switch(s){case"query":typeof e=="string"&&e.length&&(e=(a||qs.parse)(e)),o[s]=e;break;case"port":o[s]=e,required(e,o.protocol)?e&&(o.host=o.hostname+":"+e):(o.host=o.hostname,o[s]="");break;case"hostname":o[s]=e,o.port&&(e+=":"+o.port),o.host=e;break;case"host":o[s]=e,port.test(e)?(e=e.split(":"),o.port=e.pop(),o.hostname=e.join(":")):(o.hostname=e,o.port="");break;case"protocol":o.protocol=e.toLowerCase(),o.slashes=!a;break;case"pathname":case"hash":if(e){var d=s==="pathname"?"/":"#";o[s]=e.charAt(0)!==d?d+e:e}else o[s]=e;break;case"username":case"password":o[s]=encodeURIComponent(e);break;case"auth":var h=e.indexOf(":");~h?(o.username=e.slice(0,h),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=e.slice(h+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(e))}for(var g=0;g<rules.length;g++){var b=rules[g];b[4]&&(o[b[1]]=o[b[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin=o.protocol!=="file:"&&isSpecial(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o}function toString$2(s){(!s||typeof s!="function")&&(s=qs.stringify);var e,a=this,o=a.host,d=a.protocol;d&&d.charAt(d.length-1)!==":"&&(d+=":");var h=d+(a.protocol&&a.slashes||isSpecial(a.protocol)?"//":"");return a.username?(h+=a.username,a.password&&(h+=":"+a.password),h+="@"):a.password?(h+=":"+a.password,h+="@"):a.protocol!=="file:"&&isSpecial(a.protocol)&&!o&&a.pathname!=="/"&&(h+="@"),(o[o.length-1]===":"||port.test(a.hostname)&&!a.port)&&(o+=":"),h+=o+a.pathname,e=typeof a.query=="object"?s(a.query):a.query,e&&(h+=e.charAt(0)!=="?"?"?"+e:e),a.hash&&(h+=a.hash),h}Url.prototype={set,toString:toString$2};Url.extractProtocol=extractProtocol;Url.location=lolcation;Url.trimLeft=trimLeft;Url.qs=qs;var urlParse=Url;const URL$1=getDefaultExportFromCjs(urlParse);function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var e=Math.random()*16|0,a=s==="x"?e:e&3|8;return a.toString(16)})}function _regeneratorRuntime$1(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime$1=function(){return e};var s,e={},a=Object.prototype,o=a.hasOwnProperty,d=Object.defineProperty||function(Ft,wt,It){Ft[wt]=It.value},h=typeof Symbol=="function"?Symbol:{},g=h.iterator||"@@iterator",b=h.asyncIterator||"@@asyncIterator",j=h.toStringTag||"@@toStringTag";function _(Ft,wt,It){return Object.defineProperty(Ft,wt,{value:It,enumerable:!0,configurable:!0,writable:!0}),Ft[wt]}try{_({},"")}catch{_=function(It,yt,Dt){return It[yt]=Dt}}function $(Ft,wt,It,yt){var Dt=wt&&wt.prototype instanceof rt?wt:rt,Mt=Object.create(Dt.prototype),St=new Bt(yt||[]);return d(Mt,"_invoke",{value:Et(Ft,It,St)}),Mt}function _e(Ft,wt,It){try{return{type:"normal",arg:Ft.call(wt,It)}}catch(yt){return{type:"throw",arg:yt}}}e.wrap=$;var et="suspendedStart",tt="suspendedYield",nt="executing",it="completed",st={};function rt(){}function at(){}function ht(){}var ft={};_(ft,g,function(){return this});var ot=Object.getPrototypeOf,ut=ot&&ot(ot(jt([])));ut&&ut!==a&&o.call(ut,g)&&(ft=ut);var ct=ht.prototype=rt.prototype=Object.create(ft);function dt(Ft){["next","throw","return"].forEach(function(wt){_(Ft,wt,function(It){return this._invoke(wt,It)})})}function vt(Ft,wt){function It(Dt,Mt,St,gt){var mt=_e(Ft[Dt],Ft,Mt);if(mt.type!=="throw"){var xt=mt.arg,_t=xt.value;return _t&&_typeof$6(_t)=="object"&&o.call(_t,"__await")?wt.resolve(_t.__await).then(function(At){It("next",At,St,gt)},function(At){It("throw",At,St,gt)}):wt.resolve(_t).then(function(At){xt.value=At,St(xt)},function(At){return It("throw",At,St,gt)})}gt(mt.arg)}var yt;d(this,"_invoke",{value:function(Mt,St){function gt(){return new wt(function(mt,xt){It(Mt,St,mt,xt)})}return yt=yt?yt.then(gt,gt):gt()}})}function Et(Ft,wt,It){var yt=et;return function(Dt,Mt){if(yt===nt)throw Error("Generator is already running");if(yt===it){if(Dt==="throw")throw Mt;return{value:s,done:!0}}for(It.method=Dt,It.arg=Mt;;){var St=It.delegate;if(St){var gt=pt(St,It);if(gt){if(gt===st)continue;return gt}}if(It.method==="next")It.sent=It._sent=It.arg;else if(It.method==="throw"){if(yt===et)throw yt=it,It.arg;It.dispatchException(It.arg)}else It.method==="return"&&It.abrupt("return",It.arg);yt=nt;var mt=_e(Ft,wt,It);if(mt.type==="normal"){if(yt=It.done?it:tt,mt.arg===st)continue;return{value:mt.arg,done:It.done}}mt.type==="throw"&&(yt=it,It.method="throw",It.arg=mt.arg)}}}function pt(Ft,wt){var It=wt.method,yt=Ft.iterator[It];if(yt===s)return wt.delegate=null,It==="throw"&&Ft.iterator.return&&(wt.method="return",wt.arg=s,pt(Ft,wt),wt.method==="throw")||It!=="return"&&(wt.method="throw",wt.arg=new TypeError("The iterator does not provide a '"+It+"' method")),st;var Dt=_e(yt,Ft.iterator,wt.arg);if(Dt.type==="throw")return wt.method="throw",wt.arg=Dt.arg,wt.delegate=null,st;var Mt=Dt.arg;return Mt?Mt.done?(wt[Ft.resultName]=Mt.value,wt.next=Ft.nextLoc,wt.method!=="return"&&(wt.method="next",wt.arg=s),wt.delegate=null,st):Mt:(wt.method="throw",wt.arg=new TypeError("iterator result is not an object"),wt.delegate=null,st)}function bt(Ft){var wt={tryLoc:Ft[0]};1 in Ft&&(wt.catchLoc=Ft[1]),2 in Ft&&(wt.finallyLoc=Ft[2],wt.afterLoc=Ft[3]),this.tryEntries.push(wt)}function Ct(Ft){var wt=Ft.completion||{};wt.type="normal",delete wt.arg,Ft.completion=wt}function Bt(Ft){this.tryEntries=[{tryLoc:"root"}],Ft.forEach(bt,this),this.reset(!0)}function jt(Ft){if(Ft||Ft===""){var wt=Ft[g];if(wt)return wt.call(Ft);if(typeof Ft.next=="function")return Ft;if(!isNaN(Ft.length)){var It=-1,yt=function Dt(){for(;++It<Ft.length;)if(o.call(Ft,It))return Dt.value=Ft[It],Dt.done=!1,Dt;return Dt.value=s,Dt.done=!0,Dt};return yt.next=yt}}throw new TypeError(_typeof$6(Ft)+" is not iterable")}return at.prototype=ht,d(ct,"constructor",{value:ht,configurable:!0}),d(ht,"constructor",{value:at,configurable:!0}),at.displayName=_(ht,j,"GeneratorFunction"),e.isGeneratorFunction=function(Ft){var wt=typeof Ft=="function"&&Ft.constructor;return!!wt&&(wt===at||(wt.displayName||wt.name)==="GeneratorFunction")},e.mark=function(Ft){return Object.setPrototypeOf?Object.setPrototypeOf(Ft,ht):(Ft.__proto__=ht,_(Ft,j,"GeneratorFunction")),Ft.prototype=Object.create(ct),Ft},e.awrap=function(Ft){return{__await:Ft}},dt(vt.prototype),_(vt.prototype,b,function(){return this}),e.AsyncIterator=vt,e.async=function(Ft,wt,It,yt,Dt){Dt===void 0&&(Dt=Promise);var Mt=new vt($(Ft,wt,It,yt),Dt);return e.isGeneratorFunction(wt)?Mt:Mt.next().then(function(St){return St.done?St.value:Mt.next()})},dt(ct),_(ct,j,"Generator"),_(ct,g,function(){return this}),_(ct,"toString",function(){return"[object Generator]"}),e.keys=function(Ft){var wt=Object(Ft),It=[];for(var yt in wt)It.push(yt);return It.reverse(),function Dt(){for(;It.length;){var Mt=It.pop();if(Mt in wt)return Dt.value=Mt,Dt.done=!1,Dt}return Dt.done=!0,Dt}},e.values=jt,Bt.prototype={constructor:Bt,reset:function(wt){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(Ct),!wt)for(var It in this)It.charAt(0)==="t"&&o.call(this,It)&&!isNaN(+It.slice(1))&&(this[It]=s)},stop:function(){this.done=!0;var wt=this.tryEntries[0].completion;if(wt.type==="throw")throw wt.arg;return this.rval},dispatchException:function(wt){if(this.done)throw wt;var It=this;function yt(xt,_t){return St.type="throw",St.arg=wt,It.next=xt,_t&&(It.method="next",It.arg=s),!!_t}for(var Dt=this.tryEntries.length-1;Dt>=0;--Dt){var Mt=this.tryEntries[Dt],St=Mt.completion;if(Mt.tryLoc==="root")return yt("end");if(Mt.tryLoc<=this.prev){var gt=o.call(Mt,"catchLoc"),mt=o.call(Mt,"finallyLoc");if(gt&&mt){if(this.prev<Mt.catchLoc)return yt(Mt.catchLoc,!0);if(this.prev<Mt.finallyLoc)return yt(Mt.finallyLoc)}else if(gt){if(this.prev<Mt.catchLoc)return yt(Mt.catchLoc,!0)}else{if(!mt)throw Error("try statement without catch or finally");if(this.prev<Mt.finallyLoc)return yt(Mt.finallyLoc)}}}},abrupt:function(wt,It){for(var yt=this.tryEntries.length-1;yt>=0;--yt){var Dt=this.tryEntries[yt];if(Dt.tryLoc<=this.prev&&o.call(Dt,"finallyLoc")&&this.prev<Dt.finallyLoc){var Mt=Dt;break}}Mt&&(wt==="break"||wt==="continue")&&Mt.tryLoc<=It&&It<=Mt.finallyLoc&&(Mt=null);var St=Mt?Mt.completion:{};return St.type=wt,St.arg=It,Mt?(this.method="next",this.next=Mt.finallyLoc,st):this.complete(St)},complete:function(wt,It){if(wt.type==="throw")throw wt.arg;return wt.type==="break"||wt.type==="continue"?this.next=wt.arg:wt.type==="return"?(this.rval=this.arg=wt.arg,this.method="return",this.next="end"):wt.type==="normal"&&It&&(this.next=It),st},finish:function(wt){for(var It=this.tryEntries.length-1;It>=0;--It){var yt=this.tryEntries[It];if(yt.finallyLoc===wt)return this.complete(yt.completion,yt.afterLoc),Ct(yt),st}},catch:function(wt){for(var It=this.tryEntries.length-1;It>=0;--It){var yt=this.tryEntries[It];if(yt.tryLoc===wt){var Dt=yt.completion;if(Dt.type==="throw"){var Mt=Dt.arg;Ct(yt)}return Mt}}throw Error("illegal catch attempt")},delegateYield:function(wt,It,yt){return this.delegate={iterator:jt(wt),resultName:It,nextLoc:yt},this.method==="next"&&(this.arg=s),st}},e}function asyncGeneratorStep$1(s,e,a,o,d,h,g){try{var b=s[h](g),j=b.value}catch(_){a(_);return}b.done?e(j):Promise.resolve(j).then(o,d)}function _asyncToGenerator$1(s){return function(){var e=this,a=arguments;return new Promise(function(o,d){var h=s.apply(e,a);function g(j){asyncGeneratorStep$1(h,o,d,g,b,"next",j)}function b(j){asyncGeneratorStep$1(h,o,d,g,b,"throw",j)}g(void 0)})}}function _slicedToArray(s,e){return _arrayWithHoles(s)||_iterableToArrayLimit(s,e)||_unsupportedIterableToArray(s,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(s,e){var a=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(a!=null){var o,d,h,g,b=[],j=!0,_=!1;try{if(h=(a=a.call(s)).next,e!==0)for(;!(j=(o=h.call(a)).done)&&(b.push(o.value),b.length!==e);j=!0);}catch($){_=!0,d=$}finally{try{if(!j&&a.return!=null&&(g=a.return(),Object(g)!==g))return}finally{if(_)throw d}}return b}}function _arrayWithHoles(s){if(Array.isArray(s))return s}function _typeof$6(s){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(s)}function _createForOfIteratorHelper(s,e){var a=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!a){if(Array.isArray(s)||(a=_unsupportedIterableToArray(s))||e){a&&(s=a);var o=0,d=function(){};return{s:d,n:function(){return o>=s.length?{done:!0}:{done:!1,value:s[o++]}},e:function(_){throw _},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,g=!1,b;return{s:function(){a=a.call(s)},n:function(){var _=a.next();return h=_.done,_},e:function(_){g=!0,b=_},f:function(){try{!h&&a.return!=null&&a.return()}finally{if(g)throw b}}}}function _unsupportedIterableToArray(s,e){if(s){if(typeof s=="string")return _arrayLikeToArray(s,e);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(s,e)}}function _arrayLikeToArray(s,e){(e==null||e>s.length)&&(e=s.length);for(var a=0,o=new Array(e);a<e;a++)o[a]=s[a];return o}function ownKeys$1(s,e){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);e&&(o=o.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),a.push.apply(a,o)}return a}function _objectSpread$1(s){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(a),!0).forEach(function(o){_defineProperty$1(s,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):ownKeys$1(Object(a)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(a,o))})}return s}function _defineProperty$1(s,e,a){return e=_toPropertyKey$6(e),e in s?Object.defineProperty(s,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[e]=a,s}function _classCallCheck$6(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(s,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,_toPropertyKey$6(o.key),o)}}function _createClass$6(s,e,a){return e&&_defineProperties$6(s.prototype,e),a&&_defineProperties$6(s,a),Object.defineProperty(s,"prototype",{writable:!1}),s}function _toPropertyKey$6(s){var e=_toPrimitive$6(s,"string");return _typeof$6(e)=="symbol"?e:e+""}function _toPrimitive$6(s,e){if(_typeof$6(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var o=a.call(s,e);if(_typeof$6(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var PROTOCOL_TUS_V1="tus-v1",PROTOCOL_IETF_DRAFT_03="ietf-draft-03",PROTOCOL_IETF_DRAFT_05="ietf-draft-05",defaultOptions$1={endpoint:null,uploadUrl:null,metadata:{},metadataForPartialUploads:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:defaultOnShouldRetry,chunkSize:Number.POSITIVE_INFINITY,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null,protocol:PROTOCOL_TUS_V1},BaseUpload=function(){function s(e,a){_classCallCheck$6(this,s),"resume"in a&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=a,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return _createClass$6(s,[{key:"findPreviousUploads",value:function(){var a=this;return this.options.fingerprint(this.file,this.options).then(function(o){return a._urlStorage.findUploadsByFingerprint(o)})}},{key:"resumeFromPreviousUpload",value:function(a){this.url=a.uploadUrl||null,this._parallelUploadUrls=a.parallelUploadUrls||null,this._urlStorageKey=a.urlStorageKey}},{key:"start",value:function(){var a=this,o=this.file;if(!o){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(![PROTOCOL_TUS_V1,PROTOCOL_IETF_DRAFT_03,PROTOCOL_IETF_DRAFT_05].includes(this.options.protocol)){this._emitError(new Error("tus: unsupported protocol ".concat(this.options.protocol)));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var d=this.options.retryDelays;if(d!=null&&Object.prototype.toString.call(d)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var h=0,g=["uploadUrl","uploadSize","uploadLengthDeferred"];h<g.length;h++){var b=g[h];if(this.options[b]){this._emitError(new Error("tus: cannot use the ".concat(b," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(o,this.options).then(function(j){return a._fingerprint=j,a._source?a._source:a.options.fileReader.openFile(o,a.options.chunkSize)}).then(function(j){if(a._source=j,a.options.uploadLengthDeferred)a._size=null;else if(a.options.uploadSize!=null){if(a._size=Number(a.options.uploadSize),Number.isNaN(a._size)){a._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(a._size=a._source.size,a._size==null){a._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}a.options.parallelUploads>1||a._parallelUploadUrls!=null?a._startParallelUpload():a._startSingleUpload()}).catch(function(j){a._emitError(j)})}},{key:"_startParallelUpload",value:function(){var a,o=this,d=this._size,h=0;this._parallelUploads=[];var g=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,b=(a=this.options.parallelUploadBoundaries)!==null&&a!==void 0?a:splitSizeIntoParts(this._source.size,g);this._parallelUploadUrls&&b.forEach(function($,_e){$.uploadUrl=o._parallelUploadUrls[_e]||null}),this._parallelUploadUrls=new Array(b.length);var j=b.map(function($,_e){var et=0;return o._source.slice($.start,$.end).then(function(tt){var nt=tt.value;return new Promise(function(it,st){var rt=_objectSpread$1(_objectSpread$1({},o.options),{},{uploadUrl:$.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:o.options.metadataForPartialUploads,headers:_objectSpread$1(_objectSpread$1({},o.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:it,onError:st,onProgress:function(ft){h=h-et+ft,et=ft,o._emitProgress(h,d)},onUploadUrlAvailable:function(){o._parallelUploadUrls[_e]=at.url,o._parallelUploadUrls.filter(function(ft){return!!ft}).length===b.length&&o._saveUploadInUrlStorage()}}),at=new s(nt,rt);at.start(),o._parallelUploads.push(at)})})}),_;Promise.all(j).then(function(){_=o._openRequest("POST",o.options.endpoint),_.setHeader("Upload-Concat","final;".concat(o._parallelUploadUrls.join(" ")));var $=encodeMetadata(o.options.metadata);return $!==""&&_.setHeader("Upload-Metadata",$),o._sendRequest(_,null)}).then(function($){if(!inStatusCategory($.getStatus(),200)){o._emitHttpError(_,$,"tus: unexpected response while creating upload");return}var _e=$.getHeader("Location");if(_e==null){o._emitHttpError(_,$,"tus: invalid or missing Location header");return}o.url=resolveUrl(o.options.endpoint,_e),"Created upload at ".concat(o.url),o._emitSuccess($)}).catch(function($){o._emitError($)})}},{key:"_startSingleUpload",value:function(){if(this._aborted=!1,this.url!=null){"Resuming upload from previous URL: ".concat(this.url),this._resumeUpload();return}if(this.options.uploadUrl!=null){"Resuming upload from provided URL: ".concat(this.options.uploadUrl),this.url=this.options.uploadUrl,this._resumeUpload();return}this._createUpload()}},{key:"abort",value:function(a){var o=this;if(this._parallelUploads!=null){var d=_createForOfIteratorHelper(this._parallelUploads),h;try{for(d.s();!(h=d.n()).done;){var g=h.value;g.abort(a)}}catch(b){d.e(b)}finally{d.f()}}return this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!a||this.url==null?Promise.resolve():s.terminate(this.url,this.options).then(function(){return o._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(a,o,d,h){this._emitError(new DetailedError(d,h,a,o))}},{key:"_emitError",value:function(a){var o=this;if(!this._aborted){if(this.options.retryDelays!=null){var d=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(d&&(this._retryAttempt=0),shouldRetry(a,this._retryAttempt,this.options)){var h=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){o.start()},h);return}}if(typeof this.options.onError=="function")this.options.onError(a);else throw a}}},{key:"_emitSuccess",value:function(a){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess({lastResponse:a})}},{key:"_emitProgress",value:function(a,o){typeof this.options.onProgress=="function"&&this.options.onProgress(a,o)}},{key:"_emitChunkComplete",value:function(a,o,d){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(a,o,d)}},{key:"_createUpload",value:function(){var a=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var o=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?o.setHeader("Upload-Defer-Length","1"):o.setHeader("Upload-Length","".concat(this._size));var d=encodeMetadata(this.options.metadata);d!==""&&o.setHeader("Upload-Metadata",d);var h;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,h=this._addChunkToRequest(o)):((this.options.protocol===PROTOCOL_IETF_DRAFT_03||this.options.protocol===PROTOCOL_IETF_DRAFT_05)&&o.setHeader("Upload-Complete","?0"),h=this._sendRequest(o,null)),h.then(function(g){if(!inStatusCategory(g.getStatus(),200)){a._emitHttpError(o,g,"tus: unexpected response while creating upload");return}var b=g.getHeader("Location");if(b==null){a._emitHttpError(o,g,"tus: invalid or missing Location header");return}if(a.url=resolveUrl(a.options.endpoint,b),"Created upload at ".concat(a.url),typeof a.options.onUploadUrlAvailable=="function"&&a.options.onUploadUrlAvailable(),a._size===0){a._emitSuccess(g),a._source.close();return}a._saveUploadInUrlStorage().then(function(){a.options.uploadDataDuringCreation?a._handleUploadResponse(o,g):(a._offset=0,a._performUpload())})}).catch(function(g){a._emitHttpError(o,null,"tus: failed to create upload",g)})}},{key:"_resumeUpload",value:function(){var a=this,o=this._openRequest("HEAD",this.url),d=this._sendRequest(o,null);d.then(function(h){var g=h.getStatus();if(!inStatusCategory(g,200)){if(g===423){a._emitHttpError(o,h,"tus: upload is currently locked; retry later");return}if(inStatusCategory(g,400)&&a._removeFromUrlStorage(),!a.options.endpoint){a._emitHttpError(o,h,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}a.url=null,a._createUpload();return}var b=Number.parseInt(h.getHeader("Upload-Offset"),10);if(Number.isNaN(b)){a._emitHttpError(o,h,"tus: invalid or missing offset value");return}var j=Number.parseInt(h.getHeader("Upload-Length"),10);if(Number.isNaN(j)&&!a.options.uploadLengthDeferred&&a.options.protocol===PROTOCOL_TUS_V1){a._emitHttpError(o,h,"tus: invalid or missing length value");return}typeof a.options.onUploadUrlAvailable=="function"&&a.options.onUploadUrlAvailable(),a._saveUploadInUrlStorage().then(function(){if(b===j){a._emitProgress(j,j),a._emitSuccess(h);return}a._offset=b,a._performUpload()})}).catch(function(h){a._emitHttpError(o,null,"tus: failed to resume upload",h)})}},{key:"_performUpload",value:function(){var a=this;if(!this._aborted){var o;this.options.overridePatchMethod?(o=this._openRequest("POST",this.url),o.setHeader("X-HTTP-Method-Override","PATCH")):o=this._openRequest("PATCH",this.url),o.setHeader("Upload-Offset","".concat(this._offset));var d=this._addChunkToRequest(o);d.then(function(h){if(!inStatusCategory(h.getStatus(),200)){a._emitHttpError(o,h,"tus: unexpected response while uploading chunk");return}a._handleUploadResponse(o,h)}).catch(function(h){a._aborted||a._emitHttpError(o,null,"tus: failed to upload chunk at offset ".concat(a._offset),h)})}}},{key:"_addChunkToRequest",value:function(a){var o=this,d=this._offset,h=this._offset+this.options.chunkSize;return a.setProgressHandler(function(g){o._emitProgress(d+g,o._size)}),this.options.protocol===PROTOCOL_TUS_V1?a.setHeader("Content-Type","application/offset+octet-stream"):this.options.protocol===PROTOCOL_IETF_DRAFT_05&&a.setHeader("Content-Type","application/partial-upload"),(h===Number.POSITIVE_INFINITY||h>this._size)&&!this.options.uploadLengthDeferred&&(h=this._size),this._source.slice(d,h).then(function(g){var b=g.value,j=g.done,_=b!=null&&b.size?b.size:0;o.options.uploadLengthDeferred&&j&&(o._size=o._offset+_,a.setHeader("Upload-Length","".concat(o._size)));var $=o._offset+_;return!o.options.uploadLengthDeferred&&j&&$!==o._size?Promise.reject(new Error("upload was configured with a size of ".concat(o._size," bytes, but the source is done after ").concat($," bytes"))):b===null?o._sendRequest(a):((o.options.protocol===PROTOCOL_IETF_DRAFT_03||o.options.protocol===PROTOCOL_IETF_DRAFT_05)&&a.setHeader("Upload-Complete",j?"?1":"?0"),o._emitProgress(o._offset,o._size),o._sendRequest(a,b))})}},{key:"_handleUploadResponse",value:function(a,o){var d=Number.parseInt(o.getHeader("Upload-Offset"),10);if(Number.isNaN(d)){this._emitHttpError(a,o,"tus: invalid or missing offset value");return}if(this._emitProgress(d,this._size),this._emitChunkComplete(d-this._offset,d,this._size),this._offset=d,d===this._size){this._emitSuccess(o),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(a,o){var d=openRequest(a,o,this.options);return this._req=d,d}},{key:"_removeFromUrlStorage",value:function(){var a=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(o){a._emitError(o)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var a=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var o={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?o.parallelUploadUrls=this._parallelUploadUrls:o.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,o).then(function(d){a._urlStorageKey=d})}},{key:"_sendRequest",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return sendRequest(a,o,this.options)}}],[{key:"terminate",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=openRequest("DELETE",a,o);return sendRequest(d,null,o).then(function(h){if(h.getStatus()!==204)throw new DetailedError("tus: unexpected response while terminating upload",null,d,h)}).catch(function(h){if(h instanceof DetailedError||(h=new DetailedError("tus: failed to terminate upload",h,d,null)),!shouldRetry(h,0,o))throw h;var g=o.retryDelays[0],b=o.retryDelays.slice(1),j=_objectSpread$1(_objectSpread$1({},o),{},{retryDelays:b});return new Promise(function(_){return setTimeout(_,g)}).then(function(){return s.terminate(a,j)})})}}])}();function encodeMetadata(s){return Object.entries(s).map(function(e){var a=_slicedToArray(e,2),o=a[0],d=a[1];return"".concat(o," ").concat(gBase64.encode(String(d)))}).join(",")}function inStatusCategory(s,e){return s>=e&&s<e+100}function openRequest(s,e,a){var o=a.httpStack.createRequest(s,e);a.protocol===PROTOCOL_IETF_DRAFT_03?o.setHeader("Upload-Draft-Interop-Version","5"):a.protocol===PROTOCOL_IETF_DRAFT_05?o.setHeader("Upload-Draft-Interop-Version","6"):o.setHeader("Tus-Resumable","1.0.0");for(var d=a.headers||{},h=0,g=Object.entries(d);h<g.length;h++){var b=_slicedToArray(g[h],2),j=b[0],_=b[1];o.setHeader(j,_)}if(a.addRequestId){var $=uuid();o.setHeader("X-Request-ID",$)}return o}function sendRequest(s,e,a){return _sendRequest2.apply(this,arguments)}function _sendRequest2(){return _sendRequest2=_asyncToGenerator$1(_regeneratorRuntime$1().mark(function s(e,a,o){var d;return _regeneratorRuntime$1().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(typeof o.onBeforeRequest!="function"){g.next=3;break}return g.next=3,o.onBeforeRequest(e);case 3:return g.next=5,e.send(a);case 5:if(d=g.sent,typeof o.onAfterResponse!="function"){g.next=9;break}return g.next=9,o.onAfterResponse(e,d);case 9:return g.abrupt("return",d);case 10:case"end":return g.stop()}},s)})),_sendRequest2.apply(this,arguments)}function isOnline(){var s=!0;return typeof navigator<"u"&&navigator.onLine===!1&&(s=!1),s}function shouldRetry(s,e,a){return a.retryDelays==null||e>=a.retryDelays.length||s.originalRequest==null?!1:a&&typeof a.onShouldRetry=="function"?a.onShouldRetry(s,e,a):defaultOnShouldRetry(s)}function defaultOnShouldRetry(s){var e=s.originalResponse?s.originalResponse.getStatus():0;return(!inStatusCategory(e,400)||e===409||e===423)&&isOnline()}function resolveUrl(s,e){return new URL$1(e,s).toString()}function splitSizeIntoParts(s,e){for(var a=Math.floor(s/e),o=[],d=0;d<e;d++)o.push({start:a*d,end:a*(d+1)});return o[e-1].end=s,o}BaseUpload.defaultOptions=defaultOptions$1;var isReactNative=function(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"};function uriToBlob(s){return new Promise(function(e,a){var o=new XMLHttpRequest;o.responseType="blob",o.onload=function(){var d=o.response;e(d)},o.onerror=function(d){a(d)},o.open("GET",s),o.send()})}var isCordova=function(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")};function readAsByteArray(s){return new Promise(function(e,a){var o=new FileReader;o.onload=function(){var d=new Uint8Array(o.result);e({value:d})},o.onerror=function(d){a(d)},o.readAsArrayBuffer(s)})}function _typeof$5(s){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(s)}function _classCallCheck$5(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(s,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,_toPropertyKey$5(o.key),o)}}function _createClass$5(s,e,a){return e&&_defineProperties$5(s.prototype,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function _toPropertyKey$5(s){var e=_toPrimitive$5(s,"string");return _typeof$5(e)=="symbol"?e:e+""}function _toPrimitive$5(s,e){if(_typeof$5(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var o=a.call(s,e);if(_typeof$5(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var FileSource=function(){function s(e){_classCallCheck$5(this,s),this._file=e,this.size=e.size}return _createClass$5(s,[{key:"slice",value:function(a,o){if(isCordova())return readAsByteArray(this._file.slice(a,o));var d=this._file.slice(a,o),h=o>=this.size;return Promise.resolve({value:d,done:h})}},{key:"close",value:function(){}}])}();function _typeof$4(s){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(s)}function _classCallCheck$4(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(s,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,_toPropertyKey$4(o.key),o)}}function _createClass$4(s,e,a){return e&&_defineProperties$4(s.prototype,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function _toPropertyKey$4(s){var e=_toPrimitive$4(s,"string");return _typeof$4(e)=="symbol"?e:e+""}function _toPrimitive$4(s,e){if(_typeof$4(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var o=a.call(s,e);if(_typeof$4(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}function len$2(s){return s===void 0?0:s.size!==void 0?s.size:s.length}function concat(s,e){if(s.concat)return s.concat(e);if(s instanceof Blob)return new Blob([s,e],{type:s.type});if(s.set){var a=new s.constructor(s.length+e.length);return a.set(s),a.set(e,s.length),a}throw new Error("Unknown data type")}var StreamSource=function(){function s(e){_classCallCheck$4(this,s),this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return _createClass$4(s,[{key:"slice",value:function(a,o){return a<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(a,o)}},{key:"_readUntilEnoughDataOrDone",value:function(a,o){var d=this,h=o<=this._bufferOffset+len$2(this._buffer);if(this._done||h){var g=this._getDataFromBuffer(a,o),b=g==null?this._done:!1;return Promise.resolve({value:g,done:b})}return this._reader.read().then(function(j){var _=j.value,$=j.done;return $?d._done=!0:d._buffer===void 0?d._buffer=_:d._buffer=concat(d._buffer,_),d._readUntilEnoughDataOrDone(a,o)})}},{key:"_getDataFromBuffer",value:function(a,o){a>this._bufferOffset&&(this._buffer=this._buffer.slice(a-this._bufferOffset),this._bufferOffset=a);var d=len$2(this._buffer)===0;return this._done&&d?null:this._buffer.slice(0,o-a)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}])}();function _typeof$3(s){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(s)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return e};var s,e={},a=Object.prototype,o=a.hasOwnProperty,d=Object.defineProperty||function(Ft,wt,It){Ft[wt]=It.value},h=typeof Symbol=="function"?Symbol:{},g=h.iterator||"@@iterator",b=h.asyncIterator||"@@asyncIterator",j=h.toStringTag||"@@toStringTag";function _(Ft,wt,It){return Object.defineProperty(Ft,wt,{value:It,enumerable:!0,configurable:!0,writable:!0}),Ft[wt]}try{_({},"")}catch{_=function(It,yt,Dt){return It[yt]=Dt}}function $(Ft,wt,It,yt){var Dt=wt&&wt.prototype instanceof rt?wt:rt,Mt=Object.create(Dt.prototype),St=new Bt(yt||[]);return d(Mt,"_invoke",{value:Et(Ft,It,St)}),Mt}function _e(Ft,wt,It){try{return{type:"normal",arg:Ft.call(wt,It)}}catch(yt){return{type:"throw",arg:yt}}}e.wrap=$;var et="suspendedStart",tt="suspendedYield",nt="executing",it="completed",st={};function rt(){}function at(){}function ht(){}var ft={};_(ft,g,function(){return this});var ot=Object.getPrototypeOf,ut=ot&&ot(ot(jt([])));ut&&ut!==a&&o.call(ut,g)&&(ft=ut);var ct=ht.prototype=rt.prototype=Object.create(ft);function dt(Ft){["next","throw","return"].forEach(function(wt){_(Ft,wt,function(It){return this._invoke(wt,It)})})}function vt(Ft,wt){function It(Dt,Mt,St,gt){var mt=_e(Ft[Dt],Ft,Mt);if(mt.type!=="throw"){var xt=mt.arg,_t=xt.value;return _t&&_typeof$3(_t)=="object"&&o.call(_t,"__await")?wt.resolve(_t.__await).then(function(At){It("next",At,St,gt)},function(At){It("throw",At,St,gt)}):wt.resolve(_t).then(function(At){xt.value=At,St(xt)},function(At){return It("throw",At,St,gt)})}gt(mt.arg)}var yt;d(this,"_invoke",{value:function(Mt,St){function gt(){return new wt(function(mt,xt){It(Mt,St,mt,xt)})}return yt=yt?yt.then(gt,gt):gt()}})}function Et(Ft,wt,It){var yt=et;return function(Dt,Mt){if(yt===nt)throw Error("Generator is already running");if(yt===it){if(Dt==="throw")throw Mt;return{value:s,done:!0}}for(It.method=Dt,It.arg=Mt;;){var St=It.delegate;if(St){var gt=pt(St,It);if(gt){if(gt===st)continue;return gt}}if(It.method==="next")It.sent=It._sent=It.arg;else if(It.method==="throw"){if(yt===et)throw yt=it,It.arg;It.dispatchException(It.arg)}else It.method==="return"&&It.abrupt("return",It.arg);yt=nt;var mt=_e(Ft,wt,It);if(mt.type==="normal"){if(yt=It.done?it:tt,mt.arg===st)continue;return{value:mt.arg,done:It.done}}mt.type==="throw"&&(yt=it,It.method="throw",It.arg=mt.arg)}}}function pt(Ft,wt){var It=wt.method,yt=Ft.iterator[It];if(yt===s)return wt.delegate=null,It==="throw"&&Ft.iterator.return&&(wt.method="return",wt.arg=s,pt(Ft,wt),wt.method==="throw")||It!=="return"&&(wt.method="throw",wt.arg=new TypeError("The iterator does not provide a '"+It+"' method")),st;var Dt=_e(yt,Ft.iterator,wt.arg);if(Dt.type==="throw")return wt.method="throw",wt.arg=Dt.arg,wt.delegate=null,st;var Mt=Dt.arg;return Mt?Mt.done?(wt[Ft.resultName]=Mt.value,wt.next=Ft.nextLoc,wt.method!=="return"&&(wt.method="next",wt.arg=s),wt.delegate=null,st):Mt:(wt.method="throw",wt.arg=new TypeError("iterator result is not an object"),wt.delegate=null,st)}function bt(Ft){var wt={tryLoc:Ft[0]};1 in Ft&&(wt.catchLoc=Ft[1]),2 in Ft&&(wt.finallyLoc=Ft[2],wt.afterLoc=Ft[3]),this.tryEntries.push(wt)}function Ct(Ft){var wt=Ft.completion||{};wt.type="normal",delete wt.arg,Ft.completion=wt}function Bt(Ft){this.tryEntries=[{tryLoc:"root"}],Ft.forEach(bt,this),this.reset(!0)}function jt(Ft){if(Ft||Ft===""){var wt=Ft[g];if(wt)return wt.call(Ft);if(typeof Ft.next=="function")return Ft;if(!isNaN(Ft.length)){var It=-1,yt=function Dt(){for(;++It<Ft.length;)if(o.call(Ft,It))return Dt.value=Ft[It],Dt.done=!1,Dt;return Dt.value=s,Dt.done=!0,Dt};return yt.next=yt}}throw new TypeError(_typeof$3(Ft)+" is not iterable")}return at.prototype=ht,d(ct,"constructor",{value:ht,configurable:!0}),d(ht,"constructor",{value:at,configurable:!0}),at.displayName=_(ht,j,"GeneratorFunction"),e.isGeneratorFunction=function(Ft){var wt=typeof Ft=="function"&&Ft.constructor;return!!wt&&(wt===at||(wt.displayName||wt.name)==="GeneratorFunction")},e.mark=function(Ft){return Object.setPrototypeOf?Object.setPrototypeOf(Ft,ht):(Ft.__proto__=ht,_(Ft,j,"GeneratorFunction")),Ft.prototype=Object.create(ct),Ft},e.awrap=function(Ft){return{__await:Ft}},dt(vt.prototype),_(vt.prototype,b,function(){return this}),e.AsyncIterator=vt,e.async=function(Ft,wt,It,yt,Dt){Dt===void 0&&(Dt=Promise);var Mt=new vt($(Ft,wt,It,yt),Dt);return e.isGeneratorFunction(wt)?Mt:Mt.next().then(function(St){return St.done?St.value:Mt.next()})},dt(ct),_(ct,j,"Generator"),_(ct,g,function(){return this}),_(ct,"toString",function(){return"[object Generator]"}),e.keys=function(Ft){var wt=Object(Ft),It=[];for(var yt in wt)It.push(yt);return It.reverse(),function Dt(){for(;It.length;){var Mt=It.pop();if(Mt in wt)return Dt.value=Mt,Dt.done=!1,Dt}return Dt.done=!0,Dt}},e.values=jt,Bt.prototype={constructor:Bt,reset:function(wt){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(Ct),!wt)for(var It in this)It.charAt(0)==="t"&&o.call(this,It)&&!isNaN(+It.slice(1))&&(this[It]=s)},stop:function(){this.done=!0;var wt=this.tryEntries[0].completion;if(wt.type==="throw")throw wt.arg;return this.rval},dispatchException:function(wt){if(this.done)throw wt;var It=this;function yt(xt,_t){return St.type="throw",St.arg=wt,It.next=xt,_t&&(It.method="next",It.arg=s),!!_t}for(var Dt=this.tryEntries.length-1;Dt>=0;--Dt){var Mt=this.tryEntries[Dt],St=Mt.completion;if(Mt.tryLoc==="root")return yt("end");if(Mt.tryLoc<=this.prev){var gt=o.call(Mt,"catchLoc"),mt=o.call(Mt,"finallyLoc");if(gt&&mt){if(this.prev<Mt.catchLoc)return yt(Mt.catchLoc,!0);if(this.prev<Mt.finallyLoc)return yt(Mt.finallyLoc)}else if(gt){if(this.prev<Mt.catchLoc)return yt(Mt.catchLoc,!0)}else{if(!mt)throw Error("try statement without catch or finally");if(this.prev<Mt.finallyLoc)return yt(Mt.finallyLoc)}}}},abrupt:function(wt,It){for(var yt=this.tryEntries.length-1;yt>=0;--yt){var Dt=this.tryEntries[yt];if(Dt.tryLoc<=this.prev&&o.call(Dt,"finallyLoc")&&this.prev<Dt.finallyLoc){var Mt=Dt;break}}Mt&&(wt==="break"||wt==="continue")&&Mt.tryLoc<=It&&It<=Mt.finallyLoc&&(Mt=null);var St=Mt?Mt.completion:{};return St.type=wt,St.arg=It,Mt?(this.method="next",this.next=Mt.finallyLoc,st):this.complete(St)},complete:function(wt,It){if(wt.type==="throw")throw wt.arg;return wt.type==="break"||wt.type==="continue"?this.next=wt.arg:wt.type==="return"?(this.rval=this.arg=wt.arg,this.method="return",this.next="end"):wt.type==="normal"&&It&&(this.next=It),st},finish:function(wt){for(var It=this.tryEntries.length-1;It>=0;--It){var yt=this.tryEntries[It];if(yt.finallyLoc===wt)return this.complete(yt.completion,yt.afterLoc),Ct(yt),st}},catch:function(wt){for(var It=this.tryEntries.length-1;It>=0;--It){var yt=this.tryEntries[It];if(yt.tryLoc===wt){var Dt=yt.completion;if(Dt.type==="throw"){var Mt=Dt.arg;Ct(yt)}return Mt}}throw Error("illegal catch attempt")},delegateYield:function(wt,It,yt){return this.delegate={iterator:jt(wt),resultName:It,nextLoc:yt},this.method==="next"&&(this.arg=s),st}},e}function asyncGeneratorStep(s,e,a,o,d,h,g){try{var b=s[h](g),j=b.value}catch(_){a(_);return}b.done?e(j):Promise.resolve(j).then(o,d)}function _asyncToGenerator(s){return function(){var e=this,a=arguments;return new Promise(function(o,d){var h=s.apply(e,a);function g(j){asyncGeneratorStep(h,o,d,g,b,"next",j)}function b(j){asyncGeneratorStep(h,o,d,g,b,"throw",j)}g(void 0)})}}function _classCallCheck$3(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(s,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,_toPropertyKey$3(o.key),o)}}function _createClass$3(s,e,a){return e&&_defineProperties$3(s.prototype,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function _toPropertyKey$3(s){var e=_toPrimitive$3(s,"string");return _typeof$3(e)=="symbol"?e:e+""}function _toPrimitive$3(s,e){if(_typeof$3(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var o=a.call(s,e);if(_typeof$3(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var FileReader$1=function(){function s(){_classCallCheck$3(this,s)}return _createClass$3(s,[{key:"openFile",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function o(d,h){var g;return _regeneratorRuntime().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(isReactNative()&&d&&typeof d.uri<"u")){j.next=11;break}return j.prev=1,j.next=4,uriToBlob(d.uri);case 4:return g=j.sent,j.abrupt("return",new FileSource(g));case 8:throw j.prev=8,j.t0=j.catch(1),new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(j.t0));case 11:if(!(typeof d.slice=="function"&&typeof d.size<"u")){j.next=13;break}return j.abrupt("return",Promise.resolve(new FileSource(d)));case 13:if(typeof d.read!="function"){j.next=18;break}if(h=Number(h),Number.isFinite(h)){j.next=17;break}return j.abrupt("return",Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option")));case 17:return j.abrupt("return",Promise.resolve(new StreamSource(d,h)));case 18:return j.abrupt("return",Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment")));case 19:case"end":return j.stop()}},o,null,[[1,8]])}));function a(o,d){return e.apply(this,arguments)}return a}()}])}();function fingerprint(s,e){return isReactNative()?Promise.resolve(reactNativeFingerprint(s,e)):Promise.resolve(["tus-br",s.name,s.type,s.size,s.lastModified,e.endpoint].join("-"))}function reactNativeFingerprint(s,e){var a=s.exif?hashCode(JSON.stringify(s.exif)):"noexif";return["tus-rn",s.name||"noname",s.size||"nosize",a,e.endpoint].join("/")}function hashCode(s){var e=0;if(s.length===0)return e;for(var a=0;a<s.length;a++){var o=s.charCodeAt(a);e=(e<<5)-e+o,e&=e}return e}function _typeof$2(s){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(s)}function _classCallCheck$2(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(s,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,_toPropertyKey$2(o.key),o)}}function _createClass$2(s,e,a){return e&&_defineProperties$2(s.prototype,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function _toPropertyKey$2(s){var e=_toPrimitive$2(s,"string");return _typeof$2(e)=="symbol"?e:e+""}function _toPrimitive$2(s,e){if(_typeof$2(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var o=a.call(s,e);if(_typeof$2(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var XHRHttpStack=function(){function s(){_classCallCheck$2(this,s)}return _createClass$2(s,[{key:"createRequest",value:function(a,o){return new Request(a,o)}},{key:"getName",value:function(){return"XHRHttpStack"}}])}(),Request=function(){function s(e,a){_classCallCheck$2(this,s),this._xhr=new XMLHttpRequest,this._xhr.open(e,a,!0),this._method=e,this._url=a,this._headers={}}return _createClass$2(s,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(a,o){this._xhr.setRequestHeader(a,o),this._headers[a]=o}},{key:"getHeader",value:function(a){return this._headers[a]}},{key:"setProgressHandler",value:function(a){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(o){o.lengthComputable&&a(o.loaded)})}},{key:"send",value:function(){var a=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(d,h){a._xhr.onload=function(){d(new Response$1(a._xhr))},a._xhr.onerror=function(g){h(g)},a._xhr.send(o)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}])}(),Response$1=function(){function s(e){_classCallCheck$2(this,s),this._xhr=e}return _createClass$2(s,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(a){return this._xhr.getResponseHeader(a)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}])}();function _typeof$1(s){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(s)}function _classCallCheck$1(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(s,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,_toPropertyKey$1(o.key),o)}}function _createClass$1(s,e,a){return e&&_defineProperties$1(s.prototype,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function _toPropertyKey$1(s){var e=_toPrimitive$1(s,"string");return _typeof$1(e)=="symbol"?e:e+""}function _toPrimitive$1(s,e){if(_typeof$1(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var o=a.call(s,e);if(_typeof$1(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var hasStorage=!1;try{hasStorage="localStorage"in window;var key="tusSupport",originalValue=localStorage.getItem(key);localStorage.setItem(key,originalValue),originalValue===null&&localStorage.removeItem(key)}catch(s){if(s.code===s.SECURITY_ERR||s.code===s.QUOTA_EXCEEDED_ERR)hasStorage=!1;else throw s}var canStoreURLs=hasStorage,WebStorageUrlStorage=function(){function s(){_classCallCheck$1(this,s)}return _createClass$1(s,[{key:"findAllUploads",value:function(){var a=this._findEntries("tus::");return Promise.resolve(a)}},{key:"findUploadsByFingerprint",value:function(a){var o=this._findEntries("tus::".concat(a,"::"));return Promise.resolve(o)}},{key:"removeUpload",value:function(a){return localStorage.removeItem(a),Promise.resolve()}},{key:"addUpload",value:function(a,o){var d=Math.round(Math.random()*1e12),h="tus::".concat(a,"::").concat(d);return localStorage.setItem(h,JSON.stringify(o)),Promise.resolve(h)}},{key:"_findEntries",value:function(a){for(var o=[],d=0;d<localStorage.length;d++){var h=localStorage.key(d);if(h.indexOf(a)===0)try{var g=JSON.parse(localStorage.getItem(h));g.urlStorageKey=h,o.push(g)}catch{}}return o}}])}();function _typeof(s){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(s)}function _classCallCheck(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(s,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,_toPropertyKey(o.key),o)}}function _createClass(s,e,a){return a&&_defineProperties(s,a),Object.defineProperty(s,"prototype",{writable:!1}),s}function _callSuper(s,e,a){return e=_getPrototypeOf(e),_possibleConstructorReturn(s,_isNativeReflectConstruct()?Reflect.construct(e,a||[],_getPrototypeOf(s).constructor):e.apply(s,a))}function _possibleConstructorReturn(s,e){if(e&&(_typeof(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(s)}function _assertThisInitialized(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function _isNativeReflectConstruct(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!s})()}function _getPrototypeOf(s){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(s)}function _inherits(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&_setPrototypeOf(s,e)}function _setPrototypeOf(s,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,d){return o.__proto__=d,o},_setPrototypeOf(s,e)}function ownKeys(s,e){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);e&&(o=o.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),a.push.apply(a,o)}return a}function _objectSpread(s){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(o){_defineProperty(s,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(a,o))})}return s}function _defineProperty(s,e,a){return e=_toPropertyKey(e),e in s?Object.defineProperty(s,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[e]=a,s}function _toPropertyKey(s){var e=_toPrimitive(s,"string");return _typeof(e)=="symbol"?e:e+""}function _toPrimitive(s,e){if(_typeof(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var o=a.call(s,e);if(_typeof(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}var defaultOptions=_objectSpread(_objectSpread({},BaseUpload.defaultOptions),{},{httpStack:new XHRHttpStack,fileReader:new FileReader$1,urlStorage:canStoreURLs?new WebStorageUrlStorage:new NoopUrlStorage,fingerprint}),Upload$1=function(s){function e(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _classCallCheck(this,e),o=_objectSpread(_objectSpread({},defaultOptions),o),_callSuper(this,e,[a,o])}return _inherits(e,s),_createClass(e,null,[{key:"terminate",value:function(o){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return d=_objectSpread(_objectSpread({},defaultOptions),d),BaseUpload.terminate(o,d)}}])}(BaseUpload);const supabaseUrl=void 0,supabaseKey=void 0;throw new Error("Missing Supabase environment variables. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY");var Ao;const projectId=(Ao=supabaseUrl.match(/https:\/\/([^.]+)/))==null?void 0:Ao[1],supabaseStorageUrl=`https://${projectId}.storage.supabase.co`,supabase=createClient(supabaseUrl,supabaseKey,{auth:{persistSession:!1,autoRefreshToken:!1},realtime:{params:{eventsPerSecond:10}}}),sanitizeFilename=s=>{const e=s.lastIndexOf("."),a=e>0?s.substring(0,e):s,o=e>0?s.substring(e):"";return a.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_-]/g,"").replace(/_{2,}/g,"_").replace(/-{2,}/g,"-").substring(0,100)+o},getShopInfo=async s=>{try{if(console.log(" Fetching shop info for:",s),!s)throw new Error("Shop ID is required");const{data:e,error:a}=await supabase.from("shops").select("*").eq("id",s).eq("is_active",!0).maybeSingle();if(a)throw console.error(" Error fetching shop:",a),new Error(`Failed to fetch shop: ${a.message}`);return e?(console.log(" Shop info loaded:",e.name),{data:e,error:null}):(console.warn(" Shop not found or inactive:",s),{data:null,error:{message:"Shop not found or inactive"}})}catch(e){return console.error(" Shop fetch error:",e),{data:null,error:{message:e.message}}}},getAllActiveShops=async()=>{try{console.log(" Fetching all active shops...");const{data:s,error:e}=await supabase.from("shops").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(e)throw console.error(" Error fetching shops:",e),new Error(`Failed to fetch shops: ${e.message}`);return console.log(" Active shops loaded:",(s==null?void 0:s.length)||0),{data:s||[],error:null}}catch(s){return console.error(" Shops fetch error:",s),{data:[],error:{message:s.message}}}},getShopPricing=async s=>{try{if(console.log(" Fetching pricing for shop:",s),!s)throw new Error("Shop ID is required");const{data:e,error:a}=await supabase.from("cost_configs").select("*").eq("shop_id",s).eq("is_active",!0);if(a)throw console.error(" Error fetching pricing:",a),new Error(`Failed to fetch pricing: ${a.message}`);return console.log(" Pricing loaded:",(e==null?void 0:e.length)||0,"configurations"),{data:e||[],error:null}}catch(e){return console.error(" Pricing fetch error:",e),{data:[],error:{message:e.message}}}},calculateOrderCost=async(s,e)=>{try{const{data:a,error:o}=await getShopPricing(s);if(o||!a||a.length===0)return console.warn(" No pricing configs found for shop:",s),{cost:0,error:"No pricing available for this shop",pricePerPage:0,appliedTier:null,savings:0};const d=a.find(_=>_.paper_size===e.paperSize&&_.color_mode===e.colorMode&&_.print_type===e.printType);if(!d)return console.warn(" No matching config found for:",e),{cost:0,error:`No pricing found for ${e.paperSize} ${e.colorMode} ${e.printType}`,pricePerPage:0,appliedTier:null,savings:0};let h=d.base_price,g=null;if(d.bulk_tiers&&d.bulk_tiers.length>0){const _=d.bulk_tiers.filter($=>e.copies>=$.min_copies).filter($=>!$.max_copies||e.copies<=$.max_copies).sort(($,_e)=>_e.min_copies-$.min_copies)[0];_&&(h=d.base_price*(1-_.discount),g=_)}const b=h*e.copies,j=g?(d.base_price-h)*e.copies:0;return console.log(" Cost calculated:",{totalCost:b,pricePerPage:h,appliedTier:g==null?void 0:g.name,savings:j}),{cost:b,pricePerPage:h,appliedTier:g,savings:j,basePrice:d.base_price,error:null}}catch(a){return console.error(" Cost calculation error:",a),{cost:0,error:"Error calculating cost",pricePerPage:0,appliedTier:null,savings:0}}},uploadFileChunked=async(s,e,a=null,o=null)=>new Promise((d,h)=>{try{if(!s){h(new Error("No file provided"));return}if(!e){h(new Error("Shop ID is required"));return}const g=sanitizeFilename(s.name),b=`${e}/${Date.now()}_${g}`,j="print-files",_=(s.size/1024/1024).toFixed(2);console.log(` Starting CHUNKED upload for ${_} MB file...`),console.log(" Using direct storage endpoint:",supabaseStorageUrl);const $=new Upload$1(s,{endpoint:`${supabaseStorageUrl}/storage/v1/upload/resumable`,retryDelays:[0,1e3,3e3,5e3,1e4],headers:{authorization:`Bearer ${supabaseKey}`,"x-upsert":"false"},uploadDataDuringCreation:!0,removeFingerprintOnSuccess:!0,metadata:{bucketName:j,objectName:b,contentType:s.type||"application/pdf",cacheControl:"3600"},chunkSize:6*1024*1024,onError:_e=>{console.error(" Chunked upload failed:",_e),h(new Error(`Upload failed: ${_e.message}`))},onProgress:(_e,et)=>{const tt=(_e/et*100).toFixed(1);console.log(` Upload progress: ${tt}% (${(_e/1024/1024).toFixed(2)} MB / ${_} MB)`),a&&a(_e,et,tt)},onSuccess:()=>{const{data:{publicUrl:_e}}=supabase.storage.from(j).getPublicUrl(b);console.log(" Chunked upload complete!"),console.log(" File URL:",_e),d({data:{path:b,publicUrl:_e},error:null})}});o&&o($),$.start()}catch(g){console.error(" Chunked upload error:",g),h(g)}}),submitPrintJob=async s=>{try{if(console.log(" Submitting print job:",s),!s.shop_id)throw new Error("Shop ID is required");if(!s.filename)throw new Error("Filename is required");const{data:e,error:a}=await supabase.from("print_jobs").insert({...s,payment_status:"paid",job_status:"pending"}).select().single();if(a)throw console.error(" Job submission error:",a),new Error(`Failed to submit job: ${a.message}`);return console.log(" Print job submitted successfully:",e.id),{data:e,error:null}}catch(e){return console.error(" Submit error:",e),{data:null,error:{message:e.message}}}},getJobStatus=async s=>{try{if(!s)throw new Error("Job ID is required");const{data:e,error:a}=await supabase.from("print_jobs").select("*").eq("id",s).maybeSingle();if(a)throw console.error(" Job status error:",a),new Error(`Failed to get job status: ${a.message}`);return{data:e,error:null}}catch(e){return console.error(" Job status error:",e),{data:null,error:{message:e.message}}}},updatePrintJob=async(s,e)=>{try{if(!s)throw new Error("Job ID is required");const{data:a,error:o}=await supabase.from("print_jobs").update({...e,updated_at:new Date().toISOString()}).eq("id",s).select().single();if(o)throw console.error(" Job update error:",o),new Error(`Failed to update job: ${o.message}`);return console.log(" Job updated successfully:",s),{data:a,error:null}}catch(a){return console.error(" Job update error:",a),{data:null,error:{message:a.message}}}},updatePaymentStatus=async(s,e)=>{try{if(!s)throw new Error("Job ID is required");const{data:a,error:o}=await supabase.from("print_jobs").update({payment_status:e,updated_at:new Date().toISOString()}).eq("id",s).select().single();if(o)throw console.error(" Payment update error:",o),new Error(`Failed to update payment: ${o.message}`);return{data:a,error:null}}catch(a){return console.error(" Payment update error:",a),{data:null,error:{message:a.message}}}},subscribeToJobUpdates=(s,e)=>(console.log(" Setting up real-time subscription for job:",s),supabase.channel(`job_updates_${s}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"print_jobs",filter:`id=eq.${s}`},a=>{console.log(" Real-time job update received:",a.new),e(a.new)}).subscribe(a=>{console.log(" Subscription status:",a)})),startJobStatusPolling=(s,e,a=3e4)=>{console.log(` Starting polling for job ${s} every ${a}ms`);const o=setInterval(async()=>{try{const{data:d,error:h}=await getJobStatus(s);!h&&d&&e(d)}catch(d){console.error(" Polling error:",d)}},a);return()=>{console.log(" Stopping job status polling"),clearInterval(o)}},formatCurrency=s=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(s);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(s,e)=>{const a=reactExports.forwardRef(({color:o="currentColor",size:d=24,strokeWidth:h=2,absoluteStrokeWidth:g,className:b="",children:j,..._},$)=>reactExports.createElement("svg",{ref:$,...defaultAttributes,width:d,height:d,stroke:o,strokeWidth:g?Number(h)*24/Number(d):h,className:["lucide",`lucide-${toKebabCase(s)}`,b].join(" "),..._},[...e.map(([_e,et])=>reactExports.createElement(_e,et)),...Array.isArray(j)?j:[j]]));return a.displayName=`${s}`,a};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Award=createLucideIcon("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleDot=createLucideIcon("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CreditCard=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ellipsis=createLucideIcon("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Facebook=createLucideIcon("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileCheck=createLucideIcon("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Globe=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Home=createLucideIcon("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Image$1=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Instagram=createLucideIcon("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Linkedin=createLucideIcon("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader=createLucideIcon("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Maximize2=createLucideIcon("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minimize2=createLucideIcon("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Package=createLucideIcon("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Printer=createLucideIcon("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquareCheck=createLucideIcon("SquareCheck",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Square=createLucideIcon("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Store=createLucideIcon("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Twitter=createLucideIcon("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),HomePage=()=>{const[s,e]=reactExports.useState([]),[a,o]=reactExports.useState([]),[d,h]=reactExports.useState(!0),[g,b]=reactExports.useState(null),[j,_]=reactExports.useState(""),$=reactExports.useRef(null);reactExports.useEffect(()=>{_e(),et()},[]);const _e=async()=>{try{h(!0),b(null);const{data:st,error:rt}=await getAllActiveShops();if(rt)throw new Error(`Failed to load shops: ${rt.message}`);e(st||[])}catch(st){console.error("Error loading shops:",st),b(st.message)}finally{h(!1)}},et=()=>{try{const st=JSON.parse(localStorage.getItem("recentShops")||"[]");o(st)}catch(st){console.error(" Error loading recent shops:",st)}},tt=()=>{var st;(st=$.current)==null||st.scrollIntoView({behavior:"smooth",block:"start"})},nt=s.filter(st=>st.name.toLowerCase().includes(j.toLowerCase())||st.address.toLowerCase().includes(j.toLowerCase())),it=[{icon:Zap,title:"Lightning Fast",description:"Get your documents printed in under 15 minutes"},{icon:Shield,title:"Secure & Private",description:"Your files are encrypted and auto-deleted after printing"},{icon:Globe,title:"Wide Network",description:"Access hundreds of print shops across the city"},{icon:Award,title:"Quality Guaranteed",description:"Professional printing with satisfaction guarantee"}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 opacity-30",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),jsxRuntimeExports.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-20 sm:py-32",children:jsxRuntimeExports.jsxs("div",{className:"text-center animate-fadeInUp",children:[jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full border border-blue-200/50 mb-8",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Trusted by 50,000+ users"})]}),jsxRuntimeExports.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-4 sm:mb-6 leading-tight",children:["Print Anywhere,",jsxRuntimeExports.jsx("span",{className:"gradient-text block",children:"Anytime"})]}),jsxRuntimeExports.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto mb-8 sm:mb-12 leading-relaxed px-4",children:"Connect with local print shops. Upload and collect your documents instantly."}),jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto mb-12",children:jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{className:"h-6 w-6 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),jsxRuntimeExports.jsx("input",{type:"text",value:j,onChange:st=>_(st.target.value),placeholder:"Search print shops by name or location...",className:"w-full pl-12 pr-6 py-4 text-lg bg-white/90 backdrop-blur-sm border border-gray-200/50 rounded-2xl shadow-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 placeholder-gray-400"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-600/20 to-purple-600/20 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center px-4",children:[jsxRuntimeExports.jsxs("a",{href:"#all-shops",className:"btn-primary text-sm sm:text-base px-6 py-3 sm:px-8 sm:py-4 w-full sm:w-auto inline-flex items-center justify-center",children:["Find Print Shops",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2"})]}),jsxRuntimeExports.jsx("button",{onClick:tt,className:"btn-secondary text-sm sm:text-base px-6 py-3 sm:px-8 sm:py-4 w-full sm:w-auto",children:"How it Works"})]})]})}),jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-20 h-20 bg-blue-500/10 rounded-full animate-float"}),jsxRuntimeExports.jsx("div",{className:"absolute top-40 right-20 w-16 h-16 bg-purple-500/10 rounded-full animate-float",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-20 left-1/4 w-12 h-12 bg-indigo-500/10 rounded-full animate-float",style:{animationDelay:"4s"}})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[d&&jsxRuntimeExports.jsxs("div",{className:"text-center py-20 animate-fadeInUp",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl mx-auto mb-6 flex items-center justify-center animate-pulse-glow",children:jsxRuntimeExports.jsx(Printer,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Print Shops"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Connecting to our network of trusted partners..."})]}),!d&&g&&jsxRuntimeExports.jsxs("div",{className:"text-center py-20 animate-fadeInUp",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl mx-auto mb-6 flex items-center justify-center",children:jsxRuntimeExports.jsx(Store,{className:"w-8 h-8 text-red-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Unable to Load Shops"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:g}),jsxRuntimeExports.jsx("button",{onClick:_e,className:"btn-primary",children:"Try Again"})]}),!d&&!g&&a.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-16 animate-fadeInUp",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"feature-icon",children:jsxRuntimeExports.jsx(Clock,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Recently Visited"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Your recent visits"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((st,rt)=>jsxRuntimeExports.jsx(Link,{to:`/shop/${st.id}`,className:"print-card card-hover animate-slideInRight",style:{animationDelay:`${rt*.1}s`},children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Printer,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1 truncate",children:st.name}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-gray-600 mb-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-sm truncate",children:st.address})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 text-yellow-500"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700",children:"4.8"})]}),jsxRuntimeExports.jsx("span",{className:"text-green-600 font-medium",children:"Open"})]})]})]})},st.id))})]}),!d&&!g&&jsxRuntimeExports.jsxs("div",{className:"animate-fadeInUp",id:"all-shops",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"feature-icon",children:jsxRuntimeExports.jsx(Store,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"All Print Shops"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Trusted printing partners"})]})]}),nt.length>0?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:nt.map((st,rt)=>jsxRuntimeExports.jsxs(Link,{to:`/shop/${st.id}`,className:"print-card card-hover animate-slideInRight",style:{animationDelay:`${rt*.1}s`},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Printer,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:st.name}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-gray-600 mb-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:st.address})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-blue-600 mb-3",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:st.phone})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 text-yellow-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"4.8"})]}),jsxRuntimeExports.jsx("span",{className:"status-badge bg-green-100 text-green-800",children:"Open"})]}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-colors"})]})]},st.id))}):jsxRuntimeExports.jsxs("div",{className:"text-center py-20 print-card",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl mx-auto mb-6 flex items-center justify-center",children:jsxRuntimeExports.jsx(Store,{className:"w-8 h-8 text-gray-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Shops Found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-8",children:j?`No shops matching "${j}"`:"No shops available at the moment"}),j&&jsxRuntimeExports.jsx("button",{onClick:()=>_(""),className:"btn-secondary",children:"Clear Search"})]})]}),jsxRuntimeExports.jsxs("div",{ref:$,className:"py-20 animate-fadeInUp",id:"how-it-works",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12 sm:mb-16 px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-3 sm:mb-4",children:"How It Works"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-gray-600 max-w-3xl mx-auto",children:"Get your documents printed in just a few simple steps"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 sm:gap-8 mb-16",children:[jsxRuntimeExports.jsxs("div",{className:"text-center print-card card-hover",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl mx-auto mb-6 flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx(Store,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full mx-auto mb-4 flex items-center justify-center font-bold text-sm",children:"1"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Choose Shop"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Browse and select from our network of trusted print shops near you"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center print-card card-hover",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl mx-auto mb-6 flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full mx-auto mb-4 flex items-center justify-center font-bold text-sm",children:"2"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Upload Files"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Upload your PDF or image files. Multiple files and formats supported"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center print-card card-hover",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl mx-auto mb-6 flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx(Settings,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full mx-auto mb-4 flex items-center justify-center font-bold text-sm",children:"3"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Configure"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Choose page size, color mode, copies, and other print options"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center print-card card-hover",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl mx-auto mb-6 flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx(FileCheck,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-orange-600 text-white rounded-full mx-auto mb-4 flex items-center justify-center font-bold text-sm",children:"4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Submit Order"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Review your order details and submit with your contact information"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center print-card card-hover",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl mx-auto mb-6 flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx(Package,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-red-600 text-white rounded-full mx-auto mb-4 flex items-center justify-center font-bold text-sm",children:"5"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Collect Prints"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Visit the shop and collect your professionally printed documents"})]})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 p-8 sm:p-12 rounded-2xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Powerful Features"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx(Printer,{className:"w-6 h-6 text-white"})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"PDF & Image Support"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Upload PDFs, JPG, PNG files with built-in editor for adjustments"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx(Settings,{className:"w-6 h-6 text-white"})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Flexible Page Sizes"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"A3, A4, A5, Letter, Legal and more international paper sizes"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx(Zap,{className:"w-6 h-6 text-white"})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Color & Black/White"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Choose between color or B&W printing with instant preview"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx(Shield,{className:"w-6 h-6 text-white"})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Advanced Options"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Page selection, N-up printing, single/double-sided options"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"py-20 animate-fadeInUp",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12 sm:mb-16 px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Why Choose Us?"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-gray-600 max-w-3xl mx-auto",children:"Innovative platform designed for modern needs"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:it.map((st,rt)=>jsxRuntimeExports.jsxs("div",{className:"text-center print-card card-hover animate-slideInRight",style:{animationDelay:`${rt*.1}s`},children:[jsxRuntimeExports.jsx("div",{className:"feature-icon mx-auto mb-6",children:jsxRuntimeExports.jsx(st.icon,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:st.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed",children:st.description})]},rt))})]})]}),jsxRuntimeExports.jsx("footer",{className:"bg-gray-900 text-gray-300 mt-20",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Printer,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-white font-bold text-lg",children:"PrintFlow Pro"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Your trusted platform for convenient printing services. Connect with local print shops and get your documents printed quickly."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"w-9 h-9 bg-gray-800 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-colors",children:jsxRuntimeExports.jsx(Facebook,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("a",{href:"#",className:"w-9 h-9 bg-gray-800 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-colors",children:jsxRuntimeExports.jsx(Twitter,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("a",{href:"#",className:"w-9 h-9 bg-gray-800 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-colors",children:jsxRuntimeExports.jsx(Instagram,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("a",{href:"#",className:"w-9 h-9 bg-gray-800 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-colors",children:jsxRuntimeExports.jsx(Linkedin,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-4",children:"Quick Links"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#all-shops",className:"hover:text-blue-400 transition-colors",children:"Find Shops"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:tt,className:"hover:text-blue-400 transition-colors",children:"How It Works"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Features"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Pricing"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-4",children:"Legal"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"About Us"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Terms of Service"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Privacy Policy"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Cookie Policy"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-4",children:"Contact Us"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 text-sm",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsx("a",{href:"mailto:support@printflowpro.com",className:"hover:text-blue-400 transition-colors",children:"support@printflowpro.com"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsx("a",{href:"tel:+1234567890",className:"hover:text-blue-400 transition-colors",children:"+1 (234) 567-890"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{children:"123 Print Street, City, Country"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsx(Link,{to:"/design-mockup",className:"block w-full sm:w-auto mx-auto text-center bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white px-6 py-4 rounded-xl font-semibold text-sm shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:" View New Design Mockups"})}),jsxRuntimeExports.jsx("div",{className:"border-t border-gray-800 pt-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," PrintFlow Pro. All rights reserved."]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-6 text-sm",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Terms"}),jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Privacy"}),jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Cookies"})]})]})})]})})]})};function commonjsRequire(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var path2dPolyfill_esm={},hasRequiredPath2dPolyfill_esm;function requirePath2dPolyfill_esm(){if(hasRequiredPath2dPolyfill_esm)return path2dPolyfill_esm;hasRequiredPath2dPolyfill_esm=1;function s(nt,it,st){for(var rt=0,at=it.length,ht;rt<at;rt++)(ht||!(rt in it))&&(ht||(ht=Array.prototype.slice.call(it,0,rt)),ht[rt]=it[rt]);return nt.concat(ht||Array.prototype.slice.call(it))}var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=/([astvzqmhlc])([^astvzqmhlc]*)/gi,o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function d(nt){var it=nt.match(o);return it?it.map(Number):[]}function h(nt){var it=[],st=String(nt).trim();return st[0]!=="M"&&st[0]!=="m"||st.replace(a,function(rt,at,ht){var ft=d(ht),ot=at.toLowerCase(),ut=at;if(ot==="m"&&ft.length>2&&(it.push(s([ut],ft.splice(0,2))),ot="l",ut=ut==="m"?"l":"L"),ft.length<e[ot])return"";for(it.push(s([ut],ft.splice(0,e[ot])));ft.length>=e[ot]&&ft.length&&e[ot];)it.push(s([ut],ft.splice(0,e[ot])));return""}),it}function g(nt,it){var st=nt.x*Math.cos(it)-nt.y*Math.sin(it),rt=nt.y*Math.cos(it)+nt.x*Math.sin(it);nt.x=st,nt.y=rt}function b(nt,it,st){nt.x+=it,nt.y+=st}function j(nt,it){nt.x*=it,nt.y*=it}var _=function(){function nt(it){var st;this.commands=[],it&&it instanceof nt?(st=this.commands).push.apply(st,it.commands):it&&(this.commands=h(it))}return nt.prototype.addPath=function(it){var st;it&&it instanceof nt&&(st=this.commands).push.apply(st,it.commands)},nt.prototype.moveTo=function(it,st){this.commands.push(["M",it,st])},nt.prototype.lineTo=function(it,st){this.commands.push(["L",it,st])},nt.prototype.arc=function(it,st,rt,at,ht,ft){this.commands.push(["AC",it,st,rt,at,ht,!!ft])},nt.prototype.arcTo=function(it,st,rt,at,ht){this.commands.push(["AT",it,st,rt,at,ht])},nt.prototype.ellipse=function(it,st,rt,at,ht,ft,ot,ut){this.commands.push(["E",it,st,rt,at,ht,ft,ot,!!ut])},nt.prototype.closePath=function(){this.commands.push(["Z"])},nt.prototype.bezierCurveTo=function(it,st,rt,at,ht,ft){this.commands.push(["C",it,st,rt,at,ht,ft])},nt.prototype.quadraticCurveTo=function(it,st,rt,at){this.commands.push(["Q",it,st,rt,at])},nt.prototype.rect=function(it,st,rt,at){this.commands.push(["R",it,st,rt,at])},nt.prototype.roundRect=function(it,st,rt,at,ht){typeof ht>"u"?this.commands.push(["RR",it,st,rt,at,0]):this.commands.push(["RR",it,st,rt,at,ht])},nt}();function $(nt,it){var st=0,rt=0,at,ht,ft,ot,ut,ct,dt,vt,Et,pt,bt,Ct,Bt,jt,Ft,wt,It,yt,Dt,Mt,St,gt=null,mt=null,xt=null,_t=null,At=null,Tt=null;nt.beginPath();for(var Lt=0;Lt<it.length;++Lt){yt=it[Lt][0],yt!=="S"&&yt!=="s"&&yt!=="C"&&yt!=="c"&&(gt=null,mt=null),yt!=="T"&&yt!=="t"&&yt!=="Q"&&yt!=="q"&&(xt=null,_t=null);var Ut=void 0;switch(yt){case"m":case"M":Ut=it[Lt],yt==="m"?(st+=Ut[1],rt+=Ut[2]):(st=Ut[1],rt=Ut[2]),(yt==="M"||!At)&&(At={x:st,y:rt}),nt.moveTo(st,rt);break;case"l":Ut=it[Lt],st+=Ut[1],rt+=Ut[2],nt.lineTo(st,rt);break;case"L":Ut=it[Lt],st=Ut[1],rt=Ut[2],nt.lineTo(st,rt);break;case"H":Ut=it[Lt],st=Ut[1],nt.lineTo(st,rt);break;case"h":Ut=it[Lt],st+=Ut[1],nt.lineTo(st,rt);break;case"V":Ut=it[Lt],rt=Ut[1],nt.lineTo(st,rt);break;case"v":Ut=it[Lt],rt+=Ut[1],nt.lineTo(st,rt);break;case"a":case"A":if(Ut=it[Lt],Tt===null)throw new Error("This should never happen");yt==="a"?(st+=Ut[6],rt+=Ut[7]):(st=Ut[6],rt=Ut[7]),jt=Ut[1],Ft=Ut[2],dt=Ut[3]*Math.PI/180,ft=!!Ut[4],ot=!!Ut[5],ut={x:st,y:rt},ct={x:(Tt.x-ut.x)/2,y:(Tt.y-ut.y)/2},g(ct,-dt),vt=ct.x*ct.x/(jt*jt)+ct.y*ct.y/(Ft*Ft),vt>1&&(vt=Math.sqrt(vt),jt*=vt,Ft*=vt),Dt={x:jt*ct.y/Ft,y:-(Ft*ct.x)/jt},Et=jt*jt*Ft*Ft,pt=jt*jt*ct.y*ct.y+Ft*Ft*ct.x*ct.x,ot!==ft?j(Dt,Math.sqrt((Et-pt)/pt)||0):j(Dt,-Math.sqrt((Et-pt)/pt)||0),ht=Math.atan2((ct.y-Dt.y)/Ft,(ct.x-Dt.x)/jt),at=Math.atan2(-(ct.y+Dt.y)/Ft,-(ct.x+Dt.x)/jt),g(Dt,dt),b(Dt,(ut.x+Tt.x)/2,(ut.y+Tt.y)/2),nt.save(),nt.translate(Dt.x,Dt.y),nt.rotate(dt),nt.scale(jt,Ft),nt.arc(0,0,1,ht,at,!ot),nt.restore();break;case"C":Ut=it[Lt],gt=Ut[3],mt=Ut[4],st=Ut[5],rt=Ut[6],nt.bezierCurveTo(Ut[1],Ut[2],gt,mt,st,rt);break;case"c":Ut=it[Lt],nt.bezierCurveTo(Ut[1]+st,Ut[2]+rt,Ut[3]+st,Ut[4]+rt,Ut[5]+st,Ut[6]+rt),gt=Ut[3]+st,mt=Ut[4]+rt,st+=Ut[5],rt+=Ut[6];break;case"S":Ut=it[Lt],(gt===null||mt===null)&&(gt=st,mt=rt),nt.bezierCurveTo(2*st-gt,2*rt-mt,Ut[1],Ut[2],Ut[3],Ut[4]),gt=Ut[1],mt=Ut[2],st=Ut[3],rt=Ut[4];break;case"s":Ut=it[Lt],(gt===null||mt===null)&&(gt=st,mt=rt),nt.bezierCurveTo(2*st-gt,2*rt-mt,Ut[1]+st,Ut[2]+rt,Ut[3]+st,Ut[4]+rt),gt=Ut[1]+st,mt=Ut[2]+rt,st+=Ut[3],rt+=Ut[4];break;case"Q":Ut=it[Lt],xt=Ut[1],_t=Ut[2],st=Ut[3],rt=Ut[4],nt.quadraticCurveTo(xt,_t,st,rt);break;case"q":Ut=it[Lt],xt=Ut[1]+st,_t=Ut[2]+rt,st+=Ut[3],rt+=Ut[4],nt.quadraticCurveTo(xt,_t,st,rt);break;case"T":Ut=it[Lt],(xt===null||_t===null)&&(xt=st,_t=rt),xt=2*st-xt,_t=2*rt-_t,st=Ut[1],rt=Ut[2],nt.quadraticCurveTo(xt,_t,st,rt);break;case"t":Ut=it[Lt],(xt===null||_t===null)&&(xt=st,_t=rt),xt=2*st-xt,_t=2*rt-_t,st+=Ut[1],rt+=Ut[2],nt.quadraticCurveTo(xt,_t,st,rt);break;case"z":case"Z":At&&(st=At.x,rt=At.y),At=null,nt.closePath();break;case"AC":Ut=it[Lt],st=Ut[1],rt=Ut[2],Bt=Ut[3],ht=Ut[4],at=Ut[5],Mt=Ut[6],nt.arc(st,rt,Bt,ht,at,Mt);break;case"AT":Ut=it[Lt],bt=Ut[1],Ct=Ut[2],st=Ut[3],rt=Ut[4],Bt=Ut[5],nt.arcTo(bt,Ct,st,rt,Bt);break;case"E":Ut=it[Lt],st=Ut[1],rt=Ut[2],jt=Ut[3],Ft=Ut[4],dt=Ut[5],ht=Ut[6],at=Ut[7],Mt=Ut[8],nt.save(),nt.translate(st,rt),nt.rotate(dt),nt.scale(jt,Ft),nt.arc(0,0,1,ht,at,Mt),nt.restore();break;case"R":Ut=it[Lt],st=Ut[1],rt=Ut[2],wt=Ut[3],It=Ut[4],At={x:st,y:rt},nt.rect(st,rt,wt,It);break;case"RR":Ut=it[Lt],st=Ut[1],rt=Ut[2],wt=Ut[3],It=Ut[4],St=Ut[5],At={x:st,y:rt},nt.roundRect(st,rt,wt,It,St);break}Tt?(Tt.x=st,Tt.y=rt):Tt={x:st,y:rt}}}function _e(nt){if(!(!nt||!nt.CanvasRenderingContext2D||nt.Path2D)){var it=nt.CanvasRenderingContext2D,st=it.prototype.fill,rt=it.prototype.stroke,at=it.prototype.isPointInPath;it.prototype.fill=function(){for(var ft=[],ot=0;ot<arguments.length;ot++)ft[ot]=arguments[ot];if(ft[0]instanceof _){var ut=ft[0],ct=ft[1]||"nonzero";$(this,ut.commands),st.apply(this,[ct])}else{var ct=ft[0]||"nonzero";return st.apply(this,[ct])}},it.prototype.stroke=function(ft){ft&&$(this,ft.commands),rt.apply(this)},it.prototype.isPointInPath=function(){for(var ft=[],ot=0;ot<arguments.length;ot++)ft[ot]=arguments[ot];if(ft[0]instanceof _){var ut=ft[0],ct=ft[1],dt=ft[2],vt=ft[3]||"nonzero";return $(this,ut.commands),at.apply(this,[ct,dt,vt])}else return at.apply(this,ft)},nt.Path2D=_}}function et(nt,it,st,rt,at){var ht=this;if(at===void 0&&(at=0),typeof at=="number"&&(at=[at]),Array.isArray(at)){if(at.length===0||at.length>4)throw new RangeError("Failed to execute 'roundRect' on '".concat(this.constructor.name,"': ").concat(at.length," radii provided. Between one and four radii are necessary."));at.forEach(function(vt){if(vt<0)throw new RangeError("Failed to execute 'roundRect' on '".concat(ht.constructor.name,"': Radius value ").concat(vt," is negative."))})}else return;if(at.length===1&&at[0]===0)return this.rect(nt,it,st,rt);var ft=Math.min(st,rt)/2,ot,ut,ct,dt=ot=ut=ct=Math.min(ft,at[0]);at.length===2&&(ot=ct=Math.min(ft,at[1])),at.length===3&&(ot=ct=Math.min(ft,at[1]),ut=Math.min(ft,at[2])),at.length===4&&(ot=Math.min(ft,at[1]),ut=Math.min(ft,at[2]),ct=Math.min(ft,at[3])),this.moveTo(nt,it+rt-ct),this.arcTo(nt,it,nt+dt,it,dt),this.arcTo(nt+st,it,nt+st,it+ot,ot),this.arcTo(nt+st,it+rt,nt+st-ut,it+rt,ut),this.arcTo(nt,it+rt,nt,it+rt-ct,ct),this.moveTo(nt,it)}function tt(nt){if(!(!nt||!nt.CanvasRenderingContext2D)){var it=nt.CanvasRenderingContext2D,st=nt.Path2D;it&&!it.prototype.roundRect&&(it.prototype.roundRect=et),st&&!st.prototype.roundRect&&(st.prototype.roundRect=et)}}return _e(window),tt(window),path2dPolyfill_esm}(function(module,exports){(function(e,a){module.exports=e.pdfjsLib=a()})(globalThis,()=>(()=>{var __webpack_modules__=[,(s,e,a)=>{var Cr;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=Dt,e.bytesToString=tr,e.createValidAbsoluteUrl=St,e.getModificationDate=Ir,e.getUuid=Mr,e.getVerbosityLevel=Ft,e.info=wt,e.isArrayBuffer=br,e.isArrayEqual=Er,e.isNodeJS=void 0,e.normalizeUnicode=Tr,e.objectFromMap=Gt,e.objectSize=dr,e.setVerbosityLevel=jt,e.shadow=gt,e.string32=hr,e.stringToBytes=lr,e.stringToPDFString=vr,e.stringToUTF8String=pr,e.unreachable=yt,e.utf8StringToString=Vt,e.warn=It,a(2),a(84),a(86),a(87),a(89),a(93),a(101),a(102),a(105),a(107),a(109),a(113),a(116),a(123);const o=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=o;const d=[1,0,0,1,0,0];e.IDENTITY_MATRIX=d;const h=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=h;const g=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=g;const b=1.35;e.LINE_FACTOR=b;const j=.35;e.LINE_DESCENT_FACTOR=j;const _=j/b;e.BASELINE_FACTOR=_;const $={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=$;const _e={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=_e;const et="pdfjs_internal_editor_";e.AnnotationEditorPrefix=et;const tt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=tt;const nt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=nt;const it={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=it;const st={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=st;const rt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=rt;const at={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=at;const ht={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=ht;const ft={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=ft;const ot={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=ot;const ut={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=ut;const ct={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=ct;const dt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=dt;const vt={O:"PageOpen",C:"PageClose"};e.PageActionEventType=vt;const Et={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=Et;const pt={NONE:0,BINARY:1};e.CMapCompressionType=pt;const bt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=bt;const Ct={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=Ct;let Bt=Et.WARNINGS;function jt(or){Number.isInteger(or)&&(Bt=or)}function Ft(){return Bt}function wt(or){Bt>=Et.INFOS&&console.log(`Info: ${or}`)}function It(or){Bt>=Et.WARNINGS&&console.log(`Warning: ${or}`)}function yt(or){throw new Error(or)}function Dt(or,Yt){or||yt(Yt)}function Mt(or){switch(or==null?void 0:or.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function St(or){let Yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,fr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!or)return null;try{if(fr&&typeof or=="string"){if(fr.addDefaultProtocol&&or.startsWith("www.")){const Or=or.match(/\./g);(Or==null?void 0:Or.length)>=2&&(or=`http://${or}`)}if(fr.tryConvertEncoding)try{or=pr(or)}catch{}}const Dr=Yt?new URL(or,Yt):new URL(or);if(Mt(Dr))return Dr}catch{}return null}function gt(or,Yt,fr){let Dr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Object.defineProperty(or,Yt,{value:fr,enumerable:!Dr,configurable:!0,writable:!1}),fr}const mt=function(){function Yt(fr,Dr){this.constructor===Yt&&yt("Cannot initialize BaseException."),this.message=fr,this.name=Dr}return Yt.prototype=new Error,Yt.constructor=Yt,Yt}();e.BaseException=mt;class xt extends mt{constructor(Yt,fr){super(Yt,"PasswordException"),this.code=fr}}e.PasswordException=xt;class _t extends mt{constructor(Yt,fr){super(Yt,"UnknownErrorException"),this.details=fr}}e.UnknownErrorException=_t;class At extends mt{constructor(Yt){super(Yt,"InvalidPDFException")}}e.InvalidPDFException=At;class Tt extends mt{constructor(Yt){super(Yt,"MissingPDFException")}}e.MissingPDFException=Tt;class Lt extends mt{constructor(Yt,fr){super(Yt,"UnexpectedResponseException"),this.status=fr}}e.UnexpectedResponseException=Lt;class Ut extends mt{constructor(Yt){super(Yt,"FormatError")}}e.FormatError=Ut;class Zt extends mt{constructor(Yt){super(Yt,"AbortException")}}e.AbortException=Zt;function tr(or){(typeof or!="object"||(or==null?void 0:or.length)===void 0)&&yt("Invalid argument for bytesToString");const Yt=or.length,fr=8192;if(Yt<fr)return String.fromCharCode.apply(null,or);const Dr=[];for(let Or=0;Or<Yt;Or+=fr){const Pt=Math.min(Or+fr,Yt),Xt=or.subarray(Or,Pt);Dr.push(String.fromCharCode.apply(null,Xt))}return Dr.join("")}function lr(or){typeof or!="string"&&yt("Invalid argument for stringToBytes");const Yt=or.length,fr=new Uint8Array(Yt);for(let Dr=0;Dr<Yt;++Dr)fr[Dr]=or.charCodeAt(Dr)&255;return fr}function hr(or){return String.fromCharCode(or>>24&255,or>>16&255,or>>8&255,or&255)}function dr(or){return Object.keys(or).length}function Gt(or){const Yt=Object.create(null);for(const[fr,Dr]of or)Yt[fr]=Dr;return Yt}function Jt(){const or=new Uint8Array(4);return or[0]=1,new Uint32Array(or.buffer,0,1)[0]===1}function Rt(){try{return new Function(""),!0}catch{return!1}}class Nt{static get isLittleEndian(){return gt(this,"isLittleEndian",Jt())}static get isEvalSupported(){return gt(this,"isEvalSupported",Rt())}static get isOffscreenCanvasSupported(){return gt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?gt(this,"platform",{isWin:!1,isMac:!1}):gt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Yt,fr;return gt(this,"isCSSRoundSupported",(fr=(Yt=globalThis.CSS)==null?void 0:Yt.supports)==null?void 0:fr.call(Yt,"width: round(1.5px, 1px)"))}}e.FeatureTest=Nt;const Ht=[...Array(256).keys()].map(or=>or.toString(16).padStart(2,"0"));class qt{static makeHexColor(Yt,fr,Dr){return`#${Ht[Yt]}${Ht[fr]}${Ht[Dr]}`}static scaleMinMax(Yt,fr){let Dr;Yt[0]?(Yt[0]<0&&(Dr=fr[0],fr[0]=fr[1],fr[1]=Dr),fr[0]*=Yt[0],fr[1]*=Yt[0],Yt[3]<0&&(Dr=fr[2],fr[2]=fr[3],fr[3]=Dr),fr[2]*=Yt[3],fr[3]*=Yt[3]):(Dr=fr[0],fr[0]=fr[2],fr[2]=Dr,Dr=fr[1],fr[1]=fr[3],fr[3]=Dr,Yt[1]<0&&(Dr=fr[2],fr[2]=fr[3],fr[3]=Dr),fr[2]*=Yt[1],fr[3]*=Yt[1],Yt[2]<0&&(Dr=fr[0],fr[0]=fr[1],fr[1]=Dr),fr[0]*=Yt[2],fr[1]*=Yt[2]),fr[0]+=Yt[4],fr[1]+=Yt[4],fr[2]+=Yt[5],fr[3]+=Yt[5]}static transform(Yt,fr){return[Yt[0]*fr[0]+Yt[2]*fr[1],Yt[1]*fr[0]+Yt[3]*fr[1],Yt[0]*fr[2]+Yt[2]*fr[3],Yt[1]*fr[2]+Yt[3]*fr[3],Yt[0]*fr[4]+Yt[2]*fr[5]+Yt[4],Yt[1]*fr[4]+Yt[3]*fr[5]+Yt[5]]}static applyTransform(Yt,fr){const Dr=Yt[0]*fr[0]+Yt[1]*fr[2]+fr[4],Or=Yt[0]*fr[1]+Yt[1]*fr[3]+fr[5];return[Dr,Or]}static applyInverseTransform(Yt,fr){const Dr=fr[0]*fr[3]-fr[1]*fr[2],Or=(Yt[0]*fr[3]-Yt[1]*fr[2]+fr[2]*fr[5]-fr[4]*fr[3])/Dr,Pt=(-Yt[0]*fr[1]+Yt[1]*fr[0]+fr[4]*fr[1]-fr[5]*fr[0])/Dr;return[Or,Pt]}static getAxialAlignedBoundingBox(Yt,fr){const Dr=this.applyTransform(Yt,fr),Or=this.applyTransform(Yt.slice(2,4),fr),Pt=this.applyTransform([Yt[0],Yt[3]],fr),Xt=this.applyTransform([Yt[2],Yt[1]],fr);return[Math.min(Dr[0],Or[0],Pt[0],Xt[0]),Math.min(Dr[1],Or[1],Pt[1],Xt[1]),Math.max(Dr[0],Or[0],Pt[0],Xt[0]),Math.max(Dr[1],Or[1],Pt[1],Xt[1])]}static inverseTransform(Yt){const fr=Yt[0]*Yt[3]-Yt[1]*Yt[2];return[Yt[3]/fr,-Yt[1]/fr,-Yt[2]/fr,Yt[0]/fr,(Yt[2]*Yt[5]-Yt[4]*Yt[3])/fr,(Yt[4]*Yt[1]-Yt[5]*Yt[0])/fr]}static singularValueDecompose2dScale(Yt){const fr=[Yt[0],Yt[2],Yt[1],Yt[3]],Dr=Yt[0]*fr[0]+Yt[1]*fr[2],Or=Yt[0]*fr[1]+Yt[1]*fr[3],Pt=Yt[2]*fr[0]+Yt[3]*fr[2],Xt=Yt[2]*fr[1]+Yt[3]*fr[3],xr=(Dr+Xt)/2,wr=Math.sqrt((Dr+Xt)**2-4*(Dr*Xt-Pt*Or))/2,Pr=xr+wr||1,Sr=xr-wr||1;return[Math.sqrt(Pr),Math.sqrt(Sr)]}static normalizeRect(Yt){const fr=Yt.slice(0);return Yt[0]>Yt[2]&&(fr[0]=Yt[2],fr[2]=Yt[0]),Yt[1]>Yt[3]&&(fr[1]=Yt[3],fr[3]=Yt[1]),fr}static intersect(Yt,fr){const Dr=Math.max(Math.min(Yt[0],Yt[2]),Math.min(fr[0],fr[2])),Or=Math.min(Math.max(Yt[0],Yt[2]),Math.max(fr[0],fr[2]));if(Dr>Or)return null;const Pt=Math.max(Math.min(Yt[1],Yt[3]),Math.min(fr[1],fr[3])),Xt=Math.min(Math.max(Yt[1],Yt[3]),Math.max(fr[1],fr[3]));return Pt>Xt?null:[Dr,Pt,Or,Xt]}static bezierBoundingBox(Yt,fr,Dr,Or,Pt,Xt,xr,wr){const Pr=[],Sr=[[],[]];let Ot,kt,zt,Kt,nr,ur,mr,sr;for(let rr=0;rr<2;++rr){if(rr===0?(kt=6*Yt-12*Dr+6*Pt,Ot=-3*Yt+9*Dr-9*Pt+3*xr,zt=3*Dr-3*Yt):(kt=6*fr-12*Or+6*Xt,Ot=-3*fr+9*Or-9*Xt+3*wr,zt=3*Or-3*fr),Math.abs(Ot)<1e-12){if(Math.abs(kt)<1e-12)continue;Kt=-zt/kt,0<Kt&&Kt<1&&Pr.push(Kt);continue}mr=kt*kt-4*zt*Ot,sr=Math.sqrt(mr),!(mr<0)&&(nr=(-kt+sr)/(2*Ot),0<nr&&nr<1&&Pr.push(nr),ur=(-kt-sr)/(2*Ot),0<ur&&ur<1&&Pr.push(ur))}let yr=Pr.length,ir;const er=yr;for(;yr--;)Kt=Pr[yr],ir=1-Kt,Sr[0][yr]=ir*ir*ir*Yt+3*ir*ir*Kt*Dr+3*ir*Kt*Kt*Pt+Kt*Kt*Kt*xr,Sr[1][yr]=ir*ir*ir*fr+3*ir*ir*Kt*Or+3*ir*Kt*Kt*Xt+Kt*Kt*Kt*wr;return Sr[0][er]=Yt,Sr[1][er]=fr,Sr[0][er+1]=xr,Sr[1][er+1]=wr,Sr[0].length=Sr[1].length=er+2,[Math.min(...Sr[0]),Math.min(...Sr[1]),Math.max(...Sr[0]),Math.max(...Sr[1])]}}e.Util=qt;const ar=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function vr(or){if(or[0]>=""){let fr;if(or[0]===""&&or[1]===""?fr="utf-16be":or[0]===""&&or[1]===""?fr="utf-16le":or[0]===""&&or[1]===""&&or[2]===""&&(fr="utf-8"),fr)try{const Dr=new TextDecoder(fr,{fatal:!0}),Or=lr(or);return Dr.decode(Or)}catch(Dr){It(`stringToPDFString: "${Dr}".`)}}const Yt=[];for(let fr=0,Dr=or.length;fr<Dr;fr++){const Or=ar[or.charCodeAt(fr)];Yt.push(Or?String.fromCharCode(Or):or.charAt(fr))}return Yt.join("")}function pr(or){return decodeURIComponent(escape(or))}function Vt(or){return unescape(encodeURIComponent(or))}function br(or){return typeof or=="object"&&(or==null?void 0:or.byteLength)!==void 0}function Er(or,Yt){if(or.length!==Yt.length)return!1;for(let fr=0,Dr=or.length;fr<Dr;fr++)if(or[fr]!==Yt[fr])return!1;return!0}function Ir(){let or=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[or.getUTCFullYear().toString(),(or.getUTCMonth()+1).toString().padStart(2,"0"),or.getUTCDate().toString().padStart(2,"0"),or.getUTCHours().toString().padStart(2,"0"),or.getUTCMinutes().toString().padStart(2,"0"),or.getUTCSeconds().toString().padStart(2,"0")].join("")}class kr{constructor(){$t(this,Cr,!1);this.promise=new Promise((Yt,fr)=>{this.resolve=Dr=>{Qt(this,Cr,!0),Yt(Dr)},this.reject=Dr=>{Qt(this,Cr,!0),fr(Dr)}})}get settled(){return lt(this,Cr)}}Cr=new WeakMap,e.PromiseCapability=kr;let Nr=null,Rr=null;function Tr(or){return Nr||(Nr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Rr=new Map([["","t"]])),or.replaceAll(Nr,(Yt,fr,Dr)=>fr?fr.normalize("NFKC"):Rr.get(Dr))}function Mr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const or=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(or);else for(let Yt=0;Yt<32;Yt++)or[Yt]=Math.floor(Math.random()*255);return tr(or)}const Ur="pdfjs_internal_id_";e.AnnotationPrefix=Ur},(s,e,a)=>{var o=a(3),d=a(4),h=a(69),g=a(70),b="WebAssembly",j=d[b],_=Error("e",{cause:7}).cause!==7,$=function(et,tt){var nt={};nt[et]=g(et,tt,_),o({global:!0,constructor:!0,arity:1,forced:_},nt)},_e=function(et,tt){if(j&&j[et]){var nt={};nt[et]=g(b+"."+et,tt,_),o({target:b,stat:!0,constructor:!0,arity:1,forced:_},nt)}};$("Error",function(et){return function(nt){return h(et,this,arguments)}}),$("EvalError",function(et){return function(nt){return h(et,this,arguments)}}),$("RangeError",function(et){return function(nt){return h(et,this,arguments)}}),$("ReferenceError",function(et){return function(nt){return h(et,this,arguments)}}),$("SyntaxError",function(et){return function(nt){return h(et,this,arguments)}}),$("TypeError",function(et){return function(nt){return h(et,this,arguments)}}),$("URIError",function(et){return function(nt){return h(et,this,arguments)}}),_e("CompileError",function(et){return function(nt){return h(et,this,arguments)}}),_e("LinkError",function(et){return function(nt){return h(et,this,arguments)}}),_e("RuntimeError",function(et){return function(nt){return h(et,this,arguments)}})},(s,e,a)=>{var o=a(4),d=a(5).f,h=a(44),g=a(48),b=a(38),j=a(56),_=a(68);s.exports=function($,_e){var et=$.target,tt=$.global,nt=$.stat,it,st,rt,at,ht,ft;if(tt?st=o:nt?st=o[et]||b(et,{}):st=(o[et]||{}).prototype,st)for(rt in _e){if(ht=_e[rt],$.dontCallGetSet?(ft=d(st,rt),at=ft&&ft.value):at=st[rt],it=_(tt?rt:et+(nt?".":"#")+rt,$.forced),!it&&at!==void 0){if(typeof ht==typeof at)continue;j(ht,at)}($.sham||at&&at.sham)&&h(ht,"sham",!0),g(st,rt,ht,$)}}},function(s){var e=function(a){return a&&a.Math===Math&&a};s.exports=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||this||Function("return this")()},(s,e,a)=>{var o=a(6),d=a(8),h=a(10),g=a(11),b=a(12),j=a(18),_=a(39),$=a(42),_e=Object.getOwnPropertyDescriptor;e.f=o?_e:function(tt,nt){if(tt=b(tt),nt=j(nt),$)try{return _e(tt,nt)}catch{}if(_(tt,nt))return g(!d(h.f,tt,nt),tt[nt])}},(s,e,a)=>{var o=a(7);s.exports=!o(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},s=>{s.exports=function(e){try{return!!e()}catch{return!0}}},(s,e,a)=>{var o=a(9),d=Function.prototype.call;s.exports=o?d.bind(d):function(){return d.apply(d,arguments)}},(s,e,a)=>{var o=a(7);s.exports=!o(function(){var d=(function(){}).bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},(s,e)=>{var a={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,d=o&&!a.call({1:2},1);e.f=d?function(g){var b=o(this,g);return!!b&&b.enumerable}:a},s=>{s.exports=function(e,a){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:a}}},(s,e,a)=>{var o=a(13),d=a(16);s.exports=function(h){return o(d(h))}},(s,e,a)=>{var o=a(14),d=a(7),h=a(15),g=Object,b=o("".split);s.exports=d(function(){return!g("z").propertyIsEnumerable(0)})?function(j){return h(j)==="String"?b(j,""):g(j)}:g},(s,e,a)=>{var o=a(9),d=Function.prototype,h=d.call,g=o&&d.bind.bind(h,h);s.exports=o?g:function(b){return function(){return h.apply(b,arguments)}}},(s,e,a)=>{var o=a(14),d=o({}.toString),h=o("".slice);s.exports=function(g){return h(d(g),8,-1)}},(s,e,a)=>{var o=a(17),d=TypeError;s.exports=function(h){if(o(h))throw d("Can't call method on "+h);return h}},s=>{s.exports=function(e){return e==null}},(s,e,a)=>{var o=a(19),d=a(23);s.exports=function(h){var g=o(h,"string");return d(g)?g:g+""}},(s,e,a)=>{var o=a(8),d=a(20),h=a(23),g=a(30),b=a(33),j=a(34),_=TypeError,$=j("toPrimitive");s.exports=function(_e,et){if(!d(_e)||h(_e))return _e;var tt=g(_e,$),nt;if(tt){if(et===void 0&&(et="default"),nt=o(tt,_e,et),!d(nt)||h(nt))return nt;throw _("Can't convert object to primitive value")}return et===void 0&&(et="number"),b(_e,et)}},(s,e,a)=>{var o=a(21),d=a(22),h=d.all;s.exports=d.IS_HTMLDDA?function(g){return typeof g=="object"?g!==null:o(g)||g===h}:function(g){return typeof g=="object"?g!==null:o(g)}},(s,e,a)=>{var o=a(22),d=o.all;s.exports=o.IS_HTMLDDA?function(h){return typeof h=="function"||h===d}:function(h){return typeof h=="function"}},s=>{var e=typeof document=="object"&&document.all,a=typeof e>"u"&&e!==void 0;s.exports={all:e,IS_HTMLDDA:a}},(s,e,a)=>{var o=a(24),d=a(21),h=a(25),g=a(26),b=Object;s.exports=g?function(j){return typeof j=="symbol"}:function(j){var _=o("Symbol");return d(_)&&h(_.prototype,b(j))}},(s,e,a)=>{var o=a(4),d=a(21),h=function(g){return d(g)?g:void 0};s.exports=function(g,b){return arguments.length<2?h(o[g]):o[g]&&o[g][b]}},(s,e,a)=>{var o=a(14);s.exports=o({}.isPrototypeOf)},(s,e,a)=>{var o=a(27);s.exports=o&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(s,e,a)=>{var o=a(28),d=a(7),h=a(4),g=h.String;s.exports=!!Object.getOwnPropertySymbols&&!d(function(){var b=Symbol("symbol detection");return!g(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&o&&o<41})},(s,e,a)=>{var o=a(4),d=a(29),h=o.process,g=o.Deno,b=h&&h.versions||g&&g.version,j=b&&b.v8,_,$;j&&(_=j.split("."),$=_[0]>0&&_[0]<4?1:+(_[0]+_[1])),!$&&d&&(_=d.match(/Edge\/(\d+)/),(!_||_[1]>=74)&&(_=d.match(/Chrome\/(\d+)/),_&&($=+_[1]))),s.exports=$},s=>{s.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},(s,e,a)=>{var o=a(31),d=a(17);s.exports=function(h,g){var b=h[g];return d(b)?void 0:o(b)}},(s,e,a)=>{var o=a(21),d=a(32),h=TypeError;s.exports=function(g){if(o(g))return g;throw h(d(g)+" is not a function")}},s=>{var e=String;s.exports=function(a){try{return e(a)}catch{return"Object"}}},(s,e,a)=>{var o=a(8),d=a(21),h=a(20),g=TypeError;s.exports=function(b,j){var _,$;if(j==="string"&&d(_=b.toString)&&!h($=o(_,b))||d(_=b.valueOf)&&!h($=o(_,b))||j!=="string"&&d(_=b.toString)&&!h($=o(_,b)))return $;throw g("Can't convert object to primitive value")}},(s,e,a)=>{var o=a(4),d=a(35),h=a(39),g=a(41),b=a(27),j=a(26),_=o.Symbol,$=d("wks"),_e=j?_.for||_:_&&_.withoutSetter||g;s.exports=function(et){return h($,et)||($[et]=b&&h(_,et)?_[et]:_e("Symbol."+et)),$[et]}},(s,e,a)=>{var o=a(36),d=a(37);(s.exports=function(h,g){return d[h]||(d[h]=g!==void 0?g:{})})("versions",[]).push({version:"3.32.2",mode:o?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"})},s=>{s.exports=!1},(s,e,a)=>{var o=a(4),d=a(38),h="__core-js_shared__",g=o[h]||d(h,{});s.exports=g},(s,e,a)=>{var o=a(4),d=Object.defineProperty;s.exports=function(h,g){try{d(o,h,{value:g,configurable:!0,writable:!0})}catch{o[h]=g}return g}},(s,e,a)=>{var o=a(14),d=a(40),h=o({}.hasOwnProperty);s.exports=Object.hasOwn||function(b,j){return h(d(b),j)}},(s,e,a)=>{var o=a(16),d=Object;s.exports=function(h){return d(o(h))}},(s,e,a)=>{var o=a(14),d=0,h=Math.random(),g=o(1 .toString);s.exports=function(b){return"Symbol("+(b===void 0?"":b)+")_"+g(++d+h,36)}},(s,e,a)=>{var o=a(6),d=a(7),h=a(43);s.exports=!o&&!d(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!==7})},(s,e,a)=>{var o=a(4),d=a(20),h=o.document,g=d(h)&&d(h.createElement);s.exports=function(b){return g?h.createElement(b):{}}},(s,e,a)=>{var o=a(6),d=a(45),h=a(11);s.exports=o?function(g,b,j){return d.f(g,b,h(1,j))}:function(g,b,j){return g[b]=j,g}},(s,e,a)=>{var o=a(6),d=a(42),h=a(46),g=a(47),b=a(18),j=TypeError,_=Object.defineProperty,$=Object.getOwnPropertyDescriptor,_e="enumerable",et="configurable",tt="writable";e.f=o?h?function(it,st,rt){if(g(it),st=b(st),g(rt),typeof it=="function"&&st==="prototype"&&"value"in rt&&tt in rt&&!rt[tt]){var at=$(it,st);at&&at[tt]&&(it[st]=rt.value,rt={configurable:et in rt?rt[et]:at[et],enumerable:_e in rt?rt[_e]:at[_e],writable:!1})}return _(it,st,rt)}:_:function(it,st,rt){if(g(it),st=b(st),g(rt),d)try{return _(it,st,rt)}catch{}if("get"in rt||"set"in rt)throw j("Accessors not supported");return"value"in rt&&(it[st]=rt.value),it}},(s,e,a)=>{var o=a(6),d=a(7);s.exports=o&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},(s,e,a)=>{var o=a(20),d=String,h=TypeError;s.exports=function(g){if(o(g))return g;throw h(d(g)+" is not an object")}},(s,e,a)=>{var o=a(21),d=a(45),h=a(49),g=a(38);s.exports=function(b,j,_,$){$||($={});var _e=$.enumerable,et=$.name!==void 0?$.name:j;if(o(_)&&h(_,et,$),$.global)_e?b[j]=_:g(j,_);else{try{$.unsafe?b[j]&&(_e=!0):delete b[j]}catch{}_e?b[j]=_:d.f(b,j,{value:_,enumerable:!1,configurable:!$.nonConfigurable,writable:!$.nonWritable})}return b}},(s,e,a)=>{var o=a(14),d=a(7),h=a(21),g=a(39),b=a(6),j=a(50).CONFIGURABLE,_=a(51),$=a(52),_e=$.enforce,et=$.get,tt=String,nt=Object.defineProperty,it=o("".slice),st=o("".replace),rt=o([].join),at=b&&!d(function(){return nt(function(){},"length",{value:8}).length!==8}),ht=String(String).split("String"),ft=s.exports=function(ot,ut,ct){it(tt(ut),0,7)==="Symbol("&&(ut="["+st(tt(ut),/^Symbol\(([^)]*)\)/,"$1")+"]"),ct&&ct.getter&&(ut="get "+ut),ct&&ct.setter&&(ut="set "+ut),(!g(ot,"name")||j&&ot.name!==ut)&&(b?nt(ot,"name",{value:ut,configurable:!0}):ot.name=ut),at&&ct&&g(ct,"arity")&&ot.length!==ct.arity&&nt(ot,"length",{value:ct.arity});try{ct&&g(ct,"constructor")&&ct.constructor?b&&nt(ot,"prototype",{writable:!1}):ot.prototype&&(ot.prototype=void 0)}catch{}var dt=_e(ot);return g(dt,"source")||(dt.source=rt(ht,typeof ut=="string"?ut:"")),ot};Function.prototype.toString=ft(function(){return h(this)&&et(this).source||_(this)},"toString")},(s,e,a)=>{var o=a(6),d=a(39),h=Function.prototype,g=o&&Object.getOwnPropertyDescriptor,b=d(h,"name"),j=b&&(function(){}).name==="something",_=b&&(!o||o&&g(h,"name").configurable);s.exports={EXISTS:b,PROPER:j,CONFIGURABLE:_}},(s,e,a)=>{var o=a(14),d=a(21),h=a(37),g=o(Function.toString);d(h.inspectSource)||(h.inspectSource=function(b){return g(b)}),s.exports=h.inspectSource},(s,e,a)=>{var o=a(53),d=a(4),h=a(20),g=a(44),b=a(39),j=a(37),_=a(54),$=a(55),_e="Object already initialized",et=d.TypeError,tt=d.WeakMap,nt,it,st,rt=function(ot){return st(ot)?it(ot):nt(ot,{})},at=function(ot){return function(ut){var ct;if(!h(ut)||(ct=it(ut)).type!==ot)throw et("Incompatible receiver, "+ot+" required");return ct}};if(o||j.state){var ht=j.state||(j.state=new tt);ht.get=ht.get,ht.has=ht.has,ht.set=ht.set,nt=function(ot,ut){if(ht.has(ot))throw et(_e);return ut.facade=ot,ht.set(ot,ut),ut},it=function(ot){return ht.get(ot)||{}},st=function(ot){return ht.has(ot)}}else{var ft=_("state");$[ft]=!0,nt=function(ot,ut){if(b(ot,ft))throw et(_e);return ut.facade=ot,g(ot,ft,ut),ut},it=function(ot){return b(ot,ft)?ot[ft]:{}},st=function(ot){return b(ot,ft)}}s.exports={set:nt,get:it,has:st,enforce:rt,getterFor:at}},(s,e,a)=>{var o=a(4),d=a(21),h=o.WeakMap;s.exports=d(h)&&/native code/.test(String(h))},(s,e,a)=>{var o=a(35),d=a(41),h=o("keys");s.exports=function(g){return h[g]||(h[g]=d(g))}},s=>{s.exports={}},(s,e,a)=>{var o=a(39),d=a(57),h=a(5),g=a(45);s.exports=function(b,j,_){for(var $=d(j),_e=g.f,et=h.f,tt=0;tt<$.length;tt++){var nt=$[tt];!o(b,nt)&&!(_&&o(_,nt))&&_e(b,nt,et(j,nt))}}},(s,e,a)=>{var o=a(24),d=a(14),h=a(58),g=a(67),b=a(47),j=d([].concat);s.exports=o("Reflect","ownKeys")||function($){var _e=h.f(b($)),et=g.f;return et?j(_e,et($)):_e}},(s,e,a)=>{var o=a(59),d=a(66),h=d.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(b){return o(b,h)}},(s,e,a)=>{var o=a(14),d=a(39),h=a(12),g=a(60).indexOf,b=a(55),j=o([].push);s.exports=function(_,$){var _e=h(_),et=0,tt=[],nt;for(nt in _e)!d(b,nt)&&d(_e,nt)&&j(tt,nt);for(;$.length>et;)d(_e,nt=$[et++])&&(~g(tt,nt)||j(tt,nt));return tt}},(s,e,a)=>{var o=a(12),d=a(61),h=a(64),g=function(b){return function(j,_,$){var _e=o(j),et=h(_e),tt=d($,et),nt;if(b&&_!==_){for(;et>tt;)if(nt=_e[tt++],nt!==nt)return!0}else for(;et>tt;tt++)if((b||tt in _e)&&_e[tt]===_)return b||tt||0;return!b&&-1}};s.exports={includes:g(!0),indexOf:g(!1)}},(s,e,a)=>{var o=a(62),d=Math.max,h=Math.min;s.exports=function(g,b){var j=o(g);return j<0?d(j+b,0):h(j,b)}},(s,e,a)=>{var o=a(63);s.exports=function(d){var h=+d;return h!==h||h===0?0:o(h)}},s=>{var e=Math.ceil,a=Math.floor;s.exports=Math.trunc||function(d){var h=+d;return(h>0?a:e)(h)}},(s,e,a)=>{var o=a(65);s.exports=function(d){return o(d.length)}},(s,e,a)=>{var o=a(62),d=Math.min;s.exports=function(h){return h>0?d(o(h),9007199254740991):0}},s=>{s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(s,e)=>{e.f=Object.getOwnPropertySymbols},(s,e,a)=>{var o=a(7),d=a(21),h=/#|\.prototype\./,g=function(_e,et){var tt=j[b(_e)];return tt===$?!0:tt===_?!1:d(et)?o(et):!!et},b=g.normalize=function(_e){return String(_e).replace(h,".").toLowerCase()},j=g.data={},_=g.NATIVE="N",$=g.POLYFILL="P";s.exports=g},(s,e,a)=>{var o=a(9),d=Function.prototype,h=d.apply,g=d.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(o?g.bind(h):function(){return g.apply(h,arguments)})},(s,e,a)=>{var o=a(24),d=a(39),h=a(44),g=a(25),b=a(71),j=a(56),_=a(74),$=a(75),_e=a(76),et=a(80),tt=a(81),nt=a(6),it=a(36);s.exports=function(st,rt,at,ht){var ft="stackTraceLimit",ot=ht?2:1,ut=st.split("."),ct=ut[ut.length-1],dt=o.apply(null,ut);if(dt){var vt=dt.prototype;if(!it&&d(vt,"cause")&&delete vt.cause,!at)return dt;var Et=o("Error"),pt=rt(function(bt,Ct){var Bt=_e(ht?Ct:bt,void 0),jt=ht?new dt(bt):new dt;return Bt!==void 0&&h(jt,"message",Bt),tt(jt,pt,jt.stack,2),this&&g(vt,this)&&$(jt,this,pt),arguments.length>ot&&et(jt,arguments[ot]),jt});if(pt.prototype=vt,ct!=="Error"?b?b(pt,Et):j(pt,Et,{name:!0}):nt&&ft in dt&&(_(pt,dt,ft),_(pt,dt,"prepareStackTrace")),j(pt,dt),!it)try{vt.name!==ct&&h(vt,"name",ct),vt.constructor=pt}catch{}return pt}}},(s,e,a)=>{var o=a(72),d=a(47),h=a(73);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g=!1,b={},j;try{j=o(Object.prototype,"__proto__","set"),j(b,[]),g=b instanceof Array}catch{}return function($,_e){return d($),h(_e),g?j($,_e):$.__proto__=_e,$}}():void 0)},(s,e,a)=>{var o=a(14),d=a(31);s.exports=function(h,g,b){try{return o(d(Object.getOwnPropertyDescriptor(h,g)[b]))}catch{}}},(s,e,a)=>{var o=a(21),d=String,h=TypeError;s.exports=function(g){if(typeof g=="object"||o(g))return g;throw h("Can't set "+d(g)+" as a prototype")}},(s,e,a)=>{var o=a(45).f;s.exports=function(d,h,g){g in d||o(d,g,{configurable:!0,get:function(){return h[g]},set:function(b){h[g]=b}})}},(s,e,a)=>{var o=a(21),d=a(20),h=a(71);s.exports=function(g,b,j){var _,$;return h&&o(_=b.constructor)&&_!==j&&d($=_.prototype)&&$!==j.prototype&&h(g,$),g}},(s,e,a)=>{var o=a(77);s.exports=function(d,h){return d===void 0?arguments.length<2?"":h:o(d)}},(s,e,a)=>{var o=a(78),d=String;s.exports=function(h){if(o(h)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return d(h)}},(s,e,a)=>{var o=a(79),d=a(21),h=a(15),g=a(34),b=g("toStringTag"),j=Object,_=h(function(){return arguments}())==="Arguments",$=function(_e,et){try{return _e[et]}catch{}};s.exports=o?h:function(_e){var et,tt,nt;return _e===void 0?"Undefined":_e===null?"Null":typeof(tt=$(et=j(_e),b))=="string"?tt:_?h(et):(nt=h(et))==="Object"&&d(et.callee)?"Arguments":nt}},(s,e,a)=>{var o=a(34),d=o("toStringTag"),h={};h[d]="z",s.exports=String(h)==="[object z]"},(s,e,a)=>{var o=a(20),d=a(44);s.exports=function(h,g){o(g)&&"cause"in g&&d(h,"cause",g.cause)}},(s,e,a)=>{var o=a(44),d=a(82),h=a(83),g=Error.captureStackTrace;s.exports=function(b,j,_,$){h&&(g?g(b,j):o(b,"stack",d(_,$)))}},(s,e,a)=>{var o=a(14),d=Error,h=o("".replace),g=function(_){return String(d(_).stack)}("zxcasd"),b=/\n\s*at [^:]*:[^\n]*/,j=b.test(g);s.exports=function(_,$){if(j&&typeof _=="string"&&!d.prepareStackTrace)for(;$--;)_=h(_,b,"");return _}},(s,e,a)=>{var o=a(7),d=a(11);s.exports=!o(function(){var h=Error("a");return"stack"in h?(Object.defineProperty(h,"stack",d(1,7)),h.stack!==7):!0})},(s,e,a)=>{var o=a(48),d=a(14),h=a(77),g=a(85),b=URLSearchParams,j=b.prototype,_=d(j.append),$=d(j.delete),_e=d(j.forEach),et=d([].push),tt=new b("a=1&a=2&b=3");tt.delete("a",1),tt.delete("b",void 0),tt+""!="a=2"&&o(j,"delete",function(nt){var it=arguments.length,st=it<2?void 0:arguments[1];if(it&&st===void 0)return $(this,nt);var rt=[];_e(this,function(vt,Et){et(rt,{key:Et,value:vt})}),g(it,1);for(var at=h(nt),ht=h(st),ft=0,ot=0,ut=!1,ct=rt.length,dt;ft<ct;)dt=rt[ft++],ut||dt.key===at?(ut=!0,$(this,dt.key)):ot++;for(;ot<ct;)dt=rt[ot++],dt.key===at&&dt.value===ht||_(this,dt.key,dt.value)},{enumerable:!0,unsafe:!0})},s=>{var e=TypeError;s.exports=function(a,o){if(a<o)throw e("Not enough arguments");return a}},(s,e,a)=>{var o=a(48),d=a(14),h=a(77),g=a(85),b=URLSearchParams,j=b.prototype,_=d(j.getAll),$=d(j.has),_e=new b("a=1");(_e.has("a",2)||!_e.has("a",void 0))&&o(j,"has",function(tt){var nt=arguments.length,it=nt<2?void 0:arguments[1];if(nt&&it===void 0)return $(this,tt);var st=_(this,tt);g(nt,1);for(var rt=h(it),at=0;at<st.length;)if(st[at++]===rt)return!0;return!1},{enumerable:!0,unsafe:!0})},(s,e,a)=>{var o=a(6),d=a(14),h=a(88),g=URLSearchParams.prototype,b=d(g.forEach);o&&!("size"in g)&&h(g,"size",{get:function(){var _=0;return b(this,function(){_++}),_},configurable:!0,enumerable:!0})},(s,e,a)=>{var o=a(49),d=a(45);s.exports=function(h,g,b){return b.get&&o(b.get,g,{getter:!0}),b.set&&o(b.set,g,{setter:!0}),d.f(h,g,b)}},(s,e,a)=>{var o=a(3),d=a(40),h=a(64),g=a(90),b=a(92),j=a(7),_=j(function(){return[].push.call({length:4294967296},1)!==4294967297}),$=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(et){return et instanceof TypeError}},_e=_||!$();o({target:"Array",proto:!0,arity:1,forced:_e},{push:function(tt){var nt=d(this),it=h(nt),st=arguments.length;b(it+st);for(var rt=0;rt<st;rt++)nt[it]=arguments[rt],it++;return g(nt,it),it}})},(s,e,a)=>{var o=a(6),d=a(91),h=TypeError,g=Object.getOwnPropertyDescriptor,b=o&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(j){return j instanceof TypeError}}();s.exports=b?function(j,_){if(d(j)&&!g(j,"length").writable)throw h("Cannot set read only .length");return j.length=_}:function(j,_){return j.length=_}},(s,e,a)=>{var o=a(15);s.exports=Array.isArray||function(h){return o(h)==="Array"}},s=>{var e=TypeError,a=9007199254740991;s.exports=function(o){if(o>a)throw e("Maximum allowed index exceeded");return o}},(s,e,a)=>{var o=a(94),d=a(98).findLast,h=o.aTypedArray,g=o.exportTypedArrayMethod;g("findLast",function(j){return d(h(this),j,arguments.length>1?arguments[1]:void 0)})},(s,e,a)=>{var o=a(95),d=a(6),h=a(4),g=a(21),b=a(20),j=a(39),_=a(78),$=a(32),_e=a(44),et=a(48),tt=a(88),nt=a(25),it=a(96),st=a(71),rt=a(34),at=a(41),ht=a(52),ft=ht.enforce,ot=ht.get,ut=h.Int8Array,ct=ut&&ut.prototype,dt=h.Uint8ClampedArray,vt=dt&&dt.prototype,Et=ut&&it(ut),pt=ct&&it(ct),bt=Object.prototype,Ct=h.TypeError,Bt=rt("toStringTag"),jt=at("TYPED_ARRAY_TAG"),Ft="TypedArrayConstructor",wt=o&&!!st&&_(h.opera)!=="Opera",It=!1,yt,Dt,Mt,St={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},gt={BigInt64Array:8,BigUint64Array:8},mt=function(tr){if(!b(tr))return!1;var lr=_(tr);return lr==="DataView"||j(St,lr)||j(gt,lr)},xt=function(Zt){var tr=it(Zt);if(b(tr)){var lr=ot(tr);return lr&&j(lr,Ft)?lr[Ft]:xt(tr)}},_t=function(Zt){if(!b(Zt))return!1;var tr=_(Zt);return j(St,tr)||j(gt,tr)},At=function(Zt){if(_t(Zt))return Zt;throw Ct("Target is not a typed array")},Tt=function(Zt){if(g(Zt)&&(!st||nt(Et,Zt)))return Zt;throw Ct($(Zt)+" is not a typed array constructor")},Lt=function(Zt,tr,lr,hr){if(d){if(lr)for(var dr in St){var Gt=h[dr];if(Gt&&j(Gt.prototype,Zt))try{delete Gt.prototype[Zt]}catch{try{Gt.prototype[Zt]=tr}catch{}}}(!pt[Zt]||lr)&&et(pt,Zt,lr?tr:wt&&ct[Zt]||tr,hr)}},Ut=function(Zt,tr,lr){var hr,dr;if(d){if(st){if(lr){for(hr in St)if(dr=h[hr],dr&&j(dr,Zt))try{delete dr[Zt]}catch{}}if(!Et[Zt]||lr)try{return et(Et,Zt,lr?tr:wt&&Et[Zt]||tr)}catch{}else return}for(hr in St)dr=h[hr],dr&&(!dr[Zt]||lr)&&et(dr,Zt,tr)}};for(yt in St)Dt=h[yt],Mt=Dt&&Dt.prototype,Mt?ft(Mt)[Ft]=Dt:wt=!1;for(yt in gt)Dt=h[yt],Mt=Dt&&Dt.prototype,Mt&&(ft(Mt)[Ft]=Dt);if((!wt||!g(Et)||Et===Function.prototype)&&(Et=function(){throw Ct("Incorrect invocation")},wt))for(yt in St)h[yt]&&st(h[yt],Et);if((!wt||!pt||pt===bt)&&(pt=Et.prototype,wt))for(yt in St)h[yt]&&st(h[yt].prototype,pt);if(wt&&it(vt)!==pt&&st(vt,pt),d&&!j(pt,Bt)){It=!0,tt(pt,Bt,{configurable:!0,get:function(){return b(this)?this[jt]:void 0}});for(yt in St)h[yt]&&_e(h[yt],jt,yt)}s.exports={NATIVE_ARRAY_BUFFER_VIEWS:wt,TYPED_ARRAY_TAG:It&&jt,aTypedArray:At,aTypedArrayConstructor:Tt,exportTypedArrayMethod:Lt,exportTypedArrayStaticMethod:Ut,getTypedArrayConstructor:xt,isView:mt,isTypedArray:_t,TypedArray:Et,TypedArrayPrototype:pt}},s=>{s.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},(s,e,a)=>{var o=a(39),d=a(21),h=a(40),g=a(54),b=a(97),j=g("IE_PROTO"),_=Object,$=_.prototype;s.exports=b?_.getPrototypeOf:function(_e){var et=h(_e);if(o(et,j))return et[j];var tt=et.constructor;return d(tt)&&et instanceof tt?tt.prototype:et instanceof _?$:null}},(s,e,a)=>{var o=a(7);s.exports=!o(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},(s,e,a)=>{var o=a(99),d=a(13),h=a(40),g=a(64),b=function(j){var _=j===1;return function($,_e,et){for(var tt=h($),nt=d(tt),it=o(_e,et),st=g(nt),rt,at;st-- >0;)if(rt=nt[st],at=it(rt,st,tt),at)switch(j){case 0:return rt;case 1:return st}return _?-1:void 0}};s.exports={findLast:b(0),findLastIndex:b(1)}},(s,e,a)=>{var o=a(100),d=a(31),h=a(9),g=o(o.bind);s.exports=function(b,j){return d(b),j===void 0?b:h?g(b,j):function(){return b.apply(j,arguments)}}},(s,e,a)=>{var o=a(15),d=a(14);s.exports=function(h){if(o(h)==="Function")return d(h)}},(s,e,a)=>{var o=a(94),d=a(98).findLastIndex,h=o.aTypedArray,g=o.exportTypedArrayMethod;g("findLastIndex",function(j){return d(h(this),j,arguments.length>1?arguments[1]:void 0)})},(s,e,a)=>{var o=a(4),d=a(8),h=a(94),g=a(64),b=a(103),j=a(40),_=a(7),$=o.RangeError,_e=o.Int8Array,et=_e&&_e.prototype,tt=et&&et.set,nt=h.aTypedArray,it=h.exportTypedArrayMethod,st=!_(function(){var at=new Uint8ClampedArray(2);return d(tt,at,{length:1,0:3},1),at[1]!==3}),rt=st&&h.NATIVE_ARRAY_BUFFER_VIEWS&&_(function(){var at=new _e(2);return at.set(1),at.set("2",1),at[0]!==0||at[1]!==2});it("set",function(ht){nt(this);var ft=b(arguments.length>1?arguments[1]:void 0,1),ot=j(ht);if(st)return d(tt,this,ot,ft);var ut=this.length,ct=g(ot),dt=0;if(ct+ft>ut)throw $("Wrong length");for(;dt<ct;)this[ft+dt]=ot[dt++]},!st||rt)},(s,e,a)=>{var o=a(104),d=RangeError;s.exports=function(h,g){var b=o(h);if(b%g)throw d("Wrong offset");return b}},(s,e,a)=>{var o=a(62),d=RangeError;s.exports=function(h){var g=o(h);if(g<0)throw d("The argument can't be less than 0");return g}},(s,e,a)=>{var o=a(106),d=a(94),h=d.aTypedArray,g=d.exportTypedArrayMethod,b=d.getTypedArrayConstructor;g("toReversed",function(){return o(h(this),b(this))})},(s,e,a)=>{var o=a(64);s.exports=function(d,h){for(var g=o(d),b=new h(g),j=0;j<g;j++)b[j]=d[g-j-1];return b}},(s,e,a)=>{var o=a(94),d=a(14),h=a(31),g=a(108),b=o.aTypedArray,j=o.getTypedArrayConstructor,_=o.exportTypedArrayMethod,$=d(o.TypedArrayPrototype.sort);_("toSorted",function(et){et!==void 0&&h(et);var tt=b(this),nt=g(j(tt),tt);return $(nt,et)})},(s,e,a)=>{var o=a(64);s.exports=function(d,h){for(var g=0,b=o(h),j=new d(b);b>g;)j[g]=h[g++];return j}},(s,e,a)=>{var o=a(110),d=a(94),h=a(111),g=a(62),b=a(112),j=d.aTypedArray,_=d.getTypedArrayConstructor,$=d.exportTypedArrayMethod,_e=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(et){return et===8}}();$("with",function(et,tt){var nt=j(this),it=g(et),st=h(nt)?b(tt):+tt;return o(nt,_(nt),it,st)},!_e)},(s,e,a)=>{var o=a(64),d=a(62),h=RangeError;s.exports=function(g,b,j,_){var $=o(g),_e=d(j),et=_e<0?$+_e:_e;if(et>=$||et<0)throw h("Incorrect index");for(var tt=new b($),nt=0;nt<$;nt++)tt[nt]=nt===et?_:g[nt];return tt}},(s,e,a)=>{var o=a(78);s.exports=function(d){var h=o(d);return h==="BigInt64Array"||h==="BigUint64Array"}},(s,e,a)=>{var o=a(19),d=TypeError;s.exports=function(h){var g=o(h,"number");if(typeof g=="number")throw d("Can't convert number to bigint");return BigInt(g)}},(s,e,a)=>{var o=a(6),d=a(88),h=a(114),g=ArrayBuffer.prototype;o&&!("detached"in g)&&d(g,"detached",{configurable:!0,get:function(){return h(this)}})},(s,e,a)=>{var o=a(14),d=a(115),h=o(ArrayBuffer.prototype.slice);s.exports=function(g){if(d(g)!==0)return!1;try{return h(g,0,0),!1}catch{return!0}}},(s,e,a)=>{var o=a(72),d=a(15),h=TypeError;s.exports=o(ArrayBuffer.prototype,"byteLength","get")||function(g){if(d(g)!=="ArrayBuffer")throw h("ArrayBuffer expected");return g.byteLength}},(s,e,a)=>{var o=a(3),d=a(117);d&&o({target:"ArrayBuffer",proto:!0},{transfer:function(){return d(this,arguments.length?arguments[0]:void 0,!0)}})},(s,e,a)=>{var o=a(4),d=a(14),h=a(72),g=a(118),b=a(114),j=a(115),_=a(119),$=o.TypeError,_e=o.structuredClone,et=o.ArrayBuffer,tt=o.DataView,nt=Math.min,it=et.prototype,st=tt.prototype,rt=d(it.slice),at=h(it,"resizable","get"),ht=h(it,"maxByteLength","get"),ft=d(st.getInt8),ot=d(st.setInt8);s.exports=_&&function(ut,ct,dt){var vt=j(ut),Et=ct===void 0?vt:g(ct),pt=!at||!at(ut);if(b(ut))throw $("ArrayBuffer is detached");var bt=_e(ut,{transfer:[ut]});if(vt===Et&&(dt||pt))return bt;if(vt>=Et&&(!dt||pt))return rt(bt,0,Et);for(var Ct=dt&&!pt&&ht?{maxByteLength:ht(bt)}:void 0,Bt=new et(Et,Ct),jt=new tt(bt),Ft=new tt(Bt),wt=nt(Et,vt),It=0;It<wt;It++)ot(Ft,It,ft(jt,It));return Bt}},(s,e,a)=>{var o=a(62),d=a(65),h=RangeError;s.exports=function(g){if(g===void 0)return 0;var b=o(g),j=d(b);if(b!==j)throw h("Wrong length or index");return j}},(s,e,a)=>{var o=a(4),d=a(7),h=a(28),g=a(120),b=a(121),j=a(122),_=o.structuredClone;s.exports=!!_&&!d(function(){if(b&&h>92||j&&h>94||g&&h>97)return!1;var $=new ArrayBuffer(8),_e=_($,{transfer:[$]});return $.byteLength!==0||_e.byteLength!==8})},(s,e,a)=>{var o=a(121),d=a(122);s.exports=!o&&!d&&typeof window=="object"&&typeof document=="object"},s=>{s.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(s,e,a)=>{var o=a(4),d=a(15);s.exports=d(o.process)==="process"},(s,e,a)=>{var o=a(3),d=a(117);d&&o({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return d(this,arguments.length?arguments[0]:void 0,!1)}})},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var s,a,o,d,cn,Mn,b,j,_,$,_e,et,tt,nt,it,Ln,rt,at,hs,ft,ot;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0,__w_pdfjs_require__(84),__w_pdfjs_require__(86),__w_pdfjs_require__(87),__w_pdfjs_require__(2),__w_pdfjs_require__(93),__w_pdfjs_require__(101),__w_pdfjs_require__(102),__w_pdfjs_require__(105),__w_pdfjs_require__(107),__w_pdfjs_require__(109),__w_pdfjs_require__(113),__w_pdfjs_require__(116),__w_pdfjs_require__(123),__w_pdfjs_require__(89),__w_pdfjs_require__(125),__w_pdfjs_require__(136),__w_pdfjs_require__(138),__w_pdfjs_require__(141),__w_pdfjs_require__(143),__w_pdfjs_require__(145),__w_pdfjs_require__(147),__w_pdfjs_require__(149),__w_pdfjs_require__(152);var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(163),_display_utils=__w_pdfjs_require__(168),_font_loader=__w_pdfjs_require__(171),_displayNode_utils=__w_pdfjs_require__(172),_canvas=__w_pdfjs_require__(173),_worker_options=__w_pdfjs_require__(176),_message_handler=__w_pdfjs_require__(177),_metadata=__w_pdfjs_require__(178),_optional_content_config=__w_pdfjs_require__(179),_transport_stream=__w_pdfjs_require__(180),_displayFetch_stream=__w_pdfjs_require__(181),_displayNetwork=__w_pdfjs_require__(184),_displayNode_stream=__w_pdfjs_require__(185),_displaySvg=__w_pdfjs_require__(186),_xfa_text=__w_pdfjs_require__(194);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ct){if(typeof ct=="string"||ct instanceof URL?ct={url:ct}:(0,_util.isArrayBuffer)(ct)&&(ct={data:ct}),typeof ct!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ct.url&&!ct.data&&!ct.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const dt=new PDFDocumentLoadingTask,{docId:vt}=dt,Et=ct.url?getUrlProp(ct.url):null,pt=ct.data?getDataProp(ct.data):null,bt=ct.httpHeaders||null,Ct=ct.withCredentials===!0,Bt=ct.password??null,jt=ct.range instanceof PDFDataRangeTransport?ct.range:null,Ft=Number.isInteger(ct.rangeChunkSize)&&ct.rangeChunkSize>0?ct.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let wt=ct.worker instanceof PDFWorker?ct.worker:null;const It=ct.verbosity,yt=typeof ct.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ct.docBaseUrl)?ct.docBaseUrl:null,Dt=typeof ct.cMapUrl=="string"?ct.cMapUrl:null,Mt=ct.cMapPacked!==!1,St=ct.CMapReaderFactory||DefaultCMapReaderFactory,gt=typeof ct.standardFontDataUrl=="string"?ct.standardFontDataUrl:null,mt=ct.StandardFontDataFactory||DefaultStandardFontDataFactory,xt=ct.stopAtErrors!==!0,_t=Number.isInteger(ct.maxImageSize)&&ct.maxImageSize>-1?ct.maxImageSize:-1,At=ct.isEvalSupported!==!1,Tt=typeof ct.isOffscreenCanvasSupported=="boolean"?ct.isOffscreenCanvasSupported:!_util.isNodeJS,Lt=Number.isInteger(ct.canvasMaxAreaInBytes)?ct.canvasMaxAreaInBytes:-1,Ut=typeof ct.disableFontFace=="boolean"?ct.disableFontFace:_util.isNodeJS,Zt=ct.fontExtraProperties===!0,tr=ct.enableXfa===!0,lr=ct.ownerDocument||globalThis.document,hr=ct.disableRange===!0,dr=ct.disableStream===!0,Gt=ct.disableAutoFetch===!0,Jt=ct.pdfBug===!0,Rt=jt?jt.length:ct.length??NaN,Nt=typeof ct.useSystemFonts=="boolean"?ct.useSystemFonts:!_util.isNodeJS&&!Ut,Ht=typeof ct.useWorkerFetch=="boolean"?ct.useWorkerFetch:St===_display_utils.DOMCMapReaderFactory&&mt===_display_utils.DOMStandardFontDataFactory&&Dt&&gt&&(0,_display_utils.isValidFetchUrl)(Dt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(gt,document.baseURI),qt=ct.canvasFactory||new DefaultCanvasFactory({ownerDocument:lr}),ar=ct.filterFactory||new DefaultFilterFactory({docId:vt,ownerDocument:lr}),vr=null;(0,_util.setVerbosityLevel)(It);const pr={canvasFactory:qt,filterFactory:ar};if(Ht||(pr.cMapReaderFactory=new St({baseUrl:Dt,isCompressed:Mt}),pr.standardFontDataFactory=new mt({baseUrl:gt})),!wt){const Er={verbosity:It,port:_worker_options.GlobalWorkerOptions.workerPort};wt=Er.port?PDFWorker.fromPort(Er):new PDFWorker(Er),dt._worker=wt}const Vt={docId:vt,apiVersion:"3.11.174",data:pt,password:Bt,disableAutoFetch:Gt,rangeChunkSize:Ft,length:Rt,docBaseUrl:yt,enableXfa:tr,evaluatorOptions:{maxImageSize:_t,disableFontFace:Ut,ignoreErrors:xt,isEvalSupported:At,isOffscreenCanvasSupported:Tt,canvasMaxAreaInBytes:Lt,fontExtraProperties:Zt,useSystemFonts:Nt,cMapUrl:Ht?Dt:null,standardFontDataUrl:Ht?gt:null}},br={ignoreErrors:xt,isEvalSupported:At,disableFontFace:Ut,fontExtraProperties:Zt,enableXfa:tr,ownerDocument:lr,disableAutoFetch:Gt,pdfBug:Jt,styleElement:vr};return wt.promise.then(function(){if(dt.destroyed)throw new Error("Loading aborted");const Er=_fetchDocument(wt,Vt),Ir=new Promise(function(kr){let Nr;jt?Nr=new _transport_stream.PDFDataTransportStream({length:Rt,initialData:jt.initialData,progressiveDone:jt.progressiveDone,contentDispositionFilename:jt.contentDispositionFilename,disableRange:hr,disableStream:dr},jt):pt||(Nr=(Tr=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Tr):(0,_display_utils.isValidFetchUrl)(Tr.url)?new _displayFetch_stream.PDFFetchStream(Tr):new _displayNetwork.PDFNetworkStream(Tr))({url:Et,length:Rt,httpHeaders:bt,withCredentials:Ct,rangeChunkSize:Ft,disableRange:hr,disableStream:dr})),kr(Nr)});return Promise.all([Er,Ir]).then(function(kr){let[Nr,Rr]=kr;if(dt.destroyed)throw new Error("Loading aborted");const Tr=new _message_handler.MessageHandler(vt,Nr,wt.port),Mr=new WorkerTransport(Tr,dt,Rr,br,pr);dt._transport=Mr,Tr.send("Ready",null)})}).catch(dt._capability.reject),dt}async function _fetchDocument(ct,dt){if(ct.destroyed)throw new Error("Worker was destroyed");const vt=await ct.messageHandler.sendWithPromise("GetDocRequest",dt,dt.data?[dt.data.buffer]:null);if(ct.destroyed)throw new Error("Worker was destroyed");return vt}function getUrlProp(ct){if(ct instanceof URL)return ct.href;try{return new URL(ct,window.location).href}catch{if(_util.isNodeJS&&typeof ct=="string")return ct}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ct){if(_util.isNodeJS&&typeof Buffer<"u"&&ct instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ct instanceof Uint8Array&&ct.byteLength===ct.buffer.byteLength)return ct;if(typeof ct=="string")return(0,_util.stringToBytes)(ct);if(typeof ct=="object"&&!isNaN(ct==null?void 0:ct.length)||(0,_util.isArrayBuffer)(ct))return new Uint8Array(ct);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${rn(e,s)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var dt,vt,Et;this.destroyed=!0;try{(dt=this._worker)!=null&&dt.port&&(this._worker._pendingDestroy=!0),await((vt=this._transport)==null?void 0:vt.destroy())}catch(pt){throw(Et=this._worker)!=null&&Et.port&&delete this._worker._pendingDestroy,pt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};s=new WeakMap,$t(e,s,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(dt,vt){let Et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,pt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=dt,this.initialData=vt,this.progressiveDone=Et,this.contentDispositionFilename=pt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(dt){this._rangeListeners.push(dt)}addProgressListener(dt){this._progressListeners.push(dt)}addProgressiveReadListener(dt){this._progressiveReadListeners.push(dt)}addProgressiveDoneListener(dt){this._progressiveDoneListeners.push(dt)}onDataRange(dt,vt){for(const Et of this._rangeListeners)Et(dt,vt)}onDataProgress(dt,vt){this._readyCapability.promise.then(()=>{for(const Et of this._progressListeners)Et(dt,vt)})}onDataProgressiveRead(dt){this._readyCapability.promise.then(()=>{for(const vt of this._progressiveReadListeners)vt(dt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const dt of this._progressiveDoneListeners)dt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(dt,vt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(dt,vt){this._pdfInfo=dt,this._transport=vt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Et=>{if(!Et)return Et;const pt=[];for(const bt in Et)pt.push(...Et[bt]);return pt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(dt){return this._transport.getPage(dt)}getPageIndex(dt){return this._transport.getPageIndex(dt)}getDestinations(){return this._transport.getDestinations()}getDestination(dt){return this._transport.getDestination(dt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(dt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(dt,vt,Et){$t(this,d);$t(this,a,null);$t(this,o,!1);let pt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;this._pageIndex=dt,this._pageInfo=vt,this._transport=Et,this._stats=pt?new _display_utils.StatTimer:null,this._pdfBug=pt,this.commonObjs=Et.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:dt,rotation:vt=this.rotate,offsetX:Et=0,offsetY:pt=0,dontFlip:bt=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:dt,rotation:vt,offsetX:Et,offsetY:pt,dontFlip:bt})}getAnnotations(){let{intent:dt="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const vt=this._transport.getRenderingIntent(dt);return this._transport.getAnnotations(this._pageIndex,vt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var dt;return((dt=this._transport._htmlForXfa)==null?void 0:dt.children[this._pageIndex])||null}render(dt){var xt,_t;let{canvasContext:vt,viewport:Et,intent:pt="display",annotationMode:bt=_util.AnnotationMode.ENABLE,transform:Ct=null,background:Bt=null,optionalContentConfigPromise:jt=null,annotationCanvasMap:Ft=null,pageColors:wt=null,printAnnotationStorage:It=null}=dt;(xt=this._stats)==null||xt.time("Overall");const yt=this._transport.getRenderingIntent(pt,bt,It);Qt(this,o,!1),Wt(this,d,Mn).call(this),jt||(jt=this._transport.getOptionalContentConfig());let Dt=this._intentStates.get(yt.cacheKey);Dt||(Dt=Object.create(null),this._intentStates.set(yt.cacheKey,Dt)),Dt.streamReaderCancelTimeout&&(clearTimeout(Dt.streamReaderCancelTimeout),Dt.streamReaderCancelTimeout=null);const Mt=!!(yt.renderingIntent&_util.RenderingIntentFlag.PRINT);Dt.displayReadyCapability||(Dt.displayReadyCapability=new _util.PromiseCapability,Dt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_t=this._stats)==null||_t.time("Page Request"),this._pumpOperatorList(yt));const St=At=>{var Tt,Lt;Dt.renderTasks.delete(gt),(this._maybeCleanupAfterRender||Mt)&&Qt(this,o,!0),Wt(this,d,cn).call(this,!Mt),At?(gt.capability.reject(At),this._abortOperatorList({intentState:Dt,reason:At instanceof Error?At:new Error(At)})):gt.capability.resolve(),(Tt=this._stats)==null||Tt.timeEnd("Rendering"),(Lt=this._stats)==null||Lt.timeEnd("Overall")},gt=new InternalRenderTask({callback:St,params:{canvasContext:vt,viewport:Et,transform:Ct,background:Bt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ft,operatorList:Dt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Mt,pdfBug:this._pdfBug,pageColors:wt});(Dt.renderTasks||(Dt.renderTasks=new Set)).add(gt);const mt=gt.task;return Promise.all([Dt.displayReadyCapability.promise,jt]).then(At=>{var Ut;let[Tt,Lt]=At;if(this.destroyed){St();return}(Ut=this._stats)==null||Ut.time("Rendering"),gt.initializeGraphics({transparency:Tt,optionalContentConfig:Lt}),gt.operatorListChanged()}).catch(St),mt}getOperatorList(){var jt;let{intent:dt="display",annotationMode:vt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Et=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function pt(){Ct.operatorList.lastChunk&&(Ct.opListReadCapability.resolve(Ct.operatorList),Ct.renderTasks.delete(Bt))}const bt=this._transport.getRenderingIntent(dt,vt,Et,!0);let Ct=this._intentStates.get(bt.cacheKey);Ct||(Ct=Object.create(null),this._intentStates.set(bt.cacheKey,Ct));let Bt;return Ct.opListReadCapability||(Bt=Object.create(null),Bt.operatorListChanged=pt,Ct.opListReadCapability=new _util.PromiseCapability,(Ct.renderTasks||(Ct.renderTasks=new Set)).add(Bt),Ct.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(jt=this._stats)==null||jt.time("Page Request"),this._pumpOperatorList(bt)),Ct.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:dt=!1,disableNormalization:vt=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:dt===!0,disableNormalization:vt===!0},{highWaterMark:100,size(pt){return pt.items.length}})}getTextContent(){let dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(Et=>_xfa_text.XfaText.textContent(Et));const vt=this.streamTextContent(dt);return new Promise(function(Et,pt){function bt(){Ct.read().then(function(jt){let{value:Ft,done:wt}=jt;if(wt){Et(Bt);return}Object.assign(Bt.styles,Ft.styles),Bt.items.push(...Ft.items),bt()},pt)}const Ct=vt.getReader(),Bt={items:[],styles:Object.create(null)};bt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const dt=[];for(const vt of this._intentStates.values())if(this._abortOperatorList({intentState:vt,reason:new Error("Page was destroyed."),force:!0}),!vt.opListReadCapability)for(const Et of vt.renderTasks)dt.push(Et.completed),Et.cancel();return this.objs.clear(),Qt(this,o,!1),Wt(this,d,Mn).call(this),Promise.all(dt)}cleanup(){let dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Qt(this,o,!0);const vt=Wt(this,d,cn).call(this,!1);return dt&&vt&&this._stats&&(this._stats=new _display_utils.StatTimer),vt}_startRenderPage(dt,vt){var pt,bt;const Et=this._intentStates.get(vt);Et&&((pt=this._stats)==null||pt.timeEnd("Page Request"),(bt=Et.displayReadyCapability)==null||bt.resolve(dt))}_renderPageChunk(dt,vt){for(let Et=0,pt=dt.length;Et<pt;Et++)vt.operatorList.fnArray.push(dt.fnArray[Et]),vt.operatorList.argsArray.push(dt.argsArray[Et]);vt.operatorList.lastChunk=dt.lastChunk,vt.operatorList.separateAnnots=dt.separateAnnots;for(const Et of vt.renderTasks)Et.operatorListChanged();dt.lastChunk&&Wt(this,d,cn).call(this,!0)}_pumpOperatorList(dt){let{renderingIntent:vt,cacheKey:Et,annotationStorageSerializable:pt}=dt;const{map:bt,transfers:Ct}=pt,jt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:vt,cacheKey:Et,annotationStorage:bt},Ct).getReader(),Ft=this._intentStates.get(Et);Ft.streamReader=jt;const wt=()=>{jt.read().then(It=>{let{value:yt,done:Dt}=It;if(Dt){Ft.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(yt,Ft),wt())},It=>{if(Ft.streamReader=null,!this._transport.destroyed){if(Ft.operatorList){Ft.operatorList.lastChunk=!0;for(const yt of Ft.renderTasks)yt.operatorListChanged();Wt(this,d,cn).call(this,!0)}if(Ft.displayReadyCapability)Ft.displayReadyCapability.reject(It);else if(Ft.opListReadCapability)Ft.opListReadCapability.reject(It);else throw It}})};wt()}_abortOperatorList(dt){let{intentState:vt,reason:Et,force:pt=!1}=dt;if(vt.streamReader){if(vt.streamReaderCancelTimeout&&(clearTimeout(vt.streamReaderCancelTimeout),vt.streamReaderCancelTimeout=null),!pt){if(vt.renderTasks.size>0)return;if(Et instanceof _display_utils.RenderingCancelledException){let bt=RENDERING_CANCELLED_TIMEOUT;Et.extraDelay>0&&Et.extraDelay<1e3&&(bt+=Et.extraDelay),vt.streamReaderCancelTimeout=setTimeout(()=>{vt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:vt,reason:Et,force:!0})},bt);return}}if(vt.streamReader.cancel(new _util.AbortException(Et.message)).catch(()=>{}),vt.streamReader=null,!this._transport.destroyed){for(const[bt,Ct]of this._intentStates)if(Ct===vt){this._intentStates.delete(bt);break}this.cleanup()}}}get stats(){return this._stats}}a=new WeakMap,o=new WeakMap,d=new WeakSet,cn=function(){let dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(Wt(this,d,Mn).call(this),!lt(this,o)||this.destroyed)return!1;if(dt)return Qt(this,a,setTimeout(()=>{Qt(this,a,null),Wt(this,d,cn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:vt,operatorList:Et}of this._intentStates.values())if(vt.size>0||!Et.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Qt(this,o,!1),!0},Mn=function(){lt(this,a)&&(clearTimeout(lt(this,a)),Qt(this,a,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){$t(this,b,new Set);$t(this,j,Promise.resolve())}postMessage(dt,vt){const Et={data:structuredClone(dt,null)};lt(this,j).then(()=>{for(const pt of lt(this,b))pt.call(this,Et)})}addEventListener(dt,vt){lt(this,b).add(vt)}removeEventListener(dt,vt){lt(this,b).delete(vt)}terminate(){lt(this,b).clear()}}b=new WeakMap,j=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ct=(_=document==null?void 0:document.currentScript)==null?void 0:_.src;ct&&(PDFWorkerUtil.fallbackWorkerSrc=ct.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ct,dt){let vt;try{if(vt=new URL(ct),!vt.origin||vt.origin==="null")return!1}catch{return!1}const Et=new URL(dt,vt);return vt.origin===Et.origin},PDFWorkerUtil.createCDNWrapper=function(ct){const dt=`importScripts("${ct}");`;return URL.createObjectURL(new Blob([dt]))}}const _PDFWorker=class _PDFWorker{constructor(){var Et;let{name:ct=null,port:dt=null,verbosity:vt=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.name=ct,this.destroyed=!1,this.verbosity=vt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,dt){if((Et=lt(_PDFWorker,$))!=null&&Et.has(dt))throw new Error("Cannot use more than one PDFWorker per port.");(lt(_PDFWorker,$)||Qt(_PDFWorker,$,new WeakMap)).set(dt,this),this._initializeFromPort(dt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ct){this._port=ct,this._messageHandler=new _message_handler.MessageHandler("main","worker",ct),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ct}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ct)||(ct=PDFWorkerUtil.createCDNWrapper(new URL(ct,window.location).href));const dt=new Worker(ct),vt=new _message_handler.MessageHandler("main","worker",dt),Et=()=>{dt.removeEventListener("error",pt),vt.destroy(),dt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},pt=()=>{this._webWorker||Et()};dt.addEventListener("error",pt),vt.on("test",Ct=>{if(dt.removeEventListener("error",pt),this.destroyed){Et();return}Ct?(this._messageHandler=vt,this._port=dt,this._webWorker=dt,this._readyCapability.resolve(),vt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),vt.destroy(),dt.terminate())}),vt.on("ready",Ct=>{if(dt.removeEventListener("error",pt),this.destroyed){Et();return}try{bt()}catch{this._setupFakeWorker()}});const bt=()=>{const Ct=new Uint8Array;vt.send("test",Ct,[Ct.buffer])};bt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ct=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const dt=new LoopbackPort;this._port=dt;const vt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Et=new _message_handler.MessageHandler(vt+"_worker",vt,dt);ct.setup(Et,dt);const pt=new _message_handler.MessageHandler(vt,vt+"_worker",dt);this._messageHandler=pt,this._readyCapability.resolve(),pt.send("configure",{verbosity:this.verbosity})}).catch(ct=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ct.message}".`))})}destroy(){var ct;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ct=lt(_PDFWorker,$))==null||ct.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ct){var vt;if(!(ct!=null&&ct.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const dt=(vt=lt(this,$))==null?void 0:vt.get(ct.port);if(dt){if(dt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return dt}return new _PDFWorker(ct)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ct;try{return((ct=globalThis.pdfjsWorker)==null?void 0:ct.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};$=new WeakMap,$t(_PDFWorker,$);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(dt,vt,Et,pt,bt){$t(this,it);$t(this,_e,new Map);$t(this,et,new Map);$t(this,tt,new Map);$t(this,nt,null);this.messageHandler=dt,this.loadingTask=vt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:pt.ownerDocument,styleElement:pt.styleElement}),this._params=pt,this.canvasFactory=bt.canvasFactory,this.filterFactory=bt.filterFactory,this.cMapReaderFactory=bt.cMapReaderFactory,this.standardFontDataFactory=bt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Et,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(dt){let vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,Et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,pt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,bt=_util.RenderingIntentFlag.DISPLAY,Ct=_annotation_storage.SerializableEmpty;switch(dt){case"any":bt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":bt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${dt}`)}switch(vt){case _util.AnnotationMode.DISABLE:bt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:bt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:bt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ct=(bt&_util.RenderingIntentFlag.PRINT&&Et instanceof _annotation_storage.PrintAnnotationStorage?Et:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${vt}`)}return pt&&(bt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:bt,cacheKey:`${bt}_${Ct.hash}`,annotationStorageSerializable:Ct}}destroy(){var Et;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Et=lt(this,nt))==null||Et.reject(new Error("Worker was destroyed during onPassword callback"));const dt=[];for(const pt of lt(this,et).values())dt.push(pt._destroy());lt(this,et).clear(),lt(this,tt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const vt=this.messageHandler.sendWithPromise("Terminate",null);return dt.push(vt),Promise.all(dt).then(()=>{var pt;this.commonObjs.clear(),this.fontLoader.clear(),lt(this,_e).clear(),this.filterFactory.destroy(),(pt=this._networkStream)==null||pt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:dt,loadingTask:vt}=this;dt.on("GetReader",(Et,pt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=bt=>{this._lastProgress={loaded:bt.loaded,total:bt.total}},pt.onPull=()=>{this._fullReader.read().then(function(bt){let{value:Ct,done:Bt}=bt;if(Bt){pt.close();return}(0,_util.assert)(Ct instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),pt.enqueue(new Uint8Array(Ct),1,[Ct])}).catch(bt=>{pt.error(bt)})},pt.onCancel=bt=>{this._fullReader.cancel(bt),pt.ready.catch(Ct=>{if(!this.destroyed)throw Ct})}}),dt.on("ReaderHeadersReady",Et=>{const pt=new _util.PromiseCapability,bt=this._fullReader;return bt.headersReady.then(()=>{var Ct;(!bt.isStreamingSupported||!bt.isRangeSupported)&&(this._lastProgress&&((Ct=vt.onProgress)==null||Ct.call(vt,this._lastProgress)),bt.onProgress=Bt=>{var jt;(jt=vt.onProgress)==null||jt.call(vt,{loaded:Bt.loaded,total:Bt.total})}),pt.resolve({isStreamingSupported:bt.isStreamingSupported,isRangeSupported:bt.isRangeSupported,contentLength:bt.contentLength})},pt.reject),pt.promise}),dt.on("GetRangeReader",(Et,pt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const bt=this._networkStream.getRangeReader(Et.begin,Et.end);if(!bt){pt.close();return}pt.onPull=()=>{bt.read().then(function(Ct){let{value:Bt,done:jt}=Ct;if(jt){pt.close();return}(0,_util.assert)(Bt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),pt.enqueue(new Uint8Array(Bt),1,[Bt])}).catch(Ct=>{pt.error(Ct)})},pt.onCancel=Ct=>{bt.cancel(Ct),pt.ready.catch(Bt=>{if(!this.destroyed)throw Bt})}}),dt.on("GetDoc",Et=>{let{pdfInfo:pt}=Et;this._numPages=pt.numPages,this._htmlForXfa=pt.htmlForXfa,delete pt.htmlForXfa,vt._capability.resolve(new PDFDocumentProxy(pt,this))}),dt.on("DocException",function(Et){let pt;switch(Et.name){case"PasswordException":pt=new _util.PasswordException(Et.message,Et.code);break;case"InvalidPDFException":pt=new _util.InvalidPDFException(Et.message);break;case"MissingPDFException":pt=new _util.MissingPDFException(Et.message);break;case"UnexpectedResponseException":pt=new _util.UnexpectedResponseException(Et.message,Et.status);break;case"UnknownErrorException":pt=new _util.UnknownErrorException(Et.message,Et.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}vt._capability.reject(pt)}),dt.on("PasswordRequest",Et=>{if(Qt(this,nt,new _util.PromiseCapability),vt.onPassword){const pt=bt=>{bt instanceof Error?lt(this,nt).reject(bt):lt(this,nt).resolve({password:bt})};try{vt.onPassword(pt,Et.code)}catch(bt){lt(this,nt).reject(bt)}}else lt(this,nt).reject(new _util.PasswordException(Et.message,Et.code));return lt(this,nt).promise}),dt.on("DataLoaded",Et=>{var pt;(pt=vt.onProgress)==null||pt.call(vt,{loaded:Et.length,total:Et.length}),this.downloadInfoCapability.resolve(Et)}),dt.on("StartRenderPage",Et=>{if(this.destroyed)return;lt(this,et).get(Et.pageIndex)._startRenderPage(Et.transparency,Et.cacheKey)}),dt.on("commonobj",Et=>{var Bt;let[pt,bt,Ct]=Et;if(!this.destroyed&&!this.commonObjs.has(pt))switch(bt){case"Font":const jt=this._params;if("error"in Ct){const It=Ct.error;(0,_util.warn)(`Error during font loading: ${It}`),this.commonObjs.resolve(pt,It);break}const Ft=jt.pdfBug&&((Bt=globalThis.FontInspector)!=null&&Bt.enabled)?(It,yt)=>globalThis.FontInspector.fontAdded(It,yt):null,wt=new _font_loader.FontFaceObject(Ct,{isEvalSupported:jt.isEvalSupported,disableFontFace:jt.disableFontFace,ignoreErrors:jt.ignoreErrors,inspectFont:Ft});this.fontLoader.bind(wt).catch(It=>dt.sendWithPromise("FontFallback",{id:pt})).finally(()=>{!jt.fontExtraProperties&&wt.data&&(wt.data=null),this.commonObjs.resolve(pt,wt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(pt,Ct);break;default:throw new Error(`Got unknown common object type ${bt}`)}}),dt.on("obj",Et=>{var Ft;let[pt,bt,Ct,Bt]=Et;if(this.destroyed)return;const jt=lt(this,et).get(bt);if(!jt.objs.has(pt))switch(Ct){case"Image":if(jt.objs.resolve(pt,Bt),Bt){let wt;if(Bt.bitmap){const{width:It,height:yt}=Bt;wt=It*yt*4}else wt=((Ft=Bt.data)==null?void 0:Ft.length)||0;wt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(jt._maybeCleanupAfterRender=!0)}break;case"Pattern":jt.objs.resolve(pt,Bt);break;default:throw new Error(`Got unknown object type ${Ct}`)}}),dt.on("DocProgress",Et=>{var pt;this.destroyed||(pt=vt.onProgress)==null||pt.call(vt,{loaded:Et.loaded,total:Et.total})}),dt.on("FetchBuiltInCMap",Et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Et):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),dt.on("FetchStandardFontData",Et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Et):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Et;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:dt,transfers:vt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:dt,filename:((Et=this._fullReader)==null?void 0:Et.filename)??null},vt).finally(()=>{this.annotationStorage.resetModified()})}getPage(dt){if(!Number.isInteger(dt)||dt<=0||dt>this._numPages)return Promise.reject(new Error("Invalid page request."));const vt=dt-1,Et=lt(this,tt).get(vt);if(Et)return Et;const pt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:vt}).then(bt=>{if(this.destroyed)throw new Error("Transport destroyed");const Ct=new PDFPageProxy(vt,bt,this,this._params.pdfBug);return lt(this,et).set(vt,Ct),Ct});return lt(this,tt).set(vt,pt),pt}getPageIndex(dt){return typeof dt!="object"||dt===null||!Number.isInteger(dt.num)||dt.num<0||!Number.isInteger(dt.gen)||dt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:dt.num,gen:dt.gen})}getAnnotations(dt,vt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:dt,intent:vt})}getFieldObjects(){return Wt(this,it,Ln).call(this,"GetFieldObjects")}hasJSActions(){return Wt(this,it,Ln).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(dt){return typeof dt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:dt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Wt(this,it,Ln).call(this,"GetDocJSActions")}getPageJSActions(dt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:dt})}getStructTree(dt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:dt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(dt=>new _optional_content_config.OptionalContentConfig(dt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const dt="GetMetadata",vt=lt(this,_e).get(dt);if(vt)return vt;const Et=this.messageHandler.sendWithPromise(dt,null).then(pt=>{var bt,Ct;return{info:pt[0],metadata:pt[1]?new _metadata.Metadata(pt[1]):null,contentDispositionFilename:((bt=this._fullReader)==null?void 0:bt.filename)??null,contentLength:((Ct=this._fullReader)==null?void 0:Ct.contentLength)??null}});return lt(this,_e).set(dt,Et),Et}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const vt of lt(this,et).values())if(!vt.cleanup())throw new Error(`startCleanup: Page ${vt.pageNumber} is currently rendering.`);this.commonObjs.clear(),dt||this.fontLoader.clear(),lt(this,_e).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:dt,enableXfa:vt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:dt,enableXfa:vt})}}_e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakSet,Ln=function(dt){let vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Et=lt(this,_e).get(dt);if(Et)return Et;const pt=this.messageHandler.sendWithPromise(dt,vt);return lt(this,_e).set(dt,pt),pt};class PDFObjects{constructor(){$t(this,at);$t(this,rt,Object.create(null))}get(dt){let vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(vt){const pt=Wt(this,at,hs).call(this,dt);return pt.capability.promise.then(()=>vt(pt.data)),null}const Et=lt(this,rt)[dt];if(!(Et!=null&&Et.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${dt}.`);return Et.data}has(dt){const vt=lt(this,rt)[dt];return(vt==null?void 0:vt.capability.settled)||!1}resolve(dt){let vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Et=Wt(this,at,hs).call(this,dt);Et.data=vt,Et.capability.resolve()}clear(){var dt;for(const vt in lt(this,rt)){const{data:Et}=lt(this,rt)[vt];(dt=Et==null?void 0:Et.bitmap)==null||dt.close()}Qt(this,rt,Object.create(null))}}rt=new WeakMap,at=new WeakSet,hs=function(dt){var vt;return(vt=lt(this,rt))[dt]||(vt[dt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(dt){$t(this,ft,null);Qt(this,ft,dt),this.onContinue=null}get promise(){return lt(this,ft).capability.promise}cancel(){let dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;lt(this,ft).cancel(null,dt)}get separateAnnots(){const{separateAnnots:dt}=lt(this,ft).operatorList;if(!dt)return!1;const{annotationCanvasMap:vt}=lt(this,ft);return dt.form||dt.canvas&&(vt==null?void 0:vt.size)>0}}ft=new WeakMap,exports.RenderTask=RenderTask;const ut=class ut{constructor(dt){let{callback:vt,params:Et,objs:pt,commonObjs:bt,annotationCanvasMap:Ct,operatorList:Bt,pageIndex:jt,canvasFactory:Ft,filterFactory:wt,useRequestAnimationFrame:It=!1,pdfBug:yt=!1,pageColors:Dt=null}=dt;this.callback=vt,this.params=Et,this.objs=pt,this.commonObjs=bt,this.annotationCanvasMap=Ct,this.operatorListIdx=null,this.operatorList=Bt,this._pageIndex=jt,this.canvasFactory=Ft,this.filterFactory=wt,this._pdfBug=yt,this.pageColors=Dt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=It===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Et.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(dt){var jt,Ft;let{transparency:vt=!1,optionalContentConfig:Et}=dt;if(this.cancelled)return;if(this._canvas){if(lt(ut,ot).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");lt(ut,ot).add(this._canvas)}this._pdfBug&&((jt=globalThis.StepperManager)!=null&&jt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:pt,viewport:bt,transform:Ct,background:Bt}=this.params;this.gfx=new _canvas.CanvasGraphics(pt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Et},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ct,viewport:bt,transparency:vt,background:Bt}),this.operatorListIdx=0,this.graphicsReady=!0,(Ft=this.graphicsReadyCallback)==null||Ft.call(this)}cancel(){var Et;let dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.running=!1,this.cancelled=!0,(Et=this.gfx)==null||Et.endDrawing(),lt(ut,ot).delete(this._canvas),this.callback(dt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,vt))}operatorListChanged(){var dt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(dt=this.stepper)==null||dt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),lt(ut,ot).delete(this._canvas),this.callback())))}};ot=new WeakMap,$t(ut,ot,new WeakSet);let InternalRenderTask=ut;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(s,e,a)=>{var o=a(3),d=a(126),h=a(135);o({target:"Set",proto:!0,real:!0,forced:!h("difference")},{difference:d})},(s,e,a)=>{var o=a(127),d=a(128),h=a(129),g=a(132),b=a(133),j=a(130),_=a(131),$=d.has,_e=d.remove;s.exports=function(tt){var nt=o(this),it=b(tt),st=h(nt);return g(nt)<=it.size?j(nt,function(rt){it.includes(rt)&&_e(st,rt)}):_(it.getIterator(),function(rt){$(nt,rt)&&_e(st,rt)}),st}},(s,e,a)=>{var o=a(128).has;s.exports=function(d){return o(d),d}},(s,e,a)=>{var o=a(14),d=Set.prototype;s.exports={Set,add:o(d.add),has:o(d.has),remove:o(d.delete),proto:d}},(s,e,a)=>{var o=a(128),d=a(130),h=o.Set,g=o.add;s.exports=function(b){var j=new h;return d(b,function(_){g(j,_)}),j}},(s,e,a)=>{var o=a(14),d=a(131),h=a(128),g=h.Set,b=h.proto,j=o(b.forEach),_=o(b.keys),$=_(new g).next;s.exports=function(_e,et,tt){return tt?d({iterator:_(_e),next:$},et):j(_e,et)}},(s,e,a)=>{var o=a(8);s.exports=function(d,h,g){for(var b=g?d:d.iterator,j=d.next,_,$;!(_=o(j,b)).done;)if($=h(_.value),$!==void 0)return $}},(s,e,a)=>{var o=a(72),d=a(128);s.exports=o(d.proto,"size","get")||function(h){return h.size}},(s,e,a)=>{var o=a(31),d=a(47),h=a(8),g=a(62),b=a(134),j="Invalid size",_=RangeError,$=TypeError,_e=Math.max,et=function(tt,nt,it,st){this.set=tt,this.size=nt,this.has=it,this.keys=st};et.prototype={getIterator:function(){return b(d(h(this.keys,this.set)))},includes:function(tt){return h(this.has,this.set,tt)}},s.exports=function(tt){d(tt);var nt=+tt.size;if(nt!==nt)throw $(j);var it=g(nt);if(it<0)throw _(j);return new et(tt,_e(it,0),o(tt.has),o(tt.keys))}},s=>{s.exports=function(e){return{iterator:e,next:e.next,done:!1}}},(s,e,a)=>{var o=a(24),d=function(h){return{size:h,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};s.exports=function(h){var g=o("Set");try{new g()[h](d(0));try{return new g()[h](d(-1)),!1}catch{return!0}}catch{return!1}}},(s,e,a)=>{var o=a(3),d=a(7),h=a(137),g=a(135),b=!g("intersection")||d(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});o({target:"Set",proto:!0,real:!0,forced:b},{intersection:h})},(s,e,a)=>{var o=a(127),d=a(128),h=a(132),g=a(133),b=a(130),j=a(131),_=d.Set,$=d.add,_e=d.has;s.exports=function(tt){var nt=o(this),it=g(tt),st=new _;return h(nt)>it.size?j(it.getIterator(),function(rt){_e(nt,rt)&&$(st,rt)}):b(nt,function(rt){it.includes(rt)&&$(st,rt)}),st}},(s,e,a)=>{var o=a(3),d=a(139),h=a(135);o({target:"Set",proto:!0,real:!0,forced:!h("isDisjointFrom")},{isDisjointFrom:d})},(s,e,a)=>{var o=a(127),d=a(128).has,h=a(132),g=a(133),b=a(130),j=a(131),_=a(140);s.exports=function(_e){var et=o(this),tt=g(_e);if(h(et)<=tt.size)return b(et,function(it){if(tt.includes(it))return!1},!0)!==!1;var nt=tt.getIterator();return j(nt,function(it){if(d(et,it))return _(nt,"normal",!1)})!==!1}},(s,e,a)=>{var o=a(8),d=a(47),h=a(30);s.exports=function(g,b,j){var _,$;d(g);try{if(_=h(g,"return"),!_){if(b==="throw")throw j;return j}_=o(_,g)}catch(_e){$=!0,_=_e}if(b==="throw")throw j;if($)throw _;return d(_),j}},(s,e,a)=>{var o=a(3),d=a(142),h=a(135);o({target:"Set",proto:!0,real:!0,forced:!h("isSubsetOf")},{isSubsetOf:d})},(s,e,a)=>{var o=a(127),d=a(132),h=a(130),g=a(133);s.exports=function(j){var _=o(this),$=g(j);return d(_)>$.size?!1:h(_,function(_e){if(!$.includes(_e))return!1},!0)!==!1}},(s,e,a)=>{var o=a(3),d=a(144),h=a(135);o({target:"Set",proto:!0,real:!0,forced:!h("isSupersetOf")},{isSupersetOf:d})},(s,e,a)=>{var o=a(127),d=a(128).has,h=a(132),g=a(133),b=a(131),j=a(140);s.exports=function($){var _e=o(this),et=g($);if(h(_e)<et.size)return!1;var tt=et.getIterator();return b(tt,function(nt){if(!d(_e,nt))return j(tt,"normal",!1)})!==!1}},(s,e,a)=>{var o=a(3),d=a(146),h=a(135);o({target:"Set",proto:!0,real:!0,forced:!h("symmetricDifference")},{symmetricDifference:d})},(s,e,a)=>{var o=a(127),d=a(128),h=a(129),g=a(133),b=a(131),j=d.add,_=d.has,$=d.remove;s.exports=function(et){var tt=o(this),nt=g(et).getIterator(),it=h(tt);return b(nt,function(st){_(tt,st)?$(it,st):j(it,st)}),it}},(s,e,a)=>{var o=a(3),d=a(148),h=a(135);o({target:"Set",proto:!0,real:!0,forced:!h("union")},{union:d})},(s,e,a)=>{var o=a(127),d=a(128).add,h=a(129),g=a(133),b=a(131);s.exports=function(_){var $=o(this),_e=g(_).getIterator(),et=h($);return b(_e,function(tt){d(et,tt)}),et}},(s,e,a)=>{var o=a(3),d=a(4),h=a(24),g=a(11),b=a(45).f,j=a(39),_=a(150),$=a(75),_e=a(76),et=a(151),tt=a(82),nt=a(6),it=a(36),st="DOMException",rt=h("Error"),at=h(st),ht=function(){_(this,ft);var Ft=arguments.length,wt=_e(Ft<1?void 0:arguments[0]),It=_e(Ft<2?void 0:arguments[1],"Error"),yt=new at(wt,It),Dt=rt(wt);return Dt.name=st,b(yt,"stack",g(1,tt(Dt.stack,1))),$(yt,this,ht),yt},ft=ht.prototype=at.prototype,ot="stack"in rt(st),ut="stack"in new at(1,2),ct=at&&nt&&Object.getOwnPropertyDescriptor(d,st),dt=!!ct&&!(ct.writable&&ct.configurable),vt=ot&&!dt&&!ut;o({global:!0,constructor:!0,forced:it||vt},{DOMException:vt?ht:at});var Et=h(st),pt=Et.prototype;if(pt.constructor!==Et){it||b(pt,"constructor",g(1,Et));for(var bt in et)if(j(et,bt)){var Ct=et[bt],Bt=Ct.s;j(Et,Bt)||b(Et,Bt,g(6,Ct.c))}}},(s,e,a)=>{var o=a(25),d=TypeError;s.exports=function(h,g){if(o(g,h))return h;throw d("Incorrect invocation")}},s=>{s.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},(s,e,a)=>{var o=a(36),d=a(3),h=a(4),g=a(24),b=a(14),j=a(7),_=a(41),$=a(21),_e=a(153),et=a(17),tt=a(20),nt=a(23),it=a(154),st=a(47),rt=a(78),at=a(39),ht=a(159),ft=a(44),ot=a(64),ut=a(85),ct=a(160),dt=a(162),vt=a(128),Et=a(83),pt=a(119),bt=h.Object,Ct=h.Array,Bt=h.Date,jt=h.Error,Ft=h.EvalError,wt=h.RangeError,It=h.ReferenceError,yt=h.SyntaxError,Dt=h.TypeError,Mt=h.URIError,St=h.PerformanceMark,gt=h.WebAssembly,mt=gt&&gt.CompileError||jt,xt=gt&&gt.LinkError||jt,_t=gt&&gt.RuntimeError||jt,At=g("DOMException"),Tt=dt.Map,Lt=dt.has,Ut=dt.get,Zt=dt.set,tr=vt.Set,lr=vt.add,hr=g("Object","keys"),dr=b([].push),Gt=b((!0).valueOf),Jt=b(1 .valueOf),Rt=b("".valueOf),Nt=b(Bt.prototype.getTime),Ht=_("structuredClone"),qt="DataCloneError",ar="Transferring",vr=function(Pt){return!j(function(){var Xt=new h.Set([7]),xr=Pt(Xt),wr=Pt(bt(7));return xr===Xt||!xr.has(7)||typeof wr!="object"||+wr!=7})&&Pt},pr=function(Pt,Xt){return!j(function(){var xr=new Xt,wr=Pt({a:xr,b:xr});return!(wr&&wr.a===wr.b&&wr.a instanceof Xt&&wr.a.stack===xr.stack)})},Vt=function(Pt){return!j(function(){var Xt=Pt(new h.AggregateError([1],Ht,{cause:3}));return Xt.name!=="AggregateError"||Xt.errors[0]!==1||Xt.message!==Ht||Xt.cause!==3})},br=h.structuredClone,Er=o||!pr(br,jt)||!pr(br,At)||!Vt(br),Ir=!br&&vr(function(Pt){return new St(Ht,{detail:Pt}).detail}),kr=vr(br)||Ir,Nr=function(Pt){throw new At("Uncloneable type: "+Pt,qt)},Rr=function(Pt,Xt){throw new At((Xt||"Cloning")+" of "+Pt+" cannot be properly polyfilled in this engine",qt)},Tr=function(Pt,Xt){return kr||Rr(Xt),kr(Pt)},Mr=function(){var Pt;try{Pt=new h.DataTransfer}catch{try{Pt=new h.ClipboardEvent("").clipboardData}catch{}}return Pt&&Pt.items&&Pt.files?Pt:null},Ur=function(Pt,Xt,xr){if(Lt(Xt,Pt))return Ut(Xt,Pt);var wr=xr||rt(Pt),Pr,Sr,Ot,kt,zt,Kt;if(wr==="SharedArrayBuffer")kr?Pr=kr(Pt):Pr=Pt;else{var nr=h.DataView;!nr&&typeof Pt.slice!="function"&&Rr("ArrayBuffer");try{if(typeof Pt.slice=="function"&&!Pt.resizable)Pr=Pt.slice(0);else for(Sr=Pt.byteLength,Ot=("maxByteLength"in Pt)?{maxByteLength:Pt.maxByteLength}:void 0,Pr=new ArrayBuffer(Sr,Ot),kt=new nr(Pt),zt=new nr(Pr),Kt=0;Kt<Sr;Kt++)zt.setUint8(Kt,kt.getUint8(Kt))}catch{throw new At("ArrayBuffer is detached",qt)}}return Zt(Xt,Pt,Pr),Pr},Cr=function(Pt,Xt,xr,wr,Pr){var Sr=h[Xt];return tt(Sr)||Rr(Xt),new Sr(Ur(Pt.buffer,Pr),xr,wr)},or=function(Pt,Xt,xr){this.object=Pt,this.type=Xt,this.metadata=xr},Yt=function(Pt,Xt,xr){if(nt(Pt)&&Nr("Symbol"),!tt(Pt))return Pt;if(Xt){if(Lt(Xt,Pt))return Ut(Xt,Pt)}else Xt=new Tt;var wr=rt(Pt),Pr,Sr,Ot,kt,zt,Kt,nr,ur;switch(wr){case"Array":Ot=Ct(ot(Pt));break;case"Object":Ot={};break;case"Map":Ot=new Tt;break;case"Set":Ot=new tr;break;case"RegExp":Ot=new RegExp(Pt.source,ct(Pt));break;case"Error":switch(Sr=Pt.name,Sr){case"AggregateError":Ot=g("AggregateError")([]);break;case"EvalError":Ot=Ft();break;case"RangeError":Ot=wt();break;case"ReferenceError":Ot=It();break;case"SyntaxError":Ot=yt();break;case"TypeError":Ot=Dt();break;case"URIError":Ot=Mt();break;case"CompileError":Ot=mt();break;case"LinkError":Ot=xt();break;case"RuntimeError":Ot=_t();break;default:Ot=jt()}break;case"DOMException":Ot=new At(Pt.message,Pt.name);break;case"ArrayBuffer":case"SharedArrayBuffer":Ot=xr?new or(Pt,wr):Ur(Pt,Xt,wr);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Kt=wr==="DataView"?Pt.byteLength:Pt.length,Ot=xr?new or(Pt,wr,{offset:Pt.byteOffset,length:Kt}):Cr(Pt,wr,Pt.byteOffset,Kt,Xt);break;case"DOMQuad":try{Ot=new DOMQuad(Yt(Pt.p1,Xt,xr),Yt(Pt.p2,Xt,xr),Yt(Pt.p3,Xt,xr),Yt(Pt.p4,Xt,xr))}catch{Ot=Tr(Pt,wr)}break;case"File":if(kr)try{Ot=kr(Pt),rt(Ot)!==wr&&(Ot=void 0)}catch{}if(!Ot)try{Ot=new File([Pt],Pt.name,Pt)}catch{}Ot||Rr(wr);break;case"FileList":if(kt=Mr(),kt){for(zt=0,Kt=ot(Pt);zt<Kt;zt++)kt.items.add(Yt(Pt[zt],Xt,xr));Ot=kt.files}else Ot=Tr(Pt,wr);break;case"ImageData":try{Ot=new ImageData(Yt(Pt.data,Xt,xr),Pt.width,Pt.height,{colorSpace:Pt.colorSpace})}catch{Ot=Tr(Pt,wr)}break;default:if(kr)Ot=kr(Pt);else switch(wr){case"BigInt":Ot=bt(Pt.valueOf());break;case"Boolean":Ot=bt(Gt(Pt));break;case"Number":Ot=bt(Jt(Pt));break;case"String":Ot=bt(Rt(Pt));break;case"Date":Ot=new Bt(Nt(Pt));break;case"Blob":try{Ot=Pt.slice(0,Pt.size,Pt.type)}catch{Rr(wr)}break;case"DOMPoint":case"DOMPointReadOnly":Pr=h[wr];try{Ot=Pr.fromPoint?Pr.fromPoint(Pt):new Pr(Pt.x,Pt.y,Pt.z,Pt.w)}catch{Rr(wr)}break;case"DOMRect":case"DOMRectReadOnly":Pr=h[wr];try{Ot=Pr.fromRect?Pr.fromRect(Pt):new Pr(Pt.x,Pt.y,Pt.width,Pt.height)}catch{Rr(wr)}break;case"DOMMatrix":case"DOMMatrixReadOnly":Pr=h[wr];try{Ot=Pr.fromMatrix?Pr.fromMatrix(Pt):new Pr(Pt)}catch{Rr(wr)}break;case"AudioData":case"VideoFrame":$(Pt.clone)||Rr(wr);try{Ot=Pt.clone()}catch{Nr(wr)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Rr(wr);default:Nr(wr)}}switch(Zt(Xt,Pt,Ot),wr){case"Array":case"Object":for(nr=hr(Pt),zt=0,Kt=ot(nr);zt<Kt;zt++)ur=nr[zt],ht(Ot,ur,Yt(Pt[ur],Xt,xr));break;case"Map":Pt.forEach(function(mr,sr){Zt(Ot,Yt(sr,Xt,xr),Yt(mr,Xt,xr))});break;case"Set":Pt.forEach(function(mr){lr(Ot,Yt(mr,Xt,xr))});break;case"Error":ft(Ot,"message",Yt(Pt.message,Xt,xr)),at(Pt,"cause")&&ft(Ot,"cause",Yt(Pt.cause,Xt,xr)),Sr==="AggregateError"&&(Ot.errors=Yt(Pt.errors,Xt,xr));case"DOMException":Et&&ft(Ot,"stack",Yt(Pt.stack,Xt,xr))}return Ot},fr=function(Pt,Xt){if(!tt(Pt))return Pt;if(Lt(Xt,Pt))return Ut(Xt,Pt);var xr,wr,Pr,Sr,Ot,kt,zt,Kt;if(Pt instanceof or)switch(xr=Pt.type,wr=Pt.object,xr){case"ArrayBuffer":case"SharedArrayBuffer":Kt=Ur(wr,Xt,xr);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Pr=Pt.metadata,Kt=Cr(wr,xr,Pr.offset,Pr.length,Xt)}else switch(rt(Pt)){case"Array":case"Object":for(kt=hr(Pt),Sr=0,Ot=ot(kt);Sr<Ot;Sr++)zt=kt[Sr],Pt[zt]=fr(Pt[zt],Xt);break;case"Map":Kt=new Tt,Pt.forEach(function(nr,ur){Zt(Kt,fr(ur,Xt),fr(nr,Xt))});break;case"Set":Kt=new tr,Pt.forEach(function(nr){lr(Kt,fr(nr,Xt))});break;case"Error":Pt.message=fr(Pt.message,Xt),at(Pt,"cause")&&(Pt.cause=fr(Pt.cause,Xt)),Pt.name==="AggregateError"&&(Pt.errors=fr(Pt.errors,Xt));case"DOMException":Et&&(Pt.stack=fr(Pt.stack,Xt))}return Zt(Xt,Pt,Kt||Pt),Kt||Pt},Dr=function(Pt,Xt){if(!tt(Pt))throw Dt("Transfer option cannot be converted to a sequence");var xr=[];it(Pt,function(mr){dr(xr,st(mr))});for(var wr=0,Pr=ot(xr),Sr=[],Ot,kt,zt,Kt,nr,ur;wr<Pr;){if(Ot=xr[wr++],kt=rt(Ot),kt==="ArrayBuffer"){dr(Sr,Ot);continue}if(Lt(Xt,Ot))throw new At("Duplicate transferable",qt);if(pt)Kt=br(Ot,{transfer:[Ot]});else switch(kt){case"ImageBitmap":zt=h.OffscreenCanvas,_e(zt)||Rr(kt,ar);try{nr=new zt(Ot.width,Ot.height),ur=nr.getContext("bitmaprenderer"),ur.transferFromImageBitmap(Ot),Kt=nr.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!$(Ot.clone)||!$(Ot.close))&&Rr(kt,ar);try{Kt=Ot.clone(),Ot.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":Rr(kt,ar)}if(Kt===void 0)throw new At("This object cannot be transferred: "+kt,qt);Zt(Xt,Ot,Kt)}return Sr},Or=function(Pt,Xt){for(var xr=0,wr=ot(Pt),Pr,Sr;xr<wr;){if(Pr=Pt[xr++],Lt(Xt,Pr))throw new At("Duplicate transferable",qt);pt?Sr=br(Pr,{transfer:[Pr]}):($(Pr.transfer)||Rr("ArrayBuffer",ar),Sr=Pr.transfer()),Zt(Xt,Pr,Sr)}};d({global:!0,enumerable:!0,sham:!pt,forced:Er},{structuredClone:function(Xt){var xr=ut(arguments.length,1)>1&&!et(arguments[1])?st(arguments[1]):void 0,wr=xr?xr.transfer:void 0,Pr=!1,Sr,Ot;wr!==void 0&&(Sr=new Tt,Ot=Dr(wr,Sr),Pr=!!ot(Ot));var kt=Yt(Xt,Sr,Pr);return Pr&&(Sr=new Tt,Or(wr,Sr),kt=fr(kt,Sr)),kt}})},(s,e,a)=>{var o=a(14),d=a(7),h=a(21),g=a(78),b=a(24),j=a(51),_=function(){},$=[],_e=b("Reflect","construct"),et=/^\s*(?:class|function)\b/,tt=o(et.exec),nt=!et.exec(_),it=function(at){if(!h(at))return!1;try{return _e(_,$,at),!0}catch{return!1}},st=function(at){if(!h(at))return!1;switch(g(at)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return nt||!!tt(et,j(at))}catch{return!0}};st.sham=!0,s.exports=!_e||d(function(){var rt;return it(it.call)||!it(Object)||!it(function(){rt=!0})||rt})?st:it},(s,e,a)=>{var o=a(99),d=a(8),h=a(47),g=a(32),b=a(155),j=a(64),_=a(25),$=a(157),_e=a(158),et=a(140),tt=TypeError,nt=function(st,rt){this.stopped=st,this.result=rt},it=nt.prototype;s.exports=function(st,rt,at){var ht=at&&at.that,ft=!!(at&&at.AS_ENTRIES),ot=!!(at&&at.IS_RECORD),ut=!!(at&&at.IS_ITERATOR),ct=!!(at&&at.INTERRUPTED),dt=o(rt,ht),vt,Et,pt,bt,Ct,Bt,jt,Ft=function(It){return vt&&et(vt,"normal",It),new nt(!0,It)},wt=function(It){return ft?(h(It),ct?dt(It[0],It[1],Ft):dt(It[0],It[1])):ct?dt(It,Ft):dt(It)};if(ot)vt=st.iterator;else if(ut)vt=st;else{if(Et=_e(st),!Et)throw tt(g(st)+" is not iterable");if(b(Et)){for(pt=0,bt=j(st);bt>pt;pt++)if(Ct=wt(st[pt]),Ct&&_(it,Ct))return Ct;return new nt(!1)}vt=$(st,Et)}for(Bt=ot?st.next:vt.next;!(jt=d(Bt,vt)).done;){try{Ct=wt(jt.value)}catch(It){et(vt,"throw",It)}if(typeof Ct=="object"&&Ct&&_(it,Ct))return Ct}return new nt(!1)}},(s,e,a)=>{var o=a(34),d=a(156),h=o("iterator"),g=Array.prototype;s.exports=function(b){return b!==void 0&&(d.Array===b||g[h]===b)}},s=>{s.exports={}},(s,e,a)=>{var o=a(8),d=a(31),h=a(47),g=a(32),b=a(158),j=TypeError;s.exports=function(_,$){var _e=arguments.length<2?b(_):$;if(d(_e))return h(o(_e,_));throw j(g(_)+" is not iterable")}},(s,e,a)=>{var o=a(78),d=a(30),h=a(17),g=a(156),b=a(34),j=b("iterator");s.exports=function(_){if(!h(_))return d(_,j)||d(_,"@@iterator")||g[o(_)]}},(s,e,a)=>{var o=a(18),d=a(45),h=a(11);s.exports=function(g,b,j){var _=o(b);_ in g?d.f(g,_,h(0,j)):g[_]=j}},(s,e,a)=>{var o=a(8),d=a(39),h=a(25),g=a(161),b=RegExp.prototype;s.exports=function(j){var _=j.flags;return _===void 0&&!("flags"in b)&&!d(j,"flags")&&h(b,j)?o(g,j):_}},(s,e,a)=>{var o=a(47);s.exports=function(){var d=o(this),h="";return d.hasIndices&&(h+="d"),d.global&&(h+="g"),d.ignoreCase&&(h+="i"),d.multiline&&(h+="m"),d.dotAll&&(h+="s"),d.unicode&&(h+="u"),d.unicodeSets&&(h+="v"),d.sticky&&(h+="y"),h}},(s,e,a)=>{var o=a(14),d=Map.prototype;s.exports={Map,set:o(d.set),get:o(d.get),has:o(d.has),remove:o(d.delete),proto:d}},(s,e,a)=>{var _,$,_e,Po,tt;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0,a(89),a(149),a(152);var o=a(1),d=a(164),h=a(170);const g=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=g;class b{constructor(){$t(this,_e);$t(this,_,!1);$t(this,$,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(it,st){const rt=lt(this,$).get(it);return rt===void 0?st:Object.assign(st,rt)}getRawValue(it){return lt(this,$).get(it)}remove(it){if(lt(this,$).delete(it),lt(this,$).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const st of lt(this,$).values())if(st instanceof d.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(it,st){const rt=lt(this,$).get(it);let at=!1;if(rt!==void 0)for(const[ht,ft]of Object.entries(st))rt[ht]!==ft&&(at=!0,rt[ht]=ft);else at=!0,lt(this,$).set(it,st);at&&Wt(this,_e,Po).call(this),st instanceof d.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(st.constructor._type)}has(it){return lt(this,$).has(it)}getAll(){return lt(this,$).size>0?(0,o.objectFromMap)(lt(this,$)):null}setAll(it){for(const[st,rt]of Object.entries(it))this.setValue(st,rt)}get size(){return lt(this,$).size}resetModified(){lt(this,_)&&(Qt(this,_,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new j(this)}get serializable(){if(lt(this,$).size===0)return g;const it=new Map,st=new h.MurmurHash3_64,rt=[],at=Object.create(null);let ht=!1;for(const[ft,ot]of lt(this,$)){const ut=ot instanceof d.AnnotationEditor?ot.serialize(!1,at):ot;ut&&(it.set(ft,ut),st.update(`${ft}:${JSON.stringify(ut)}`),ht||(ht=!!ut.bitmap))}if(ht)for(const ft of it.values())ft.bitmap&&rt.push(ft.bitmap);return it.size>0?{map:it,hash:st.hexdigest(),transfers:rt}:g}}_=new WeakMap,$=new WeakMap,_e=new WeakSet,Po=function(){lt(this,_)||(Qt(this,_,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=b;class j extends b{constructor(st){super();$t(this,tt);const{map:rt,hash:at,transfers:ht}=st.serializable,ft=structuredClone(rt,null);Qt(this,tt,{map:ft,hash:at,transfers:ht})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return lt(this,tt)}}tt=new WeakMap,e.PrintAnnotationStorage=j},(s,e,a)=>{var j,_,$,_e,et,tt,nt,it,st,rt,at,ht,ft,ot,ut,fs,ps,vt,gs,ms,Co,Ro,_o,vs,To;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0,a(89),a(2);var o=a(165),d=a(1),h=a(168);const wt=class wt{constructor(yt){$t(this,ut);$t(this,j,"");$t(this,_,!1);$t(this,$,null);$t(this,_e,null);$t(this,et,null);$t(this,tt,!1);$t(this,nt,null);$t(this,it,this.focusin.bind(this));$t(this,st,this.focusout.bind(this));$t(this,rt,!1);$t(this,at,!1);$t(this,ht,!1);Hr(this,"_initialOptions",Object.create(null));Hr(this,"_uiManager",null);Hr(this,"_focusEventsAllowed",!0);Hr(this,"_l10nPromise",null);$t(this,ft,!1);$t(this,ot,wt._zIndex++);this.constructor===wt&&(0,d.unreachable)("Cannot initialize AnnotationEditor."),this.parent=yt.parent,this.id=yt.id,this.width=this.height=null,this.pageIndex=yt.parent.pageIndex,this.name=yt.name,this.div=null,this._uiManager=yt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=yt.isCentered,this._structTreeParentId=null;const{rotation:Dt,rawDims:{pageWidth:Mt,pageHeight:St,pageX:gt,pageY:mt}}=this.parent.viewport;this.rotation=Dt,this.pageRotation=(360+Dt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Mt,St],this.pageTranslation=[gt,mt];const[xt,_t]=this.parentDimensions;this.x=yt.x/xt,this.y=yt.y/_t,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,d.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(yt){const Dt=new b({id:yt.parent.getNextId(),parent:yt.parent,uiManager:yt._uiManager});Dt.annotationElementId=yt.annotationElementId,Dt.deleted=!0,Dt._uiManager.addToAnnotationStorage(Dt)}static initialize(yt){let Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(wt._l10nPromise||(wt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(St=>[St,yt.get(St)]))),Dt!=null&&Dt.strings)for(const St of Dt.strings)wt._l10nPromise.set(St,yt.get(St));if(wt._borderLineWidth!==-1)return;const Mt=getComputedStyle(document.documentElement);wt._borderLineWidth=parseFloat(Mt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(yt,Dt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(yt){return!1}static paste(yt,Dt){(0,d.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return lt(this,ft)}set _isDraggable(yt){var Dt;Qt(this,ft,yt),(Dt=this.div)==null||Dt.classList.toggle("draggable",yt)}center(){const[yt,Dt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Dt/(yt*2),this.y+=this.width*yt/(Dt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Dt/(yt*2),this.y-=this.width*yt/(Dt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(yt){this._uiManager.addCommands(yt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=lt(this,ot)}setParent(yt){yt!==null&&(this.pageIndex=yt.pageIndex,this.pageDimensions=yt.pageDimensions),this.parent=yt}focusin(yt){this._focusEventsAllowed&&(lt(this,rt)?Qt(this,rt,!1):this.parent.setSelected(this))}focusout(yt){var Mt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Dt=yt.relatedTarget;Dt!=null&&Dt.closest(`#${this.id}`)||(yt.preventDefault(),(Mt=this.parent)!=null&&Mt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(yt,Dt,Mt,St){const[gt,mt]=this.parentDimensions;[Mt,St]=this.screenToPageTranslation(Mt,St),this.x=(yt+Mt)/gt,this.y=(Dt+St)/mt,this.fixAndSetPosition()}translate(yt,Dt){Wt(this,ut,fs).call(this,this.parentDimensions,yt,Dt)}translateInPage(yt,Dt){Wt(this,ut,fs).call(this,this.pageDimensions,yt,Dt),this.div.scrollIntoView({block:"nearest"})}drag(yt,Dt){const[Mt,St]=this.parentDimensions;if(this.x+=yt/Mt,this.y+=Dt/St,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:At,y:Tt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,At,Tt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:gt,y:mt}=this;const[xt,_t]=Wt(this,ut,ps).call(this);gt+=xt,mt+=_t,this.div.style.left=`${(100*gt).toFixed(2)}%`,this.div.style.top=`${(100*mt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[yt,Dt]=this.pageDimensions;let{x:Mt,y:St,width:gt,height:mt}=this;switch(gt*=yt,mt*=Dt,Mt*=yt,St*=Dt,this.rotation){case 0:Mt=Math.max(0,Math.min(yt-gt,Mt)),St=Math.max(0,Math.min(Dt-mt,St));break;case 90:Mt=Math.max(0,Math.min(yt-mt,Mt)),St=Math.min(Dt,Math.max(gt,St));break;case 180:Mt=Math.min(yt,Math.max(gt,Mt)),St=Math.min(Dt,Math.max(mt,St));break;case 270:Mt=Math.min(yt,Math.max(mt,Mt)),St=Math.max(0,Math.min(Dt-gt,St));break}this.x=Mt/=yt,this.y=St/=Dt;const[xt,_t]=Wt(this,ut,ps).call(this);Mt+=xt,St+=_t;const{style:At}=this.div;At.left=`${(100*Mt).toFixed(2)}%`,At.top=`${(100*St).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(yt,Dt){var Mt;return Wt(Mt=wt,vt,gs).call(Mt,yt,Dt,this.parentRotation)}pageTranslationToScreen(yt,Dt){var Mt;return Wt(Mt=wt,vt,gs).call(Mt,yt,Dt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:yt,pageDimensions:[Dt,Mt]}=this,St=Dt*yt,gt=Mt*yt;return d.FeatureTest.isCSSRoundSupported?[Math.round(St),Math.round(gt)]:[St,gt]}setDims(yt,Dt){var gt;const[Mt,St]=this.parentDimensions;this.div.style.width=`${(100*yt/Mt).toFixed(2)}%`,lt(this,tt)||(this.div.style.height=`${(100*Dt/St).toFixed(2)}%`),(gt=lt(this,$))==null||gt.classList.toggle("small",yt<wt.SMALL_EDITOR_SIZE||Dt<wt.SMALL_EDITOR_SIZE)}fixDims(){const{style:yt}=this.div,{height:Dt,width:Mt}=yt,St=Mt.endsWith("%"),gt=!lt(this,tt)&&Dt.endsWith("%");if(St&&gt)return;const[mt,xt]=this.parentDimensions;St||(yt.width=`${(100*parseFloat(Mt)/mt).toFixed(2)}%`),!lt(this,tt)&&!gt&&(yt.height=`${(100*parseFloat(Dt)/xt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(lt(this,$))return;const yt=Qt(this,$,document.createElement("button"));yt.className="altText";const Dt=await wt._l10nPromise.get("editor_alt_text_button_label");yt.textContent=Dt,yt.setAttribute("aria-label",Dt),yt.tabIndex="0",yt.addEventListener("contextmenu",h.noContextMenu),yt.addEventListener("pointerdown",Mt=>Mt.stopPropagation()),yt.addEventListener("click",Mt=>{Mt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),yt.addEventListener("keydown",Mt=>{Mt.target===yt&&Mt.key==="Enter"&&(Mt.preventDefault(),this._uiManager.editAltText(this))}),Wt(this,ut,vs).call(this),this.div.append(yt),wt.SMALL_EDITOR_SIZE||(wt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(yt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:lt(this,j),decorative:lt(this,_)}}set altTextData(yt){let{altText:Dt,decorative:Mt}=yt;lt(this,j)===Dt&&lt(this,_)===Mt||(Qt(this,j,Dt),Qt(this,_,Mt),Wt(this,ut,vs).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",lt(this,it)),this.div.addEventListener("focusout",lt(this,st));const[yt,Dt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Dt/yt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*yt/Dt).toFixed(2)}%`);const[Mt,St]=this.getInitialTranslation();return this.translate(Mt,St),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(yt){const{isMac:Dt}=d.FeatureTest.platform;if(yt.button!==0||yt.ctrlKey&&Dt){yt.preventDefault();return}Qt(this,rt,!0),Wt(this,ut,To).call(this,yt)}moveInDOM(){var yt;(yt=this.parent)==null||yt.moveEditorInDOM(this)}_setParentAndPosition(yt,Dt,Mt){yt.changeParent(this),this.x=Dt,this.y=Mt,this.fixAndSetPosition()}getRect(yt,Dt){const Mt=this.parentScale,[St,gt]=this.pageDimensions,[mt,xt]=this.pageTranslation,_t=yt/Mt,At=Dt/Mt,Tt=this.x*St,Lt=this.y*gt,Ut=this.width*St,Zt=this.height*gt;switch(this.rotation){case 0:return[Tt+_t+mt,gt-Lt-At-Zt+xt,Tt+_t+Ut+mt,gt-Lt-At+xt];case 90:return[Tt+At+mt,gt-Lt+_t+xt,Tt+At+Zt+mt,gt-Lt+_t+Ut+xt];case 180:return[Tt-_t-Ut+mt,gt-Lt+At+xt,Tt-_t+mt,gt-Lt+At+Zt+xt];case 270:return[Tt-At-Zt+mt,gt-Lt-_t-Ut+xt,Tt-At+mt,gt-Lt-_t+xt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(yt,Dt){const[Mt,St,gt,mt]=yt,xt=gt-Mt,_t=mt-St;switch(this.rotation){case 0:return[Mt,Dt-mt,xt,_t];case 90:return[Mt,Dt-St,_t,xt];case 180:return[gt,Dt-St,xt,_t];case 270:return[gt,Dt-mt,_t,xt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Qt(this,ht,!0)}disableEditMode(){Qt(this,ht,!1)}isInEditMode(){return lt(this,ht)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var yt,Dt;(yt=this.div)==null||yt.addEventListener("focusin",lt(this,it)),(Dt=this.div)==null||Dt.addEventListener("focusout",lt(this,st))}serialize(){(0,d.unreachable)("An editor must be serializable")}static deserialize(yt,Dt,Mt){const St=new this.prototype.constructor({parent:Dt,id:Dt.getNextId(),uiManager:Mt});St.rotation=yt.rotation;const[gt,mt]=St.pageDimensions,[xt,_t,At,Tt]=St.getRectInCurrentCoords(yt.rect,mt);return St.x=xt/gt,St.y=_t/mt,St.width=At/gt,St.height=Tt/mt,St}remove(){var yt;this.div.removeEventListener("focusin",lt(this,it)),this.div.removeEventListener("focusout",lt(this,st)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(yt=lt(this,$))==null||yt.remove(),Qt(this,$,null),Qt(this,_e,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Wt(this,ut,Co).call(this),lt(this,nt).classList.remove("hidden"))}select(){var yt;this.makeResizable(),(yt=this.div)==null||yt.classList.add("selectedEditor")}unselect(){var yt,Dt,Mt;(yt=lt(this,nt))==null||yt.classList.add("hidden"),(Dt=this.div)==null||Dt.classList.remove("selectedEditor"),(Mt=this.div)!=null&&Mt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(yt,Dt){}disableEditing(){lt(this,$)&&(lt(this,$).hidden=!0)}enableEditing(){lt(this,$)&&(lt(this,$).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return lt(this,at)}set isEditing(yt){Qt(this,at,yt),this.parent&&(yt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(yt,Dt){Qt(this,tt,!0);const Mt=yt/Dt,{style:St}=this.div;St.aspectRatio=Mt,St.height="auto"}static get MIN_SIZE(){return 16}};j=new WeakMap,_=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,rt=new WeakMap,at=new WeakMap,ht=new WeakMap,ft=new WeakMap,ot=new WeakMap,ut=new WeakSet,fs=function(yt,Dt,Mt){let[St,gt]=yt;[Dt,Mt]=this.screenToPageTranslation(Dt,Mt),this.x+=Dt/St,this.y+=Mt/gt,this.fixAndSetPosition()},ps=function(){const[yt,Dt]=this.parentDimensions,{_borderLineWidth:Mt}=wt,St=Mt/yt,gt=Mt/Dt;switch(this.rotation){case 90:return[-St,gt];case 180:return[St,gt];case 270:return[St,-gt];default:return[-St,-gt]}},vt=new WeakSet,gs=function(yt,Dt,Mt){switch(Mt){case 90:return[Dt,-yt];case 180:return[-yt,-Dt];case 270:return[-Dt,yt];default:return[yt,Dt]}},ms=function(yt){switch(yt){case 90:{const[Dt,Mt]=this.pageDimensions;return[0,-Dt/Mt,Mt/Dt,0]}case 180:return[-1,0,0,-1];case 270:{const[Dt,Mt]=this.pageDimensions;return[0,Dt/Mt,-Mt/Dt,0]}default:return[1,0,0,1]}},Co=function(){if(lt(this,nt))return;Qt(this,nt,document.createElement("div")),lt(this,nt).classList.add("resizers");const yt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||yt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Dt of yt){const Mt=document.createElement("div");lt(this,nt).append(Mt),Mt.classList.add("resizer",Dt),Mt.addEventListener("pointerdown",Wt(this,ut,Ro).bind(this,Dt)),Mt.addEventListener("contextmenu",h.noContextMenu)}this.div.prepend(lt(this,nt))},Ro=function(yt,Dt){Dt.preventDefault();const{isMac:Mt}=d.FeatureTest.platform;if(Dt.button!==0||Dt.ctrlKey&&Mt)return;const St=Wt(this,ut,_o).bind(this,yt),gt=this._isDraggable;this._isDraggable=!1;const mt={passive:!0,capture:!0};window.addEventListener("pointermove",St,mt);const xt=this.x,_t=this.y,At=this.width,Tt=this.height,Lt=this.parent.div.style.cursor,Ut=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Dt.target).cursor;const Zt=()=>{this._isDraggable=gt,window.removeEventListener("pointerup",Zt),window.removeEventListener("blur",Zt),window.removeEventListener("pointermove",St,mt),this.parent.div.style.cursor=Lt,this.div.style.cursor=Ut;const tr=this.x,lr=this.y,hr=this.width,dr=this.height;tr===xt&&lr===_t&&hr===At&&dr===Tt||this.addCommands({cmd:()=>{this.width=hr,this.height=dr,this.x=tr,this.y=lr;const[Gt,Jt]=this.parentDimensions;this.setDims(Gt*hr,Jt*dr),this.fixAndSetPosition()},undo:()=>{this.width=At,this.height=Tt,this.x=xt,this.y=_t;const[Gt,Jt]=this.parentDimensions;this.setDims(Gt*At,Jt*Tt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Zt),window.addEventListener("blur",Zt)},_o=function(yt,Dt){const[Mt,St]=this.parentDimensions,gt=this.x,mt=this.y,xt=this.width,_t=this.height,At=wt.MIN_SIZE/Mt,Tt=wt.MIN_SIZE/St,Lt=Rr=>Math.round(Rr*1e4)/1e4,Ut=Wt(this,ut,ms).call(this,this.rotation),Zt=(Rr,Tr)=>[Ut[0]*Rr+Ut[2]*Tr,Ut[1]*Rr+Ut[3]*Tr],tr=Wt(this,ut,ms).call(this,360-this.rotation),lr=(Rr,Tr)=>[tr[0]*Rr+tr[2]*Tr,tr[1]*Rr+tr[3]*Tr];let hr,dr,Gt=!1,Jt=!1;switch(yt){case"topLeft":Gt=!0,hr=(Rr,Tr)=>[0,0],dr=(Rr,Tr)=>[Rr,Tr];break;case"topMiddle":hr=(Rr,Tr)=>[Rr/2,0],dr=(Rr,Tr)=>[Rr/2,Tr];break;case"topRight":Gt=!0,hr=(Rr,Tr)=>[Rr,0],dr=(Rr,Tr)=>[0,Tr];break;case"middleRight":Jt=!0,hr=(Rr,Tr)=>[Rr,Tr/2],dr=(Rr,Tr)=>[0,Tr/2];break;case"bottomRight":Gt=!0,hr=(Rr,Tr)=>[Rr,Tr],dr=(Rr,Tr)=>[0,0];break;case"bottomMiddle":hr=(Rr,Tr)=>[Rr/2,Tr],dr=(Rr,Tr)=>[Rr/2,0];break;case"bottomLeft":Gt=!0,hr=(Rr,Tr)=>[0,Tr],dr=(Rr,Tr)=>[Rr,0];break;case"middleLeft":Jt=!0,hr=(Rr,Tr)=>[0,Tr/2],dr=(Rr,Tr)=>[Rr,Tr/2];break}const Rt=hr(xt,_t),Nt=dr(xt,_t);let Ht=Zt(...Nt);const qt=Lt(gt+Ht[0]),ar=Lt(mt+Ht[1]);let vr=1,pr=1,[Vt,br]=this.screenToPageTranslation(Dt.movementX,Dt.movementY);if([Vt,br]=lr(Vt/Mt,br/St),Gt){const Rr=Math.hypot(xt,_t);vr=pr=Math.max(Math.min(Math.hypot(Nt[0]-Rt[0]-Vt,Nt[1]-Rt[1]-br)/Rr,1/xt,1/_t),At/xt,Tt/_t)}else Jt?vr=Math.max(At,Math.min(1,Math.abs(Nt[0]-Rt[0]-Vt)))/xt:pr=Math.max(Tt,Math.min(1,Math.abs(Nt[1]-Rt[1]-br)))/_t;const Er=Lt(xt*vr),Ir=Lt(_t*pr);Ht=Zt(...dr(Er,Ir));const kr=qt-Ht[0],Nr=ar-Ht[1];this.width=Er,this.height=Ir,this.x=kr,this.y=Nr,this.setDims(Mt*Er,St*Ir),this.fixAndSetPosition()},vs=async function(){var Mt;const yt=lt(this,$);if(!yt)return;if(!lt(this,j)&&!lt(this,_)){yt.classList.remove("done"),(Mt=lt(this,_e))==null||Mt.remove();return}wt._l10nPromise.get("editor_alt_text_edit_button_label").then(St=>{yt.setAttribute("aria-label",St)});let Dt=lt(this,_e);if(!Dt){Qt(this,_e,Dt=document.createElement("span")),Dt.className="tooltip",Dt.setAttribute("role","tooltip");const St=Dt.id=`alt-text-tooltip-${this.id}`;yt.setAttribute("aria-describedby",St);const gt=100;yt.addEventListener("mouseenter",()=>{Qt(this,et,setTimeout(()=>{Qt(this,et,null),lt(this,_e).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},gt))}),yt.addEventListener("mouseleave",()=>{var mt;clearTimeout(lt(this,et)),Qt(this,et,null),(mt=lt(this,_e))==null||mt.classList.remove("show")})}yt.classList.add("done"),Dt.innerText=lt(this,_)?await wt._l10nPromise.get("editor_alt_text_decorative_tooltip"):lt(this,j),Dt.parentNode||yt.append(Dt)},To=function(yt){if(!this._isDraggable)return;const Dt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Mt,St;Dt&&(Mt={passive:!0,capture:!0},St=mt=>{const[xt,_t]=this.screenToPageTranslation(mt.movementX,mt.movementY);this._uiManager.dragSelectedEditors(xt,_t)},window.addEventListener("pointermove",St,Mt));const gt=()=>{if(window.removeEventListener("pointerup",gt),window.removeEventListener("blur",gt),Dt&&window.removeEventListener("pointermove",St,Mt),Qt(this,rt,!1),!this._uiManager.endDragSession()){const{isMac:mt}=d.FeatureTest.platform;yt.ctrlKey&&!mt||yt.shiftKey||yt.metaKey&&mt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",gt),window.addEventListener("blur",gt)},$t(wt,vt),Hr(wt,"_borderLineWidth",-1),Hr(wt,"_colorManager",new o.ColorManager),Hr(wt,"_zIndex",1),Hr(wt,"SMALL_EDITOR_SIZE",0);let g=wt;e.AnnotationEditor=g;class b extends g{constructor(yt){super(yt),this.annotationElementId=yt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(s,e,a)=>{var tt,nt,it,st,rt,ys,ft,ot,ut,ct,dt,ko,pt,bt,Ct,Bt,jt,Ft,wt,It,yt,Dt,Mt,St,gt,mt,xt,_t,At,Tt,Lt,Ut,Zt,tr,lr,hr,dr,Gt,Jt,Rt,Nt,Ht,qt,ar,vr,pr,Vt,Fo,xs,bs,Un,Es,Ss,en,bn,Do,Oo,ws,En,As;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=h,e.opacityToHex=g,a(93),a(101),a(102),a(105),a(107),a(109),a(113),a(116),a(123),a(2),a(89),a(125),a(136),a(138),a(141),a(143),a(145),a(147),a(166);var o=a(1),d=a(168);function h(Or,Pt,Xt){for(const xr of Xt)Pt.addEventListener(xr,Or[xr].bind(Or))}function g(Or){return Math.round(Math.min(255,Math.max(1,255*Or))).toString(16).padStart(2,"0")}class b{constructor(){$t(this,tt,0)}getId(){return`${o.AnnotationEditorPrefix}${rn(this,tt)._++}`}}tt=new WeakMap;const ht=class ht{constructor(){$t(this,rt);$t(this,nt,(0,o.getUuid)());$t(this,it,0);$t(this,st,null)}static get _isSVGFittingCanvas(){const Pt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',xr=new OffscreenCanvas(1,3).getContext("2d"),wr=new Image;wr.src=Pt;const Pr=wr.decode().then(()=>(xr.drawImage(wr,0,0,1,1,0,0,1,3),new Uint32Array(xr.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",Pr)}async getFromFile(Pt){const{lastModified:Xt,name:xr,size:wr,type:Pr}=Pt;return Wt(this,rt,ys).call(this,`${Xt}_${xr}_${wr}_${Pr}`,Pt)}async getFromUrl(Pt){return Wt(this,rt,ys).call(this,Pt,Pt)}async getFromId(Pt){lt(this,st)||Qt(this,st,new Map);const Xt=lt(this,st).get(Pt);return Xt?Xt.bitmap?(Xt.refCounter+=1,Xt):Xt.file?this.getFromFile(Xt.file):this.getFromUrl(Xt.url):null}getSvgUrl(Pt){const Xt=lt(this,st).get(Pt);return Xt!=null&&Xt.isSvg?Xt.svgUrl:null}deleteId(Pt){lt(this,st)||Qt(this,st,new Map);const Xt=lt(this,st).get(Pt);Xt&&(Xt.refCounter-=1,Xt.refCounter===0&&(Xt.bitmap=null))}isValidId(Pt){return Pt.startsWith(`image_${lt(this,nt)}_`)}};nt=new WeakMap,it=new WeakMap,st=new WeakMap,rt=new WeakSet,ys=async function(Pt,Xt){lt(this,st)||Qt(this,st,new Map);let xr=lt(this,st).get(Pt);if(xr===null)return null;if(xr!=null&&xr.bitmap)return xr.refCounter+=1,xr;try{xr||(xr={bitmap:null,id:`image_${lt(this,nt)}_${rn(this,it)._++}`,refCounter:0,isSvg:!1});let wr;if(typeof Xt=="string"){xr.url=Xt;const Pr=await fetch(Xt);if(!Pr.ok)throw new Error(Pr.statusText);wr=await Pr.blob()}else wr=xr.file=Xt;if(wr.type==="image/svg+xml"){const Pr=ht._isSVGFittingCanvas,Sr=new FileReader,Ot=new Image,kt=new Promise((zt,Kt)=>{Ot.onload=()=>{xr.bitmap=Ot,xr.isSvg=!0,zt()},Sr.onload=async()=>{const nr=xr.svgUrl=Sr.result;Ot.src=await Pr?`${nr}#svgView(preserveAspectRatio(none))`:nr},Ot.onerror=Sr.onerror=Kt});Sr.readAsDataURL(wr),await kt}else xr.bitmap=await createImageBitmap(wr);xr.refCounter=1}catch(wr){console.error(wr),xr=null}return lt(this,st).set(Pt,xr),xr&&lt(this,st).set(xr.id,xr),xr};let j=ht;class _{constructor(){$t(this,ft,[]);$t(this,ot,!1);$t(this,ut);$t(this,ct,-1);let Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;Qt(this,ut,Pt)}add(Pt){let{cmd:Xt,undo:xr,mustExec:wr,type:Pr=NaN,overwriteIfSameType:Sr=!1,keepUndo:Ot=!1}=Pt;if(wr&&Xt(),lt(this,ot))return;const kt={cmd:Xt,undo:xr,type:Pr};if(lt(this,ct)===-1){lt(this,ft).length>0&&(lt(this,ft).length=0),Qt(this,ct,0),lt(this,ft).push(kt);return}if(Sr&&lt(this,ft)[lt(this,ct)].type===Pr){Ot&&(kt.undo=lt(this,ft)[lt(this,ct)].undo),lt(this,ft)[lt(this,ct)]=kt;return}const zt=lt(this,ct)+1;zt===lt(this,ut)?lt(this,ft).splice(0,1):(Qt(this,ct,zt),zt<lt(this,ft).length&&lt(this,ft).splice(zt)),lt(this,ft).push(kt)}undo(){lt(this,ct)!==-1&&(Qt(this,ot,!0),lt(this,ft)[lt(this,ct)].undo(),Qt(this,ot,!1),Qt(this,ct,lt(this,ct)-1))}redo(){lt(this,ct)<lt(this,ft).length-1&&(Qt(this,ct,lt(this,ct)+1),Qt(this,ot,!0),lt(this,ft)[lt(this,ct)].cmd(),Qt(this,ot,!1))}hasSomethingToUndo(){return lt(this,ct)!==-1}hasSomethingToRedo(){return lt(this,ct)<lt(this,ft).length-1}destroy(){Qt(this,ft,null)}}ft=new WeakMap,ot=new WeakMap,ut=new WeakMap,ct=new WeakMap,e.CommandManager=_;class ${constructor(Pt){$t(this,dt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Xt}=o.FeatureTest.platform;for(const[xr,wr,Pr={}]of Pt)for(const Sr of xr){const Ot=Sr.startsWith("mac+");Xt&&Ot?(this.callbacks.set(Sr.slice(4),{callback:wr,options:Pr}),this.allKeys.add(Sr.split("+").at(-1))):!Xt&&!Ot&&(this.callbacks.set(Sr,{callback:wr,options:Pr}),this.allKeys.add(Sr.split("+").at(-1)))}}exec(Pt,Xt){if(!this.allKeys.has(Xt.key))return;const xr=this.callbacks.get(Wt(this,dt,ko).call(this,Xt));if(!xr)return;const{callback:wr,options:{bubbles:Pr=!1,args:Sr=[],checker:Ot=null}}=xr;Ot&&!Ot(Pt,Xt)||(wr.bind(Pt,...Sr)(),Pr||(Xt.stopPropagation(),Xt.preventDefault()))}}dt=new WeakSet,ko=function(Pt){Pt.altKey&&this.buffer.push("alt"),Pt.ctrlKey&&this.buffer.push("ctrl"),Pt.metaKey&&this.buffer.push("meta"),Pt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Pt.key);const Xt=this.buffer.join("+");return this.buffer.length=0,Xt},e.KeyboardManager=$;const Et=class Et{get _colors(){const Pt=new Map([["CanvasText",null],["Canvas",null]]);return(0,d.getColorValues)(Pt),(0,o.shadow)(this,"_colors",Pt)}convert(Pt){const Xt=(0,d.getRGB)(Pt);if(!window.matchMedia("(forced-colors: active)").matches)return Xt;for(const[xr,wr]of this._colors)if(wr.every((Pr,Sr)=>Pr===Xt[Sr]))return Et._colorsMapping.get(xr);return Xt}getHexCode(Pt){const Xt=this._colors.get(Pt);return Xt?o.Util.makeHexColor(...Xt):Pt}};Hr(Et,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _e=Et;e.ColorManager=_e;const Dr=class Dr{constructor(Pt,Xt,xr,wr,Pr,Sr){$t(this,Vt);$t(this,pt,null);$t(this,bt,new Map);$t(this,Ct,new Map);$t(this,Bt,null);$t(this,jt,null);$t(this,Ft,new _);$t(this,wt,0);$t(this,It,new Set);$t(this,yt,null);$t(this,Dt,null);$t(this,Mt,new Set);$t(this,St,null);$t(this,gt,new b);$t(this,mt,!1);$t(this,xt,!1);$t(this,_t,null);$t(this,At,o.AnnotationEditorType.NONE);$t(this,Tt,new Set);$t(this,Lt,null);$t(this,Ut,this.blur.bind(this));$t(this,Zt,this.focus.bind(this));$t(this,tr,this.copy.bind(this));$t(this,lr,this.cut.bind(this));$t(this,hr,this.paste.bind(this));$t(this,dr,this.keydown.bind(this));$t(this,Gt,this.onEditingAction.bind(this));$t(this,Jt,this.onPageChanging.bind(this));$t(this,Rt,this.onScaleChanging.bind(this));$t(this,Nt,this.onRotationChanging.bind(this));$t(this,Ht,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});$t(this,qt,[0,0]);$t(this,ar,null);$t(this,vr,null);$t(this,pr,null);Qt(this,vr,Pt),Qt(this,pr,Xt),Qt(this,Bt,xr),this._eventBus=wr,this._eventBus._on("editingaction",lt(this,Gt)),this._eventBus._on("pagechanging",lt(this,Jt)),this._eventBus._on("scalechanging",lt(this,Rt)),this._eventBus._on("rotationchanging",lt(this,Nt)),Qt(this,jt,Pr.annotationStorage),Qt(this,St,Pr.filterFactory),Qt(this,Lt,Sr),this.viewParameters={realScale:d.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Pt=Dr.prototype,Xt=Pr=>{const{activeElement:Sr}=document;return Sr&&lt(Pr,vr).contains(Sr)&&Pr.hasSomethingToControl()},xr=this.TRANSLATE_SMALL,wr=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new $([[["ctrl+a","mac+meta+a"],Pt.selectAll],[["ctrl+z","mac+meta+z"],Pt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Pt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Pt.delete],[["Escape","mac+Escape"],Pt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Pt.translateSelectedEditors,{args:[-xr,0],checker:Xt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Pt.translateSelectedEditors,{args:[-wr,0],checker:Xt}],[["ArrowRight","mac+ArrowRight"],Pt.translateSelectedEditors,{args:[xr,0],checker:Xt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Pt.translateSelectedEditors,{args:[wr,0],checker:Xt}],[["ArrowUp","mac+ArrowUp"],Pt.translateSelectedEditors,{args:[0,-xr],checker:Xt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Pt.translateSelectedEditors,{args:[0,-wr],checker:Xt}],[["ArrowDown","mac+ArrowDown"],Pt.translateSelectedEditors,{args:[0,xr],checker:Xt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Pt.translateSelectedEditors,{args:[0,wr],checker:Xt}]]))}destroy(){Wt(this,Vt,Un).call(this),Wt(this,Vt,xs).call(this),this._eventBus._off("editingaction",lt(this,Gt)),this._eventBus._off("pagechanging",lt(this,Jt)),this._eventBus._off("scalechanging",lt(this,Rt)),this._eventBus._off("rotationchanging",lt(this,Nt));for(const Pt of lt(this,Ct).values())Pt.destroy();lt(this,Ct).clear(),lt(this,bt).clear(),lt(this,Mt).clear(),Qt(this,pt,null),lt(this,Tt).clear(),lt(this,Ft).destroy(),lt(this,Bt).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",lt(this,Lt)?lt(this,St).addHCMFilter(lt(this,Lt).foreground,lt(this,Lt).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(lt(this,vr)).direction)}editAltText(Pt){var Xt;(Xt=lt(this,Bt))==null||Xt.editAltText(this,Pt)}onPageChanging(Pt){let{pageNumber:Xt}=Pt;Qt(this,wt,Xt-1)}focusMainContainer(){lt(this,vr).focus()}findParent(Pt,Xt){for(const xr of lt(this,Ct).values()){const{x:wr,y:Pr,width:Sr,height:Ot}=xr.div.getBoundingClientRect();if(Pt>=wr&&Pt<=wr+Sr&&Xt>=Pr&&Xt<=Pr+Ot)return xr}return null}disableUserSelect(){let Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;lt(this,pr).classList.toggle("noUserSelect",Pt)}addShouldRescale(Pt){lt(this,Mt).add(Pt)}removeShouldRescale(Pt){lt(this,Mt).delete(Pt)}onScaleChanging(Pt){let{scale:Xt}=Pt;this.commitOrRemove(),this.viewParameters.realScale=Xt*d.PixelsPerInch.PDF_TO_CSS_UNITS;for(const xr of lt(this,Mt))xr.onScaleChanging()}onRotationChanging(Pt){let{pagesRotation:Xt}=Pt;this.commitOrRemove(),this.viewParameters.rotation=Xt}addToAnnotationStorage(Pt){!Pt.isEmpty()&&lt(this,jt)&&!lt(this,jt).has(Pt.id)&&lt(this,jt).setValue(Pt.id,Pt)}blur(){if(!this.hasSelection)return;const{activeElement:Pt}=document;for(const Xt of lt(this,Tt))if(Xt.div.contains(Pt)){Qt(this,_t,[Xt,Pt]),Xt._focusEventsAllowed=!1;break}}focus(){if(!lt(this,_t))return;const[Pt,Xt]=lt(this,_t);Qt(this,_t,null),Xt.addEventListener("focusin",()=>{Pt._focusEventsAllowed=!0},{once:!0}),Xt.focus()}addEditListeners(){Wt(this,Vt,bs).call(this),Wt(this,Vt,Es).call(this)}removeEditListeners(){Wt(this,Vt,Un).call(this),Wt(this,Vt,Ss).call(this)}copy(Pt){var xr;if(Pt.preventDefault(),(xr=lt(this,pt))==null||xr.commitOrRemove(),!this.hasSelection)return;const Xt=[];for(const wr of lt(this,Tt)){const Pr=wr.serialize(!0);Pr&&Xt.push(Pr)}Xt.length!==0&&Pt.clipboardData.setData("application/pdfjs",JSON.stringify(Xt))}cut(Pt){this.copy(Pt),this.delete()}paste(Pt){Pt.preventDefault();const{clipboardData:Xt}=Pt;for(const Pr of Xt.items)for(const Sr of lt(this,Dt))if(Sr.isHandlingMimeForPasting(Pr.type)){Sr.paste(Pr,this.currentLayer);return}let xr=Xt.getData("application/pdfjs");if(!xr)return;try{xr=JSON.parse(xr)}catch(Pr){(0,o.warn)(`paste: "${Pr.message}".`);return}if(!Array.isArray(xr))return;this.unselectAll();const wr=this.currentLayer;try{const Pr=[];for(const kt of xr){const zt=wr.deserialize(kt);if(!zt)return;Pr.push(zt)}const Sr=()=>{for(const kt of Pr)Wt(this,Vt,ws).call(this,kt);Wt(this,Vt,As).call(this,Pr)},Ot=()=>{for(const kt of Pr)kt.remove()};this.addCommands({cmd:Sr,undo:Ot,mustExec:!0})}catch(Pr){(0,o.warn)(`paste: "${Pr.message}".`)}}keydown(Pt){var Xt;(Xt=this.getActive())!=null&&Xt.shouldGetKeyboardEvents()||Dr._keyboardManager.exec(this,Pt)}onEditingAction(Pt){["undo","redo","delete","selectAll"].includes(Pt.name)&&this[Pt.name]()}setEditingState(Pt){Pt?(Wt(this,Vt,Fo).call(this),Wt(this,Vt,bs).call(this),Wt(this,Vt,Es).call(this),Wt(this,Vt,en).call(this,{isEditing:lt(this,At)!==o.AnnotationEditorType.NONE,isEmpty:Wt(this,Vt,En).call(this),hasSomethingToUndo:lt(this,Ft).hasSomethingToUndo(),hasSomethingToRedo:lt(this,Ft).hasSomethingToRedo(),hasSelectedEditor:!1})):(Wt(this,Vt,xs).call(this),Wt(this,Vt,Un).call(this),Wt(this,Vt,Ss).call(this),Wt(this,Vt,en).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Pt){if(!lt(this,Dt)){Qt(this,Dt,Pt);for(const Xt of lt(this,Dt))Wt(this,Vt,bn).call(this,Xt.defaultPropertiesToUpdate)}}getId(){return lt(this,gt).getId()}get currentLayer(){return lt(this,Ct).get(lt(this,wt))}getLayer(Pt){return lt(this,Ct).get(Pt)}get currentPageIndex(){return lt(this,wt)}addLayer(Pt){lt(this,Ct).set(Pt.pageIndex,Pt),lt(this,mt)?Pt.enable():Pt.disable()}removeLayer(Pt){lt(this,Ct).delete(Pt.pageIndex)}updateMode(Pt){let Xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(lt(this,At)!==Pt){if(Qt(this,At,Pt),Pt===o.AnnotationEditorType.NONE){this.setEditingState(!1),Wt(this,Vt,Oo).call(this);return}this.setEditingState(!0),Wt(this,Vt,Do).call(this),this.unselectAll();for(const xr of lt(this,Ct).values())xr.updateMode(Pt);if(Xt){for(const xr of lt(this,bt).values())if(xr.annotationElementId===Xt){this.setSelected(xr),xr.enterInEditMode();break}}}}updateToolbar(Pt){Pt!==lt(this,At)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Pt})}updateParams(Pt,Xt){if(lt(this,Dt)){if(Pt===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Pt);return}for(const xr of lt(this,Tt))xr.updateParams(Pt,Xt);for(const xr of lt(this,Dt))xr.updateDefaultParams(Pt,Xt)}}enableWaiting(){let Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(lt(this,xt)!==Pt){Qt(this,xt,Pt);for(const Xt of lt(this,Ct).values())Pt?Xt.disableClick():Xt.enableClick(),Xt.div.classList.toggle("waiting",Pt)}}getEditors(Pt){const Xt=[];for(const xr of lt(this,bt).values())xr.pageIndex===Pt&&Xt.push(xr);return Xt}getEditor(Pt){return lt(this,bt).get(Pt)}addEditor(Pt){lt(this,bt).set(Pt.id,Pt)}removeEditor(Pt){var Xt;lt(this,bt).delete(Pt.id),this.unselect(Pt),(!Pt.annotationElementId||!lt(this,It).has(Pt.annotationElementId))&&((Xt=lt(this,jt))==null||Xt.remove(Pt.id))}addDeletedAnnotationElement(Pt){lt(this,It).add(Pt.annotationElementId),Pt.deleted=!0}isDeletedAnnotationElement(Pt){return lt(this,It).has(Pt)}removeDeletedAnnotationElement(Pt){lt(this,It).delete(Pt.annotationElementId),Pt.deleted=!1}setActiveEditor(Pt){lt(this,pt)!==Pt&&(Qt(this,pt,Pt),Pt&&Wt(this,Vt,bn).call(this,Pt.propertiesToUpdate))}toggleSelected(Pt){if(lt(this,Tt).has(Pt)){lt(this,Tt).delete(Pt),Pt.unselect(),Wt(this,Vt,en).call(this,{hasSelectedEditor:this.hasSelection});return}lt(this,Tt).add(Pt),Pt.select(),Wt(this,Vt,bn).call(this,Pt.propertiesToUpdate),Wt(this,Vt,en).call(this,{hasSelectedEditor:!0})}setSelected(Pt){for(const Xt of lt(this,Tt))Xt!==Pt&&Xt.unselect();lt(this,Tt).clear(),lt(this,Tt).add(Pt),Pt.select(),Wt(this,Vt,bn).call(this,Pt.propertiesToUpdate),Wt(this,Vt,en).call(this,{hasSelectedEditor:!0})}isSelected(Pt){return lt(this,Tt).has(Pt)}unselect(Pt){Pt.unselect(),lt(this,Tt).delete(Pt),Wt(this,Vt,en).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return lt(this,Tt).size!==0}undo(){lt(this,Ft).undo(),Wt(this,Vt,en).call(this,{hasSomethingToUndo:lt(this,Ft).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Wt(this,Vt,En).call(this)})}redo(){lt(this,Ft).redo(),Wt(this,Vt,en).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:lt(this,Ft).hasSomethingToRedo(),isEmpty:Wt(this,Vt,En).call(this)})}addCommands(Pt){lt(this,Ft).add(Pt),Wt(this,Vt,en).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Wt(this,Vt,En).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Pt=[...lt(this,Tt)],Xt=()=>{for(const wr of Pt)wr.remove()},xr=()=>{for(const wr of Pt)Wt(this,Vt,ws).call(this,wr)};this.addCommands({cmd:Xt,undo:xr,mustExec:!0})}commitOrRemove(){var Pt;(Pt=lt(this,pt))==null||Pt.commitOrRemove()}hasSomethingToControl(){return lt(this,pt)||this.hasSelection}selectAll(){for(const Pt of lt(this,Tt))Pt.commit();Wt(this,Vt,As).call(this,lt(this,bt).values())}unselectAll(){if(lt(this,pt)){lt(this,pt).commitOrRemove();return}if(this.hasSelection){for(const Pt of lt(this,Tt))Pt.unselect();lt(this,Tt).clear(),Wt(this,Vt,en).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Pt,Xt){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1)||this.commitOrRemove(),!this.hasSelection)return;lt(this,qt)[0]+=Pt,lt(this,qt)[1]+=Xt;const[wr,Pr]=lt(this,qt),Sr=[...lt(this,Tt)],Ot=1e3;lt(this,ar)&&clearTimeout(lt(this,ar)),Qt(this,ar,setTimeout(()=>{Qt(this,ar,null),lt(this,qt)[0]=lt(this,qt)[1]=0,this.addCommands({cmd:()=>{for(const kt of Sr)lt(this,bt).has(kt.id)&&kt.translateInPage(wr,Pr)},undo:()=>{for(const kt of Sr)lt(this,bt).has(kt.id)&&kt.translateInPage(-wr,-Pr)},mustExec:!1})},Ot));for(const kt of Sr)kt.translateInPage(Pt,Xt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Qt(this,yt,new Map);for(const Pt of lt(this,Tt))lt(this,yt).set(Pt,{savedX:Pt.x,savedY:Pt.y,savedPageIndex:Pt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!lt(this,yt))return!1;this.disableUserSelect(!1);const Pt=lt(this,yt);Qt(this,yt,null);let Xt=!1;for(const[{x:wr,y:Pr,pageIndex:Sr},Ot]of Pt)Ot.newX=wr,Ot.newY=Pr,Ot.newPageIndex=Sr,Xt||(Xt=wr!==Ot.savedX||Pr!==Ot.savedY||Sr!==Ot.savedPageIndex);if(!Xt)return!1;const xr=(wr,Pr,Sr,Ot)=>{if(lt(this,bt).has(wr.id)){const kt=lt(this,Ct).get(Ot);kt?wr._setParentAndPosition(kt,Pr,Sr):(wr.pageIndex=Ot,wr.x=Pr,wr.y=Sr)}};return this.addCommands({cmd:()=>{for(const[wr,{newX:Pr,newY:Sr,newPageIndex:Ot}]of Pt)xr(wr,Pr,Sr,Ot)},undo:()=>{for(const[wr,{savedX:Pr,savedY:Sr,savedPageIndex:Ot}]of Pt)xr(wr,Pr,Sr,Ot)},mustExec:!0}),!0}dragSelectedEditors(Pt,Xt){if(lt(this,yt))for(const xr of lt(this,yt).keys())xr.drag(Pt,Xt)}rebuild(Pt){if(Pt.parent===null){const Xt=this.getLayer(Pt.pageIndex);Xt?(Xt.changeParent(Pt),Xt.addOrRebuild(Pt)):(this.addEditor(Pt),this.addToAnnotationStorage(Pt),Pt.rebuild())}else Pt.parent.addOrRebuild(Pt)}isActive(Pt){return lt(this,pt)===Pt}getActive(){return lt(this,pt)}getMode(){return lt(this,At)}get imageManager(){return(0,o.shadow)(this,"imageManager",new j)}};pt=new WeakMap,bt=new WeakMap,Ct=new WeakMap,Bt=new WeakMap,jt=new WeakMap,Ft=new WeakMap,wt=new WeakMap,It=new WeakMap,yt=new WeakMap,Dt=new WeakMap,Mt=new WeakMap,St=new WeakMap,gt=new WeakMap,mt=new WeakMap,xt=new WeakMap,_t=new WeakMap,At=new WeakMap,Tt=new WeakMap,Lt=new WeakMap,Ut=new WeakMap,Zt=new WeakMap,tr=new WeakMap,lr=new WeakMap,hr=new WeakMap,dr=new WeakMap,Gt=new WeakMap,Jt=new WeakMap,Rt=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,qt=new WeakMap,ar=new WeakMap,vr=new WeakMap,pr=new WeakMap,Vt=new WeakSet,Fo=function(){window.addEventListener("focus",lt(this,Zt)),window.addEventListener("blur",lt(this,Ut))},xs=function(){window.removeEventListener("focus",lt(this,Zt)),window.removeEventListener("blur",lt(this,Ut))},bs=function(){window.addEventListener("keydown",lt(this,dr),{capture:!0})},Un=function(){window.removeEventListener("keydown",lt(this,dr),{capture:!0})},Es=function(){document.addEventListener("copy",lt(this,tr)),document.addEventListener("cut",lt(this,lr)),document.addEventListener("paste",lt(this,hr))},Ss=function(){document.removeEventListener("copy",lt(this,tr)),document.removeEventListener("cut",lt(this,lr)),document.removeEventListener("paste",lt(this,hr))},en=function(Pt){Object.entries(Pt).some(xr=>{let[wr,Pr]=xr;return lt(this,Ht)[wr]!==Pr})&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(lt(this,Ht),Pt)})},bn=function(Pt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Pt})},Do=function(){if(!lt(this,mt)){Qt(this,mt,!0);for(const Pt of lt(this,Ct).values())Pt.enable()}},Oo=function(){if(this.unselectAll(),lt(this,mt)){Qt(this,mt,!1);for(const Pt of lt(this,Ct).values())Pt.disable()}},ws=function(Pt){const Xt=lt(this,Ct).get(Pt.pageIndex);Xt?Xt.addOrRebuild(Pt):this.addEditor(Pt)},En=function(){if(lt(this,bt).size===0)return!0;if(lt(this,bt).size===1)for(const Pt of lt(this,bt).values())return Pt.isEmpty();return!1},As=function(Pt){lt(this,Tt).clear();for(const Xt of Pt)Xt.isEmpty()||(lt(this,Tt).add(Xt),Xt.select());Wt(this,Vt,en).call(this,{hasSelectedEditor:!0})},Hr(Dr,"TRANSLATE_SMALL",1),Hr(Dr,"TRANSLATE_BIG",10);let et=Dr;e.AnnotationEditorUIManager=et},(s,e,a)=>{var o=a(3),d=a(6),h=a(4),g=a(24),b=a(14),j=a(8),_=a(21),$=a(20),_e=a(91),et=a(39),tt=a(77),nt=a(64),it=a(159),st=a(7),rt=a(167),at=a(27),ht=h.JSON,ft=h.Number,ot=h.SyntaxError,ut=ht&&ht.parse,ct=g("Object","keys"),dt=Object.getOwnPropertyDescriptor,vt=b("".charAt),Et=b("".slice),pt=b(/./.exec),bt=b([].push),Ct=/^\d$/,Bt=/^[1-9]$/,jt=/^(?:-|\d)$/,Ft=/^[\t\n\r ]$/,wt=0,It=1,yt=function(_t,At){_t=tt(_t);var Tt=new gt(_t,0),Lt=Tt.parse(),Ut=Lt.value,Zt=Tt.skip(Ft,Lt.end);if(Zt<_t.length)throw ot('Unexpected extra character: "'+vt(_t,Zt)+'" after the parsed data at: '+Zt);return _(At)?Dt({"":Ut},"",At,Lt):Ut},Dt=function(_t,At,Tt,Lt){var Ut=_t[At],Zt=Lt&&Ut===Lt.value,tr=Zt&&typeof Lt.source=="string"?{source:Lt.source}:{},lr,hr,dr,Gt,Jt;if($(Ut)){var Rt=_e(Ut),Nt=Zt?Lt.nodes:Rt?[]:{};if(Rt)for(lr=Nt.length,dr=nt(Ut),Gt=0;Gt<dr;Gt++)Mt(Ut,Gt,Dt(Ut,""+Gt,Tt,Gt<lr?Nt[Gt]:void 0));else for(hr=ct(Ut),dr=nt(hr),Gt=0;Gt<dr;Gt++)Jt=hr[Gt],Mt(Ut,Jt,Dt(Ut,Jt,Tt,et(Nt,Jt)?Nt[Jt]:void 0))}return j(Tt,_t,At,Ut,tr)},Mt=function(_t,At,Tt){if(d){var Lt=dt(_t,At);if(Lt&&!Lt.configurable)return}Tt===void 0?delete _t[At]:it(_t,At,Tt)},St=function(_t,At,Tt,Lt){this.value=_t,this.end=At,this.source=Tt,this.nodes=Lt},gt=function(_t,At){this.source=_t,this.index=At};gt.prototype={fork:function(_t){return new gt(this.source,_t)},parse:function(){var _t=this.source,At=this.skip(Ft,this.index),Tt=this.fork(At),Lt=vt(_t,At);if(pt(jt,Lt))return Tt.number();switch(Lt){case"{":return Tt.object();case"[":return Tt.array();case'"':return Tt.string();case"t":return Tt.keyword(!0);case"f":return Tt.keyword(!1);case"n":return Tt.keyword(null)}throw ot('Unexpected character: "'+Lt+'" at: '+At)},node:function(_t,At,Tt,Lt,Ut){return new St(At,Lt,_t?null:Et(this.source,Tt,Lt),Ut)},object:function(){for(var _t=this.source,At=this.index+1,Tt=!1,Lt={},Ut={};At<_t.length;){if(At=this.until(['"',"}"],At),vt(_t,At)==="}"&&!Tt){At++;break}var Zt=this.fork(At).string(),tr=Zt.value;At=Zt.end,At=this.until([":"],At)+1,At=this.skip(Ft,At),Zt=this.fork(At).parse(),it(Ut,tr,Zt),it(Lt,tr,Zt.value),At=this.until([",","}"],Zt.end);var lr=vt(_t,At);if(lr===",")Tt=!0,At++;else if(lr==="}"){At++;break}}return this.node(It,Lt,this.index,At,Ut)},array:function(){for(var _t=this.source,At=this.index+1,Tt=!1,Lt=[],Ut=[];At<_t.length;){if(At=this.skip(Ft,At),vt(_t,At)==="]"&&!Tt){At++;break}var Zt=this.fork(At).parse();if(bt(Ut,Zt),bt(Lt,Zt.value),At=this.until([",","]"],Zt.end),vt(_t,At)===",")Tt=!0,At++;else if(vt(_t,At)==="]"){At++;break}}return this.node(It,Lt,this.index,At,Ut)},string:function(){var _t=this.index,At=rt(this.source,this.index+1);return this.node(wt,At.value,_t,At.end)},number:function(){var _t=this.source,At=this.index,Tt=At;if(vt(_t,Tt)==="-"&&Tt++,vt(_t,Tt)==="0")Tt++;else if(pt(Bt,vt(_t,Tt)))Tt=this.skip(Ct,++Tt);else throw ot("Failed to parse number at: "+Tt);if(vt(_t,Tt)==="."&&(Tt=this.skip(Ct,++Tt)),vt(_t,Tt)==="e"||vt(_t,Tt)==="E"){Tt++,(vt(_t,Tt)==="+"||vt(_t,Tt)==="-")&&Tt++;var Lt=Tt;if(Tt=this.skip(Ct,Tt),Lt===Tt)throw ot("Failed to parse number's exponent value at: "+Tt)}return this.node(wt,ft(Et(_t,At,Tt)),At,Tt)},keyword:function(_t){var At=""+_t,Tt=this.index,Lt=Tt+At.length;if(Et(this.source,Tt,Lt)!==At)throw ot("Failed to parse value at: "+Tt);return this.node(wt,_t,Tt,Lt)},skip:function(_t,At){for(var Tt=this.source;At<Tt.length&&pt(_t,vt(Tt,At));At++);return At},until:function(_t,At){At=this.skip(Ft,At);for(var Tt=vt(this.source,At),Lt=0;Lt<_t.length;Lt++)if(_t[Lt]===Tt)return At;throw ot('Unexpected character: "'+Tt+'" at: '+At)}};var mt=st(function(){var _t="9007199254740993",At;return ut(_t,function(Tt,Lt,Ut){At=Ut.source}),At!==_t}),xt=at&&!st(function(){return 1/ut("-0 	")!==-1/0});o({target:"JSON",stat:!0,forced:mt},{parse:function(At,Tt){return xt&&!_(Tt)?ut(At):yt(At,Tt)}})},(s,e,a)=>{var o=a(14),d=a(39),h=SyntaxError,g=parseInt,b=String.fromCharCode,j=o("".charAt),_=o("".slice),$=o(/./.exec),_e={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},et=/^[\da-f]{4}$/i,tt=/^[\u0000-\u001F]$/;s.exports=function(nt,it){for(var st=!0,rt="";it<nt.length;){var at=j(nt,it);if(at==="\\"){var ht=_(nt,it,it+2);if(d(_e,ht))rt+=_e[ht],it+=2;else if(ht==="\\u"){it+=2;var ft=_(nt,it,it+4);if(!$(et,ft))throw h("Bad Unicode escape at: "+it);rt+=b(g(ft,16)),it+=4}else throw h('Unknown escape sequence: "'+ht+'"')}else if(at==='"'){st=!1,it++;break}else{if($(tt,at))throw h("Bad control character in string literal at: "+it);rt+=at,it++}}if(st)throw h("Unterminated string at: "+it);return{value:rt,end:it}}},(s,e,a)=>{var wt,It,yt,Dt,Mt,St,gt,mt,xt,_t,At,Tt,un,dn,Ps,Bn,zn,Sn,wn;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=ct,e.getColorValues=bt,e.getCurrentTransform=Ct,e.getCurrentTransformInverse=Bt,e.getFilenameFromUrl=rt,e.getPdfFilenameFromUrl=at,e.getRGB=pt,e.getXfaPageViewport=Et,e.isDataScheme=it,e.isPdfFile=st,e.isValidFetchUrl=ft,e.loadScript=ut,e.noContextMenu=ot,e.setLayerDimensions=jt,a(2),a(93),a(101),a(102),a(105),a(107),a(109),a(113),a(116),a(123),a(89),a(84),a(86),a(87);var o=a(169),d=a(1);const h="http://www.w3.org/2000/svg",Ft=class Ft{};Hr(Ft,"CSS",96),Hr(Ft,"PDF",72),Hr(Ft,"PDF_TO_CSS_UNITS",Ft.CSS/Ft.PDF);let g=Ft;e.PixelsPerInch=g;class b extends o.BaseFilterFactory{constructor(){let{docId:Rt,ownerDocument:Nt=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super();$t(this,Tt);$t(this,wt);$t(this,It);$t(this,yt);$t(this,Dt);$t(this,Mt);$t(this,St);$t(this,gt);$t(this,mt);$t(this,xt);$t(this,_t);$t(this,At,0);Qt(this,yt,Rt),Qt(this,Dt,Nt)}addFilter(Rt){if(!Rt)return"none";let Nt=lt(this,Tt,un).get(Rt);if(Nt)return Nt;let Ht,qt,ar,vr;if(Rt.length===1){const Er=Rt[0],Ir=new Array(256);for(let kr=0;kr<256;kr++)Ir[kr]=Er[kr]/255;vr=Ht=qt=ar=Ir.join(",")}else{const[Er,Ir,kr]=Rt,Nr=new Array(256),Rr=new Array(256),Tr=new Array(256);for(let Mr=0;Mr<256;Mr++)Nr[Mr]=Er[Mr]/255,Rr[Mr]=Ir[Mr]/255,Tr[Mr]=kr[Mr]/255;Ht=Nr.join(","),qt=Rr.join(","),ar=Tr.join(","),vr=`${Ht}${qt}${ar}`}if(Nt=lt(this,Tt,un).get(vr),Nt)return lt(this,Tt,un).set(Rt,Nt),Nt;const pr=`g_${lt(this,yt)}_transfer_map_${rn(this,At)._++}`,Vt=`url(#${pr})`;lt(this,Tt,un).set(Rt,Vt),lt(this,Tt,un).set(vr,Vt);const br=Wt(this,Tt,Bn).call(this,pr);return Wt(this,Tt,Sn).call(this,Ht,qt,ar,br),Vt}addHCMFilter(Rt,Nt){var Ir;const Ht=`${Rt}-${Nt}`;if(lt(this,St)===Ht)return lt(this,gt);if(Qt(this,St,Ht),Qt(this,gt,"none"),(Ir=lt(this,Mt))==null||Ir.remove(),!Rt||!Nt)return lt(this,gt);const qt=Wt(this,Tt,wn).call(this,Rt);Rt=d.Util.makeHexColor(...qt);const ar=Wt(this,Tt,wn).call(this,Nt);if(Nt=d.Util.makeHexColor(...ar),lt(this,Tt,dn).style.color="",Rt==="#000000"&&Nt==="#ffffff"||Rt===Nt)return lt(this,gt);const vr=new Array(256);for(let kr=0;kr<=255;kr++){const Nr=kr/255;vr[kr]=Nr<=.03928?Nr/12.92:((Nr+.055)/1.055)**2.4}const pr=vr.join(","),Vt=`g_${lt(this,yt)}_hcm_filter`,br=Qt(this,mt,Wt(this,Tt,Bn).call(this,Vt));Wt(this,Tt,Sn).call(this,pr,pr,pr,br),Wt(this,Tt,Ps).call(this,br);const Er=(kr,Nr)=>{const Rr=qt[kr]/255,Tr=ar[kr]/255,Mr=new Array(Nr+1);for(let Ur=0;Ur<=Nr;Ur++)Mr[Ur]=Rr+Ur/Nr*(Tr-Rr);return Mr.join(",")};return Wt(this,Tt,Sn).call(this,Er(0,5),Er(1,5),Er(2,5),br),Qt(this,gt,`url(#${Vt})`),lt(this,gt)}addHighlightHCMFilter(Rt,Nt,Ht,qt){var Tr;const ar=`${Rt}-${Nt}-${Ht}-${qt}`;if(lt(this,xt)===ar)return lt(this,_t);if(Qt(this,xt,ar),Qt(this,_t,"none"),(Tr=lt(this,mt))==null||Tr.remove(),!Rt||!Nt)return lt(this,_t);const[vr,pr]=[Rt,Nt].map(Wt(this,Tt,wn).bind(this));let Vt=Math.round(.2126*vr[0]+.7152*vr[1]+.0722*vr[2]),br=Math.round(.2126*pr[0]+.7152*pr[1]+.0722*pr[2]),[Er,Ir]=[Ht,qt].map(Wt(this,Tt,wn).bind(this));br<Vt&&([Vt,br,Er,Ir]=[br,Vt,Ir,Er]),lt(this,Tt,dn).style.color="";const kr=(Mr,Ur,Cr)=>{const or=new Array(256),Yt=(br-Vt)/Cr,fr=Mr/255,Dr=(Ur-Mr)/(255*Cr);let Or=0;for(let Pt=0;Pt<=Cr;Pt++){const Xt=Math.round(Vt+Pt*Yt),xr=fr+Pt*Dr;for(let wr=Or;wr<=Xt;wr++)or[wr]=xr;Or=Xt+1}for(let Pt=Or;Pt<256;Pt++)or[Pt]=or[Or-1];return or.join(",")},Nr=`g_${lt(this,yt)}_hcm_highlight_filter`,Rr=Qt(this,mt,Wt(this,Tt,Bn).call(this,Nr));return Wt(this,Tt,Ps).call(this,Rr),Wt(this,Tt,Sn).call(this,kr(Er[0],Ir[0],5),kr(Er[1],Ir[1],5),kr(Er[2],Ir[2],5),Rr),Qt(this,_t,`url(#${Nr})`),lt(this,_t)}destroy(){arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&(lt(this,gt)||lt(this,_t))||(lt(this,It)&&(lt(this,It).parentNode.parentNode.remove(),Qt(this,It,null)),lt(this,wt)&&(lt(this,wt).clear(),Qt(this,wt,null)),Qt(this,At,0))}}wt=new WeakMap,It=new WeakMap,yt=new WeakMap,Dt=new WeakMap,Mt=new WeakMap,St=new WeakMap,gt=new WeakMap,mt=new WeakMap,xt=new WeakMap,_t=new WeakMap,At=new WeakMap,Tt=new WeakSet,un=function(){return lt(this,wt)||Qt(this,wt,new Map)},dn=function(){if(!lt(this,It)){const Rt=lt(this,Dt).createElement("div"),{style:Nt}=Rt;Nt.visibility="hidden",Nt.contain="strict",Nt.width=Nt.height=0,Nt.position="absolute",Nt.top=Nt.left=0,Nt.zIndex=-1;const Ht=lt(this,Dt).createElementNS(h,"svg");Ht.setAttribute("width",0),Ht.setAttribute("height",0),Qt(this,It,lt(this,Dt).createElementNS(h,"defs")),Rt.append(Ht),Ht.append(lt(this,It)),lt(this,Dt).body.append(Rt)}return lt(this,It)},Ps=function(Rt){const Nt=lt(this,Dt).createElementNS(h,"feColorMatrix");Nt.setAttribute("type","matrix"),Nt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Rt.append(Nt)},Bn=function(Rt){const Nt=lt(this,Dt).createElementNS(h,"filter");return Nt.setAttribute("color-interpolation-filters","sRGB"),Nt.setAttribute("id",Rt),lt(this,Tt,dn).append(Nt),Nt},zn=function(Rt,Nt,Ht){const qt=lt(this,Dt).createElementNS(h,Nt);qt.setAttribute("type","discrete"),qt.setAttribute("tableValues",Ht),Rt.append(qt)},Sn=function(Rt,Nt,Ht,qt){const ar=lt(this,Dt).createElementNS(h,"feComponentTransfer");qt.append(ar),Wt(this,Tt,zn).call(this,ar,"feFuncR",Rt),Wt(this,Tt,zn).call(this,ar,"feFuncG",Nt),Wt(this,Tt,zn).call(this,ar,"feFuncB",Ht)},wn=function(Rt){return lt(this,Tt,dn).style.color=Rt,pt(getComputedStyle(lt(this,Tt,dn)).getPropertyValue("color"))},e.DOMFilterFactory=b;class j extends o.BaseCanvasFactory{constructor(){let{ownerDocument:Jt=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=Jt}_createCanvas(Jt,Rt){const Nt=this._document.createElement("canvas");return Nt.width=Jt,Nt.height=Rt,Nt}}e.DOMCanvasFactory=j;async function _(Gt){let Jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(ft(Gt,document.baseURI)){const Rt=await fetch(Gt);if(!Rt.ok)throw new Error(Rt.statusText);return Jt?new Uint8Array(await Rt.arrayBuffer()):(0,d.stringToBytes)(await Rt.text())}return new Promise((Rt,Nt)=>{const Ht=new XMLHttpRequest;Ht.open("GET",Gt,!0),Jt&&(Ht.responseType="arraybuffer"),Ht.onreadystatechange=()=>{if(Ht.readyState===XMLHttpRequest.DONE){if(Ht.status===200||Ht.status===0){let qt;if(Jt&&Ht.response?qt=new Uint8Array(Ht.response):!Jt&&Ht.responseText&&(qt=(0,d.stringToBytes)(Ht.responseText)),qt){Rt(qt);return}}Nt(new Error(Ht.statusText))}},Ht.send(null)})}class $ extends o.BaseCMapReaderFactory{_fetchData(Jt,Rt){return _(Jt,this.isCompressed).then(Nt=>({cMapData:Nt,compressionType:Rt}))}}e.DOMCMapReaderFactory=$;class _e extends o.BaseStandardFontDataFactory{_fetchData(Jt){return _(Jt,!0)}}e.DOMStandardFontDataFactory=_e;class et extends o.BaseSVGFactory{_createSVG(Jt){return document.createElementNS(h,Jt)}}e.DOMSVGFactory=et;class tt{constructor(Jt){let{viewBox:Rt,scale:Nt,rotation:Ht,offsetX:qt=0,offsetY:ar=0,dontFlip:vr=!1}=Jt;this.viewBox=Rt,this.scale=Nt,this.rotation=Ht,this.offsetX=qt,this.offsetY=ar;const pr=(Rt[2]+Rt[0])/2,Vt=(Rt[3]+Rt[1])/2;let br,Er,Ir,kr;switch(Ht%=360,Ht<0&&(Ht+=360),Ht){case 180:br=-1,Er=0,Ir=0,kr=1;break;case 90:br=0,Er=1,Ir=1,kr=0;break;case 270:br=0,Er=-1,Ir=-1,kr=0;break;case 0:br=1,Er=0,Ir=0,kr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}vr&&(Ir=-Ir,kr=-kr);let Nr,Rr,Tr,Mr;br===0?(Nr=Math.abs(Vt-Rt[1])*Nt+qt,Rr=Math.abs(pr-Rt[0])*Nt+ar,Tr=(Rt[3]-Rt[1])*Nt,Mr=(Rt[2]-Rt[0])*Nt):(Nr=Math.abs(pr-Rt[0])*Nt+qt,Rr=Math.abs(Vt-Rt[1])*Nt+ar,Tr=(Rt[2]-Rt[0])*Nt,Mr=(Rt[3]-Rt[1])*Nt),this.transform=[br*Nt,Er*Nt,Ir*Nt,kr*Nt,Nr-br*Nt*pr-Ir*Nt*Vt,Rr-Er*Nt*pr-kr*Nt*Vt],this.width=Tr,this.height=Mr}get rawDims(){const{viewBox:Jt}=this;return(0,d.shadow)(this,"rawDims",{pageWidth:Jt[2]-Jt[0],pageHeight:Jt[3]-Jt[1],pageX:Jt[0],pageY:Jt[1]})}clone(){let{scale:Jt=this.scale,rotation:Rt=this.rotation,offsetX:Nt=this.offsetX,offsetY:Ht=this.offsetY,dontFlip:qt=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new tt({viewBox:this.viewBox.slice(),scale:Jt,rotation:Rt,offsetX:Nt,offsetY:Ht,dontFlip:qt})}convertToViewportPoint(Jt,Rt){return d.Util.applyTransform([Jt,Rt],this.transform)}convertToViewportRectangle(Jt){const Rt=d.Util.applyTransform([Jt[0],Jt[1]],this.transform),Nt=d.Util.applyTransform([Jt[2],Jt[3]],this.transform);return[Rt[0],Rt[1],Nt[0],Nt[1]]}convertToPdfPoint(Jt,Rt){return d.Util.applyInverseTransform([Jt,Rt],this.transform)}}e.PageViewport=tt;class nt extends d.BaseException{constructor(Jt){let Rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;super(Jt,"RenderingCancelledException"),this.extraDelay=Rt}}e.RenderingCancelledException=nt;function it(Gt){const Jt=Gt.length;let Rt=0;for(;Rt<Jt&&Gt[Rt].trim()==="";)Rt++;return Gt.substring(Rt,Rt+5).toLowerCase()==="data:"}function st(Gt){return typeof Gt=="string"&&/\.pdf$/i.test(Gt)}function rt(Gt){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||([Gt]=Gt.split(/[#?]/,1)),Gt.substring(Gt.lastIndexOf("/")+1)}function at(Gt){let Jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof Gt!="string")return Jt;if(it(Gt))return(0,d.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Jt;const Rt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Nt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ht=Rt.exec(Gt);let qt=Nt.exec(Ht[1])||Nt.exec(Ht[2])||Nt.exec(Ht[3]);if(qt&&(qt=qt[0],qt.includes("%")))try{qt=Nt.exec(decodeURIComponent(qt))[0]}catch{}return qt||Jt}class ht{constructor(){Hr(this,"started",Object.create(null));Hr(this,"times",[])}time(Jt){Jt in this.started&&(0,d.warn)(`Timer is already running for ${Jt}`),this.started[Jt]=Date.now()}timeEnd(Jt){Jt in this.started||(0,d.warn)(`Timer has not been started for ${Jt}`),this.times.push({name:Jt,start:this.started[Jt],end:Date.now()}),delete this.started[Jt]}toString(){const Jt=[];let Rt=0;for(const{name:Nt}of this.times)Rt=Math.max(Nt.length,Rt);for(const{name:Nt,start:Ht,end:qt}of this.times)Jt.push(`${Nt.padEnd(Rt)} ${qt-Ht}ms
`);return Jt.join("")}}e.StatTimer=ht;function ft(Gt,Jt){try{const{protocol:Rt}=Jt?new URL(Gt,Jt):new URL(Gt);return Rt==="http:"||Rt==="https:"}catch{return!1}}function ot(Gt){Gt.preventDefault()}function ut(Gt){let Jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((Rt,Nt)=>{const Ht=document.createElement("script");Ht.src=Gt,Ht.onload=function(qt){Jt&&Ht.remove(),Rt(qt)},Ht.onerror=function(){Nt(new Error(`Cannot load script at: ${Ht.src}`))},(document.head||document.documentElement).append(Ht)})}function ct(Gt){console.log("Deprecated API usage: "+Gt)}let dt;class vt{static toDateObject(Jt){if(!Jt||typeof Jt!="string")return null;dt||(dt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Rt=dt.exec(Jt);if(!Rt)return null;const Nt=parseInt(Rt[1],10);let Ht=parseInt(Rt[2],10);Ht=Ht>=1&&Ht<=12?Ht-1:0;let qt=parseInt(Rt[3],10);qt=qt>=1&&qt<=31?qt:1;let ar=parseInt(Rt[4],10);ar=ar>=0&&ar<=23?ar:0;let vr=parseInt(Rt[5],10);vr=vr>=0&&vr<=59?vr:0;let pr=parseInt(Rt[6],10);pr=pr>=0&&pr<=59?pr:0;const Vt=Rt[7]||"Z";let br=parseInt(Rt[8],10);br=br>=0&&br<=23?br:0;let Er=parseInt(Rt[9],10)||0;return Er=Er>=0&&Er<=59?Er:0,Vt==="-"?(ar+=br,vr+=Er):Vt==="+"&&(ar-=br,vr-=Er),new Date(Date.UTC(Nt,Ht,qt,ar,vr,pr))}}e.PDFDateString=vt;function Et(Gt,Jt){let{scale:Rt=1,rotation:Nt=0}=Jt;const{width:Ht,height:qt}=Gt.attributes.style,ar=[0,0,parseInt(Ht),parseInt(qt)];return new tt({viewBox:ar,scale:Rt,rotation:Nt})}function pt(Gt){if(Gt.startsWith("#")){const Jt=parseInt(Gt.slice(1),16);return[(Jt&16711680)>>16,(Jt&65280)>>8,Jt&255]}return Gt.startsWith("rgb(")?Gt.slice(4,-1).split(",").map(Jt=>parseInt(Jt)):Gt.startsWith("rgba(")?Gt.slice(5,-1).split(",").map(Jt=>parseInt(Jt)).slice(0,3):((0,d.warn)(`Not a valid color format: "${Gt}"`),[0,0,0])}function bt(Gt){const Jt=document.createElement("span");Jt.style.visibility="hidden",document.body.append(Jt);for(const Rt of Gt.keys()){Jt.style.color=Rt;const Nt=window.getComputedStyle(Jt).color;Gt.set(Rt,pt(Nt))}Jt.remove()}function Ct(Gt){const{a:Jt,b:Rt,c:Nt,d:Ht,e:qt,f:ar}=Gt.getTransform();return[Jt,Rt,Nt,Ht,qt,ar]}function Bt(Gt){const{a:Jt,b:Rt,c:Nt,d:Ht,e:qt,f:ar}=Gt.getTransform().invertSelf();return[Jt,Rt,Nt,Ht,qt,ar]}function jt(Gt,Jt){let Rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(Jt instanceof tt){const{pageWidth:Ht,pageHeight:qt}=Jt.rawDims,{style:ar}=Gt,vr=d.FeatureTest.isCSSRoundSupported,pr=`var(--scale-factor) * ${Ht}px`,Vt=`var(--scale-factor) * ${qt}px`,br=vr?`round(${pr}, 1px)`:`calc(${pr})`,Er=vr?`round(${Vt}, 1px)`:`calc(${Vt})`;!Rt||Jt.rotation%180===0?(ar.width=br,ar.height=Er):(ar.width=Er,ar.height=br)}Nt&&Gt.setAttribute("data-main-rotation",Jt.rotation)}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0,a(2);var o=a(1);class d{constructor(){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,_e){return"none"}addHighlightHCMFilter($,_e,et,tt){return"none"}destroy(){}}e.BaseFilterFactory=d;class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create($,_e){if($<=0||_e<=0)throw new Error("Invalid canvas size");const et=this._createCanvas($,_e);return{canvas:et,context:et.getContext("2d")}}reset($,_e,et){if(!$.canvas)throw new Error("Canvas is not specified");if(_e<=0||et<=0)throw new Error("Invalid canvas size");$.canvas.width=_e,$.canvas.height=et}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,_e){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=h;class g{constructor($){let{baseUrl:_e=null,isCompressed:et=!0}=$;this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_e,this.isCompressed=et}async fetch($){let{name:_e}=$;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_e)throw new Error("CMap name must be specified.");const et=this.baseUrl+_e+(this.isCompressed?".bcmap":""),tt=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(et,tt).catch(nt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${et}`)})}_fetchData($,_e){(0,o.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=g;class b{constructor($){let{baseUrl:_e=null}=$;this.constructor===b&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_e}async fetch($){let{filename:_e}=$;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_e)throw new Error("Font filename must be specified.");const et=`${this.baseUrl}${_e}`;return this._fetchData(et).catch(tt=>{throw new Error(`Unable to load font data at: ${et}`)})}_fetchData($){(0,o.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=b;class j{constructor(){this.constructor===j&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create($,_e){let et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if($<=0||_e<=0)throw new Error("Invalid SVG dimensions");const tt=this._createSVG("svg:svg");return tt.setAttribute("version","1.1"),et||(tt.setAttribute("width",`${$}px`),tt.setAttribute("height",`${_e}px`)),tt.setAttribute("preserveAspectRatio","none"),tt.setAttribute("viewBox",`0 0 ${$} ${_e}`),tt}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){(0,o.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=j},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0,a(93),a(101),a(102),a(105),a(107),a(109),a(113),a(116),a(123),a(2);var o=a(1);const d=3285377520,h=4294901760,g=65535;class b{constructor(_){this.h1=_?_&4294967295:d,this.h2=_?_&4294967295:d}update(_){let $,_e;if(typeof _=="string"){$=new Uint8Array(_.length*2),_e=0;for(let ct=0,dt=_.length;ct<dt;ct++){const vt=_.charCodeAt(ct);vt<=255?$[_e++]=vt:($[_e++]=vt>>>8,$[_e++]=vt&255)}}else if((0,o.isArrayBuffer)(_))$=_.slice(),_e=$.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const et=_e>>2,tt=_e-et*4,nt=new Uint32Array($.buffer,0,et);let it=0,st=0,rt=this.h1,at=this.h2;const ht=3432918353,ft=461845907,ot=ht&g,ut=ft&g;for(let ct=0;ct<et;ct++)ct&1?(it=nt[ct],it=it*ht&h|it*ot&g,it=it<<15|it>>>17,it=it*ft&h|it*ut&g,rt^=it,rt=rt<<13|rt>>>19,rt=rt*5+3864292196):(st=nt[ct],st=st*ht&h|st*ot&g,st=st<<15|st>>>17,st=st*ft&h|st*ut&g,at^=st,at=at<<13|at>>>19,at=at*5+3864292196);switch(it=0,tt){case 3:it^=$[et*4+2]<<16;case 2:it^=$[et*4+1]<<8;case 1:it^=$[et*4],it=it*ht&h|it*ot&g,it=it<<15|it>>>17,it=it*ft&h|it*ut&g,et&1?rt^=it:at^=it}this.h1=rt,this.h2=at}hexdigest(){let _=this.h1,$=this.h2;return _^=$>>>1,_=_*3981806797&h|_*36045&g,$=$*4283543511&h|(($<<16|_>>>16)*2950163797&h)>>>16,_^=$>>>1,_=_*444984403&h|_*60499&g,$=$*3301882366&h|(($<<16|_>>>16)*3120437893&h)>>>16,_^=$>>>1,(_>>>0).toString(16).padStart(8,"0")+($>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=b},(s,e,a)=>{var g;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0,a(125),a(136),a(138),a(141),a(143),a(145),a(147),a(89),a(149);var o=a(1);class d{constructor(j){$t(this,g,new Set);let{ownerDocument:_=globalThis.document,styleElement:$=null}=j;this._document=_,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(j){this.nativeFontFaces.add(j),this._document.fonts.add(j)}removeNativeFontFace(j){this.nativeFontFaces.delete(j),this._document.fonts.delete(j)}insertRule(j){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _=this.styleElement.sheet;_.insertRule(j,_.cssRules.length)}clear(){for(const j of this.nativeFontFaces)this._document.fonts.delete(j);this.nativeFontFaces.clear(),lt(this,g).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(j){if(!(!j||lt(this,g).has(j.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:_,src:$,style:_e}=j,et=new FontFace(_,$,_e);this.addNativeFontFace(et);try{await et.load(),lt(this,g).add(_)}catch{(0,o.warn)(`Cannot load system font: ${j.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(et)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(j){if(j.attached||j.missingFile&&!j.systemFontInfo)return;if(j.attached=!0,j.systemFontInfo){await this.loadSystemFont(j.systemFontInfo);return}if(this.isFontLoadingAPISupported){const $=j.createNativeFontFace();if($){this.addNativeFontFace($);try{await $.loaded}catch(_e){throw(0,o.warn)(`Failed to load font '${$.family}': '${_e}'.`),j.disableFontFace=!0,_e}}return}const _=j.createFontFaceRule();if(_){if(this.insertRule(_),this.isSyncFontLoadingSupported)return;await new Promise($=>{const _e=this._queueLoadingCallback($);this._prepareFontLoadEvent(j,_e)})}}get isFontLoadingAPISupported(){var _;const j=!!((_=this._document)!=null&&_.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",j)}get isSyncFontLoadingSupported(){let j=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(j=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",j)}_queueLoadingCallback(j){function _(){for((0,o.assert)(!_e.done,"completeRequest() cannot be called twice."),_e.done=!0;$.length>0&&$[0].done;){const et=$.shift();setTimeout(et.callback,0)}}const{loadingRequests:$}=this,_e={done:!1,complete:_,callback:j};return $.push(_e),_e}get _loadTestFont(){const j=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",j)}_prepareFontLoadEvent(j,_){function $(pt,bt){return pt.charCodeAt(bt)<<24|pt.charCodeAt(bt+1)<<16|pt.charCodeAt(bt+2)<<8|pt.charCodeAt(bt+3)&255}function _e(pt,bt,Ct,Bt){const jt=pt.substring(0,bt),Ft=pt.substring(bt+Ct);return jt+Bt+Ft}let et,tt;const nt=this._document.createElement("canvas");nt.width=1,nt.height=1;const it=nt.getContext("2d");let st=0;function rt(pt,bt){if(++st>30){(0,o.warn)("Load test font never loaded."),bt();return}if(it.font="30px "+pt,it.fillText(".",0,20),it.getImageData(0,0,1,1).data[3]>0){bt();return}setTimeout(rt.bind(null,pt,bt))}const at=`lt${Date.now()}${this.loadTestFontId++}`;let ht=this._loadTestFont;ht=_e(ht,976,at.length,at);const ot=16,ut=1482184792;let ct=$(ht,ot);for(et=0,tt=at.length-3;et<tt;et+=4)ct=ct-ut+$(at,et)|0;et<at.length&&(ct=ct-ut+$(at+"XXX",et)|0),ht=_e(ht,ot,4,(0,o.string32)(ct));const dt=`url(data:font/opentype;base64,${btoa(ht)});`,vt=`@font-face {font-family:"${at}";src:${dt}}`;this.insertRule(vt);const Et=this._document.createElement("div");Et.style.visibility="hidden",Et.style.width=Et.style.height="10px",Et.style.position="absolute",Et.style.top=Et.style.left="0px";for(const pt of[j.loadedName,at]){const bt=this._document.createElement("span");bt.textContent="Hi",bt.style.fontFamily=pt,Et.append(bt)}this._document.body.append(Et),rt(at,()=>{Et.remove(),_.complete()})}}g=new WeakMap,e.FontLoader=d;class h{constructor(j,_){let{isEvalSupported:$=!0,disableFontFace:_e=!1,ignoreErrors:et=!1,inspectFont:tt=null}=_;this.compiledGlyphs=Object.create(null);for(const nt in j)this[nt]=j[nt];this.isEvalSupported=$!==!1,this.disableFontFace=_e===!0,this.ignoreErrors=et===!0,this._inspectFont=tt}createNativeFontFace(){var _;if(!this.data||this.disableFontFace)return null;let j;if(!this.cssFontInfo)j=new FontFace(this.loadedName,this.data,{});else{const $={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&($.style=`oblique ${this.cssFontInfo.italicAngle}deg`),j=new FontFace(this.cssFontInfo.fontFamily,this.data,$)}return(_=this._inspectFont)==null||_.call(this,this),j}createFontFaceRule(){var _e;if(!this.data||this.disableFontFace)return null;const j=(0,o.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(j)});`;let $;if(!this.cssFontInfo)$=`@font-face {font-family:"${this.loadedName}";src:${_}}`;else{let et=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(et+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),$=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${et}src:${_}}`}return(_e=this._inspectFont)==null||_e.call(this,this,_),$}getPathGenerator(j,_){if(this.compiledGlyphs[_]!==void 0)return this.compiledGlyphs[_];let $;try{$=j.get(this.loadedName+"_path_"+_)}catch(_e){if(!this.ignoreErrors)throw _e;return(0,o.warn)(`getPathGenerator - ignoring character: "${_e}".`),this.compiledGlyphs[_]=function(et,tt){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const _e=[];for(const et of $){const tt=et.args!==void 0?et.args.join(","):"";_e.push("c.",et.cmd,"(",tt,`);
`)}return this.compiledGlyphs[_]=new Function("c","size",_e.join(""))}return this.compiledGlyphs[_]=function(_e,et){for(const tt of $)tt.cmd==="scale"&&(tt.args=[et,-et]),_e[tt.cmd].apply(_e,tt.args)}}}e.FontFaceObject=h},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0,a(2),a(93),a(101),a(102),a(105),a(107),a(109),a(113),a(116),a(123);var o=a(169),d=a(1);(function(){if(!(globalThis.DOMMatrix||!d.isNodeJS))try{globalThis.DOMMatrix=require$$5.DOMMatrix}catch(_e){(0,d.warn)(`Cannot polyfill \`DOMMatrix\`, rendering may be broken: "${_e}".`)}})(),function(){if(!(globalThis.Path2D||!d.isNodeJS))try{const{CanvasRenderingContext2D:_e}=require$$5,{polyfillPath2D:et}=requirePath2dPolyfill_esm();globalThis.CanvasRenderingContext2D=_e,et(globalThis)}catch(_e){(0,d.warn)(`Cannot polyfill \`Path2D\`, rendering may be broken: "${_e}".`)}}();const h=function($){return new Promise((_e,et)=>{require$$5.readFile($,(nt,it)=>{if(nt||!it){et(new Error(nt));return}_e(new Uint8Array(it))})})};class g extends o.BaseFilterFactory{}e.NodeFilterFactory=g;class b extends o.BaseCanvasFactory{_createCanvas(_e,et){return require$$5.createCanvas(_e,et)}}e.NodeCanvasFactory=b;class j extends o.BaseCMapReaderFactory{_fetchData(_e,et){return h(_e).then(tt=>({cMapData:tt,compressionType:et}))}}e.NodeCMapReaderFactory=j;class _ extends o.BaseStandardFontDataFactory{_fetchData(_e){return h(_e)}}e.NodeStandardFontDataFactory=_},(s,e,a)=>{var It,Cs,Rs;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0,a(2),a(93),a(101),a(102),a(105),a(107),a(109),a(113),a(116),a(123),a(89);var o=a(1),d=a(168),h=a(174),g=a(175);const b=16,j=100,_=4096,$=15,_e=10,et=1e3,tt=16;function nt(St,gt){if(St._removeMirroring)throw new Error("Context is already forwarding operations.");St.__originalSave=St.save,St.__originalRestore=St.restore,St.__originalRotate=St.rotate,St.__originalScale=St.scale,St.__originalTranslate=St.translate,St.__originalTransform=St.transform,St.__originalSetTransform=St.setTransform,St.__originalResetTransform=St.resetTransform,St.__originalClip=St.clip,St.__originalMoveTo=St.moveTo,St.__originalLineTo=St.lineTo,St.__originalBezierCurveTo=St.bezierCurveTo,St.__originalRect=St.rect,St.__originalClosePath=St.closePath,St.__originalBeginPath=St.beginPath,St._removeMirroring=()=>{St.save=St.__originalSave,St.restore=St.__originalRestore,St.rotate=St.__originalRotate,St.scale=St.__originalScale,St.translate=St.__originalTranslate,St.transform=St.__originalTransform,St.setTransform=St.__originalSetTransform,St.resetTransform=St.__originalResetTransform,St.clip=St.__originalClip,St.moveTo=St.__originalMoveTo,St.lineTo=St.__originalLineTo,St.bezierCurveTo=St.__originalBezierCurveTo,St.rect=St.__originalRect,St.closePath=St.__originalClosePath,St.beginPath=St.__originalBeginPath,delete St._removeMirroring},St.save=function(){gt.save(),this.__originalSave()},St.restore=function(){gt.restore(),this.__originalRestore()},St.translate=function(xt,_t){gt.translate(xt,_t),this.__originalTranslate(xt,_t)},St.scale=function(xt,_t){gt.scale(xt,_t),this.__originalScale(xt,_t)},St.transform=function(xt,_t,At,Tt,Lt,Ut){gt.transform(xt,_t,At,Tt,Lt,Ut),this.__originalTransform(xt,_t,At,Tt,Lt,Ut)},St.setTransform=function(xt,_t,At,Tt,Lt,Ut){gt.setTransform(xt,_t,At,Tt,Lt,Ut),this.__originalSetTransform(xt,_t,At,Tt,Lt,Ut)},St.resetTransform=function(){gt.resetTransform(),this.__originalResetTransform()},St.rotate=function(xt){gt.rotate(xt),this.__originalRotate(xt)},St.clip=function(xt){gt.clip(xt),this.__originalClip(xt)},St.moveTo=function(mt,xt){gt.moveTo(mt,xt),this.__originalMoveTo(mt,xt)},St.lineTo=function(mt,xt){gt.lineTo(mt,xt),this.__originalLineTo(mt,xt)},St.bezierCurveTo=function(mt,xt,_t,At,Tt,Lt){gt.bezierCurveTo(mt,xt,_t,At,Tt,Lt),this.__originalBezierCurveTo(mt,xt,_t,At,Tt,Lt)},St.rect=function(mt,xt,_t,At){gt.rect(mt,xt,_t,At),this.__originalRect(mt,xt,_t,At)},St.closePath=function(){gt.closePath(),this.__originalClosePath()},St.beginPath=function(){gt.beginPath(),this.__originalBeginPath()}}class it{constructor(gt){this.canvasFactory=gt,this.cache=Object.create(null)}getCanvas(gt,mt,xt){let _t;return this.cache[gt]!==void 0?(_t=this.cache[gt],this.canvasFactory.reset(_t,mt,xt)):(_t=this.canvasFactory.create(mt,xt),this.cache[gt]=_t),_t}delete(gt){delete this.cache[gt]}clear(){for(const gt in this.cache){const mt=this.cache[gt];this.canvasFactory.destroy(mt),delete this.cache[gt]}}}function st(St,gt,mt,xt,_t,At,Tt,Lt,Ut,Zt){const[tr,lr,hr,dr,Gt,Jt]=(0,d.getCurrentTransform)(St);if(lr===0&&hr===0){const Ht=Tt*tr+Gt,qt=Math.round(Ht),ar=Lt*dr+Jt,vr=Math.round(ar),pr=(Tt+Ut)*tr+Gt,Vt=Math.abs(Math.round(pr)-qt)||1,br=(Lt+Zt)*dr+Jt,Er=Math.abs(Math.round(br)-vr)||1;return St.setTransform(Math.sign(tr),0,0,Math.sign(dr),qt,vr),St.drawImage(gt,mt,xt,_t,At,0,0,Vt,Er),St.setTransform(tr,lr,hr,dr,Gt,Jt),[Vt,Er]}if(tr===0&&dr===0){const Ht=Lt*hr+Gt,qt=Math.round(Ht),ar=Tt*lr+Jt,vr=Math.round(ar),pr=(Lt+Zt)*hr+Gt,Vt=Math.abs(Math.round(pr)-qt)||1,br=(Tt+Ut)*lr+Jt,Er=Math.abs(Math.round(br)-vr)||1;return St.setTransform(0,Math.sign(lr),Math.sign(hr),0,qt,vr),St.drawImage(gt,mt,xt,_t,At,0,0,Er,Vt),St.setTransform(tr,lr,hr,dr,Gt,Jt),[Er,Vt]}St.drawImage(gt,mt,xt,_t,At,Tt,Lt,Ut,Zt);const Rt=Math.hypot(tr,lr),Nt=Math.hypot(hr,dr);return[Rt*Ut,Nt*Zt]}function rt(St){const{width:gt,height:mt}=St;if(gt>et||mt>et)return null;const xt=1e3,_t=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),At=gt+1;let Tt=new Uint8Array(At*(mt+1)),Lt,Ut,Zt;const tr=gt+7&-8;let lr=new Uint8Array(tr*mt),hr=0;for(const Nt of St.data){let Ht=128;for(;Ht>0;)lr[hr++]=Nt&Ht?0:255,Ht>>=1}let dr=0;for(hr=0,lr[hr]!==0&&(Tt[0]=1,++dr),Ut=1;Ut<gt;Ut++)lr[hr]!==lr[hr+1]&&(Tt[Ut]=lr[hr]?2:1,++dr),hr++;for(lr[hr]!==0&&(Tt[Ut]=2,++dr),Lt=1;Lt<mt;Lt++){hr=Lt*tr,Zt=Lt*At,lr[hr-tr]!==lr[hr]&&(Tt[Zt]=lr[hr]?1:8,++dr);let Nt=(lr[hr]?4:0)+(lr[hr-tr]?8:0);for(Ut=1;Ut<gt;Ut++)Nt=(Nt>>2)+(lr[hr+1]?4:0)+(lr[hr-tr+1]?8:0),_t[Nt]&&(Tt[Zt+Ut]=_t[Nt],++dr),hr++;if(lr[hr-tr]!==lr[hr]&&(Tt[Zt+Ut]=lr[hr]?2:4,++dr),dr>xt)return null}for(hr=tr*(mt-1),Zt=Lt*At,lr[hr]!==0&&(Tt[Zt]=8,++dr),Ut=1;Ut<gt;Ut++)lr[hr]!==lr[hr+1]&&(Tt[Zt+Ut]=lr[hr]?4:8,++dr),hr++;if(lr[hr]!==0&&(Tt[Zt+Ut]=4,++dr),dr>xt)return null;const Gt=new Int32Array([0,At,-1,0,-At,0,0,0,1]),Jt=new Path2D;for(Lt=0;dr&&Lt<=mt;Lt++){let Nt=Lt*At;const Ht=Nt+gt;for(;Nt<Ht&&!Tt[Nt];)Nt++;if(Nt===Ht)continue;Jt.moveTo(Nt%At,Lt);const qt=Nt;let ar=Tt[Nt];do{const vr=Gt[ar];do Nt+=vr;while(!Tt[Nt]);const pr=Tt[Nt];pr!==5&&pr!==10?(ar=pr,Tt[Nt]=0):(ar=pr&51*ar>>4,Tt[Nt]&=ar>>2|ar<<2),Jt.lineTo(Nt%At,Nt/At|0),Tt[Nt]||--dr}while(qt!==Nt);--Lt}return lr=null,Tt=null,function(Nt){Nt.save(),Nt.scale(1/gt,-1/mt),Nt.translate(0,-mt),Nt.fill(Jt),Nt.beginPath(),Nt.restore()}}class at{constructor(gt,mt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,gt,mt])}clone(){const gt=Object.create(this);return gt.clipBox=this.clipBox.slice(),gt}setCurrentPoint(gt,mt){this.x=gt,this.y=mt}updatePathMinMax(gt,mt,xt){[mt,xt]=o.Util.applyTransform([mt,xt],gt),this.minX=Math.min(this.minX,mt),this.minY=Math.min(this.minY,xt),this.maxX=Math.max(this.maxX,mt),this.maxY=Math.max(this.maxY,xt)}updateRectMinMax(gt,mt){const xt=o.Util.applyTransform(mt,gt),_t=o.Util.applyTransform(mt.slice(2),gt);this.minX=Math.min(this.minX,xt[0],_t[0]),this.minY=Math.min(this.minY,xt[1],_t[1]),this.maxX=Math.max(this.maxX,xt[0],_t[0]),this.maxY=Math.max(this.maxY,xt[1],_t[1])}updateScalingPathMinMax(gt,mt){o.Util.scaleMinMax(gt,mt),this.minX=Math.min(this.minX,mt[0]),this.maxX=Math.max(this.maxX,mt[1]),this.minY=Math.min(this.minY,mt[2]),this.maxY=Math.max(this.maxY,mt[3])}updateCurvePathMinMax(gt,mt,xt,_t,At,Tt,Lt,Ut,Zt,tr){const lr=o.Util.bezierBoundingBox(mt,xt,_t,At,Tt,Lt,Ut,Zt);if(tr){tr[0]=Math.min(tr[0],lr[0],lr[2]),tr[1]=Math.max(tr[1],lr[0],lr[2]),tr[2]=Math.min(tr[2],lr[1],lr[3]),tr[3]=Math.max(tr[3],lr[1],lr[3]);return}this.updateRectMinMax(gt,lr)}getPathBoundingBox(){let gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.PathType.FILL,mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const xt=[this.minX,this.minY,this.maxX,this.maxY];if(gt===h.PathType.STROKE){mt||(0,o.unreachable)("Stroke bounding box must include transform.");const _t=o.Util.singularValueDecompose2dScale(mt),At=_t[0]*this.lineWidth/2,Tt=_t[1]*this.lineWidth/2;xt[0]-=At,xt[1]-=Tt,xt[2]+=At,xt[3]+=Tt}return xt}updateClipFromPath(){const gt=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(gt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(gt){this.clipBox=gt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.PathType.FILL,mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return o.Util.intersect(this.clipBox,this.getPathBoundingBox(gt,mt))}}function ht(St,gt){if(typeof ImageData<"u"&&gt instanceof ImageData){St.putImageData(gt,0,0);return}const mt=gt.height,xt=gt.width,_t=mt%tt,At=(mt-_t)/tt,Tt=_t===0?At:At+1,Lt=St.createImageData(xt,tt);let Ut=0,Zt;const tr=gt.data,lr=Lt.data;let hr,dr,Gt,Jt;if(gt.kind===o.ImageKind.GRAYSCALE_1BPP){const Rt=tr.byteLength,Nt=new Uint32Array(lr.buffer,0,lr.byteLength>>2),Ht=Nt.length,qt=xt+7>>3,ar=4294967295,vr=o.FeatureTest.isLittleEndian?4278190080:255;for(hr=0;hr<Tt;hr++){for(Gt=hr<At?tt:_t,Zt=0,dr=0;dr<Gt;dr++){const pr=Rt-Ut;let Vt=0;const br=pr>qt?xt:pr*8-7,Er=br&-8;let Ir=0,kr=0;for(;Vt<Er;Vt+=8)kr=tr[Ut++],Nt[Zt++]=kr&128?ar:vr,Nt[Zt++]=kr&64?ar:vr,Nt[Zt++]=kr&32?ar:vr,Nt[Zt++]=kr&16?ar:vr,Nt[Zt++]=kr&8?ar:vr,Nt[Zt++]=kr&4?ar:vr,Nt[Zt++]=kr&2?ar:vr,Nt[Zt++]=kr&1?ar:vr;for(;Vt<br;Vt++)Ir===0&&(kr=tr[Ut++],Ir=128),Nt[Zt++]=kr&Ir?ar:vr,Ir>>=1}for(;Zt<Ht;)Nt[Zt++]=0;St.putImageData(Lt,0,hr*tt)}}else if(gt.kind===o.ImageKind.RGBA_32BPP){for(dr=0,Jt=xt*tt*4,hr=0;hr<At;hr++)lr.set(tr.subarray(Ut,Ut+Jt)),Ut+=Jt,St.putImageData(Lt,0,dr),dr+=tt;hr<Tt&&(Jt=xt*_t*4,lr.set(tr.subarray(Ut,Ut+Jt)),St.putImageData(Lt,0,dr))}else if(gt.kind===o.ImageKind.RGB_24BPP)for(Gt=tt,Jt=xt*Gt,hr=0;hr<Tt;hr++){for(hr>=At&&(Gt=_t,Jt=xt*Gt),Zt=0,dr=Jt;dr--;)lr[Zt++]=tr[Ut++],lr[Zt++]=tr[Ut++],lr[Zt++]=tr[Ut++],lr[Zt++]=255;St.putImageData(Lt,0,hr*tt)}else throw new Error(`bad image kind: ${gt.kind}`)}function ft(St,gt){if(gt.bitmap){St.drawImage(gt.bitmap,0,0);return}const mt=gt.height,xt=gt.width,_t=mt%tt,At=(mt-_t)/tt,Tt=_t===0?At:At+1,Lt=St.createImageData(xt,tt);let Ut=0;const Zt=gt.data,tr=Lt.data;for(let lr=0;lr<Tt;lr++){const hr=lr<At?tt:_t;({srcPos:Ut}=(0,g.convertBlackAndWhiteToRGBA)({src:Zt,srcPos:Ut,dest:tr,width:xt,height:hr,nonBlackColor:0})),St.putImageData(Lt,0,lr*tt)}}function ot(St,gt){const mt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const xt of mt)St[xt]!==void 0&&(gt[xt]=St[xt]);St.setLineDash!==void 0&&(gt.setLineDash(St.getLineDash()),gt.lineDashOffset=St.lineDashOffset)}function ut(St){if(St.strokeStyle=St.fillStyle="#000000",St.fillRule="nonzero",St.globalAlpha=1,St.lineWidth=1,St.lineCap="butt",St.lineJoin="miter",St.miterLimit=10,St.globalCompositeOperation="source-over",St.font="10px sans-serif",St.setLineDash!==void 0&&(St.setLineDash([]),St.lineDashOffset=0),!o.isNodeJS){const{filter:gt}=St;gt!=="none"&&gt!==""&&(St.filter="none")}}function ct(St,gt,mt,xt){const _t=St.length;for(let At=3;At<_t;At+=4){const Tt=St[At];if(Tt===0)St[At-3]=gt,St[At-2]=mt,St[At-1]=xt;else if(Tt<255){const Lt=255-Tt;St[At-3]=St[At-3]*Tt+gt*Lt>>8,St[At-2]=St[At-2]*Tt+mt*Lt>>8,St[At-1]=St[At-1]*Tt+xt*Lt>>8}}}function dt(St,gt,mt){const xt=St.length,_t=1/255;for(let At=3;At<xt;At+=4){const Tt=mt?mt[St[At]]:St[At];gt[At]=gt[At]*Tt*_t|0}}function vt(St,gt,mt){const xt=St.length;for(let _t=3;_t<xt;_t+=4){const At=St[_t-3]*77+St[_t-2]*152+St[_t-1]*28;gt[_t]=mt?gt[_t]*mt[At>>8]>>8:gt[_t]*At>>16}}function Et(St,gt,mt,xt,_t,At,Tt,Lt,Ut,Zt,tr){const lr=!!At,hr=lr?At[0]:0,dr=lr?At[1]:0,Gt=lr?At[2]:0,Jt=_t==="Luminosity"?vt:dt,Nt=Math.min(xt,Math.ceil(1048576/mt));for(let Ht=0;Ht<xt;Ht+=Nt){const qt=Math.min(Nt,xt-Ht),ar=St.getImageData(Lt-Zt,Ht+(Ut-tr),mt,qt),vr=gt.getImageData(Lt,Ht+Ut,mt,qt);lr&&ct(ar.data,hr,dr,Gt),Jt(ar.data,vr.data,Tt),gt.putImageData(vr,Lt,Ht+Ut)}}function pt(St,gt,mt,xt){const _t=xt[0],At=xt[1],Tt=xt[2]-_t,Lt=xt[3]-At;Tt===0||Lt===0||(Et(gt.context,mt,Tt,Lt,gt.subtype,gt.backdrop,gt.transferMap,_t,At,gt.offsetX,gt.offsetY),St.save(),St.globalAlpha=1,St.globalCompositeOperation="source-over",St.setTransform(1,0,0,1,0,0),St.drawImage(mt.canvas,0,0),St.restore())}function bt(St,gt){const mt=o.Util.singularValueDecompose2dScale(St);mt[0]=Math.fround(mt[0]),mt[1]=Math.fround(mt[1]);const xt=Math.fround((globalThis.devicePixelRatio||1)*d.PixelsPerInch.PDF_TO_CSS_UNITS);return gt!==void 0?gt:mt[0]<=xt||mt[1]<=xt}const Ct=["butt","round","square"],Bt=["miter","round","bevel"],jt={},Ft={},Mt=class Mt{constructor(gt,mt,xt,_t,At,Tt,Lt,Ut){$t(this,It);let{optionalContentConfig:Zt,markedContentStack:tr=null}=Tt;this.ctx=gt,this.current=new at(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=mt,this.objs=xt,this.canvasFactory=_t,this.filterFactory=At,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=tr||[],this.optionalContentConfig=Zt,this.cachedCanvases=new it(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Lt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ut,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(gt){let mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof gt=="string"?gt.startsWith("g_")?this.commonObjs.get(gt):this.objs.get(gt):mt}beginDrawing(gt){let{transform:mt,viewport:xt,transparency:_t=!1,background:At=null}=gt;const Tt=this.ctx.canvas.width,Lt=this.ctx.canvas.height,Ut=this.ctx.fillStyle;if(this.ctx.fillStyle=At||"#ffffff",this.ctx.fillRect(0,0,Tt,Lt),this.ctx.fillStyle=Ut,_t){const Zt=this.cachedCanvases.getCanvas("transparent",Tt,Lt);this.compositeCtx=this.ctx,this.transparentCanvas=Zt.canvas,this.ctx=Zt.context,this.ctx.save(),this.ctx.transform(...(0,d.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ut(this.ctx),mt&&(this.ctx.transform(...mt),this.outputScaleX=mt[0],this.outputScaleY=mt[0]),this.ctx.transform(...xt.transform),this.viewportScale=xt.scale,this.baseTransform=(0,d.getCurrentTransform)(this.ctx)}executeOperatorList(gt,mt,xt,_t){const At=gt.argsArray,Tt=gt.fnArray;let Lt=mt||0;const Ut=At.length;if(Ut===Lt)return Lt;const Zt=Ut-Lt>_e&&typeof xt=="function",tr=Zt?Date.now()+$:0;let lr=0;const hr=this.commonObjs,dr=this.objs;let Gt;for(;;){if(_t!==void 0&&Lt===_t.nextBreakPoint)return _t.breakIt(Lt,xt),Lt;if(Gt=Tt[Lt],Gt!==o.OPS.dependency)this[Gt].apply(this,At[Lt]);else for(const Jt of At[Lt]){const Rt=Jt.startsWith("g_")?hr:dr;if(!Rt.has(Jt))return Rt.get(Jt,xt),Lt}if(Lt++,Lt===Ut)return Lt;if(Zt&&++lr>_e){if(Date.now()>tr)return xt(),Lt;lr=0}}}endDrawing(){Wt(this,It,Cs).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const gt of this._cachedBitmapsMap.values()){for(const mt of gt.values())typeof HTMLCanvasElement<"u"&&mt instanceof HTMLCanvasElement&&(mt.width=mt.height=0);gt.clear()}this._cachedBitmapsMap.clear(),Wt(this,It,Rs).call(this)}_scaleImage(gt,mt){const xt=gt.width,_t=gt.height;let At=Math.max(Math.hypot(mt[0],mt[1]),1),Tt=Math.max(Math.hypot(mt[2],mt[3]),1),Lt=xt,Ut=_t,Zt="prescale1",tr,lr;for(;At>2&&Lt>1||Tt>2&&Ut>1;){let hr=Lt,dr=Ut;At>2&&Lt>1&&(hr=Lt>=16384?Math.floor(Lt/2)-1||1:Math.ceil(Lt/2),At/=Lt/hr),Tt>2&&Ut>1&&(dr=Ut>=16384?Math.floor(Ut/2)-1||1:Math.ceil(Ut)/2,Tt/=Ut/dr),tr=this.cachedCanvases.getCanvas(Zt,hr,dr),lr=tr.context,lr.clearRect(0,0,hr,dr),lr.drawImage(gt,0,0,Lt,Ut,0,0,hr,dr),gt=tr.canvas,Lt=hr,Ut=dr,Zt=Zt==="prescale1"?"prescale2":"prescale1"}return{img:gt,paintWidth:Lt,paintHeight:Ut}}_createMaskCanvas(gt){const mt=this.ctx,{width:xt,height:_t}=gt,At=this.current.fillColor,Tt=this.current.patternFill,Lt=(0,d.getCurrentTransform)(mt);let Ut,Zt,tr,lr;if((gt.bitmap||gt.data)&&gt.count>1){const Vt=gt.bitmap||gt.data.buffer;Zt=JSON.stringify(Tt?Lt:[Lt.slice(0,4),At]),Ut=this._cachedBitmapsMap.get(Vt),Ut||(Ut=new Map,this._cachedBitmapsMap.set(Vt,Ut));const br=Ut.get(Zt);if(br&&!Tt){const Er=Math.round(Math.min(Lt[0],Lt[2])+Lt[4]),Ir=Math.round(Math.min(Lt[1],Lt[3])+Lt[5]);return{canvas:br,offsetX:Er,offsetY:Ir}}tr=br}tr||(lr=this.cachedCanvases.getCanvas("maskCanvas",xt,_t),ft(lr.context,gt));let hr=o.Util.transform(Lt,[1/xt,0,0,-1/_t,0,0]);hr=o.Util.transform(hr,[1,0,0,1,0,-_t]);const dr=o.Util.applyTransform([0,0],hr),Gt=o.Util.applyTransform([xt,_t],hr),Jt=o.Util.normalizeRect([dr[0],dr[1],Gt[0],Gt[1]]),Rt=Math.round(Jt[2]-Jt[0])||1,Nt=Math.round(Jt[3]-Jt[1])||1,Ht=this.cachedCanvases.getCanvas("fillCanvas",Rt,Nt),qt=Ht.context,ar=Math.min(dr[0],Gt[0]),vr=Math.min(dr[1],Gt[1]);qt.translate(-ar,-vr),qt.transform(...hr),tr||(tr=this._scaleImage(lr.canvas,(0,d.getCurrentTransformInverse)(qt)),tr=tr.img,Ut&&Tt&&Ut.set(Zt,tr)),qt.imageSmoothingEnabled=bt((0,d.getCurrentTransform)(qt),gt.interpolate),st(qt,tr,0,0,tr.width,tr.height,0,0,xt,_t),qt.globalCompositeOperation="source-in";const pr=o.Util.transform((0,d.getCurrentTransformInverse)(qt),[1,0,0,1,-ar,-vr]);return qt.fillStyle=Tt?At.getPattern(mt,this,pr,h.PathType.FILL):At,qt.fillRect(0,0,xt,_t),Ut&&!Tt&&(this.cachedCanvases.delete("fillCanvas"),Ut.set(Zt,Ht.canvas)),{canvas:Ht.canvas,offsetX:Math.round(ar),offsetY:Math.round(vr)}}setLineWidth(gt){gt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=gt,this.ctx.lineWidth=gt}setLineCap(gt){this.ctx.lineCap=Ct[gt]}setLineJoin(gt){this.ctx.lineJoin=Bt[gt]}setMiterLimit(gt){this.ctx.miterLimit=gt}setDash(gt,mt){const xt=this.ctx;xt.setLineDash!==void 0&&(xt.setLineDash(gt),xt.lineDashOffset=mt)}setRenderingIntent(gt){}setFlatness(gt){}setGState(gt){for(const[mt,xt]of gt)switch(mt){case"LW":this.setLineWidth(xt);break;case"LC":this.setLineCap(xt);break;case"LJ":this.setLineJoin(xt);break;case"ML":this.setMiterLimit(xt);break;case"D":this.setDash(xt[0],xt[1]);break;case"RI":this.setRenderingIntent(xt);break;case"FL":this.setFlatness(xt);break;case"Font":this.setFont(xt[0],xt[1]);break;case"CA":this.current.strokeAlpha=xt;break;case"ca":this.current.fillAlpha=xt,this.ctx.globalAlpha=xt;break;case"BM":this.ctx.globalCompositeOperation=xt;break;case"SMask":this.current.activeSMask=xt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(xt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const gt=this.inSMaskMode;this.current.activeSMask&&!gt?this.beginSMaskMode():!this.current.activeSMask&&gt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const gt=this.ctx.canvas.width,mt=this.ctx.canvas.height,xt="smaskGroupAt"+this.groupLevel,_t=this.cachedCanvases.getCanvas(xt,gt,mt);this.suspendedCtx=this.ctx,this.ctx=_t.context;const At=this.ctx;At.setTransform(...(0,d.getCurrentTransform)(this.suspendedCtx)),ot(this.suspendedCtx,At),nt(At,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ot(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(gt){if(!this.current.activeSMask)return;gt?(gt[0]=Math.floor(gt[0]),gt[1]=Math.floor(gt[1]),gt[2]=Math.ceil(gt[2]),gt[3]=Math.ceil(gt[3])):gt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const mt=this.current.activeSMask,xt=this.suspendedCtx;pt(xt,mt,this.ctx,gt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ot(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const gt=this.current;this.stateStack.push(gt),this.current=gt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ot(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(gt,mt,xt,_t,At,Tt){this.ctx.transform(gt,mt,xt,_t,At,Tt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(gt,mt,xt){const _t=this.ctx,At=this.current;let Tt=At.x,Lt=At.y,Ut,Zt;const tr=(0,d.getCurrentTransform)(_t),lr=tr[0]===0&&tr[3]===0||tr[1]===0&&tr[2]===0,hr=lr?xt.slice(0):null;for(let dr=0,Gt=0,Jt=gt.length;dr<Jt;dr++)switch(gt[dr]|0){case o.OPS.rectangle:Tt=mt[Gt++],Lt=mt[Gt++];const Rt=mt[Gt++],Nt=mt[Gt++],Ht=Tt+Rt,qt=Lt+Nt;_t.moveTo(Tt,Lt),Rt===0||Nt===0?_t.lineTo(Ht,qt):(_t.lineTo(Ht,Lt),_t.lineTo(Ht,qt),_t.lineTo(Tt,qt)),lr||At.updateRectMinMax(tr,[Tt,Lt,Ht,qt]),_t.closePath();break;case o.OPS.moveTo:Tt=mt[Gt++],Lt=mt[Gt++],_t.moveTo(Tt,Lt),lr||At.updatePathMinMax(tr,Tt,Lt);break;case o.OPS.lineTo:Tt=mt[Gt++],Lt=mt[Gt++],_t.lineTo(Tt,Lt),lr||At.updatePathMinMax(tr,Tt,Lt);break;case o.OPS.curveTo:Ut=Tt,Zt=Lt,Tt=mt[Gt+4],Lt=mt[Gt+5],_t.bezierCurveTo(mt[Gt],mt[Gt+1],mt[Gt+2],mt[Gt+3],Tt,Lt),At.updateCurvePathMinMax(tr,Ut,Zt,mt[Gt],mt[Gt+1],mt[Gt+2],mt[Gt+3],Tt,Lt,hr),Gt+=6;break;case o.OPS.curveTo2:Ut=Tt,Zt=Lt,_t.bezierCurveTo(Tt,Lt,mt[Gt],mt[Gt+1],mt[Gt+2],mt[Gt+3]),At.updateCurvePathMinMax(tr,Ut,Zt,Tt,Lt,mt[Gt],mt[Gt+1],mt[Gt+2],mt[Gt+3],hr),Tt=mt[Gt+2],Lt=mt[Gt+3],Gt+=4;break;case o.OPS.curveTo3:Ut=Tt,Zt=Lt,Tt=mt[Gt+2],Lt=mt[Gt+3],_t.bezierCurveTo(mt[Gt],mt[Gt+1],Tt,Lt,Tt,Lt),At.updateCurvePathMinMax(tr,Ut,Zt,mt[Gt],mt[Gt+1],Tt,Lt,Tt,Lt,hr),Gt+=4;break;case o.OPS.closePath:_t.closePath();break}lr&&At.updateScalingPathMinMax(tr,hr),At.setCurrentPoint(Tt,Lt)}closePath(){this.ctx.closePath()}stroke(){let gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const mt=this.ctx,xt=this.current.strokeColor;mt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof xt=="object"&&(xt!=null&&xt.getPattern)?(mt.save(),mt.strokeStyle=xt.getPattern(mt,this,(0,d.getCurrentTransformInverse)(mt),h.PathType.STROKE),this.rescaleAndStroke(!1),mt.restore()):this.rescaleAndStroke(!0)),gt&&this.consumePath(this.current.getClippedPathBoundingBox()),mt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const mt=this.ctx,xt=this.current.fillColor,_t=this.current.patternFill;let At=!1;_t&&(mt.save(),mt.fillStyle=xt.getPattern(mt,this,(0,d.getCurrentTransformInverse)(mt),h.PathType.FILL),At=!0);const Tt=this.current.getClippedPathBoundingBox();this.contentVisible&&Tt!==null&&(this.pendingEOFill?(mt.fill("evenodd"),this.pendingEOFill=!1):mt.fill()),At&&mt.restore(),gt&&this.consumePath(Tt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=jt}eoClip(){this.pendingClip=Ft}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const gt=this.pendingTextPaths,mt=this.ctx;if(gt===void 0){mt.beginPath();return}mt.save(),mt.beginPath();for(const xt of gt)mt.setTransform(...xt.transform),mt.translate(xt.x,xt.y),xt.addToPath(mt,xt.fontSize);mt.restore(),mt.clip(),mt.beginPath(),delete this.pendingTextPaths}setCharSpacing(gt){this.current.charSpacing=gt}setWordSpacing(gt){this.current.wordSpacing=gt}setHScale(gt){this.current.textHScale=gt/100}setLeading(gt){this.current.leading=-gt}setFont(gt,mt){var tr;const xt=this.commonObjs.get(gt),_t=this.current;if(!xt)throw new Error(`Can't find font for ${gt}`);if(_t.fontMatrix=xt.fontMatrix||o.FONT_IDENTITY_MATRIX,(_t.fontMatrix[0]===0||_t.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+gt),mt<0?(mt=-mt,_t.fontDirection=-1):_t.fontDirection=1,this.current.font=xt,this.current.fontSize=mt,xt.isType3Font)return;const At=xt.loadedName||"sans-serif",Tt=((tr=xt.systemFontInfo)==null?void 0:tr.css)||`"${At}", ${xt.fallbackName}`;let Lt="normal";xt.black?Lt="900":xt.bold&&(Lt="bold");const Ut=xt.italic?"italic":"normal";let Zt=mt;mt<b?Zt=b:mt>j&&(Zt=j),this.current.fontSizeScale=mt/Zt,this.ctx.font=`${Ut} ${Lt} ${Zt}px ${Tt}`}setTextRenderingMode(gt){this.current.textRenderingMode=gt}setTextRise(gt){this.current.textRise=gt}moveText(gt,mt){this.current.x=this.current.lineX+=gt,this.current.y=this.current.lineY+=mt}setLeadingMoveText(gt,mt){this.setLeading(-mt),this.moveText(gt,mt)}setTextMatrix(gt,mt,xt,_t,At,Tt){this.current.textMatrix=[gt,mt,xt,_t,At,Tt],this.current.textMatrixScale=Math.hypot(gt,mt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(gt,mt,xt,_t){const At=this.ctx,Tt=this.current,Lt=Tt.font,Ut=Tt.textRenderingMode,Zt=Tt.fontSize/Tt.fontSizeScale,tr=Ut&o.TextRenderingMode.FILL_STROKE_MASK,lr=!!(Ut&o.TextRenderingMode.ADD_TO_PATH_FLAG),hr=Tt.patternFill&&!Lt.missingFile;let dr;(Lt.disableFontFace||lr||hr)&&(dr=Lt.getPathGenerator(this.commonObjs,gt)),Lt.disableFontFace||hr?(At.save(),At.translate(mt,xt),At.beginPath(),dr(At,Zt),_t&&At.setTransform(..._t),(tr===o.TextRenderingMode.FILL||tr===o.TextRenderingMode.FILL_STROKE)&&At.fill(),(tr===o.TextRenderingMode.STROKE||tr===o.TextRenderingMode.FILL_STROKE)&&At.stroke(),At.restore()):((tr===o.TextRenderingMode.FILL||tr===o.TextRenderingMode.FILL_STROKE)&&At.fillText(gt,mt,xt),(tr===o.TextRenderingMode.STROKE||tr===o.TextRenderingMode.FILL_STROKE)&&At.strokeText(gt,mt,xt)),lr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,d.getCurrentTransform)(At),x:mt,y:xt,fontSize:Zt,addToPath:dr})}get isFontSubpixelAAEnabled(){const{context:gt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);gt.scale(1.5,1),gt.fillText("I",0,10);const mt=gt.getImageData(0,0,10,10).data;let xt=!1;for(let _t=3;_t<mt.length;_t+=4)if(mt[_t]>0&&mt[_t]<255){xt=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",xt)}showText(gt){const mt=this.current,xt=mt.font;if(xt.isType3Font)return this.showType3Text(gt);const _t=mt.fontSize;if(_t===0)return;const At=this.ctx,Tt=mt.fontSizeScale,Lt=mt.charSpacing,Ut=mt.wordSpacing,Zt=mt.fontDirection,tr=mt.textHScale*Zt,lr=gt.length,hr=xt.vertical,dr=hr?1:-1,Gt=xt.defaultVMetrics,Jt=_t*mt.fontMatrix[0],Rt=mt.textRenderingMode===o.TextRenderingMode.FILL&&!xt.disableFontFace&&!mt.patternFill;At.save(),At.transform(...mt.textMatrix),At.translate(mt.x,mt.y+mt.textRise),Zt>0?At.scale(tr,-1):At.scale(tr,1);let Nt;if(mt.patternFill){At.save();const pr=mt.fillColor.getPattern(At,this,(0,d.getCurrentTransformInverse)(At),h.PathType.FILL);Nt=(0,d.getCurrentTransform)(At),At.restore(),At.fillStyle=pr}let Ht=mt.lineWidth;const qt=mt.textMatrixScale;if(qt===0||Ht===0){const pr=mt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(pr===o.TextRenderingMode.STROKE||pr===o.TextRenderingMode.FILL_STROKE)&&(Ht=this.getSinglePixelWidth())}else Ht/=qt;if(Tt!==1&&(At.scale(Tt,Tt),Ht/=Tt),At.lineWidth=Ht,xt.isInvalidPDFjsFont){const pr=[];let Vt=0;for(const br of gt)pr.push(br.unicode),Vt+=br.width;At.fillText(pr.join(""),0,0),mt.x+=Vt*Jt*tr,At.restore(),this.compose();return}let ar=0,vr;for(vr=0;vr<lr;++vr){const pr=gt[vr];if(typeof pr=="number"){ar+=dr*pr*_t/1e3;continue}let Vt=!1;const br=(pr.isSpace?Ut:0)+Lt,Er=pr.fontChar,Ir=pr.accent;let kr,Nr,Rr=pr.width;if(hr){const Mr=pr.vmetric||Gt,Ur=-(pr.vmetric?Mr[1]:Rr*.5)*Jt,Cr=Mr[2]*Jt;Rr=Mr?-Mr[0]:Rr,kr=Ur/Tt,Nr=(ar+Cr)/Tt}else kr=ar/Tt,Nr=0;if(xt.remeasure&&Rr>0){const Mr=At.measureText(Er).width*1e3/_t*Tt;if(Rr<Mr&&this.isFontSubpixelAAEnabled){const Ur=Rr/Mr;Vt=!0,At.save(),At.scale(Ur,1),kr/=Ur}else Rr!==Mr&&(kr+=(Rr-Mr)/2e3*_t/Tt)}if(this.contentVisible&&(pr.isInFont||xt.missingFile)){if(Rt&&!Ir)At.fillText(Er,kr,Nr);else if(this.paintChar(Er,kr,Nr,Nt),Ir){const Mr=kr+_t*Ir.offset.x/Tt,Ur=Nr-_t*Ir.offset.y/Tt;this.paintChar(Ir.fontChar,Mr,Ur,Nt)}}const Tr=hr?Rr*Jt-br*Zt:Rr*Jt+br*Zt;ar+=Tr,Vt&&At.restore()}hr?mt.y-=ar:mt.x+=ar*tr,At.restore(),this.compose()}showType3Text(gt){const mt=this.ctx,xt=this.current,_t=xt.font,At=xt.fontSize,Tt=xt.fontDirection,Lt=_t.vertical?1:-1,Ut=xt.charSpacing,Zt=xt.wordSpacing,tr=xt.textHScale*Tt,lr=xt.fontMatrix||o.FONT_IDENTITY_MATRIX,hr=gt.length,dr=xt.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Gt,Jt,Rt,Nt;if(!(dr||At===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,mt.save(),mt.transform(...xt.textMatrix),mt.translate(xt.x,xt.y),mt.scale(tr,Tt),Gt=0;Gt<hr;++Gt){if(Jt=gt[Gt],typeof Jt=="number"){Nt=Lt*Jt*At/1e3,this.ctx.translate(Nt,0),xt.x+=Nt*tr;continue}const Ht=(Jt.isSpace?Zt:0)+Ut,qt=_t.charProcOperatorList[Jt.operatorListId];if(!qt){(0,o.warn)(`Type3 character "${Jt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Jt,this.save(),mt.scale(At,At),mt.transform(...lr),this.executeOperatorList(qt),this.restore()),Rt=o.Util.applyTransform([Jt.width,0],lr)[0]*At+Ht,mt.translate(Rt,0),xt.x+=Rt*tr}mt.restore(),this.processingType3=null}}setCharWidth(gt,mt){}setCharWidthAndBounds(gt,mt,xt,_t,At,Tt){this.ctx.rect(xt,_t,At-xt,Tt-_t),this.ctx.clip(),this.endPath()}getColorN_Pattern(gt){let mt;if(gt[0]==="TilingPattern"){const xt=gt[1],_t=this.baseTransform||(0,d.getCurrentTransform)(this.ctx),At={createCanvasGraphics:Tt=>new Mt(Tt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};mt=new h.TilingPattern(gt,xt,this.ctx,At,_t)}else mt=this._getPattern(gt[1],gt[2]);return mt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(gt,mt,xt){const _t=o.Util.makeHexColor(gt,mt,xt);this.ctx.strokeStyle=_t,this.current.strokeColor=_t}setFillRGBColor(gt,mt,xt){const _t=o.Util.makeHexColor(gt,mt,xt);this.ctx.fillStyle=_t,this.current.fillColor=_t,this.current.patternFill=!1}_getPattern(gt){let mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,xt;return this.cachedPatterns.has(gt)?xt=this.cachedPatterns.get(gt):(xt=(0,h.getShadingPattern)(this.getObject(gt)),this.cachedPatterns.set(gt,xt)),mt&&(xt.matrix=mt),xt}shadingFill(gt){if(!this.contentVisible)return;const mt=this.ctx;this.save();const xt=this._getPattern(gt);mt.fillStyle=xt.getPattern(mt,this,(0,d.getCurrentTransformInverse)(mt),h.PathType.SHADING);const _t=(0,d.getCurrentTransformInverse)(mt);if(_t){const{width:At,height:Tt}=mt.canvas,[Lt,Ut,Zt,tr]=o.Util.getAxialAlignedBoundingBox([0,0,At,Tt],_t);this.ctx.fillRect(Lt,Ut,Zt-Lt,tr-Ut)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(gt,mt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(gt)&&gt.length===6&&this.transform(...gt),this.baseTransform=(0,d.getCurrentTransform)(this.ctx),mt)){const xt=mt[2]-mt[0],_t=mt[3]-mt[1];this.ctx.rect(mt[0],mt[1],xt,_t),this.current.updateRectMinMax((0,d.getCurrentTransform)(this.ctx),mt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(gt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const mt=this.ctx;gt.isolated||(0,o.info)("TODO: Support non-isolated groups."),gt.knockout&&(0,o.warn)("Knockout groups not supported.");const xt=(0,d.getCurrentTransform)(mt);if(gt.matrix&&mt.transform(...gt.matrix),!gt.bbox)throw new Error("Bounding box is required.");let _t=o.Util.getAxialAlignedBoundingBox(gt.bbox,(0,d.getCurrentTransform)(mt));const At=[0,0,mt.canvas.width,mt.canvas.height];_t=o.Util.intersect(_t,At)||[0,0,0,0];const Tt=Math.floor(_t[0]),Lt=Math.floor(_t[1]);let Ut=Math.max(Math.ceil(_t[2])-Tt,1),Zt=Math.max(Math.ceil(_t[3])-Lt,1),tr=1,lr=1;Ut>_&&(tr=Ut/_,Ut=_),Zt>_&&(lr=Zt/_,Zt=_),this.current.startNewPathAndClipBox([0,0,Ut,Zt]);let hr="groupAt"+this.groupLevel;gt.smask&&(hr+="_smask_"+this.smaskCounter++%2);const dr=this.cachedCanvases.getCanvas(hr,Ut,Zt),Gt=dr.context;Gt.scale(1/tr,1/lr),Gt.translate(-Tt,-Lt),Gt.transform(...xt),gt.smask?this.smaskStack.push({canvas:dr.canvas,context:Gt,offsetX:Tt,offsetY:Lt,scaleX:tr,scaleY:lr,subtype:gt.smask.subtype,backdrop:gt.smask.backdrop,transferMap:gt.smask.transferMap||null,startTransformInverse:null}):(mt.setTransform(1,0,0,1,0,0),mt.translate(Tt,Lt),mt.scale(tr,lr),mt.save()),ot(mt,Gt),this.ctx=Gt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(mt),this.groupLevel++}endGroup(gt){if(!this.contentVisible)return;this.groupLevel--;const mt=this.ctx,xt=this.groupStack.pop();if(this.ctx=xt,this.ctx.imageSmoothingEnabled=!1,gt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const _t=(0,d.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(..._t);const At=o.Util.getAxialAlignedBoundingBox([0,0,mt.canvas.width,mt.canvas.height],_t);this.ctx.drawImage(mt.canvas,0,0),this.ctx.restore(),this.compose(At)}}beginAnnotation(gt,mt,xt,_t,At){if(Wt(this,It,Cs).call(this),ut(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(mt)&&mt.length===4){const Tt=mt[2]-mt[0],Lt=mt[3]-mt[1];if(At&&this.annotationCanvasMap){xt=xt.slice(),xt[4]-=mt[0],xt[5]-=mt[1],mt=mt.slice(),mt[0]=mt[1]=0,mt[2]=Tt,mt[3]=Lt;const[Ut,Zt]=o.Util.singularValueDecompose2dScale((0,d.getCurrentTransform)(this.ctx)),{viewportScale:tr}=this,lr=Math.ceil(Tt*this.outputScaleX*tr),hr=Math.ceil(Lt*this.outputScaleY*tr);this.annotationCanvas=this.canvasFactory.create(lr,hr);const{canvas:dr,context:Gt}=this.annotationCanvas;this.annotationCanvasMap.set(gt,dr),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Gt,this.ctx.save(),this.ctx.setTransform(Ut,0,0,-Zt,0,Lt*Zt),ut(this.ctx)}else ut(this.ctx),this.ctx.rect(mt[0],mt[1],Tt,Lt),this.ctx.clip(),this.endPath()}this.current=new at(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...xt),this.transform(..._t)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Wt(this,It,Rs).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(gt){if(!this.contentVisible)return;const mt=gt.count;gt=this.getObject(gt.data,gt),gt.count=mt;const xt=this.ctx,_t=this.processingType3;if(_t&&(_t.compiled===void 0&&(_t.compiled=rt(gt)),_t.compiled)){_t.compiled(xt);return}const At=this._createMaskCanvas(gt),Tt=At.canvas;xt.save(),xt.setTransform(1,0,0,1,0,0),xt.drawImage(Tt,At.offsetX,At.offsetY),xt.restore(),this.compose()}paintImageMaskXObjectRepeat(gt,mt){let xt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,_t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,At=arguments.length>4?arguments[4]:void 0,Tt=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;gt=this.getObject(gt.data,gt);const Lt=this.ctx;Lt.save();const Ut=(0,d.getCurrentTransform)(Lt);Lt.transform(mt,xt,_t,At,0,0);const Zt=this._createMaskCanvas(gt);Lt.setTransform(1,0,0,1,Zt.offsetX-Ut[4],Zt.offsetY-Ut[5]);for(let tr=0,lr=Tt.length;tr<lr;tr+=2){const hr=o.Util.transform(Ut,[mt,xt,_t,At,Tt[tr],Tt[tr+1]]),[dr,Gt]=o.Util.applyTransform([0,0],hr);Lt.drawImage(Zt.canvas,dr,Gt)}Lt.restore(),this.compose()}paintImageMaskXObjectGroup(gt){if(!this.contentVisible)return;const mt=this.ctx,xt=this.current.fillColor,_t=this.current.patternFill;for(const At of gt){const{data:Tt,width:Lt,height:Ut,transform:Zt}=At,tr=this.cachedCanvases.getCanvas("maskCanvas",Lt,Ut),lr=tr.context;lr.save();const hr=this.getObject(Tt,At);ft(lr,hr),lr.globalCompositeOperation="source-in",lr.fillStyle=_t?xt.getPattern(lr,this,(0,d.getCurrentTransformInverse)(mt),h.PathType.FILL):xt,lr.fillRect(0,0,Lt,Ut),lr.restore(),mt.save(),mt.transform(...Zt),mt.scale(1,-1),st(mt,tr.canvas,0,0,Lt,Ut,0,-1,1,1),mt.restore()}this.compose()}paintImageXObject(gt){if(!this.contentVisible)return;const mt=this.getObject(gt);if(!mt){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(mt)}paintImageXObjectRepeat(gt,mt,xt,_t){if(!this.contentVisible)return;const At=this.getObject(gt);if(!At){(0,o.warn)("Dependent image isn't ready yet");return}const Tt=At.width,Lt=At.height,Ut=[];for(let Zt=0,tr=_t.length;Zt<tr;Zt+=2)Ut.push({transform:[mt,0,0,xt,_t[Zt],_t[Zt+1]],x:0,y:0,w:Tt,h:Lt});this.paintInlineImageXObjectGroup(At,Ut)}applyTransferMapsToCanvas(gt){return this.current.transferMaps!=="none"&&(gt.filter=this.current.transferMaps,gt.drawImage(gt.canvas,0,0),gt.filter="none"),gt.canvas}applyTransferMapsToBitmap(gt){if(this.current.transferMaps==="none")return gt.bitmap;const{bitmap:mt,width:xt,height:_t}=gt,At=this.cachedCanvases.getCanvas("inlineImage",xt,_t),Tt=At.context;return Tt.filter=this.current.transferMaps,Tt.drawImage(mt,0,0),Tt.filter="none",At.canvas}paintInlineImageXObject(gt){if(!this.contentVisible)return;const mt=gt.width,xt=gt.height,_t=this.ctx;if(this.save(),!o.isNodeJS){const{filter:Lt}=_t;Lt!=="none"&&Lt!==""&&(_t.filter="none")}_t.scale(1/mt,-1/xt);let At;if(gt.bitmap)At=this.applyTransferMapsToBitmap(gt);else if(typeof HTMLElement=="function"&&gt instanceof HTMLElement||!gt.data)At=gt;else{const Ut=this.cachedCanvases.getCanvas("inlineImage",mt,xt).context;ht(Ut,gt),At=this.applyTransferMapsToCanvas(Ut)}const Tt=this._scaleImage(At,(0,d.getCurrentTransformInverse)(_t));_t.imageSmoothingEnabled=bt((0,d.getCurrentTransform)(_t),gt.interpolate),st(_t,Tt.img,0,0,Tt.paintWidth,Tt.paintHeight,0,-xt,mt,xt),this.compose(),this.restore()}paintInlineImageXObjectGroup(gt,mt){if(!this.contentVisible)return;const xt=this.ctx;let _t;if(gt.bitmap)_t=gt.bitmap;else{const At=gt.width,Tt=gt.height,Ut=this.cachedCanvases.getCanvas("inlineImage",At,Tt).context;ht(Ut,gt),_t=this.applyTransferMapsToCanvas(Ut)}for(const At of mt)xt.save(),xt.transform(...At.transform),xt.scale(1,-1),st(xt,_t,At.x,At.y,At.w,At.h,0,-1,1,1),xt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(gt){}markPointProps(gt,mt){}beginMarkedContent(gt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(gt,mt){gt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(mt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(gt){const mt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(gt);const xt=this.ctx;this.pendingClip&&(mt||(this.pendingClip===Ft?xt.clip("evenodd"):xt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),xt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const gt=(0,d.getCurrentTransform)(this.ctx);if(gt[1]===0&&gt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(gt[0]),Math.abs(gt[3]));else{const mt=Math.abs(gt[0]*gt[3]-gt[2]*gt[1]),xt=Math.hypot(gt[0],gt[2]),_t=Math.hypot(gt[1],gt[3]);this._cachedGetSinglePixelWidth=Math.max(xt,_t)/mt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:gt}=this.current,{a:mt,b:xt,c:_t,d:At}=this.ctx.getTransform();let Tt,Lt;if(xt===0&&_t===0){const Ut=Math.abs(mt),Zt=Math.abs(At);if(Ut===Zt)if(gt===0)Tt=Lt=1/Ut;else{const tr=Ut*gt;Tt=Lt=tr<1?1/tr:1}else if(gt===0)Tt=1/Ut,Lt=1/Zt;else{const tr=Ut*gt,lr=Zt*gt;Tt=tr<1?1/tr:1,Lt=lr<1?1/lr:1}}else{const Ut=Math.abs(mt*At-xt*_t),Zt=Math.hypot(mt,xt),tr=Math.hypot(_t,At);if(gt===0)Tt=tr/Ut,Lt=Zt/Ut;else{const lr=gt*Ut;Tt=tr>lr?tr/lr:1,Lt=Zt>lr?Zt/lr:1}}this._cachedScaleForStroking[0]=Tt,this._cachedScaleForStroking[1]=Lt}return this._cachedScaleForStroking}rescaleAndStroke(gt){const{ctx:mt}=this,{lineWidth:xt}=this.current,[_t,At]=this.getScaleForStroking();if(mt.lineWidth=xt||1,_t===1&&At===1){mt.stroke();return}const Tt=mt.getLineDash();if(gt&&mt.save(),mt.scale(_t,At),Tt.length>0){const Lt=Math.max(_t,At);mt.setLineDash(Tt.map(Ut=>Ut/Lt)),mt.lineDashOffset/=Lt}mt.stroke(),gt&&mt.restore()}isContentVisible(){for(let gt=this.markedContentStack.length-1;gt>=0;gt--)if(!this.markedContentStack[gt].visible)return!1;return!0}};It=new WeakSet,Cs=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Rs=function(){if(this.pageColors){const gt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(gt!=="none"){const mt=this.ctx.filter;this.ctx.filter=gt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=mt}}};let wt=Mt;e.CanvasGraphics=wt;for(const St in o.OPS)wt.prototype[St]!==void 0&&(wt.prototype[o.OPS[St]]=wt.prototype[St])},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=tt,a(2);var o=a(1),d=a(168);const h={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=h;function g(rt,at){if(!at)return;const ht=at[2]-at[0],ft=at[3]-at[1],ot=new Path2D;ot.rect(at[0],at[1],ht,ft),rt.clip(ot)}class b{constructor(){this.constructor===b&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class j extends b{constructor(at){super(),this._type=at[1],this._bbox=at[2],this._colorStops=at[3],this._p0=at[4],this._p1=at[5],this._r0=at[6],this._r1=at[7],this.matrix=null}_createGradient(at){let ht;this._type==="axial"?ht=at.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ht=at.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ft of this._colorStops)ht.addColorStop(ft[0],ft[1]);return ht}getPattern(at,ht,ft,ot){let ut;if(ot===h.STROKE||ot===h.FILL){const ct=ht.current.getClippedPathBoundingBox(ot,(0,d.getCurrentTransform)(at))||[0,0,0,0],dt=Math.ceil(ct[2]-ct[0])||1,vt=Math.ceil(ct[3]-ct[1])||1,Et=ht.cachedCanvases.getCanvas("pattern",dt,vt,!0),pt=Et.context;pt.clearRect(0,0,pt.canvas.width,pt.canvas.height),pt.beginPath(),pt.rect(0,0,pt.canvas.width,pt.canvas.height),pt.translate(-ct[0],-ct[1]),ft=o.Util.transform(ft,[1,0,0,1,ct[0],ct[1]]),pt.transform(...ht.baseTransform),this.matrix&&pt.transform(...this.matrix),g(pt,this._bbox),pt.fillStyle=this._createGradient(pt),pt.fill(),ut=at.createPattern(Et.canvas,"no-repeat");const bt=new DOMMatrix(ft);ut.setTransform(bt)}else g(at,this._bbox),ut=this._createGradient(at);return ut}}function _(rt,at,ht,ft,ot,ut,ct,dt){const vt=at.coords,Et=at.colors,pt=rt.data,bt=rt.width*4;let Ct;vt[ht+1]>vt[ft+1]&&(Ct=ht,ht=ft,ft=Ct,Ct=ut,ut=ct,ct=Ct),vt[ft+1]>vt[ot+1]&&(Ct=ft,ft=ot,ot=Ct,Ct=ct,ct=dt,dt=Ct),vt[ht+1]>vt[ft+1]&&(Ct=ht,ht=ft,ft=Ct,Ct=ut,ut=ct,ct=Ct);const Bt=(vt[ht]+at.offsetX)*at.scaleX,jt=(vt[ht+1]+at.offsetY)*at.scaleY,Ft=(vt[ft]+at.offsetX)*at.scaleX,wt=(vt[ft+1]+at.offsetY)*at.scaleY,It=(vt[ot]+at.offsetX)*at.scaleX,yt=(vt[ot+1]+at.offsetY)*at.scaleY;if(jt>=yt)return;const Dt=Et[ut],Mt=Et[ut+1],St=Et[ut+2],gt=Et[ct],mt=Et[ct+1],xt=Et[ct+2],_t=Et[dt],At=Et[dt+1],Tt=Et[dt+2],Lt=Math.round(jt),Ut=Math.round(yt);let Zt,tr,lr,hr,dr,Gt,Jt,Rt;for(let Nt=Lt;Nt<=Ut;Nt++){if(Nt<wt){const pr=Nt<jt?0:(jt-Nt)/(jt-wt);Zt=Bt-(Bt-Ft)*pr,tr=Dt-(Dt-gt)*pr,lr=Mt-(Mt-mt)*pr,hr=St-(St-xt)*pr}else{let pr;Nt>yt?pr=1:wt===yt?pr=0:pr=(wt-Nt)/(wt-yt),Zt=Ft-(Ft-It)*pr,tr=gt-(gt-_t)*pr,lr=mt-(mt-At)*pr,hr=xt-(xt-Tt)*pr}let Ht;Nt<jt?Ht=0:Nt>yt?Ht=1:Ht=(jt-Nt)/(jt-yt),dr=Bt-(Bt-It)*Ht,Gt=Dt-(Dt-_t)*Ht,Jt=Mt-(Mt-At)*Ht,Rt=St-(St-Tt)*Ht;const qt=Math.round(Math.min(Zt,dr)),ar=Math.round(Math.max(Zt,dr));let vr=bt*Nt+qt*4;for(let pr=qt;pr<=ar;pr++)Ht=(Zt-pr)/(Zt-dr),Ht<0?Ht=0:Ht>1&&(Ht=1),pt[vr++]=tr-(tr-Gt)*Ht|0,pt[vr++]=lr-(lr-Jt)*Ht|0,pt[vr++]=hr-(hr-Rt)*Ht|0,pt[vr++]=255}}function $(rt,at,ht){const ft=at.coords,ot=at.colors;let ut,ct;switch(at.type){case"lattice":const dt=at.verticesPerRow,vt=Math.floor(ft.length/dt)-1,Et=dt-1;for(ut=0;ut<vt;ut++){let pt=ut*dt;for(let bt=0;bt<Et;bt++,pt++)_(rt,ht,ft[pt],ft[pt+1],ft[pt+dt],ot[pt],ot[pt+1],ot[pt+dt]),_(rt,ht,ft[pt+dt+1],ft[pt+1],ft[pt+dt],ot[pt+dt+1],ot[pt+1],ot[pt+dt])}break;case"triangles":for(ut=0,ct=ft.length;ut<ct;ut+=3)_(rt,ht,ft[ut],ft[ut+1],ft[ut+2],ot[ut],ot[ut+1],ot[ut+2]);break;default:throw new Error("illegal figure")}}class _e extends b{constructor(at){super(),this._coords=at[2],this._colors=at[3],this._figures=at[4],this._bounds=at[5],this._bbox=at[7],this._background=at[8],this.matrix=null}_createMeshCanvas(at,ht,ft){const dt=Math.floor(this._bounds[0]),vt=Math.floor(this._bounds[1]),Et=Math.ceil(this._bounds[2])-dt,pt=Math.ceil(this._bounds[3])-vt,bt=Math.min(Math.ceil(Math.abs(Et*at[0]*1.1)),3e3),Ct=Math.min(Math.ceil(Math.abs(pt*at[1]*1.1)),3e3),Bt=Et/bt,jt=pt/Ct,Ft={coords:this._coords,colors:this._colors,offsetX:-dt,offsetY:-vt,scaleX:1/Bt,scaleY:1/jt},wt=bt+2*2,It=Ct+2*2,yt=ft.getCanvas("mesh",wt,It,!1),Dt=yt.context,Mt=Dt.createImageData(bt,Ct);if(ht){const gt=Mt.data;for(let mt=0,xt=gt.length;mt<xt;mt+=4)gt[mt]=ht[0],gt[mt+1]=ht[1],gt[mt+2]=ht[2],gt[mt+3]=255}for(const gt of this._figures)$(Mt,gt,Ft);return Dt.putImageData(Mt,2,2),{canvas:yt.canvas,offsetX:dt-2*Bt,offsetY:vt-2*jt,scaleX:Bt,scaleY:jt}}getPattern(at,ht,ft,ot){g(at,this._bbox);let ut;if(ot===h.SHADING)ut=o.Util.singularValueDecompose2dScale((0,d.getCurrentTransform)(at));else if(ut=o.Util.singularValueDecompose2dScale(ht.baseTransform),this.matrix){const dt=o.Util.singularValueDecompose2dScale(this.matrix);ut=[ut[0]*dt[0],ut[1]*dt[1]]}const ct=this._createMeshCanvas(ut,ot===h.SHADING?null:this._background,ht.cachedCanvases);return ot!==h.SHADING&&(at.setTransform(...ht.baseTransform),this.matrix&&at.transform(...this.matrix)),at.translate(ct.offsetX,ct.offsetY),at.scale(ct.scaleX,ct.scaleY),at.createPattern(ct.canvas,"no-repeat")}}class et extends b{getPattern(){return"hotpink"}}function tt(rt){switch(rt[0]){case"RadialAxial":return new j(rt);case"Mesh":return new _e(rt);case"Dummy":return new et}throw new Error(`Unknown IR type: ${rt[0]}`)}const nt={COLORED:1,UNCOLORED:2},st=class st{constructor(at,ht,ft,ot,ut){this.operatorList=at[2],this.matrix=at[3]||[1,0,0,1,0,0],this.bbox=at[4],this.xstep=at[5],this.ystep=at[6],this.paintType=at[7],this.tilingType=at[8],this.color=ht,this.ctx=ft,this.canvasGraphicsFactory=ot,this.baseTransform=ut}createPatternCanvas(at){const ht=this.operatorList,ft=this.bbox,ot=this.xstep,ut=this.ystep,ct=this.paintType,dt=this.tilingType,vt=this.color,Et=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+dt);const pt=ft[0],bt=ft[1],Ct=ft[2],Bt=ft[3],jt=o.Util.singularValueDecompose2dScale(this.matrix),Ft=o.Util.singularValueDecompose2dScale(this.baseTransform),wt=[jt[0]*Ft[0],jt[1]*Ft[1]],It=this.getSizeAndScale(ot,this.ctx.canvas.width,wt[0]),yt=this.getSizeAndScale(ut,this.ctx.canvas.height,wt[1]),Dt=at.cachedCanvases.getCanvas("pattern",It.size,yt.size,!0),Mt=Dt.context,St=Et.createCanvasGraphics(Mt);St.groupLevel=at.groupLevel,this.setFillAndStrokeStyleToContext(St,ct,vt);let gt=pt,mt=bt,xt=Ct,_t=Bt;return pt<0&&(gt=0,xt+=Math.abs(pt)),bt<0&&(mt=0,_t+=Math.abs(bt)),Mt.translate(-(It.scale*gt),-(yt.scale*mt)),St.transform(It.scale,0,0,yt.scale,0,0),Mt.save(),this.clipBbox(St,gt,mt,xt,_t),St.baseTransform=(0,d.getCurrentTransform)(St.ctx),St.executeOperatorList(ht),St.endDrawing(),{canvas:Dt.canvas,scaleX:It.scale,scaleY:yt.scale,offsetX:gt,offsetY:mt}}getSizeAndScale(at,ht,ft){at=Math.abs(at);const ot=Math.max(st.MAX_PATTERN_SIZE,ht);let ut=Math.ceil(at*ft);return ut>=ot?ut=ot:ft=ut/at,{scale:ft,size:ut}}clipBbox(at,ht,ft,ot,ut){const ct=ot-ht,dt=ut-ft;at.ctx.rect(ht,ft,ct,dt),at.current.updateRectMinMax((0,d.getCurrentTransform)(at.ctx),[ht,ft,ot,ut]),at.clip(),at.endPath()}setFillAndStrokeStyleToContext(at,ht,ft){const ot=at.ctx,ut=at.current;switch(ht){case nt.COLORED:const ct=this.ctx;ot.fillStyle=ct.fillStyle,ot.strokeStyle=ct.strokeStyle,ut.fillColor=ct.fillStyle,ut.strokeColor=ct.strokeStyle;break;case nt.UNCOLORED:const dt=o.Util.makeHexColor(ft[0],ft[1],ft[2]);ot.fillStyle=dt,ot.strokeStyle=dt,ut.fillColor=dt,ut.strokeColor=dt;break;default:throw new o.FormatError(`Unsupported paint type: ${ht}`)}}getPattern(at,ht,ft,ot){let ut=ft;ot!==h.SHADING&&(ut=o.Util.transform(ut,ht.baseTransform),this.matrix&&(ut=o.Util.transform(ut,this.matrix)));const ct=this.createPatternCanvas(ht);let dt=new DOMMatrix(ut);dt=dt.translate(ct.offsetX,ct.offsetY),dt=dt.scale(1/ct.scaleX,1/ct.scaleY);const vt=at.createPattern(ct.canvas,"repeat");return vt.setTransform(dt),vt}};Hr(st,"MAX_PATTERN_SIZE",3e3);let it=st;e.TilingPattern=it},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=h,e.convertToRGBA=d,e.grayToRGBA=b,a(93),a(101),a(102),a(105),a(107),a(109),a(113),a(116),a(123);var o=a(1);function d(j){switch(j.kind){case o.ImageKind.GRAYSCALE_1BPP:return h(j);case o.ImageKind.RGB_24BPP:return g(j)}return null}function h(j){let{src:_,srcPos:$=0,dest:_e,width:et,height:tt,nonBlackColor:nt=4294967295,inverseDecode:it=!1}=j;const st=o.FeatureTest.isLittleEndian?4278190080:255,[rt,at]=it?[nt,st]:[st,nt],ht=et>>3,ft=et&7,ot=_.length;_e=new Uint32Array(_e.buffer);let ut=0;for(let ct=0;ct<tt;ct++){for(const vt=$+ht;$<vt;$++){const Et=$<ot?_[$]:255;_e[ut++]=Et&128?at:rt,_e[ut++]=Et&64?at:rt,_e[ut++]=Et&32?at:rt,_e[ut++]=Et&16?at:rt,_e[ut++]=Et&8?at:rt,_e[ut++]=Et&4?at:rt,_e[ut++]=Et&2?at:rt,_e[ut++]=Et&1?at:rt}if(ft===0)continue;const dt=$<ot?_[$++]:255;for(let vt=0;vt<ft;vt++)_e[ut++]=dt&1<<7-vt?at:rt}return{srcPos:$,destPos:ut}}function g(j){let{src:_,srcPos:$=0,dest:_e,destPos:et=0,width:tt,height:nt}=j,it=0;const st=_.length>>2,rt=new Uint32Array(_.buffer,$,st);if(o.FeatureTest.isLittleEndian){for(;it<st-2;it+=3,et+=4){const at=rt[it],ht=rt[it+1],ft=rt[it+2];_e[et]=at|4278190080,_e[et+1]=at>>>24|ht<<8|4278190080,_e[et+2]=ht>>>16|ft<<16|4278190080,_e[et+3]=ft>>>8|4278190080}for(let at=it*4,ht=_.length;at<ht;at+=3)_e[et++]=_[at]|_[at+1]<<8|_[at+2]<<16|4278190080}else{for(;it<st-2;it+=3,et+=4){const at=rt[it],ht=rt[it+1],ft=rt[it+2];_e[et]=at|255,_e[et+1]=at<<24|ht>>>8|255,_e[et+2]=ht<<16|ft>>>16|255,_e[et+3]=ft<<8|255}for(let at=it*4,ht=_.length;at<ht;at+=3)_e[et++]=_[at]<<24|_[at+1]<<16|_[at+2]<<8|255}return{srcPos:$,destPos:et}}function b(j,_){if(o.FeatureTest.isLittleEndian)for(let $=0,_e=j.length;$<_e;$++)_[$]=j[$]*65793|4278190080;else for(let $=0,_e=j.length;$<_e;$++)_[$]=j[$]*16843008|255}},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const a=Object.create(null);e.GlobalWorkerOptions=a,a.workerPort=null,a.workerSrc=""},(s,e,a)=>{var j,Io,No,Hn;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0,a(2);var o=a(1);const d={DATA:1,ERROR:2},h={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function g(et){switch(et instanceof Error||typeof et=="object"&&et!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),et.name){case"AbortException":return new o.AbortException(et.message);case"MissingPDFException":return new o.MissingPDFException(et.message);case"PasswordException":return new o.PasswordException(et.message,et.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(et.message,et.status);case"UnknownErrorException":return new o.UnknownErrorException(et.message,et.details);default:return new o.UnknownErrorException(et.message,et.toString())}}class b{constructor(tt,nt,it){$t(this,j);this.sourceName=tt,this.targetName=nt,this.comObj=it,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=st=>{const rt=st.data;if(rt.targetName!==this.sourceName)return;if(rt.stream){Wt(this,j,No).call(this,rt);return}if(rt.callback){const ht=rt.callbackId,ft=this.callbackCapabilities[ht];if(!ft)throw new Error(`Cannot resolve callback ${ht}`);if(delete this.callbackCapabilities[ht],rt.callback===d.DATA)ft.resolve(rt.data);else if(rt.callback===d.ERROR)ft.reject(g(rt.reason));else throw new Error("Unexpected callback case");return}const at=this.actionHandler[rt.action];if(!at)throw new Error(`Unknown action from worker: ${rt.action}`);if(rt.callbackId){const ht=this.sourceName,ft=rt.sourceName;new Promise(function(ot){ot(at(rt.data))}).then(function(ot){it.postMessage({sourceName:ht,targetName:ft,callback:d.DATA,callbackId:rt.callbackId,data:ot})},function(ot){it.postMessage({sourceName:ht,targetName:ft,callback:d.ERROR,callbackId:rt.callbackId,reason:g(ot)})});return}if(rt.streamId){Wt(this,j,Io).call(this,rt);return}at(rt.data)},it.addEventListener("message",this._onComObjOnMessage)}on(tt,nt){const it=this.actionHandler;if(it[tt])throw new Error(`There is already an actionName called "${tt}"`);it[tt]=nt}send(tt,nt,it){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:tt,data:nt},it)}sendWithPromise(tt,nt,it){const st=this.callbackId++,rt=new o.PromiseCapability;this.callbackCapabilities[st]=rt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:tt,callbackId:st,data:nt},it)}catch(at){rt.reject(at)}return rt.promise}sendWithStream(tt,nt,it,st){const rt=this.streamId++,at=this.sourceName,ht=this.targetName,ft=this.comObj;return new ReadableStream({start:ot=>{const ut=new o.PromiseCapability;return this.streamControllers[rt]={controller:ot,startCall:ut,pullCall:null,cancelCall:null,isClosed:!1},ft.postMessage({sourceName:at,targetName:ht,action:tt,streamId:rt,data:nt,desiredSize:ot.desiredSize},st),ut.promise},pull:ot=>{const ut=new o.PromiseCapability;return this.streamControllers[rt].pullCall=ut,ft.postMessage({sourceName:at,targetName:ht,stream:h.PULL,streamId:rt,desiredSize:ot.desiredSize}),ut.promise},cancel:ot=>{(0,o.assert)(ot instanceof Error,"cancel must have a valid reason");const ut=new o.PromiseCapability;return this.streamControllers[rt].cancelCall=ut,this.streamControllers[rt].isClosed=!0,ft.postMessage({sourceName:at,targetName:ht,stream:h.CANCEL,streamId:rt,reason:g(ot)}),ut.promise}},it)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}j=new WeakSet,Io=function(tt){const nt=tt.streamId,it=this.sourceName,st=tt.sourceName,rt=this.comObj,at=this,ht=this.actionHandler[tt.action],ft={enqueue(ot){let ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ct=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const dt=this.desiredSize;this.desiredSize-=ut,dt>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),rt.postMessage({sourceName:it,targetName:st,stream:h.ENQUEUE,streamId:nt,chunk:ot},ct)},close(){this.isCancelled||(this.isCancelled=!0,rt.postMessage({sourceName:it,targetName:st,stream:h.CLOSE,streamId:nt}),delete at.streamSinks[nt])},error(ot){(0,o.assert)(ot instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,rt.postMessage({sourceName:it,targetName:st,stream:h.ERROR,streamId:nt,reason:g(ot)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:tt.desiredSize,ready:null};ft.sinkCapability.resolve(),ft.ready=ft.sinkCapability.promise,this.streamSinks[nt]=ft,new Promise(function(ot){ot(ht(tt.data,ft))}).then(function(){rt.postMessage({sourceName:it,targetName:st,stream:h.START_COMPLETE,streamId:nt,success:!0})},function(ot){rt.postMessage({sourceName:it,targetName:st,stream:h.START_COMPLETE,streamId:nt,reason:g(ot)})})},No=function(tt){const nt=tt.streamId,it=this.sourceName,st=tt.sourceName,rt=this.comObj,at=this.streamControllers[nt],ht=this.streamSinks[nt];switch(tt.stream){case h.START_COMPLETE:tt.success?at.startCall.resolve():at.startCall.reject(g(tt.reason));break;case h.PULL_COMPLETE:tt.success?at.pullCall.resolve():at.pullCall.reject(g(tt.reason));break;case h.PULL:if(!ht){rt.postMessage({sourceName:it,targetName:st,stream:h.PULL_COMPLETE,streamId:nt,success:!0});break}ht.desiredSize<=0&&tt.desiredSize>0&&ht.sinkCapability.resolve(),ht.desiredSize=tt.desiredSize,new Promise(function(ft){var ot;ft((ot=ht.onPull)==null?void 0:ot.call(ht))}).then(function(){rt.postMessage({sourceName:it,targetName:st,stream:h.PULL_COMPLETE,streamId:nt,success:!0})},function(ft){rt.postMessage({sourceName:it,targetName:st,stream:h.PULL_COMPLETE,streamId:nt,reason:g(ft)})});break;case h.ENQUEUE:if((0,o.assert)(at,"enqueue should have stream controller"),at.isClosed)break;at.controller.enqueue(tt.chunk);break;case h.CLOSE:if((0,o.assert)(at,"close should have stream controller"),at.isClosed)break;at.isClosed=!0,at.controller.close(),Wt(this,j,Hn).call(this,at,nt);break;case h.ERROR:(0,o.assert)(at,"error should have stream controller"),at.controller.error(g(tt.reason)),Wt(this,j,Hn).call(this,at,nt);break;case h.CANCEL_COMPLETE:tt.success?at.cancelCall.resolve():at.cancelCall.reject(g(tt.reason)),Wt(this,j,Hn).call(this,at,nt);break;case h.CANCEL:if(!ht)break;new Promise(function(ft){var ot;ft((ot=ht.onCancel)==null?void 0:ot.call(ht,g(tt.reason)))}).then(function(){rt.postMessage({sourceName:it,targetName:st,stream:h.CANCEL_COMPLETE,streamId:nt,success:!0})},function(ft){rt.postMessage({sourceName:it,targetName:st,stream:h.CANCEL_COMPLETE,streamId:nt,reason:g(ft)})}),ht.sinkCapability.reject(g(tt.reason)),ht.isCancelled=!0,delete this.streamSinks[nt];break;default:throw new Error("Unexpected stream case")}},Hn=async function(tt,nt){var it,st,rt;await Promise.allSettled([(it=tt.startCall)==null?void 0:it.promise,(st=tt.pullCall)==null?void 0:st.promise,(rt=tt.cancelCall)==null?void 0:rt.promise]),delete this.streamControllers[nt]},e.MessageHandler=b},(s,e,a)=>{var h,g;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var o=a(1);class d{constructor(j){$t(this,h);$t(this,g);let{parsedData:_,rawData:$}=j;Qt(this,h,_),Qt(this,g,$)}getRaw(){return lt(this,g)}get(j){return lt(this,h).get(j)??null}getAll(){return(0,o.objectFromMap)(lt(this,h))}has(j){return lt(this,h).has(j)}}h=new WeakMap,g=new WeakMap,e.Metadata=d},(s,e,a)=>{var j,_,$,_e,et,tt,_s;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var o=a(1),d=a(170);const h=Symbol("INTERNAL");class g{constructor(st,rt){$t(this,j,!0);this.name=st,this.intent=rt}get visible(){return lt(this,j)}_setVisible(st,rt){st!==h&&(0,o.unreachable)("Internal method `_setVisible` called."),Qt(this,j,rt)}}j=new WeakMap;class b{constructor(st){$t(this,tt);$t(this,_,null);$t(this,$,new Map);$t(this,_e,null);$t(this,et,null);if(this.name=null,this.creator=null,st!==null){this.name=st.name,this.creator=st.creator,Qt(this,et,st.order);for(const rt of st.groups)lt(this,$).set(rt.id,new g(rt.name,rt.intent));if(st.baseState==="OFF")for(const rt of lt(this,$).values())rt._setVisible(h,!1);for(const rt of st.on)lt(this,$).get(rt)._setVisible(h,!0);for(const rt of st.off)lt(this,$).get(rt)._setVisible(h,!1);Qt(this,_e,this.getHash())}}isVisible(st){if(lt(this,$).size===0)return!0;if(!st)return(0,o.warn)("Optional content group not defined."),!0;if(st.type==="OCG")return lt(this,$).has(st.id)?lt(this,$).get(st.id).visible:((0,o.warn)(`Optional content group not found: ${st.id}`),!0);if(st.type==="OCMD"){if(st.expression)return Wt(this,tt,_s).call(this,st.expression);if(!st.policy||st.policy==="AnyOn"){for(const rt of st.ids){if(!lt(this,$).has(rt))return(0,o.warn)(`Optional content group not found: ${rt}`),!0;if(lt(this,$).get(rt).visible)return!0}return!1}else if(st.policy==="AllOn"){for(const rt of st.ids){if(!lt(this,$).has(rt))return(0,o.warn)(`Optional content group not found: ${rt}`),!0;if(!lt(this,$).get(rt).visible)return!1}return!0}else if(st.policy==="AnyOff"){for(const rt of st.ids){if(!lt(this,$).has(rt))return(0,o.warn)(`Optional content group not found: ${rt}`),!0;if(!lt(this,$).get(rt).visible)return!0}return!1}else if(st.policy==="AllOff"){for(const rt of st.ids){if(!lt(this,$).has(rt))return(0,o.warn)(`Optional content group not found: ${rt}`),!0;if(lt(this,$).get(rt).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${st.policy}.`),!0}return(0,o.warn)(`Unknown group type ${st.type}.`),!0}setVisibility(st){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!lt(this,$).has(st)){(0,o.warn)(`Optional content group not found: ${st}`);return}lt(this,$).get(st)._setVisible(h,!!rt),Qt(this,_,null)}get hasInitialVisibility(){return lt(this,_e)===null||this.getHash()===lt(this,_e)}getOrder(){return lt(this,$).size?lt(this,et)?lt(this,et).slice():[...lt(this,$).keys()]:null}getGroups(){return lt(this,$).size>0?(0,o.objectFromMap)(lt(this,$)):null}getGroup(st){return lt(this,$).get(st)||null}getHash(){if(lt(this,_)!==null)return lt(this,_);const st=new d.MurmurHash3_64;for(const[rt,at]of lt(this,$))st.update(`${rt}:${at.visible}`);return Qt(this,_,st.hexdigest())}}_=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakSet,_s=function(st){const rt=st.length;if(rt<2)return!0;const at=st[0];for(let ht=1;ht<rt;ht++){const ft=st[ht];let ot;if(Array.isArray(ft))ot=Wt(this,tt,_s).call(this,ft);else if(lt(this,$).has(ft))ot=lt(this,$).get(ft).visible;else return(0,o.warn)(`Optional content group not found: ${ft}`),!0;switch(at){case"And":if(!ot)return!1;break;case"Or":if(ot)return!0;break;case"Not":return!ot;default:return!0}}return at==="And"},e.OptionalContentConfig=b},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0,a(93),a(101),a(102),a(105),a(107),a(109),a(113),a(116),a(123),a(89);var o=a(1),d=a(168);class h{constructor(_,$){let{length:_e,initialData:et,progressiveDone:tt=!1,contentDispositionFilename:nt=null,disableRange:it=!1,disableStream:st=!1}=_;if((0,o.assert)($,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=tt,this._contentDispositionFilename=nt,(et==null?void 0:et.length)>0){const rt=et instanceof Uint8Array&&et.byteLength===et.buffer.byteLength?et.buffer:new Uint8Array(et).buffer;this._queuedChunks.push(rt)}this._pdfDataRangeTransport=$,this._isStreamingSupported=!st,this._isRangeSupported=!it,this._contentLength=_e,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((rt,at)=>{this._onReceiveData({begin:rt,chunk:at})}),this._pdfDataRangeTransport.addProgressListener((rt,at)=>{this._onProgress({loaded:rt,total:at})}),this._pdfDataRangeTransport.addProgressiveReadListener(rt=>{this._onReceiveData({chunk:rt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(_){let{begin:$,chunk:_e}=_;const et=_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength?_e.buffer:new Uint8Array(_e).buffer;if($===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(et):this._queuedChunks.push(et);else{const tt=this._rangeReaders.some(function(nt){return nt._begin!==$?!1:(nt._enqueue(et),!0)});(0,o.assert)(tt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _;return((_=this._fullRequestReader)==null?void 0:_._loaded)??0}_onProgress(_){var $,_e,et,tt;_.total===void 0?(_e=($=this._rangeReaders[0])==null?void 0:$.onProgress)==null||_e.call($,{loaded:_.loaded}):(tt=(et=this._fullRequestReader)==null?void 0:et.onProgress)==null||tt.call(et,{loaded:_.loaded,total:_.total})}_onProgressiveDone(){var _;(_=this._fullRequestReader)==null||_.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_){const $=this._rangeReaders.indexOf(_);$>=0&&this._rangeReaders.splice($,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _=this._queuedChunks;return this._queuedChunks=null,new g(this,_,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_,$){if($<=this._progressiveDataLength)return null;const _e=new b(this,_,$);return this._pdfDataRangeTransport.requestDataRange(_,$),this._rangeReaders.push(_e),_e}cancelAllRequests(_){var $;($=this._fullRequestReader)==null||$.cancel(_);for(const _e of this._rangeReaders.slice(0))_e.cancel(_);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=h;class g{constructor(_,$){let _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=_,this._done=_e||!1,this._filename=(0,d.isPdfFile)(et)?et:null,this._queuedChunks=$||[],this._loaded=0;for(const tt of this._queuedChunks)this._loaded+=tt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_._fullRequestReader=this,this.onProgress=null}_enqueue(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=new o.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class b{constructor(_,$,_e){this._stream=_,this._begin=$,this._end=_e,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_){if(!this._done){if(this._requests.length===0)this._queuedChunk=_;else{this._requests.shift().resolve({value:_,done:!1});for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const $=this._queuedChunk;return this._queuedChunk=null,{value:$,done:!1}}if(this._done)return{value:void 0,done:!0};const _=new o.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0,a(93),a(101),a(102),a(105),a(107),a(109),a(113),a(116),a(123),a(89);var o=a(1),d=a(182);function h(_e,et,tt){return{method:"GET",headers:_e,signal:tt.signal,mode:"cors",credentials:et?"include":"same-origin",redirect:"follow"}}function g(_e){const et=new Headers;for(const tt in _e){const nt=_e[tt];nt!==void 0&&et.append(tt,nt)}return et}function b(_e){return _e instanceof Uint8Array?_e.buffer:_e instanceof ArrayBuffer?_e:((0,o.warn)(`getArrayBuffer - unexpected data format: ${_e}`),new Uint8Array(_e).buffer)}class j{constructor(et){this.source=et,this.isHttp=/^https?:/i.test(et.url),this.httpHeaders=this.isHttp&&et.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var et;return((et=this._fullRequestReader)==null?void 0:et._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _(this),this._fullRequestReader}getRangeReader(et,tt){if(tt<=this._progressiveDataLength)return null;const nt=new $(this,et,tt);return this._rangeRequestReaders.push(nt),nt}cancelAllRequests(et){var tt;(tt=this._fullRequestReader)==null||tt.cancel(et);for(const nt of this._rangeRequestReaders.slice(0))nt.cancel(et)}}e.PDFFetchStream=j;class _{constructor(et){this._stream=et,this._reader=null,this._loaded=0,this._filename=null;const tt=et.source;this._withCredentials=tt.withCredentials||!1,this._contentLength=tt.length,this._headersCapability=new o.PromiseCapability,this._disableRange=tt.disableRange||!1,this._rangeChunkSize=tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!tt.disableStream,this._isRangeSupported=!tt.disableRange,this._headers=g(this._stream.httpHeaders);const nt=tt.url;fetch(nt,h(this._headers,this._withCredentials,this._abortController)).then(it=>{if(!(0,d.validateResponseStatus)(it.status))throw(0,d.createResponseStatusError)(it.status,nt);this._reader=it.body.getReader(),this._headersCapability.resolve();const st=ht=>it.headers.get(ht),{allowRangeRequests:rt,suggestedLength:at}=(0,d.validateRangeRequestCapabilities)({getResponseHeader:st,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=rt,this._contentLength=at||this._contentLength,this._filename=(0,d.extractFilenameFromHeader)(st),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var nt;await this._headersCapability.promise;const{value:et,done:tt}=await this._reader.read();return tt?{value:et,done:tt}:(this._loaded+=et.byteLength,(nt=this.onProgress)==null||nt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:b(et),done:!1})}cancel(et){var tt;(tt=this._reader)==null||tt.cancel(et),this._abortController.abort()}}class ${constructor(et,tt,nt){this._stream=et,this._reader=null,this._loaded=0;const it=et.source;this._withCredentials=it.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!it.disableStream,this._abortController=new AbortController,this._headers=g(this._stream.httpHeaders),this._headers.append("Range",`bytes=${tt}-${nt-1}`);const st=it.url;fetch(st,h(this._headers,this._withCredentials,this._abortController)).then(rt=>{if(!(0,d.validateResponseStatus)(rt.status))throw(0,d.createResponseStatusError)(rt.status,st);this._readCapability.resolve(),this._reader=rt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var nt;await this._readCapability.promise;const{value:et,done:tt}=await this._reader.read();return tt?{value:et,done:tt}:(this._loaded+=et.byteLength,(nt=this.onProgress)==null||nt.call(this,{loaded:this._loaded}),{value:b(et),done:!1})}cancel(et){var tt;(tt=this._reader)==null||tt.cancel(et),this._abortController.abort()}}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=j,e.extractFilenameFromHeader=b,e.validateRangeRequestCapabilities=g,e.validateResponseStatus=_;var o=a(1),d=a(183),h=a(168);function g($){let{getResponseHeader:_e,isHttp:et,rangeChunkSize:tt,disableRange:nt}=$;const it={allowRangeRequests:!1,suggestedLength:void 0},st=parseInt(_e("Content-Length"),10);return!Number.isInteger(st)||(it.suggestedLength=st,st<=2*tt)||nt||!et||_e("Accept-Ranges")!=="bytes"||(_e("Content-Encoding")||"identity")!=="identity"||(it.allowRangeRequests=!0),it}function b($){const _e=$("Content-Disposition");if(_e){let et=(0,d.getFilenameFromContentDispositionHeader)(_e);if(et.includes("%"))try{et=decodeURIComponent(et)}catch{}if((0,h.isPdfFile)(et))return et}return null}function j($,_e){return $===404||$===0&&_e.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+_e+'".'):new o.UnexpectedResponseException(`Unexpected server response (${$}) while retrieving PDF "${_e}".`,$)}function _($){return $===200||$===206}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=d,a(89),a(149);var o=a(1);function d(h){let g=!0,b=j("filename\\*","i").exec(h);if(b){b=b[1];let it=et(b);return it=unescape(it),it=tt(it),it=nt(it),$(it)}if(b=_e(h),b){const it=nt(b);return $(it)}if(b=j("filename","i").exec(h),b){b=b[1];let it=et(b);return it=nt(it),$(it)}function j(it,st){return new RegExp("(?:^|;)\\s*"+it+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',st)}function _(it,st){if(it){if(!/^[\x00-\xFF]+$/.test(st))return st;try{const rt=new TextDecoder(it,{fatal:!0}),at=(0,o.stringToBytes)(st);st=rt.decode(at),g=!1}catch{}}return st}function $(it){return g&&/[\x80-\xff]/.test(it)&&(it=_("utf-8",it),g&&(it=_("iso-8859-1",it))),it}function _e(it){const st=[];let rt;const at=j("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(rt=at.exec(it))!==null;){let[,ft,ot,ut]=rt;if(ft=parseInt(ft,10),ft in st){if(ft===0)break;continue}st[ft]=[ot,ut]}const ht=[];for(let ft=0;ft<st.length&&ft in st;++ft){let[ot,ut]=st[ft];ut=et(ut),ot&&(ut=unescape(ut),ft===0&&(ut=tt(ut))),ht.push(ut)}return ht.join("")}function et(it){if(it.startsWith('"')){const st=it.slice(1).split('\\"');for(let rt=0;rt<st.length;++rt){const at=st[rt].indexOf('"');at!==-1&&(st[rt]=st[rt].slice(0,at),st.length=rt+1),st[rt]=st[rt].replaceAll(/\\(.)/g,"$1")}it=st.join('"')}return it}function tt(it){const st=it.indexOf("'");if(st===-1)return it;const rt=it.slice(0,st),ht=it.slice(st+1).replace(/^[^']*'/,"");return _(rt,ht)}function nt(it){return!it.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(it)?it:it.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(st,rt,at,ht){if(at==="q"||at==="Q")return ht=ht.replaceAll("_"," "),ht=ht.replaceAll(/=([0-9a-fA-F]{2})/g,function(ft,ot){return String.fromCharCode(parseInt(ot,16))}),_(rt,ht);try{ht=atob(ht)}catch{}return _(rt,ht)})}return""}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0,a(89);var o=a(1),d=a(182);const h=200,g=206;function b(et){const tt=et.response;return typeof tt!="string"?tt:(0,o.stringToBytes)(tt).buffer}class j{constructor(tt){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=tt,this.isHttp=/^https?:/i.test(tt),this.httpHeaders=this.isHttp&&nt.httpHeaders||Object.create(null),this.withCredentials=nt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(tt,nt,it){const st={begin:tt,end:nt};for(const rt in it)st[rt]=it[rt];return this.request(st)}requestFull(tt){return this.request(tt)}request(tt){const nt=new XMLHttpRequest,it=this.currXhrId++,st=this.pendingRequests[it]={xhr:nt};nt.open("GET",this.url),nt.withCredentials=this.withCredentials;for(const rt in this.httpHeaders){const at=this.httpHeaders[rt];at!==void 0&&nt.setRequestHeader(rt,at)}return this.isHttp&&"begin"in tt&&"end"in tt?(nt.setRequestHeader("Range",`bytes=${tt.begin}-${tt.end-1}`),st.expectedStatus=g):st.expectedStatus=h,nt.responseType="arraybuffer",tt.onError&&(nt.onerror=function(rt){tt.onError(nt.status)}),nt.onreadystatechange=this.onStateChange.bind(this,it),nt.onprogress=this.onProgress.bind(this,it),st.onHeadersReceived=tt.onHeadersReceived,st.onDone=tt.onDone,st.onError=tt.onError,st.onProgress=tt.onProgress,nt.send(null),it}onProgress(tt,nt){var st;const it=this.pendingRequests[tt];it&&((st=it.onProgress)==null||st.call(it,nt))}onStateChange(tt,nt){var ft,ot,ut;const it=this.pendingRequests[tt];if(!it)return;const st=it.xhr;if(st.readyState>=2&&it.onHeadersReceived&&(it.onHeadersReceived(),delete it.onHeadersReceived),st.readyState!==4||!(tt in this.pendingRequests))return;if(delete this.pendingRequests[tt],st.status===0&&this.isHttp){(ft=it.onError)==null||ft.call(it,st.status);return}const rt=st.status||h;if(!(rt===h&&it.expectedStatus===g)&&rt!==it.expectedStatus){(ot=it.onError)==null||ot.call(it,st.status);return}const ht=b(st);if(rt===g){const ct=st.getResponseHeader("Content-Range"),dt=/bytes (\d+)-(\d+)\/(\d+)/.exec(ct);it.onDone({begin:parseInt(dt[1],10),chunk:ht})}else ht?it.onDone({begin:0,chunk:ht}):(ut=it.onError)==null||ut.call(it,st.status)}getRequestXhr(tt){return this.pendingRequests[tt].xhr}isPendingRequest(tt){return tt in this.pendingRequests}abortRequest(tt){const nt=this.pendingRequests[tt].xhr;delete this.pendingRequests[tt],nt.abort()}}class _{constructor(tt){this._source=tt,this._manager=new j(tt.url,{httpHeaders:tt.httpHeaders,withCredentials:tt.withCredentials}),this._rangeChunkSize=tt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(tt){const nt=this._rangeRequestReaders.indexOf(tt);nt>=0&&this._rangeRequestReaders.splice(nt,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $(this._manager,this._source),this._fullRequestReader}getRangeReader(tt,nt){const it=new _e(this._manager,tt,nt);return it.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(it),it}cancelAllRequests(tt){var nt;(nt=this._fullRequestReader)==null||nt.cancel(tt);for(const it of this._rangeRequestReaders.slice(0))it.cancel(tt)}}e.PDFNetworkStream=_;class ${constructor(tt,nt){this._manager=tt;const it={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=nt.url,this._fullRequestId=tt.requestFull(it),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=nt.disableRange||!1,this._contentLength=nt.length,this._rangeChunkSize=nt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const tt=this._fullRequestId,nt=this._manager.getRequestXhr(tt),it=at=>nt.getResponseHeader(at),{allowRangeRequests:st,suggestedLength:rt}=(0,d.validateRangeRequestCapabilities)({getResponseHeader:it,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});st&&(this._isRangeSupported=!0),this._contentLength=rt||this._contentLength,this._filename=(0,d.extractFilenameFromHeader)(it),this._isRangeSupported&&this._manager.abortRequest(tt),this._headersReceivedCapability.resolve()}_onDone(tt){if(tt&&(this._requests.length>0?this._requests.shift().resolve({value:tt.chunk,done:!1}):this._cachedChunks.push(tt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(tt){this._storedError=(0,d.createResponseStatusError)(tt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const nt of this._requests)nt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(tt){var nt;(nt=this.onProgress)==null||nt.call(this,{loaded:tt.loaded,total:tt.lengthComputable?tt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const tt=new o.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0,this._headersReceivedCapability.reject(tt);for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _e{constructor(tt,nt,it){this._manager=tt;const st={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=tt.url,this._requestId=tt.requestRange(nt,it,st),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var tt;(tt=this.onClosed)==null||tt.call(this,this)}_onDone(tt){const nt=tt.chunk;this._requests.length>0?this._requests.shift().resolve({value:nt,done:!1}):this._queuedChunk=nt,this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(tt){this._storedError=(0,d.createResponseStatusError)(tt,this._url);for(const nt of this._requests)nt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(tt){var nt;this.isStreamingSupported||(nt=this.onProgress)==null||nt.call(this,{loaded:tt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const nt=this._queuedChunk;return this._queuedChunk=null,{value:nt,done:!1}}if(this._done)return{value:void 0,done:!0};const tt=new o.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0,a(89),a(93),a(101),a(102),a(105),a(107),a(109),a(113),a(116),a(123);var o=a(1),d=a(182);const h=/^file:\/\/\/[a-zA-Z]:\//;function g(it){const st=require$$5,rt=st.parse(it);return rt.protocol==="file:"||rt.host?rt:/^[a-z]:[/\\]/i.test(it)?st.parse(`file:///${it}`):(rt.host||(rt.protocol="file:"),rt)}class b{constructor(st){this.source=st,this.url=g(st.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&st.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new tt(this):new _e(this),this._fullRequestReader}getRangeReader(st,rt){if(rt<=this._progressiveDataLength)return null;const at=this.isFsUrl?new nt(this,st,rt):new et(this,st,rt);return this._rangeRequestReaders.push(at),at}cancelAllRequests(st){var rt;(rt=this._fullRequestReader)==null||rt.cancel(st);for(const at of this._rangeRequestReaders.slice(0))at.cancel(st)}}e.PDFNodeStream=b;class j{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null;const rt=st.source;this._contentLength=rt.length,this._loaded=0,this._filename=null,this._disableRange=rt.disableRange||!1,this._rangeChunkSize=rt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!rt.disableStream,this._isRangeSupported=!rt.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var at;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=st.length,(at=this.onProgress)==null||at.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",rt=>{this._error(rt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const rt=st.source;this._isStreamingSupported=!rt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var at;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=st.length,(at=this.onProgress)==null||at.call(this,{loaded:this._loaded}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",rt=>{this._error(rt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function $(it,st){return{protocol:it.protocol,auth:it.auth,host:it.hostname,port:it.port,path:it.path,method:"GET",headers:st}}class _e extends j{constructor(st){super(st);const rt=at=>{if(at.statusCode===404){const ut=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ut,this._headersCapability.reject(ut);return}this._headersCapability.resolve(),this._setReadableStream(at);const ht=ut=>this._readableStream.headers[ut.toLowerCase()],{allowRangeRequests:ft,suggestedLength:ot}=(0,d.validateRangeRequestCapabilities)({getResponseHeader:ht,isHttp:st.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ft,this._contentLength=ot||this._contentLength,this._filename=(0,d.extractFilenameFromHeader)(ht)};if(this._request=null,this._url.protocol==="http:"){const at=require$$5;this._request=at.request($(this._url,st.httpHeaders),rt)}else{const at=require$$5;this._request=at.request($(this._url,st.httpHeaders),rt)}this._request.on("error",at=>{this._storedError=at,this._headersCapability.reject(at)}),this._request.end()}}class et extends _{constructor(st,rt,at){super(st),this._httpHeaders={};for(const ft in st.httpHeaders){const ot=st.httpHeaders[ft];ot!==void 0&&(this._httpHeaders[ft]=ot)}this._httpHeaders.Range=`bytes=${rt}-${at-1}`;const ht=ft=>{if(ft.statusCode===404){const ot=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ot;return}this._setReadableStream(ft)};if(this._request=null,this._url.protocol==="http:"){const ft=require$$5;this._request=ft.request($(this._url,this._httpHeaders),ht)}else{const ft=require$$5;this._request=ft.request($(this._url,this._httpHeaders),ht)}this._request.on("error",ft=>{this._storedError=ft}),this._request.end()}}class tt extends j{constructor(st){super(st);let rt=decodeURIComponent(this._url.path);h.test(this._url.href)&&(rt=rt.replace(/^\//,""));const at=require$$5;at.lstat(rt,(ht,ft)=>{if(ht){ht.code==="ENOENT"&&(ht=new o.MissingPDFException(`Missing PDF "${rt}".`)),this._storedError=ht,this._headersCapability.reject(ht);return}this._contentLength=ft.size,this._setReadableStream(at.createReadStream(rt)),this._headersCapability.resolve()})}}class nt extends _{constructor(st,rt,at){super(st);let ht=decodeURIComponent(this._url.path);h.test(this._url.href)&&(ht=ht.replace(/^\//,""));const ft=require$$5;this._setReadableStream(ft.createReadStream(ht,{start:rt,end:at-1}))}}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0,a(84),a(86),a(87),a(93),a(101),a(102),a(105),a(107),a(109),a(113),a(116),a(123),a(2),a(89),a(187);var o=a(168),d=a(1);const h={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},g="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/1999/xlink",j=["butt","round","square"],_=["miter","round","bevel"],$=function(ft){let ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!ut)return URL.createObjectURL(new Blob([ft],{type:ot}));const ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let dt=`data:${ot};base64,`;for(let vt=0,Et=ft.length;vt<Et;vt+=3){const pt=ft[vt]&255,bt=ft[vt+1]&255,Ct=ft[vt+2]&255,Bt=pt>>2,jt=(pt&3)<<4|bt>>4,Ft=vt+1<Et?(bt&15)<<2|Ct>>6:64,wt=vt+2<Et?Ct&63:64;dt+=ct[Bt]+ct[jt]+ct[Ft]+ct[wt]}return dt},_e=function(){const ft=new Uint8Array([137,80,78,71,13,10,26,10]),ot=12,ut=new Int32Array(256);for(let Ct=0;Ct<256;Ct++){let Bt=Ct;for(let jt=0;jt<8;jt++)Bt=Bt&1?3988292384^Bt>>1&2147483647:Bt>>1&2147483647;ut[Ct]=Bt}function ct(Ct,Bt,jt){let Ft=-1;for(let wt=Bt;wt<jt;wt++){const It=(Ft^Ct[wt])&255,yt=ut[It];Ft=Ft>>>8^yt}return Ft^-1}function dt(Ct,Bt,jt,Ft){let wt=Ft;const It=Bt.length;jt[wt]=It>>24&255,jt[wt+1]=It>>16&255,jt[wt+2]=It>>8&255,jt[wt+3]=It&255,wt+=4,jt[wt]=Ct.charCodeAt(0)&255,jt[wt+1]=Ct.charCodeAt(1)&255,jt[wt+2]=Ct.charCodeAt(2)&255,jt[wt+3]=Ct.charCodeAt(3)&255,wt+=4,jt.set(Bt,wt),wt+=Bt.length;const yt=ct(jt,Ft+4,wt);jt[wt]=yt>>24&255,jt[wt+1]=yt>>16&255,jt[wt+2]=yt>>8&255,jt[wt+3]=yt&255}function vt(Ct,Bt,jt){let Ft=1,wt=0;for(let It=Bt;It<jt;++It)Ft=(Ft+(Ct[It]&255))%65521,wt=(wt+Ft)%65521;return wt<<16|Ft}function Et(Ct){if(!d.isNodeJS)return pt(Ct);try{const Bt=parseInt(process.versions.node)>=8?Ct:Buffer.from(Ct),jt=require$$5.deflateSync(Bt,{level:9});return jt instanceof Uint8Array?jt:new Uint8Array(jt)}catch(Bt){(0,d.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Bt)}return pt(Ct)}function pt(Ct){let Bt=Ct.length;const jt=65535,Ft=Math.ceil(Bt/jt),wt=new Uint8Array(2+Bt+Ft*5+4);let It=0;wt[It++]=120,wt[It++]=156;let yt=0;for(;Bt>jt;)wt[It++]=0,wt[It++]=255,wt[It++]=255,wt[It++]=0,wt[It++]=0,wt.set(Ct.subarray(yt,yt+jt),It),It+=jt,yt+=jt,Bt-=jt;wt[It++]=1,wt[It++]=Bt&255,wt[It++]=Bt>>8&255,wt[It++]=~Bt&65535&255,wt[It++]=(~Bt&65535)>>8&255,wt.set(Ct.subarray(yt),It),It+=Ct.length-yt;const Dt=vt(Ct,0,Ct.length);return wt[It++]=Dt>>24&255,wt[It++]=Dt>>16&255,wt[It++]=Dt>>8&255,wt[It++]=Dt&255,wt}function bt(Ct,Bt,jt,Ft){const wt=Ct.width,It=Ct.height;let yt,Dt,Mt;const St=Ct.data;switch(Bt){case d.ImageKind.GRAYSCALE_1BPP:Dt=0,yt=1,Mt=wt+7>>3;break;case d.ImageKind.RGB_24BPP:Dt=2,yt=8,Mt=wt*3;break;case d.ImageKind.RGBA_32BPP:Dt=6,yt=8,Mt=wt*4;break;default:throw new Error("invalid format")}const gt=new Uint8Array((1+Mt)*It);let mt=0,xt=0;for(let Zt=0;Zt<It;++Zt)gt[mt++]=0,gt.set(St.subarray(xt,xt+Mt),mt),xt+=Mt,mt+=Mt;if(Bt===d.ImageKind.GRAYSCALE_1BPP&&Ft){mt=0;for(let Zt=0;Zt<It;Zt++){mt++;for(let tr=0;tr<Mt;tr++)gt[mt++]^=255}}const _t=new Uint8Array([wt>>24&255,wt>>16&255,wt>>8&255,wt&255,It>>24&255,It>>16&255,It>>8&255,It&255,yt,Dt,0,0,0]),At=Et(gt),Tt=ft.length+ot*3+_t.length+At.length,Lt=new Uint8Array(Tt);let Ut=0;return Lt.set(ft,Ut),Ut+=ft.length,dt("IHDR",_t,Lt,Ut),Ut+=ot+_t.length,dt("IDATA",At,Lt,Ut),Ut+=ot+At.length,dt("IEND",new Uint8Array(0),Lt,Ut),$(Lt,"image/png",jt)}return function(Bt,jt,Ft){const wt=Bt.kind===void 0?d.ImageKind.GRAYSCALE_1BPP:Bt.kind;return bt(Bt,wt,jt,Ft)}}();class et{constructor(){this.fontSizeScale=1,this.fontWeight=h.fontWeight,this.fontSize=0,this.textMatrix=d.IDENTITY_MATRIX,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=d.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=h.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ot,ut){this.x=ot,this.y=ut}}function tt(ft){let ot=[];const ut=[];for(const ct of ft){if(ct.fn==="save"){ot.push({fnId:92,fn:"group",items:[]}),ut.push(ot),ot=ot.at(-1).items;continue}ct.fn==="restore"?ot=ut.pop():ot.push(ct)}return ot}function nt(ft){if(Number.isInteger(ft))return ft.toString();const ot=ft.toFixed(10);let ut=ot.length-1;if(ot[ut]!=="0")return ot;do ut--;while(ot[ut]==="0");return ot.substring(0,ot[ut]==="."?ut:ut+1)}function it(ft){if(ft[4]===0&&ft[5]===0){if(ft[1]===0&&ft[2]===0)return ft[0]===1&&ft[3]===1?"":`scale(${nt(ft[0])} ${nt(ft[3])})`;if(ft[0]===ft[3]&&ft[1]===-ft[2]){const ot=Math.acos(ft[0])*180/Math.PI;return`rotate(${nt(ot)})`}}else if(ft[0]===1&&ft[1]===0&&ft[2]===0&&ft[3]===1)return`translate(${nt(ft[4])} ${nt(ft[5])})`;return`matrix(${nt(ft[0])} ${nt(ft[1])} ${nt(ft[2])} ${nt(ft[3])} ${nt(ft[4])} ${nt(ft[5])})`}let st=0,rt=0,at=0;class ht{constructor(ot,ut){let ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new et,this.transformMatrix=d.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ot,this.objs=ut,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ct,this._operatorIdMapping=[];for(const dt in d.OPS)this._operatorIdMapping[d.OPS[dt]]=dt}getObject(ot){let ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof ot=="string"?ot.startsWith("g_")?this.commonObjs.get(ot):this.objs.get(ot):ut}save(){this.transformStack.push(this.transformMatrix);const ot=this.current;this.extraStack.push(ot),this.current=ot.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ot){this.save(),this.executeOpTree(ot),this.restore()}loadDependencies(ot){const ut=ot.fnArray,ct=ot.argsArray;for(let dt=0,vt=ut.length;dt<vt;dt++)if(ut[dt]===d.OPS.dependency)for(const Et of ct[dt]){const pt=Et.startsWith("g_")?this.commonObjs:this.objs,bt=new Promise(Ct=>{pt.get(Et,Ct)});this.current.dependencies.push(bt)}return Promise.all(this.current.dependencies)}transform(ot,ut,ct,dt,vt,Et){const pt=[ot,ut,ct,dt,vt,Et];this.transformMatrix=d.Util.transform(this.transformMatrix,pt),this.tgrp=null}getSVG(ot,ut){this.viewport=ut;const ct=this._initialize(ut);return this.loadDependencies(ot).then(()=>(this.transformMatrix=d.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ot)),ct))}convertOpList(ot){const ut=this._operatorIdMapping,ct=ot.argsArray,dt=ot.fnArray,vt=[];for(let Et=0,pt=dt.length;Et<pt;Et++){const bt=dt[Et];vt.push({fnId:bt,fn:ut[bt],args:ct[Et]})}return tt(vt)}executeOpTree(ot){for(const ut of ot){const ct=ut.fn,dt=ut.fnId,vt=ut.args;switch(dt|0){case d.OPS.beginText:this.beginText();break;case d.OPS.dependency:break;case d.OPS.setLeading:this.setLeading(vt);break;case d.OPS.setLeadingMoveText:this.setLeadingMoveText(vt[0],vt[1]);break;case d.OPS.setFont:this.setFont(vt);break;case d.OPS.showText:this.showText(vt[0]);break;case d.OPS.showSpacedText:this.showText(vt[0]);break;case d.OPS.endText:this.endText();break;case d.OPS.moveText:this.moveText(vt[0],vt[1]);break;case d.OPS.setCharSpacing:this.setCharSpacing(vt[0]);break;case d.OPS.setWordSpacing:this.setWordSpacing(vt[0]);break;case d.OPS.setHScale:this.setHScale(vt[0]);break;case d.OPS.setTextMatrix:this.setTextMatrix(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5]);break;case d.OPS.setTextRise:this.setTextRise(vt[0]);break;case d.OPS.setTextRenderingMode:this.setTextRenderingMode(vt[0]);break;case d.OPS.setLineWidth:this.setLineWidth(vt[0]);break;case d.OPS.setLineJoin:this.setLineJoin(vt[0]);break;case d.OPS.setLineCap:this.setLineCap(vt[0]);break;case d.OPS.setMiterLimit:this.setMiterLimit(vt[0]);break;case d.OPS.setFillRGBColor:this.setFillRGBColor(vt[0],vt[1],vt[2]);break;case d.OPS.setStrokeRGBColor:this.setStrokeRGBColor(vt[0],vt[1],vt[2]);break;case d.OPS.setStrokeColorN:this.setStrokeColorN(vt);break;case d.OPS.setFillColorN:this.setFillColorN(vt);break;case d.OPS.shadingFill:this.shadingFill(vt[0]);break;case d.OPS.setDash:this.setDash(vt[0],vt[1]);break;case d.OPS.setRenderingIntent:this.setRenderingIntent(vt[0]);break;case d.OPS.setFlatness:this.setFlatness(vt[0]);break;case d.OPS.setGState:this.setGState(vt[0]);break;case d.OPS.fill:this.fill();break;case d.OPS.eoFill:this.eoFill();break;case d.OPS.stroke:this.stroke();break;case d.OPS.fillStroke:this.fillStroke();break;case d.OPS.eoFillStroke:this.eoFillStroke();break;case d.OPS.clip:this.clip("nonzero");break;case d.OPS.eoClip:this.clip("evenodd");break;case d.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case d.OPS.paintImageXObject:this.paintImageXObject(vt[0]);break;case d.OPS.paintInlineImageXObject:this.paintInlineImageXObject(vt[0]);break;case d.OPS.paintImageMaskXObject:this.paintImageMaskXObject(vt[0]);break;case d.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(vt[0],vt[1]);break;case d.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case d.OPS.closePath:this.closePath();break;case d.OPS.closeStroke:this.closeStroke();break;case d.OPS.closeFillStroke:this.closeFillStroke();break;case d.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case d.OPS.nextLine:this.nextLine();break;case d.OPS.transform:this.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5]);break;case d.OPS.constructPath:this.constructPath(vt[0],vt[1]);break;case d.OPS.endPath:this.endPath();break;case 92:this.group(ut.items);break;default:(0,d.warn)(`Unimplemented operator ${ct}`);break}}}setWordSpacing(ot){this.current.wordSpacing=ot}setCharSpacing(ot){this.current.charSpacing=ot}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ot,ut,ct,dt,vt,Et){const pt=this.current;pt.textMatrix=pt.lineMatrix=[ot,ut,ct,dt,vt,Et],pt.textMatrixScale=Math.hypot(ot,ut),pt.x=pt.lineX=0,pt.y=pt.lineY=0,pt.xcoords=[],pt.ycoords=[],pt.tspan=this.svgFactory.createElement("svg:tspan"),pt.tspan.setAttributeNS(null,"font-family",pt.fontFamily),pt.tspan.setAttributeNS(null,"font-size",`${nt(pt.fontSize)}px`),pt.tspan.setAttributeNS(null,"y",nt(-pt.y)),pt.txtElement=this.svgFactory.createElement("svg:text"),pt.txtElement.append(pt.tspan)}beginText(){const ot=this.current;ot.x=ot.lineX=0,ot.y=ot.lineY=0,ot.textMatrix=d.IDENTITY_MATRIX,ot.lineMatrix=d.IDENTITY_MATRIX,ot.textMatrixScale=1,ot.tspan=this.svgFactory.createElement("svg:tspan"),ot.txtElement=this.svgFactory.createElement("svg:text"),ot.txtgrp=this.svgFactory.createElement("svg:g"),ot.xcoords=[],ot.ycoords=[]}moveText(ot,ut){const ct=this.current;ct.x=ct.lineX+=ot,ct.y=ct.lineY+=ut,ct.xcoords=[],ct.ycoords=[],ct.tspan=this.svgFactory.createElement("svg:tspan"),ct.tspan.setAttributeNS(null,"font-family",ct.fontFamily),ct.tspan.setAttributeNS(null,"font-size",`${nt(ct.fontSize)}px`),ct.tspan.setAttributeNS(null,"y",nt(-ct.y))}showText(ot){const ut=this.current,ct=ut.font,dt=ut.fontSize;if(dt===0)return;const vt=ut.fontSizeScale,Et=ut.charSpacing,pt=ut.wordSpacing,bt=ut.fontDirection,Ct=ut.textHScale*bt,Bt=ct.vertical,jt=Bt?1:-1,Ft=ct.defaultVMetrics,wt=dt*ut.fontMatrix[0];let It=0;for(const Mt of ot){if(Mt===null){It+=bt*pt;continue}else if(typeof Mt=="number"){It+=jt*Mt*dt/1e3;continue}const St=(Mt.isSpace?pt:0)+Et,gt=Mt.fontChar;let mt,xt,_t=Mt.width;if(Bt){let Tt;const Lt=Mt.vmetric||Ft;Tt=Mt.vmetric?Lt[1]:_t*.5,Tt=-Tt*wt;const Ut=Lt[2]*wt;_t=Lt?-Lt[0]:_t,mt=Tt/vt,xt=(It+Ut)/vt}else mt=It/vt,xt=0;(Mt.isInFont||ct.missingFile)&&(ut.xcoords.push(ut.x+mt),Bt&&ut.ycoords.push(-ut.y+xt),ut.tspan.textContent+=gt);const At=Bt?_t*wt-St*bt:_t*wt+St*bt;It+=At}ut.tspan.setAttributeNS(null,"x",ut.xcoords.map(nt).join(" ")),Bt?ut.tspan.setAttributeNS(null,"y",ut.ycoords.map(nt).join(" ")):ut.tspan.setAttributeNS(null,"y",nt(-ut.y)),Bt?ut.y-=It:ut.x+=It*Ct,ut.tspan.setAttributeNS(null,"font-family",ut.fontFamily),ut.tspan.setAttributeNS(null,"font-size",`${nt(ut.fontSize)}px`),ut.fontStyle!==h.fontStyle&&ut.tspan.setAttributeNS(null,"font-style",ut.fontStyle),ut.fontWeight!==h.fontWeight&&ut.tspan.setAttributeNS(null,"font-weight",ut.fontWeight);const yt=ut.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;if(yt===d.TextRenderingMode.FILL||yt===d.TextRenderingMode.FILL_STROKE?(ut.fillColor!==h.fillColor&&ut.tspan.setAttributeNS(null,"fill",ut.fillColor),ut.fillAlpha<1&&ut.tspan.setAttributeNS(null,"fill-opacity",ut.fillAlpha)):ut.textRenderingMode===d.TextRenderingMode.ADD_TO_PATH?ut.tspan.setAttributeNS(null,"fill","transparent"):ut.tspan.setAttributeNS(null,"fill","none"),yt===d.TextRenderingMode.STROKE||yt===d.TextRenderingMode.FILL_STROKE){const Mt=1/(ut.textMatrixScale||1);this._setStrokeAttributes(ut.tspan,Mt)}let Dt=ut.textMatrix;ut.textRise!==0&&(Dt=Dt.slice(),Dt[5]+=ut.textRise),ut.txtElement.setAttributeNS(null,"transform",`${it(Dt)} scale(${nt(Ct)}, -1)`),ut.txtElement.setAttributeNS(g,"xml:space","preserve"),ut.txtElement.append(ut.tspan),ut.txtgrp.append(ut.txtElement),this._ensureTransformGroup().append(ut.txtElement)}setLeadingMoveText(ot,ut){this.setLeading(-ut),this.moveText(ot,ut)}addFontStyle(ot){if(!ot.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ut=$(ot.data,ot.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ot.loadedName}"; src: url(${ut}); }
`}setFont(ot){const ut=this.current,ct=this.commonObjs.get(ot[0]);let dt=ot[1];ut.font=ct,this.embedFonts&&!ct.missingFile&&!this.embeddedFonts[ct.loadedName]&&(this.addFontStyle(ct),this.embeddedFonts[ct.loadedName]=ct),ut.fontMatrix=ct.fontMatrix||d.FONT_IDENTITY_MATRIX;let vt="normal";ct.black?vt="900":ct.bold&&(vt="bold");const Et=ct.italic?"italic":"normal";dt<0?(dt=-dt,ut.fontDirection=-1):ut.fontDirection=1,ut.fontSize=dt,ut.fontFamily=ct.loadedName,ut.fontWeight=vt,ut.fontStyle=Et,ut.tspan=this.svgFactory.createElement("svg:tspan"),ut.tspan.setAttributeNS(null,"y",nt(-ut.y)),ut.xcoords=[],ut.ycoords=[]}endText(){var ut;const ot=this.current;ot.textRenderingMode&d.TextRenderingMode.ADD_TO_PATH_FLAG&&((ut=ot.txtElement)!=null&&ut.hasChildNodes())&&(ot.element=ot.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ot){ot>0&&(this.current.lineWidth=ot)}setLineCap(ot){this.current.lineCap=j[ot]}setLineJoin(ot){this.current.lineJoin=_[ot]}setMiterLimit(ot){this.current.miterLimit=ot}setStrokeAlpha(ot){this.current.strokeAlpha=ot}setStrokeRGBColor(ot,ut,ct){this.current.strokeColor=d.Util.makeHexColor(ot,ut,ct)}setFillAlpha(ot){this.current.fillAlpha=ot}setFillRGBColor(ot,ut,ct){this.current.fillColor=d.Util.makeHexColor(ot,ut,ct),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ot){this.current.strokeColor=this._makeColorN_Pattern(ot)}setFillColorN(ot){this.current.fillColor=this._makeColorN_Pattern(ot)}shadingFill(ot){const{width:ut,height:ct}=this.viewport,dt=d.Util.inverseTransform(this.transformMatrix),[vt,Et,pt,bt]=d.Util.getAxialAlignedBoundingBox([0,0,ut,ct],dt),Ct=this.svgFactory.createElement("svg:rect");Ct.setAttributeNS(null,"x",vt),Ct.setAttributeNS(null,"y",Et),Ct.setAttributeNS(null,"width",pt-vt),Ct.setAttributeNS(null,"height",bt-Et),Ct.setAttributeNS(null,"fill",this._makeShadingPattern(ot)),this.current.fillAlpha<1&&Ct.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ct)}_makeColorN_Pattern(ot){return ot[0]==="TilingPattern"?this._makeTilingPattern(ot):this._makeShadingPattern(ot)}_makeTilingPattern(ot){const ut=ot[1],ct=ot[2],dt=ot[3]||d.IDENTITY_MATRIX,[vt,Et,pt,bt]=ot[4],Ct=ot[5],Bt=ot[6],jt=ot[7],Ft=`shading${at++}`,[wt,It,yt,Dt]=d.Util.normalizeRect([...d.Util.applyTransform([vt,Et],dt),...d.Util.applyTransform([pt,bt],dt)]),[Mt,St]=d.Util.singularValueDecompose2dScale(dt),gt=Ct*Mt,mt=Bt*St,xt=this.svgFactory.createElement("svg:pattern");xt.setAttributeNS(null,"id",Ft),xt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),xt.setAttributeNS(null,"width",gt),xt.setAttributeNS(null,"height",mt),xt.setAttributeNS(null,"x",`${wt}`),xt.setAttributeNS(null,"y",`${It}`);const _t=this.svg,At=this.transformMatrix,Tt=this.current.fillColor,Lt=this.current.strokeColor,Ut=this.svgFactory.create(yt-wt,Dt-It);if(this.svg=Ut,this.transformMatrix=dt,jt===2){const Zt=d.Util.makeHexColor(...ut);this.current.fillColor=Zt,this.current.strokeColor=Zt}return this.executeOpTree(this.convertOpList(ct)),this.svg=_t,this.transformMatrix=At,this.current.fillColor=Tt,this.current.strokeColor=Lt,xt.append(Ut.childNodes[0]),this.defs.append(xt),`url(#${Ft})`}_makeShadingPattern(ot){switch(typeof ot=="string"&&(ot=this.objs.get(ot)),ot[0]){case"RadialAxial":const ut=`shading${at++}`,ct=ot[3];let dt;switch(ot[1]){case"axial":const vt=ot[4],Et=ot[5];dt=this.svgFactory.createElement("svg:linearGradient"),dt.setAttributeNS(null,"id",ut),dt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),dt.setAttributeNS(null,"x1",vt[0]),dt.setAttributeNS(null,"y1",vt[1]),dt.setAttributeNS(null,"x2",Et[0]),dt.setAttributeNS(null,"y2",Et[1]);break;case"radial":const pt=ot[4],bt=ot[5],Ct=ot[6],Bt=ot[7];dt=this.svgFactory.createElement("svg:radialGradient"),dt.setAttributeNS(null,"id",ut),dt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),dt.setAttributeNS(null,"cx",bt[0]),dt.setAttributeNS(null,"cy",bt[1]),dt.setAttributeNS(null,"r",Bt),dt.setAttributeNS(null,"fx",pt[0]),dt.setAttributeNS(null,"fy",pt[1]),dt.setAttributeNS(null,"fr",Ct);break;default:throw new Error(`Unknown RadialAxial type: ${ot[1]}`)}for(const vt of ct){const Et=this.svgFactory.createElement("svg:stop");Et.setAttributeNS(null,"offset",vt[0]),Et.setAttributeNS(null,"stop-color",vt[1]),dt.append(Et)}return this.defs.append(dt),`url(#${ut})`;case"Mesh":return(0,d.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ot[0]}`)}}setDash(ot,ut){this.current.dashArray=ot,this.current.dashPhase=ut}constructPath(ot,ut){const ct=this.current;let dt=ct.x,vt=ct.y,Et=[],pt=0;for(const bt of ot)switch(bt|0){case d.OPS.rectangle:dt=ut[pt++],vt=ut[pt++];const Ct=ut[pt++],Bt=ut[pt++],jt=dt+Ct,Ft=vt+Bt;Et.push("M",nt(dt),nt(vt),"L",nt(jt),nt(vt),"L",nt(jt),nt(Ft),"L",nt(dt),nt(Ft),"Z");break;case d.OPS.moveTo:dt=ut[pt++],vt=ut[pt++],Et.push("M",nt(dt),nt(vt));break;case d.OPS.lineTo:dt=ut[pt++],vt=ut[pt++],Et.push("L",nt(dt),nt(vt));break;case d.OPS.curveTo:dt=ut[pt+4],vt=ut[pt+5],Et.push("C",nt(ut[pt]),nt(ut[pt+1]),nt(ut[pt+2]),nt(ut[pt+3]),nt(dt),nt(vt)),pt+=6;break;case d.OPS.curveTo2:Et.push("C",nt(dt),nt(vt),nt(ut[pt]),nt(ut[pt+1]),nt(ut[pt+2]),nt(ut[pt+3])),dt=ut[pt+2],vt=ut[pt+3],pt+=4;break;case d.OPS.curveTo3:dt=ut[pt+2],vt=ut[pt+3],Et.push("C",nt(ut[pt]),nt(ut[pt+1]),nt(dt),nt(vt),nt(dt),nt(vt)),pt+=4;break;case d.OPS.closePath:Et.push("Z");break}Et=Et.join(" "),ct.path&&ot.length>0&&ot[0]!==d.OPS.rectangle&&ot[0]!==d.OPS.moveTo?Et=ct.path.getAttributeNS(null,"d")+Et:(ct.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ct.path)),ct.path.setAttributeNS(null,"d",Et),ct.path.setAttributeNS(null,"fill","none"),ct.element=ct.path,ct.setCurrentPoint(dt,vt)}endPath(){const ot=this.current;if(ot.path=null,!this.pendingClip)return;if(!ot.element){this.pendingClip=null;return}const ut=`clippath${st++}`,ct=this.svgFactory.createElement("svg:clipPath");ct.setAttributeNS(null,"id",ut),ct.setAttributeNS(null,"transform",it(this.transformMatrix));const dt=ot.element.cloneNode(!0);if(this.pendingClip==="evenodd"?dt.setAttributeNS(null,"clip-rule","evenodd"):dt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ct.append(dt),this.defs.append(ct),ot.activeClipUrl){ot.clipGroup=null;for(const vt of this.extraStack)vt.clipGroup=null;ct.setAttributeNS(null,"clip-path",ot.activeClipUrl)}ot.activeClipUrl=`url(#${ut})`,this.tgrp=null}clip(ot){this.pendingClip=ot}closePath(){const ot=this.current;if(ot.path){const ut=`${ot.path.getAttributeNS(null,"d")}Z`;ot.path.setAttributeNS(null,"d",ut)}}setLeading(ot){this.current.leading=-ot}setTextRise(ot){this.current.textRise=ot}setTextRenderingMode(ot){this.current.textRenderingMode=ot}setHScale(ot){this.current.textHScale=ot/100}setRenderingIntent(ot){}setFlatness(ot){}setGState(ot){for(const[ut,ct]of ot)switch(ut){case"LW":this.setLineWidth(ct);break;case"LC":this.setLineCap(ct);break;case"LJ":this.setLineJoin(ct);break;case"ML":this.setMiterLimit(ct);break;case"D":this.setDash(ct[0],ct[1]);break;case"RI":this.setRenderingIntent(ct);break;case"FL":this.setFlatness(ct);break;case"Font":this.setFont(ct);break;case"CA":this.setStrokeAlpha(ct);break;case"ca":this.setFillAlpha(ct);break;default:(0,d.warn)(`Unimplemented graphic state operator ${ut}`);break}}fill(){const ot=this.current;ot.element&&(ot.element.setAttributeNS(null,"fill",ot.fillColor),ot.element.setAttributeNS(null,"fill-opacity",ot.fillAlpha),this.endPath())}stroke(){const ot=this.current;ot.element&&(this._setStrokeAttributes(ot.element),ot.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ot){let ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const ct=this.current;let dt=ct.dashArray;ut!==1&&dt.length>0&&(dt=dt.map(function(vt){return ut*vt})),ot.setAttributeNS(null,"stroke",ct.strokeColor),ot.setAttributeNS(null,"stroke-opacity",ct.strokeAlpha),ot.setAttributeNS(null,"stroke-miterlimit",nt(ct.miterLimit)),ot.setAttributeNS(null,"stroke-linecap",ct.lineCap),ot.setAttributeNS(null,"stroke-linejoin",ct.lineJoin),ot.setAttributeNS(null,"stroke-width",nt(ut*ct.lineWidth)+"px"),ot.setAttributeNS(null,"stroke-dasharray",dt.map(nt).join(" ")),ot.setAttributeNS(null,"stroke-dashoffset",nt(ut*ct.dashPhase)+"px")}eoFill(){var ot;(ot=this.current.element)==null||ot.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ot;(ot=this.current.element)==null||ot.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ot=this.svgFactory.createElement("svg:rect");ot.setAttributeNS(null,"x","0"),ot.setAttributeNS(null,"y","0"),ot.setAttributeNS(null,"width","1px"),ot.setAttributeNS(null,"height","1px"),ot.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ot)}paintImageXObject(ot){const ut=this.getObject(ot);if(!ut){(0,d.warn)(`Dependent image with object ID ${ot} is not ready yet`);return}this.paintInlineImageXObject(ut)}paintInlineImageXObject(ot,ut){const ct=ot.width,dt=ot.height,vt=_e(ot,this.forceDataSchema,!!ut),Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y","0"),Et.setAttributeNS(null,"width",nt(ct)),Et.setAttributeNS(null,"height",nt(dt)),this.current.element=Et,this.clip("nonzero");const pt=this.svgFactory.createElement("svg:image");pt.setAttributeNS(b,"xlink:href",vt),pt.setAttributeNS(null,"x","0"),pt.setAttributeNS(null,"y",nt(-dt)),pt.setAttributeNS(null,"width",nt(ct)+"px"),pt.setAttributeNS(null,"height",nt(dt)+"px"),pt.setAttributeNS(null,"transform",`scale(${nt(1/ct)} ${nt(-1/dt)})`),ut?ut.append(pt):this._ensureTransformGroup().append(pt)}paintImageMaskXObject(ot){const ut=this.getObject(ot.data,ot);if(ut.bitmap){(0,d.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ct=this.current,dt=ut.width,vt=ut.height,Et=ct.fillColor;ct.maskId=`mask${rt++}`;const pt=this.svgFactory.createElement("svg:mask");pt.setAttributeNS(null,"id",ct.maskId);const bt=this.svgFactory.createElement("svg:rect");bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y","0"),bt.setAttributeNS(null,"width",nt(dt)),bt.setAttributeNS(null,"height",nt(vt)),bt.setAttributeNS(null,"fill",Et),bt.setAttributeNS(null,"mask",`url(#${ct.maskId})`),this.defs.append(pt),this._ensureTransformGroup().append(bt),this.paintInlineImageXObject(ut,pt)}paintFormXObjectBegin(ot,ut){if(Array.isArray(ot)&&ot.length===6&&this.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]),ut){const ct=ut[2]-ut[0],dt=ut[3]-ut[1],vt=this.svgFactory.createElement("svg:rect");vt.setAttributeNS(null,"x",ut[0]),vt.setAttributeNS(null,"y",ut[1]),vt.setAttributeNS(null,"width",nt(ct)),vt.setAttributeNS(null,"height",nt(dt)),this.current.element=vt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ot){const ut=this.svgFactory.create(ot.width,ot.height),ct=this.svgFactory.createElement("svg:defs");ut.append(ct),this.defs=ct;const dt=this.svgFactory.createElement("svg:g");return dt.setAttributeNS(null,"transform",it(ot.transform)),ut.append(dt),this.svg=dt,ut}_ensureClipGroup(){if(!this.current.clipGroup){const ot=this.svgFactory.createElement("svg:g");ot.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ot),this.current.clipGroup=ot}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",it(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=ht},(s,e,a)=>{var o=a(3),d=a(188),h=a(193);o({target:"Array",proto:!0},{group:function(b){var j=arguments.length>1?arguments[1]:void 0;return d(this,b,j)}}),h("group")},(s,e,a)=>{var o=a(99),d=a(14),h=a(13),g=a(40),b=a(18),j=a(64),_=a(189),$=a(108),_e=Array,et=d([].push);s.exports=function(tt,nt,it,st){for(var rt=g(tt),at=h(rt),ht=o(nt,it),ft=_(null),ot=j(at),ut=0,ct,dt,vt;ot>ut;ut++)vt=at[ut],dt=b(ht(vt,ut,rt)),dt in ft?et(ft[dt],vt):ft[dt]=[vt];if(st&&(ct=st(rt),ct!==_e))for(dt in ft)ft[dt]=$(ct,ft[dt]);return ft}},(s,e,a)=>{var o=a(47),d=a(190),h=a(66),g=a(55),b=a(192),j=a(43),_=a(54),$=">",_e="<",et="prototype",tt="script",nt=_("IE_PROTO"),it=function(){},st=function(ot){return _e+tt+$+ot+_e+"/"+tt+$},rt=function(ot){ot.write(st("")),ot.close();var ut=ot.parentWindow.Object;return ot=null,ut},at=function(){var ot=j("iframe"),ut="java"+tt+":",ct;return ot.style.display="none",b.appendChild(ot),ot.src=String(ut),ct=ot.contentWindow.document,ct.open(),ct.write(st("document.F=Object")),ct.close(),ct.F},ht,ft=function(){try{ht=new ActiveXObject("htmlfile")}catch{}ft=typeof document<"u"?document.domain&&ht?rt(ht):at():rt(ht);for(var ot=h.length;ot--;)delete ft[et][h[ot]];return ft()};g[nt]=!0,s.exports=Object.create||function(ut,ct){var dt;return ut!==null?(it[et]=o(ut),dt=new it,it[et]=null,dt[nt]=ut):dt=ft(),ct===void 0?dt:d.f(dt,ct)}},(s,e,a)=>{var o=a(6),d=a(46),h=a(45),g=a(47),b=a(12),j=a(191);e.f=o&&!d?Object.defineProperties:function($,_e){g($);for(var et=b(_e),tt=j(_e),nt=tt.length,it=0,st;nt>it;)h.f($,st=tt[it++],et[st]);return $}},(s,e,a)=>{var o=a(59),d=a(66);s.exports=Object.keys||function(g){return o(g,d)}},(s,e,a)=>{var o=a(24);s.exports=o("document","documentElement")},(s,e,a)=>{var o=a(34),d=a(189),h=a(45).f,g=o("unscopables"),b=Array.prototype;b[g]===void 0&&h(b,g,{configurable:!0,value:d(null)}),s.exports=function(j){b[g][j]=!0}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0,a(89);class o{static textContent(h){const g=[],b={items:g,styles:Object.create(null)};function j(_){var et;if(!_)return;let $=null;const _e=_.name;if(_e==="#text")$=_.value;else if(o.shouldBuildText(_e))(et=_==null?void 0:_.attributes)!=null&&et.textContent?$=_.attributes.textContent:_.value&&($=_.value);else return;if($!==null&&g.push({str:$}),!!_.children)for(const tt of _.children)j(tt)}return j(h),b}static shouldBuildText(h){return!(h==="textarea"||h==="input"||h==="option"||h==="select")}}e.XfaText=o},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=it,e.updateTextLayer=st,a(89),a(2);var o=a(1),d=a(168);const h=1e5,g=30,b=.8,j=new Map;function _(rt,at){let ht;if(at&&o.FeatureTest.isOffscreenCanvasSupported)ht=new OffscreenCanvas(rt,rt).getContext("2d",{alpha:!1});else{const ft=document.createElement("canvas");ft.width=ft.height=rt,ht=ft.getContext("2d",{alpha:!1})}return ht}function $(rt,at){const ht=j.get(rt);if(ht)return ht;const ft=_(g,at);ft.font=`${g}px ${rt}`;const ot=ft.measureText("");let ut=ot.fontBoundingBoxAscent,ct=Math.abs(ot.fontBoundingBoxDescent);if(ut){const vt=ut/(ut+ct);return j.set(rt,vt),ft.canvas.width=ft.canvas.height=0,vt}ft.strokeStyle="red",ft.clearRect(0,0,g,g),ft.strokeText("g",0,0);let dt=ft.getImageData(0,0,g,g).data;ct=0;for(let vt=dt.length-1-3;vt>=0;vt-=4)if(dt[vt]>0){ct=Math.ceil(vt/4/g);break}ft.clearRect(0,0,g,g),ft.strokeText("A",0,g),dt=ft.getImageData(0,0,g,g).data,ut=0;for(let vt=0,Et=dt.length;vt<Et;vt+=4)if(dt[vt]>0){ut=g-Math.floor(vt/4/g);break}if(ft.canvas.width=ft.canvas.height=0,ut){const vt=ut/(ut+ct);return j.set(rt,vt),vt}return j.set(rt,b),b}function _e(rt,at,ht){const ft=document.createElement("span"),ot={angle:0,canvasWidth:0,hasText:at.str!=="",hasEOL:at.hasEOL,fontSize:0};rt._textDivs.push(ft);const ut=o.Util.transform(rt._transform,at.transform);let ct=Math.atan2(ut[1],ut[0]);const dt=ht[at.fontName];dt.vertical&&(ct+=Math.PI/2);const vt=Math.hypot(ut[2],ut[3]),Et=vt*$(dt.fontFamily,rt._isOffscreenCanvasSupported);let pt,bt;ct===0?(pt=ut[4],bt=ut[5]-Et):(pt=ut[4]+Et*Math.sin(ct),bt=ut[5]-Et*Math.cos(ct));const Ct="calc(var(--scale-factor)*",Bt=ft.style;rt._container===rt._rootContainer?(Bt.left=`${(100*pt/rt._pageWidth).toFixed(2)}%`,Bt.top=`${(100*bt/rt._pageHeight).toFixed(2)}%`):(Bt.left=`${Ct}${pt.toFixed(2)}px)`,Bt.top=`${Ct}${bt.toFixed(2)}px)`),Bt.fontSize=`${Ct}${vt.toFixed(2)}px)`,Bt.fontFamily=dt.fontFamily,ot.fontSize=vt,ft.setAttribute("role","presentation"),ft.textContent=at.str,ft.dir=at.dir,rt._fontInspectorEnabled&&(ft.dataset.fontName=at.fontName),ct!==0&&(ot.angle=ct*(180/Math.PI));let jt=!1;if(at.str.length>1)jt=!0;else if(at.str!==" "&&at.transform[0]!==at.transform[3]){const Ft=Math.abs(at.transform[0]),wt=Math.abs(at.transform[3]);Ft!==wt&&Math.max(Ft,wt)/Math.min(Ft,wt)>1.5&&(jt=!0)}jt&&(ot.canvasWidth=dt.vertical?at.height:at.width),rt._textDivProperties.set(ft,ot),rt._isReadableStream&&rt._layoutText(ft)}function et(rt){const{div:at,scale:ht,properties:ft,ctx:ot,prevFontSize:ut,prevFontFamily:ct}=rt,{style:dt}=at;let vt="";if(ft.canvasWidth!==0&&ft.hasText){const{fontFamily:Et}=dt,{canvasWidth:pt,fontSize:bt}=ft;(ut!==bt||ct!==Et)&&(ot.font=`${bt*ht}px ${Et}`,rt.prevFontSize=bt,rt.prevFontFamily=Et);const{width:Ct}=ot.measureText(at.textContent);Ct>0&&(vt=`scaleX(${pt*ht/Ct})`)}ft.angle!==0&&(vt=`rotate(${ft.angle}deg) ${vt}`),vt.length>0&&(dt.transform=vt)}function tt(rt){if(rt._canceled)return;const at=rt._textDivs,ht=rt._capability;if(at.length>h){ht.resolve();return}if(!rt._isReadableStream)for(const ot of at)rt._layoutText(ot);ht.resolve()}class nt{constructor(at){var Bt;let{textContentSource:ht,container:ft,viewport:ot,textDivs:ut,textDivProperties:ct,textContentItemsStr:dt,isOffscreenCanvasSupported:vt}=at;this._textContentSource=ht,this._isReadableStream=ht instanceof ReadableStream,this._container=this._rootContainer=ft,this._textDivs=ut||[],this._textContentItemsStr=dt||[],this._isOffscreenCanvasSupported=vt,this._fontInspectorEnabled=!!((Bt=globalThis.FontInspector)!=null&&Bt.enabled),this._reader=null,this._textDivProperties=ct||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ot.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_(0,vt)};const{pageWidth:Et,pageHeight:pt,pageX:bt,pageY:Ct}=ot.rawDims;this._transform=[1,0,0,-1,-bt,Ct+pt],this._pageWidth=Et,this._pageHeight=pt,(0,d.setLayerDimensions)(ft,ot),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(at,ht){for(const ft of at){if(ft.str===void 0){if(ft.type==="beginMarkedContentProps"||ft.type==="beginMarkedContent"){const ot=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ft.id!==null&&this._container.setAttribute("id",`${ft.id}`),ot.append(this._container)}else ft.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ft.str),_e(this,ft,ht)}}_layoutText(at){const ht=this._layoutTextParams.properties=this._textDivProperties.get(at);if(this._layoutTextParams.div=at,et(this._layoutTextParams),ht.hasText&&this._container.append(at),ht.hasEOL){const ft=document.createElement("br");ft.setAttribute("role","presentation"),this._container.append(ft)}}_render(){const at=new o.PromiseCapability;let ht=Object.create(null);if(this._isReadableStream){const ft=()=>{this._reader.read().then(ot=>{let{value:ut,done:ct}=ot;if(ct){at.resolve();return}Object.assign(ht,ut.styles),this._processItems(ut.items,ht),ft()},at.reject)};this._reader=this._textContentSource.getReader(),ft()}else if(this._textContentSource){const{items:ft,styles:ot}=this._textContentSource;this._processItems(ft,ot),at.resolve()}else throw new Error('No "textContentSource" parameter specified.');at.promise.then(()=>{ht=null,tt(this)},this._capability.reject)}}e.TextLayerRenderTask=nt;function it(rt){!rt.textContentSource&&(rt.textContent||rt.textContentStream)&&((0,d.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),rt.textContentSource=rt.textContent||rt.textContentStream);const{container:at,viewport:ht}=rt,ft=getComputedStyle(at),ot=ft.getPropertyValue("visibility"),ut=parseFloat(ft.getPropertyValue("--scale-factor"));ot==="visible"&&(!ut||Math.abs(ut-ht.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const ct=new nt(rt);return ct._render(),ct}function st(rt){let{container:at,viewport:ht,textDivs:ft,textDivProperties:ot,isOffscreenCanvasSupported:ut,mustRotate:ct=!0,mustRescale:dt=!0}=rt;if(ct&&(0,d.setLayerDimensions)(at,{rotation:ht.rotation}),dt){const vt=_(0,ut),pt={prevFontSize:null,prevFontFamily:null,div:null,scale:ht.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:vt};for(const bt of ft)pt.properties=ot.get(bt),pt.div=bt,et(pt)}}},(s,e,a)=>{var $,_e,et,tt,nt,it,st,rt,at,ht,ft,Ts,Wn,ks,Fs;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0,a(125),a(136),a(138),a(141),a(143),a(145),a(147);var o=a(1),d=a(164),h=a(197),g=a(202),b=a(168),j=a(203);const vt=class vt{constructor(pt){$t(this,ft);$t(this,$);$t(this,_e,!1);$t(this,et,null);$t(this,tt,this.pointerup.bind(this));$t(this,nt,this.pointerdown.bind(this));$t(this,it,new Map);$t(this,st,!1);$t(this,rt,!1);$t(this,at,!1);$t(this,ht);let{uiManager:bt,pageIndex:Ct,div:Bt,accessibilityManager:jt,annotationLayer:Ft,viewport:wt,l10n:It}=pt;const yt=[h.FreeTextEditor,g.InkEditor,j.StampEditor];if(!vt._initialized){vt._initialized=!0;for(const Dt of yt)Dt.initialize(It)}bt.registerEditorTypes(yt),Qt(this,ht,bt),this.pageIndex=Ct,this.div=Bt,Qt(this,$,jt),Qt(this,et,Ft),this.viewport=wt,lt(this,ht).addLayer(this)}get isEmpty(){return lt(this,it).size===0}updateToolbar(pt){lt(this,ht).updateToolbar(pt)}updateMode(){let pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lt(this,ht).getMode();Wt(this,ft,Fs).call(this),pt===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),pt!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",pt===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",pt===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",pt===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(pt){if(!pt&&lt(this,ht).getMode()!==o.AnnotationEditorType.INK)return;if(!pt){for(const Ct of lt(this,it).values())if(Ct.isEmpty()){Ct.setInBackground();return}}Wt(this,ft,Wn).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(pt){lt(this,ht).setEditingState(pt)}addCommands(pt){lt(this,ht).addCommands(pt)}enable(){this.div.style.pointerEvents="auto";const pt=new Set;for(const Ct of lt(this,it).values())Ct.enableEditing(),Ct.annotationElementId&&pt.add(Ct.annotationElementId);if(!lt(this,et))return;const bt=lt(this,et).getEditableAnnotations();for(const Ct of bt){if(Ct.hide(),lt(this,ht).isDeletedAnnotationElement(Ct.data.id)||pt.has(Ct.data.id))continue;const Bt=this.deserialize(Ct);Bt&&(this.addOrRebuild(Bt),Bt.enableEditing())}}disable(){var bt;Qt(this,at,!0),this.div.style.pointerEvents="none";const pt=new Set;for(const Ct of lt(this,it).values()){if(Ct.disableEditing(),!Ct.annotationElementId||Ct.serialize()!==null){pt.add(Ct.annotationElementId);continue}(bt=this.getEditableAnnotation(Ct.annotationElementId))==null||bt.show(),Ct.remove()}if(lt(this,et)){const Ct=lt(this,et).getEditableAnnotations();for(const Bt of Ct){const{id:jt}=Bt.data;pt.has(jt)||lt(this,ht).isDeletedAnnotationElement(jt)||Bt.show()}}Wt(this,ft,Fs).call(this),this.isEmpty&&(this.div.hidden=!0),Qt(this,at,!1)}getEditableAnnotation(pt){var bt;return((bt=lt(this,et))==null?void 0:bt.getEditableAnnotation(pt))||null}setActiveEditor(pt){lt(this,ht).getActive()!==pt&&lt(this,ht).setActiveEditor(pt)}enableClick(){this.div.addEventListener("pointerdown",lt(this,nt)),this.div.addEventListener("pointerup",lt(this,tt))}disableClick(){this.div.removeEventListener("pointerdown",lt(this,nt)),this.div.removeEventListener("pointerup",lt(this,tt))}attach(pt){lt(this,it).set(pt.id,pt);const{annotationElementId:bt}=pt;bt&&lt(this,ht).isDeletedAnnotationElement(bt)&&lt(this,ht).removeDeletedAnnotationElement(pt)}detach(pt){var bt;lt(this,it).delete(pt.id),(bt=lt(this,$))==null||bt.removePointerInTextLayer(pt.contentDiv),!lt(this,at)&&pt.annotationElementId&&lt(this,ht).addDeletedAnnotationElement(pt)}remove(pt){this.detach(pt),lt(this,ht).removeEditor(pt),pt.div.contains(document.activeElement)&&setTimeout(()=>{lt(this,ht).focusMainContainer()},0),pt.div.remove(),pt.isAttachedToDOM=!1,lt(this,rt)||this.addInkEditorIfNeeded(!1)}changeParent(pt){var bt;pt.parent!==this&&(pt.annotationElementId&&(lt(this,ht).addDeletedAnnotationElement(pt.annotationElementId),d.AnnotationEditor.deleteAnnotationElement(pt),pt.annotationElementId=null),this.attach(pt),(bt=pt.parent)==null||bt.detach(pt),pt.setParent(this),pt.div&&pt.isAttachedToDOM&&(pt.div.remove(),this.div.append(pt.div)))}add(pt){if(this.changeParent(pt),lt(this,ht).addEditor(pt),this.attach(pt),!pt.isAttachedToDOM){const bt=pt.render();this.div.append(bt),pt.isAttachedToDOM=!0}pt.fixAndSetPosition(),pt.onceAdded(),lt(this,ht).addToAnnotationStorage(pt)}moveEditorInDOM(pt){var Ct;if(!pt.isAttachedToDOM)return;const{activeElement:bt}=document;pt.div.contains(bt)&&(pt._focusEventsAllowed=!1,setTimeout(()=>{pt.div.contains(document.activeElement)?pt._focusEventsAllowed=!0:(pt.div.addEventListener("focusin",()=>{pt._focusEventsAllowed=!0},{once:!0}),bt.focus())},0)),pt._structTreeParentId=(Ct=lt(this,$))==null?void 0:Ct.moveElementInDOM(this.div,pt.div,pt.contentDiv,!0)}addOrRebuild(pt){pt.needsToBeRebuilt()?pt.rebuild():this.add(pt)}addUndoableEditor(pt){const bt=()=>pt._uiManager.rebuild(pt),Ct=()=>{pt.remove()};this.addCommands({cmd:bt,undo:Ct,mustExec:!1})}getNextId(){return lt(this,ht).getId()}pasteEditor(pt,bt){lt(this,ht).updateToolbar(pt),lt(this,ht).updateMode(pt);const{offsetX:Ct,offsetY:Bt}=Wt(this,ft,ks).call(this),jt=this.getNextId(),Ft=Wt(this,ft,Ts).call(this,{parent:this,id:jt,x:Ct,y:Bt,uiManager:lt(this,ht),isCentered:!0,...bt});Ft&&this.add(Ft)}deserialize(pt){switch(pt.annotationType??pt.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return h.FreeTextEditor.deserialize(pt,this,lt(this,ht));case o.AnnotationEditorType.INK:return g.InkEditor.deserialize(pt,this,lt(this,ht));case o.AnnotationEditorType.STAMP:return j.StampEditor.deserialize(pt,this,lt(this,ht))}return null}addNewEditor(){Wt(this,ft,Wn).call(this,Wt(this,ft,ks).call(this),!0)}setSelected(pt){lt(this,ht).setSelected(pt)}toggleSelected(pt){lt(this,ht).toggleSelected(pt)}isSelected(pt){return lt(this,ht).isSelected(pt)}unselect(pt){lt(this,ht).unselect(pt)}pointerup(pt){const{isMac:bt}=o.FeatureTest.platform;if(!(pt.button!==0||pt.ctrlKey&&bt)&&pt.target===this.div&&lt(this,st)){if(Qt(this,st,!1),!lt(this,_e)){Qt(this,_e,!0);return}if(lt(this,ht).getMode()===o.AnnotationEditorType.STAMP){lt(this,ht).unselectAll();return}Wt(this,ft,Wn).call(this,pt,!1)}}pointerdown(pt){if(lt(this,st)){Qt(this,st,!1);return}const{isMac:bt}=o.FeatureTest.platform;if(pt.button!==0||pt.ctrlKey&&bt||pt.target!==this.div)return;Qt(this,st,!0);const Ct=lt(this,ht).getActive();Qt(this,_e,!Ct||Ct.isEmpty())}findNewParent(pt,bt,Ct){const Bt=lt(this,ht).findParent(bt,Ct);return Bt===null||Bt===this?!1:(Bt.changeParent(pt),!0)}destroy(){var pt,bt;((pt=lt(this,ht).getActive())==null?void 0:pt.parent)===this&&(lt(this,ht).commitOrRemove(),lt(this,ht).setActiveEditor(null));for(const Ct of lt(this,it).values())(bt=lt(this,$))==null||bt.removePointerInTextLayer(Ct.contentDiv),Ct.setParent(null),Ct.isAttachedToDOM=!1,Ct.div.remove();this.div=null,lt(this,it).clear(),lt(this,ht).removeLayer(this)}render(pt){let{viewport:bt}=pt;this.viewport=bt,(0,b.setLayerDimensions)(this.div,bt);for(const Ct of lt(this,ht).getEditors(this.pageIndex))this.add(Ct);this.updateMode()}update(pt){let{viewport:bt}=pt;lt(this,ht).commitOrRemove(),this.viewport=bt,(0,b.setLayerDimensions)(this.div,{rotation:bt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:pt,pageHeight:bt}=this.viewport.rawDims;return[pt,bt]}};$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,rt=new WeakMap,at=new WeakMap,ht=new WeakMap,ft=new WeakSet,Ts=function(pt){switch(lt(this,ht).getMode()){case o.AnnotationEditorType.FREETEXT:return new h.FreeTextEditor(pt);case o.AnnotationEditorType.INK:return new g.InkEditor(pt);case o.AnnotationEditorType.STAMP:return new j.StampEditor(pt)}return null},Wn=function(pt,bt){const Ct=this.getNextId(),Bt=Wt(this,ft,Ts).call(this,{parent:this,id:Ct,x:pt.offsetX,y:pt.offsetY,uiManager:lt(this,ht),isCentered:bt});return Bt&&this.add(Bt),Bt},ks=function(){const{x:pt,y:bt,width:Ct,height:Bt}=this.div.getBoundingClientRect(),jt=Math.max(0,pt),Ft=Math.max(0,bt),wt=Math.min(window.innerWidth,pt+Ct),It=Math.min(window.innerHeight,bt+Bt),yt=(jt+wt)/2-pt,Dt=(Ft+It)/2-bt,[Mt,St]=this.viewport.rotation%180===0?[yt,Dt]:[Dt,yt];return{offsetX:Mt,offsetY:St}},Fs=function(){Qt(this,rt,!0);for(const pt of lt(this,it).values())pt.isEmpty()&&pt.remove();Qt(this,rt,!1)},Hr(vt,"_initialized",!1);let _=vt;e.AnnotationEditorLayer=_},(s,e,a)=>{var j,_,$,_e,et,tt,nt,it,st,rt,jo,Mo,Lo,An,Ds,Uo,Os;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0,a(89);var o=a(1),d=a(165),h=a(164),g=a(198);const vt=class vt extends h.AnnotationEditor{constructor(bt){super({...bt,name:"freeTextEditor"});$t(this,rt);$t(this,j,this.editorDivBlur.bind(this));$t(this,_,this.editorDivFocus.bind(this));$t(this,$,this.editorDivInput.bind(this));$t(this,_e,this.editorDivKeydown.bind(this));$t(this,et);$t(this,tt,"");$t(this,nt,`${this.id}-editor`);$t(this,it);$t(this,st,null);Qt(this,et,bt.color||vt._defaultColor||h.AnnotationEditor._defaultLineColor),Qt(this,it,bt.fontSize||vt._defaultFontSize)}static get _keyboardManager(){const bt=vt.prototype,Ct=Ft=>Ft.isEmpty(),Bt=d.AnnotationEditorUIManager.TRANSLATE_SMALL,jt=d.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new d.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],bt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],bt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],bt._translateEmpty,{args:[-Bt,0],checker:Ct}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],bt._translateEmpty,{args:[-jt,0],checker:Ct}],[["ArrowRight","mac+ArrowRight"],bt._translateEmpty,{args:[Bt,0],checker:Ct}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],bt._translateEmpty,{args:[jt,0],checker:Ct}],[["ArrowUp","mac+ArrowUp"],bt._translateEmpty,{args:[0,-Bt],checker:Ct}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],bt._translateEmpty,{args:[0,-jt],checker:Ct}],[["ArrowDown","mac+ArrowDown"],bt._translateEmpty,{args:[0,Bt],checker:Ct}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],bt._translateEmpty,{args:[0,jt],checker:Ct}]]))}static initialize(bt){h.AnnotationEditor.initialize(bt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Ct=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ct.getPropertyValue("--freetext-padding"))}static updateDefaultParams(bt,Ct){switch(bt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:vt._defaultFontSize=Ct;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:vt._defaultColor=Ct;break}}updateParams(bt,Ct){switch(bt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Wt(this,rt,jo).call(this,Ct);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Wt(this,rt,Mo).call(this,Ct);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,vt._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,vt._defaultColor||h.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,lt(this,it)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,lt(this,et)]]}_translateEmpty(bt,Ct){this._uiManager.translateSelectedEditors(bt,Ct,!0)}getInitialTranslation(){const bt=this.parentScale;return[-vt._internalPadding*bt,-(vt._internalPadding+lt(this,it))*bt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",lt(this,_e)),this.editorDiv.addEventListener("focus",lt(this,_)),this.editorDiv.addEventListener("blur",lt(this,j)),this.editorDiv.addEventListener("input",lt(this,$)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",lt(this,nt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",lt(this,_e)),this.editorDiv.removeEventListener("focus",lt(this,_)),this.editorDiv.removeEventListener("blur",lt(this,j)),this.editorDiv.removeEventListener("input",lt(this,$)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(bt){this._focusEventsAllowed&&(super.focusin(bt),bt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var bt;if(this.width){Wt(this,rt,Os).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(bt=this._initialOptions)!=null&&bt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const bt=lt(this,tt),Ct=Qt(this,tt,Wt(this,rt,Lo).call(this).trimEnd());if(bt===Ct)return;const Bt=jt=>{if(Qt(this,tt,jt),!jt){this.remove();return}Wt(this,rt,Ds).call(this),this._uiManager.rebuild(this),Wt(this,rt,An).call(this)};this.addCommands({cmd:()=>{Bt(Ct)},undo:()=>{Bt(bt)},mustExec:!1}),Wt(this,rt,An).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(bt){this.enterInEditMode()}keydown(bt){bt.target===this.div&&bt.key==="Enter"&&(this.enterInEditMode(),bt.preventDefault())}editorDivKeydown(bt){vt._keyboardManager.exec(this,bt)}editorDivFocus(bt){this.isEditing=!0}editorDivBlur(bt){this.isEditing=!1}editorDivInput(bt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let bt,Ct;this.width&&(bt=this.x,Ct=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",lt(this,nt)),this.enableEditing(),h.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(jt=>{var Ft;return(Ft=this.editorDiv)==null?void 0:Ft.setAttribute("aria-label",jt)}),h.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(jt=>{var Ft;return(Ft=this.editorDiv)==null?void 0:Ft.setAttribute("default-content",jt)}),this.editorDiv.contentEditable=!0;const{style:Bt}=this.editorDiv;if(Bt.fontSize=`calc(${lt(this,it)}px * var(--scale-factor))`,Bt.color=lt(this,et),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,d.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[jt,Ft]=this.parentDimensions;if(this.annotationElementId){const{position:wt}=lt(this,st);let[It,yt]=this.getInitialTranslation();[It,yt]=this.pageTranslationToScreen(It,yt);const[Dt,Mt]=this.pageDimensions,[St,gt]=this.pageTranslation;let mt,xt;switch(this.rotation){case 0:mt=bt+(wt[0]-St)/Dt,xt=Ct+this.height-(wt[1]-gt)/Mt;break;case 90:mt=bt+(wt[0]-St)/Dt,xt=Ct-(wt[1]-gt)/Mt,[It,yt]=[yt,-It];break;case 180:mt=bt-this.width+(wt[0]-St)/Dt,xt=Ct-(wt[1]-gt)/Mt,[It,yt]=[-It,-yt];break;case 270:mt=bt+(wt[0]-St-this.height*Mt)/Dt,xt=Ct+(wt[1]-gt-this.width*Dt)/Mt,[It,yt]=[-yt,It];break}this.setAt(mt*jt,xt*Ft,It,yt)}else this.setAt(bt*jt,Ct*Ft,this.width*jt,this.height*Ft);Wt(this,rt,Ds).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(bt,Ct,Bt){let jt=null;if(bt instanceof g.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:wt,fontColor:It},rect:yt,rotation:Dt,id:Mt},textContent:St,textPosition:gt,parent:{page:{pageNumber:mt}}}=bt;if(!St||St.length===0)return null;jt=bt={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(It),fontSize:wt,value:St.join(`
`),position:gt,pageIndex:mt-1,rect:yt,rotation:Dt,id:Mt,deleted:!1}}const Ft=super.deserialize(bt,Ct,Bt);return Qt(Ft,it,bt.fontSize),Qt(Ft,et,o.Util.makeHexColor(...bt.color)),Qt(Ft,tt,bt.value),Ft.annotationElementId=bt.id||null,Qt(Ft,st,jt),Ft}serialize(){let bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Ct=vt._internalPadding*this.parentScale,Bt=this.getRect(Ct,Ct),jt=h.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:lt(this,et)),Ft={annotationType:o.AnnotationEditorType.FREETEXT,color:jt,fontSize:lt(this,it),value:lt(this,tt),pageIndex:this.pageIndex,rect:Bt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return bt?Ft:this.annotationElementId&&!Wt(this,rt,Uo).call(this,Ft)?null:(Ft.id=this.annotationElementId,Ft)}};j=new WeakMap,_=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,rt=new WeakSet,jo=function(bt){const Ct=jt=>{this.editorDiv.style.fontSize=`calc(${jt}px * var(--scale-factor))`,this.translate(0,-(jt-lt(this,it))*this.parentScale),Qt(this,it,jt),Wt(this,rt,An).call(this)},Bt=lt(this,it);this.addCommands({cmd:()=>{Ct(bt)},undo:()=>{Ct(Bt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Mo=function(bt){const Ct=lt(this,et);this.addCommands({cmd:()=>{Qt(this,et,this.editorDiv.style.color=bt)},undo:()=>{Qt(this,et,this.editorDiv.style.color=Ct)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Lo=function(){const bt=this.editorDiv.getElementsByTagName("div");if(bt.length===0)return this.editorDiv.innerText;const Ct=[];for(const Bt of bt)Ct.push(Bt.innerText.replace(/\r\n?|\n/,""));return Ct.join(`
`)},An=function(){const[bt,Ct]=this.parentDimensions;let Bt;if(this.isAttachedToDOM)Bt=this.div.getBoundingClientRect();else{const{currentLayer:jt,div:Ft}=this,wt=Ft.style.display;Ft.style.display="hidden",jt.div.append(this.div),Bt=Ft.getBoundingClientRect(),Ft.remove(),Ft.style.display=wt}this.rotation%180===this.parentRotation%180?(this.width=Bt.width/bt,this.height=Bt.height/Ct):(this.width=Bt.height/bt,this.height=Bt.width/Ct),this.fixAndSetPosition()},Ds=function(){if(this.editorDiv.replaceChildren(),!!lt(this,tt))for(const bt of lt(this,tt).split(`
`)){const Ct=document.createElement("div");Ct.append(bt?document.createTextNode(bt):document.createElement("br")),this.editorDiv.append(Ct)}},Uo=function(bt){const{value:Ct,fontSize:Bt,color:jt,rect:Ft,pageIndex:wt}=lt(this,st);return bt.value!==Ct||bt.fontSize!==Bt||bt.rect.some((It,yt)=>Math.abs(It-Ft[yt])>=1)||bt.color.some((It,yt)=>It!==jt[yt])||bt.pageIndex!==wt},Os=function(){let bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.annotationElementId)return;if(Wt(this,rt,An).call(this),!bt&&(this.width===0||this.height===0)){setTimeout(()=>Wt(this,rt,Os).call(this,!0),0);return}const Ct=vt._internalPadding*this.parentScale;lt(this,st).rect=this.getRect(Ct,Ct)},Hr(vt,"_freeTextDefaultContent",""),Hr(vt,"_internalPadding",0),Hr(vt,"_defaultColor",null),Hr(vt,"_defaultFontSize",10),Hr(vt,"_type","freetext");let b=vt;e.FreeTextEditor=b},(s,e,a)=>{var xt,At,on,Bo,Ut,Zt,tr,lr,hr,dr,Gt,Jt,Rt,Nt,Ht,qt,ar,vr,pr,Vt,br,Er,zo,Vn,Is,Ns,Tr,Mr,Ur,Cr,or,Yt,fr,js,Or,Pt,Xt,xr,Ho,Ms;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0,a(89),a(125),a(136),a(138),a(141),a(143),a(145),a(147);var o=a(1),d=a(168),h=a(163),g=a(199),b=a(200),j=a(201);const _=1e3,$=9,_e=new WeakSet;function et(Sr){return{width:Sr[2]-Sr[0],height:Sr[3]-Sr[1]}}class tt{static create(Ot){switch(Ot.data.annotationType){case o.AnnotationType.LINK:return new it(Ot);case o.AnnotationType.TEXT:return new st(Ot);case o.AnnotationType.WIDGET:switch(Ot.data.fieldType){case"Tx":return new at(Ot);case"Btn":return Ot.data.radioButton?new ot(Ot):Ot.data.checkBox?new ft(Ot):new ut(Ot);case"Ch":return new ct(Ot);case"Sig":return new ht(Ot)}return new rt(Ot);case o.AnnotationType.POPUP:return new dt(Ot);case o.AnnotationType.FREETEXT:return new Et(Ot);case o.AnnotationType.LINE:return new pt(Ot);case o.AnnotationType.SQUARE:return new bt(Ot);case o.AnnotationType.CIRCLE:return new Ct(Ot);case o.AnnotationType.POLYLINE:return new Bt(Ot);case o.AnnotationType.CARET:return new Ft(Ot);case o.AnnotationType.INK:return new wt(Ot);case o.AnnotationType.POLYGON:return new jt(Ot);case o.AnnotationType.HIGHLIGHT:return new It(Ot);case o.AnnotationType.UNDERLINE:return new yt(Ot);case o.AnnotationType.SQUIGGLY:return new Dt(Ot);case o.AnnotationType.STRIKEOUT:return new Mt(Ot);case o.AnnotationType.STAMP:return new St(Ot);case o.AnnotationType.FILEATTACHMENT:return new gt(Ot);default:return new nt(Ot)}}}const _t=class _t{constructor(Ot){$t(this,xt,!1);let{isRenderable:kt=!1,ignoreBorder:zt=!1,createQuadrilaterals:Kt=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=kt,this.data=Ot.data,this.layer=Ot.layer,this.linkService=Ot.linkService,this.downloadManager=Ot.downloadManager,this.imageResourcesPath=Ot.imageResourcesPath,this.renderForms=Ot.renderForms,this.svgFactory=Ot.svgFactory,this.annotationStorage=Ot.annotationStorage,this.enableScripting=Ot.enableScripting,this.hasJSActions=Ot.hasJSActions,this._fieldObjects=Ot.fieldObjects,this.parent=Ot.parent,kt&&(this.container=this._createContainer(zt)),Kt&&this._createQuadrilaterals()}static _hasPopupData(Ot){let{titleObj:kt,contentsObj:zt,richText:Kt}=Ot;return!!(kt!=null&&kt.str||zt!=null&&zt.str||Kt!=null&&Kt.str)}get hasPopupData(){return _t._hasPopupData(this.data)}_createContainer(Ot){const{data:kt,parent:{page:zt,viewport:Kt}}=this,nr=document.createElement("section");nr.setAttribute("data-annotation-id",kt.id),this instanceof rt||(nr.tabIndex=_),nr.style.zIndex=this.parent.zIndex++,this.data.popupRef&&nr.setAttribute("aria-haspopup","dialog"),kt.noRotate&&nr.classList.add("norotate");const{pageWidth:ur,pageHeight:mr,pageX:sr,pageY:yr}=Kt.rawDims;if(!kt.rect||this instanceof dt){const{rotation:gr}=kt;return!kt.hasOwnCanvas&&gr!==0&&this.setRotation(gr,nr),nr}const{width:ir,height:er}=et(kt.rect),rr=o.Util.normalizeRect([kt.rect[0],zt.view[3]-kt.rect[1]+zt.view[1],kt.rect[2],zt.view[3]-kt.rect[3]+zt.view[1]]);if(!Ot&&kt.borderStyle.width>0){nr.style.borderWidth=`${kt.borderStyle.width}px`;const gr=kt.borderStyle.horizontalCornerRadius,Ar=kt.borderStyle.verticalCornerRadius;if(gr>0||Ar>0){const Fr=`calc(${gr}px * var(--scale-factor)) / calc(${Ar}px * var(--scale-factor))`;nr.style.borderRadius=Fr}else if(this instanceof ot){const Fr=`calc(${ir}px * var(--scale-factor)) / calc(${er}px * var(--scale-factor))`;nr.style.borderRadius=Fr}switch(kt.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:nr.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:nr.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:nr.style.borderBottomStyle="solid";break}const _r=kt.borderColor||null;_r?(Qt(this,xt,!0),nr.style.borderColor=o.Util.makeHexColor(_r[0]|0,_r[1]|0,_r[2]|0)):nr.style.borderWidth=0}nr.style.left=`${100*(rr[0]-sr)/ur}%`,nr.style.top=`${100*(rr[1]-yr)/mr}%`;const{rotation:cr}=kt;return kt.hasOwnCanvas||cr===0?(nr.style.width=`${100*ir/ur}%`,nr.style.height=`${100*er/mr}%`):this.setRotation(cr,nr),nr}setRotation(Ot){let kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:zt,pageHeight:Kt}=this.parent.viewport.rawDims,{width:nr,height:ur}=et(this.data.rect);let mr,sr;Ot%180===0?(mr=100*nr/zt,sr=100*ur/Kt):(mr=100*ur/zt,sr=100*nr/Kt),kt.style.width=`${mr}%`,kt.style.height=`${sr}%`,kt.setAttribute("data-main-rotation",(360-Ot)%360)}get _commonActions(){const Ot=(kt,zt,Kt)=>{const nr=Kt.detail[kt],ur=nr[0],mr=nr.slice(1);Kt.target.style[zt]=g.ColorConverters[`${ur}_HTML`](mr),this.annotationStorage.setValue(this.data.id,{[zt]:g.ColorConverters[`${ur}_rgb`](mr)})};return(0,o.shadow)(this,"_commonActions",{display:kt=>{const{display:zt}=kt.detail,Kt=zt%2===1;this.container.style.visibility=Kt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Kt,noPrint:zt===1||zt===2})},print:kt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!kt.detail.print})},hidden:kt=>{const{hidden:zt}=kt.detail;this.container.style.visibility=zt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:zt,noView:zt})},focus:kt=>{setTimeout(()=>kt.target.focus({preventScroll:!1}),0)},userName:kt=>{kt.target.title=kt.detail.userName},readonly:kt=>{kt.target.disabled=kt.detail.readonly},required:kt=>{this._setRequired(kt.target,kt.detail.required)},bgColor:kt=>{Ot("bgColor","backgroundColor",kt)},fillColor:kt=>{Ot("fillColor","backgroundColor",kt)},fgColor:kt=>{Ot("fgColor","color",kt)},textColor:kt=>{Ot("textColor","color",kt)},borderColor:kt=>{Ot("borderColor","borderColor",kt)},strokeColor:kt=>{Ot("strokeColor","borderColor",kt)},rotation:kt=>{const zt=kt.detail.rotation;this.setRotation(zt),this.annotationStorage.setValue(this.data.id,{rotation:zt})}})}_dispatchEventFromSandbox(Ot,kt){const zt=this._commonActions;for(const Kt of Object.keys(kt.detail)){const nr=Ot[Kt]||zt[Kt];nr==null||nr(kt)}}_setDefaultPropertiesFromJS(Ot){if(!this.enableScripting)return;const kt=this.annotationStorage.getRawValue(this.data.id);if(!kt)return;const zt=this._commonActions;for(const[Kt,nr]of Object.entries(kt)){const ur=zt[Kt];if(ur){const mr={detail:{[Kt]:nr},target:Ot};ur(mr),delete kt[Kt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ot}=this.data;if(!Ot)return;const[kt,zt,Kt,nr]=this.data.rect;if(Ot.length===1){const[,{x:Ar,y:_r},{x:Fr,y:jr}]=Ot[0];if(Kt===Ar&&nr===_r&&kt===Fr&&zt===jr)return}const{style:ur}=this.container;let mr;if(lt(this,xt)){const{borderColor:Ar,borderWidth:_r}=ur;ur.borderWidth=0,mr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ar}" stroke-width="${_r}">`],this.container.classList.add("hasBorder")}const sr=Kt-kt,yr=nr-zt,{svgFactory:ir}=this,er=ir.createElement("svg");er.classList.add("quadrilateralsContainer"),er.setAttribute("width",0),er.setAttribute("height",0);const rr=ir.createElement("defs");er.append(rr);const cr=ir.createElement("clipPath"),gr=`clippath_${this.data.id}`;cr.setAttribute("id",gr),cr.setAttribute("clipPathUnits","objectBoundingBox"),rr.append(cr);for(const[,{x:Ar,y:_r},{x:Fr,y:jr}]of Ot){const Lr=ir.createElement("rect"),Br=(Fr-kt)/sr,zr=(nr-_r)/yr,Wr=(Ar-Fr)/sr,Vr=(_r-jr)/yr;Lr.setAttribute("x",Br),Lr.setAttribute("y",zr),Lr.setAttribute("width",Wr),Lr.setAttribute("height",Vr),cr.append(Lr),mr==null||mr.push(`<rect vector-effect="non-scaling-stroke" x="${Br}" y="${zr}" width="${Wr}" height="${Vr}"/>`)}lt(this,xt)&&(mr.push("</g></svg>')"),ur.backgroundImage=mr.join("")),this.container.append(er),this.container.style.clipPath=`url(#${gr})`}_createPopup(){const{container:Ot,data:kt}=this;Ot.setAttribute("aria-haspopup","dialog");const zt=new dt({data:{color:kt.color,titleObj:kt.titleObj,modificationDate:kt.modificationDate,contentsObj:kt.contentsObj,richText:kt.richText,parentRect:kt.rect,borderStyle:0,id:`popup_${kt.id}`,rotation:kt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(zt.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ot){let kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const zt=[];if(this._fieldObjects){const Kt=this._fieldObjects[Ot];if(Kt)for(const{page:nr,id:ur,exportValues:mr}of Kt){if(nr===-1||ur===kt)continue;const sr=typeof mr=="string"?mr:null,yr=document.querySelector(`[data-element-id="${ur}"]`);if(yr&&!_e.has(yr)){(0,o.warn)(`_getElementsByName - element not allowed: ${ur}`);continue}zt.push({id:ur,exportValue:sr,domElement:yr})}return zt}for(const Kt of document.getElementsByName(Ot)){const{exportValue:nr}=Kt,ur=Kt.getAttribute("data-element-id");ur!==kt&&_e.has(Kt)&&zt.push({id:ur,exportValue:nr,domElement:Kt})}return zt}show(){var Ot;this.container&&(this.container.hidden=!1),(Ot=this.popup)==null||Ot.maybeShow()}hide(){var Ot;this.container&&(this.container.hidden=!0),(Ot=this.popup)==null||Ot.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ot=this.getElementsToTriggerPopup();if(Array.isArray(Ot))for(const kt of Ot)kt.classList.add("highlightArea");else Ot.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ot,data:{id:kt}}=this;this.container.addEventListener("dblclick",()=>{var zt;(zt=this.linkService.eventBus)==null||zt.dispatch("switchannotationeditormode",{source:this,mode:Ot,editId:kt})})}};xt=new WeakMap;let nt=_t;class it extends nt{constructor(kt){let zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(kt,{isRenderable:!0,ignoreBorder:!!(zt!=null&&zt.ignoreBorder),createQuadrilaterals:!0});$t(this,At);this.isTooltipOnly=kt.data.isTooltipOnly}render(){const{data:kt,linkService:zt}=this,Kt=document.createElement("a");Kt.setAttribute("data-element-id",kt.id);let nr=!1;return kt.url?(zt.addLinkAttributes(Kt,kt.url,kt.newWindow),nr=!0):kt.action?(this._bindNamedAction(Kt,kt.action),nr=!0):kt.attachment?(this._bindAttachment(Kt,kt.attachment),nr=!0):kt.setOCGState?(Wt(this,At,Bo).call(this,Kt,kt.setOCGState),nr=!0):kt.dest?(this._bindLink(Kt,kt.dest),nr=!0):(kt.actions&&(kt.actions.Action||kt.actions["Mouse Up"]||kt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Kt,kt),nr=!0),kt.resetForm?(this._bindResetFormAction(Kt,kt.resetForm),nr=!0):this.isTooltipOnly&&!nr&&(this._bindLink(Kt,""),nr=!0)),this.container.classList.add("linkAnnotation"),nr&&this.container.append(Kt),this.container}_bindLink(kt,zt){kt.href=this.linkService.getDestinationHash(zt),kt.onclick=()=>(zt&&this.linkService.goToDestination(zt),!1),(zt||zt==="")&&Wt(this,At,on).call(this)}_bindNamedAction(kt,zt){kt.href=this.linkService.getAnchorUrl(""),kt.onclick=()=>(this.linkService.executeNamedAction(zt),!1),Wt(this,At,on).call(this)}_bindAttachment(kt,zt){kt.href=this.linkService.getAnchorUrl(""),kt.onclick=()=>{var Kt;return(Kt=this.downloadManager)==null||Kt.openOrDownloadData(this.container,zt.content,zt.filename),!1},Wt(this,At,on).call(this)}_bindJSAction(kt,zt){kt.href=this.linkService.getAnchorUrl("");const Kt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const nr of Object.keys(zt.actions)){const ur=Kt.get(nr);ur&&(kt[ur]=()=>{var mr;return(mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:zt.id,name:nr}}),!1})}kt.onclick||(kt.onclick=()=>!1),Wt(this,At,on).call(this)}_bindResetFormAction(kt,zt){const Kt=kt.onclick;if(Kt||(kt.href=this.linkService.getAnchorUrl("")),Wt(this,At,on).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Kt||(kt.onclick=()=>!1);return}kt.onclick=()=>{var er;Kt==null||Kt();const{fields:nr,refs:ur,include:mr}=zt,sr=[];if(nr.length!==0||ur.length!==0){const rr=new Set(ur);for(const cr of nr){const gr=this._fieldObjects[cr]||[];for(const{id:Ar}of gr)rr.add(Ar)}for(const cr of Object.values(this._fieldObjects))for(const gr of cr)rr.has(gr.id)===mr&&sr.push(gr)}else for(const rr of Object.values(this._fieldObjects))sr.push(...rr);const yr=this.annotationStorage,ir=[];for(const rr of sr){const{id:cr}=rr;switch(ir.push(cr),rr.type){case"text":{const Ar=rr.defaultValue||"";yr.setValue(cr,{value:Ar});break}case"checkbox":case"radiobutton":{const Ar=rr.defaultValue===rr.exportValues;yr.setValue(cr,{value:Ar});break}case"combobox":case"listbox":{const Ar=rr.defaultValue||"";yr.setValue(cr,{value:Ar});break}default:continue}const gr=document.querySelector(`[data-element-id="${cr}"]`);if(gr){if(!_e.has(gr)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${cr}`);continue}}else continue;gr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((er=this.linkService.eventBus)==null||er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ir,name:"ResetForm"}})),!1}}}At=new WeakSet,on=function(){this.container.setAttribute("data-internal-link","")},Bo=function(kt,zt){kt.href=this.linkService.getAnchorUrl(""),kt.onclick=()=>(this.linkService.executeSetOCGState(zt),!1),Wt(this,At,on).call(this)};class st extends nt{constructor(Ot){super(Ot,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ot=document.createElement("img");return Ot.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ot.alt="[{{type}} Annotation]",Ot.dataset.l10nId="text_annotation_type",Ot.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ot),this.container}}class rt extends nt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ot){var kt;this.data.hasOwnCanvas&&(((kt=Ot.previousSibling)==null?void 0:kt.nodeName)==="CANVAS"&&(Ot.previousSibling.hidden=!0),Ot.hidden=!1)}_getKeyModifier(Ot){const{isWin:kt,isMac:zt}=o.FeatureTest.platform;return kt&&Ot.ctrlKey||zt&&Ot.metaKey}_setEventListener(Ot,kt,zt,Kt,nr){zt.includes("mouse")?Ot.addEventListener(zt,ur=>{var mr;(mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Kt,value:nr(ur),shift:ur.shiftKey,modifier:this._getKeyModifier(ur)}})}):Ot.addEventListener(zt,ur=>{var mr;if(zt==="blur"){if(!kt.focused||!ur.relatedTarget)return;kt.focused=!1}else if(zt==="focus"){if(kt.focused)return;kt.focused=!0}nr&&((mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Kt,value:nr(ur)}}))})}_setEventListeners(Ot,kt,zt,Kt){var nr,ur,mr;for(const[sr,yr]of zt)(yr==="Action"||(nr=this.data.actions)!=null&&nr[yr])&&((yr==="Focus"||yr==="Blur")&&(kt||(kt={focused:!1})),this._setEventListener(Ot,kt,sr,yr,Kt),yr==="Focus"&&!((ur=this.data.actions)!=null&&ur.Blur)?this._setEventListener(Ot,kt,"blur","Blur",null):yr==="Blur"&&!((mr=this.data.actions)!=null&&mr.Focus)&&this._setEventListener(Ot,kt,"focus","Focus",null))}_setBackgroundColor(Ot){const kt=this.data.backgroundColor||null;Ot.style.backgroundColor=kt===null?"transparent":o.Util.makeHexColor(kt[0],kt[1],kt[2])}_setTextStyle(Ot){const kt=["left","center","right"],{fontColor:zt}=this.data.defaultAppearanceData,Kt=this.data.defaultAppearanceData.fontSize||$,nr=Ot.style;let ur;const mr=2,sr=yr=>Math.round(10*yr)/10;if(this.data.multiLine){const yr=Math.abs(this.data.rect[3]-this.data.rect[1]-mr),ir=Math.round(yr/(o.LINE_FACTOR*Kt))||1,er=yr/ir;ur=Math.min(Kt,sr(er/o.LINE_FACTOR))}else{const yr=Math.abs(this.data.rect[3]-this.data.rect[1]-mr);ur=Math.min(Kt,sr(yr/o.LINE_FACTOR))}nr.fontSize=`calc(${ur}px * var(--scale-factor))`,nr.color=o.Util.makeHexColor(zt[0],zt[1],zt[2]),this.data.textAlignment!==null&&(nr.textAlign=kt[this.data.textAlignment])}_setRequired(Ot,kt){kt?Ot.setAttribute("required",!0):Ot.removeAttribute("required"),Ot.setAttribute("aria-required",kt)}}class at extends rt{constructor(Ot){const kt=Ot.renderForms||!Ot.data.hasAppearance&&!!Ot.data.fieldValue;super(Ot,{isRenderable:kt})}setPropertyOnSiblings(Ot,kt,zt,Kt){const nr=this.annotationStorage;for(const ur of this._getElementsByName(Ot.name,Ot.id))ur.domElement&&(ur.domElement[kt]=zt),nr.setValue(ur.id,{[Kt]:zt})}render(){var Kt,nr;const Ot=this.annotationStorage,kt=this.data.id;this.container.classList.add("textWidgetAnnotation");let zt=null;if(this.renderForms){const ur=Ot.getValue(kt,{value:this.data.fieldValue});let mr=ur.value||"";const sr=Ot.getValue(kt,{charLimit:this.data.maxLen}).charLimit;sr&&mr.length>sr&&(mr=mr.slice(0,sr));let yr=ur.formattedValue||((Kt=this.data.textContent)==null?void 0:Kt.join(`
`))||null;yr&&this.data.comb&&(yr=yr.replaceAll(/\s+/g,""));const ir={userValue:mr,formattedValue:yr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(zt=document.createElement("textarea"),zt.textContent=yr??mr,this.data.doNotScroll&&(zt.style.overflowY="hidden")):(zt=document.createElement("input"),zt.type="text",zt.setAttribute("value",yr??mr),this.data.doNotScroll&&(zt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(zt.hidden=!0),_e.add(zt),zt.setAttribute("data-element-id",kt),zt.disabled=this.data.readOnly,zt.name=this.data.fieldName,zt.tabIndex=_,this._setRequired(zt,this.data.required),sr&&(zt.maxLength=sr),zt.addEventListener("input",rr=>{Ot.setValue(kt,{value:rr.target.value}),this.setPropertyOnSiblings(zt,"value",rr.target.value,"value"),ir.formattedValue=null}),zt.addEventListener("resetform",rr=>{const cr=this.data.defaultFieldValue??"";zt.value=ir.userValue=cr,ir.formattedValue=null});let er=rr=>{const{formattedValue:cr}=ir;cr!=null&&(rr.target.value=cr),rr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){zt.addEventListener("focus",cr=>{if(ir.focused)return;const{target:gr}=cr;ir.userValue&&(gr.value=ir.userValue),ir.lastCommittedValue=gr.value,ir.commitKey=1,ir.focused=!0}),zt.addEventListener("updatefromsandbox",cr=>{this.showElementAndHideCanvas(cr.target);const gr={value(Ar){ir.userValue=Ar.detail.value??"",Ot.setValue(kt,{value:ir.userValue.toString()}),Ar.target.value=ir.userValue},formattedValue(Ar){const{formattedValue:_r}=Ar.detail;ir.formattedValue=_r,_r!=null&&Ar.target!==document.activeElement&&(Ar.target.value=_r),Ot.setValue(kt,{formattedValue:_r})},selRange(Ar){Ar.target.setSelectionRange(...Ar.detail.selRange)},charLimit:Ar=>{var Lr;const{charLimit:_r}=Ar.detail,{target:Fr}=Ar;if(_r===0){Fr.removeAttribute("maxLength");return}Fr.setAttribute("maxLength",_r);let jr=ir.userValue;!jr||jr.length<=_r||(jr=jr.slice(0,_r),Fr.value=ir.userValue=jr,Ot.setValue(kt,{value:jr}),(Lr=this.linkService.eventBus)==null||Lr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:jr,willCommit:!0,commitKey:1,selStart:Fr.selectionStart,selEnd:Fr.selectionEnd}}))}};this._dispatchEventFromSandbox(gr,cr)}),zt.addEventListener("keydown",cr=>{var _r;ir.commitKey=1;let gr=-1;if(cr.key==="Escape"?gr=0:cr.key==="Enter"&&!this.data.multiLine?gr=2:cr.key==="Tab"&&(ir.commitKey=3),gr===-1)return;const{value:Ar}=cr.target;ir.lastCommittedValue!==Ar&&(ir.lastCommittedValue=Ar,ir.userValue=Ar,(_r=this.linkService.eventBus)==null||_r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:Ar,willCommit:!0,commitKey:gr,selStart:cr.target.selectionStart,selEnd:cr.target.selectionEnd}}))});const rr=er;er=null,zt.addEventListener("blur",cr=>{var Ar;if(!ir.focused||!cr.relatedTarget)return;ir.focused=!1;const{value:gr}=cr.target;ir.userValue=gr,ir.lastCommittedValue!==gr&&((Ar=this.linkService.eventBus)==null||Ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:gr,willCommit:!0,commitKey:ir.commitKey,selStart:cr.target.selectionStart,selEnd:cr.target.selectionEnd}})),rr(cr)}),(nr=this.data.actions)!=null&&nr.Keystroke&&zt.addEventListener("beforeinput",cr=>{var zr;ir.lastCommittedValue=null;const{data:gr,target:Ar}=cr,{value:_r,selectionStart:Fr,selectionEnd:jr}=Ar;let Lr=Fr,Br=jr;switch(cr.inputType){case"deleteWordBackward":{const Wr=_r.substring(0,Fr).match(/\w*[^\w]*$/);Wr&&(Lr-=Wr[0].length);break}case"deleteWordForward":{const Wr=_r.substring(Fr).match(/^[^\w]*\w*/);Wr&&(Br+=Wr[0].length);break}case"deleteContentBackward":Fr===jr&&(Lr-=1);break;case"deleteContentForward":Fr===jr&&(Br+=1);break}cr.preventDefault(),(zr=this.linkService.eventBus)==null||zr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:_r,change:gr||"",willCommit:!1,selStart:Lr,selEnd:Br}})}),this._setEventListeners(zt,ir,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],cr=>cr.target.value)}if(er&&zt.addEventListener("blur",er),this.data.comb){const cr=(this.data.rect[2]-this.data.rect[0])/sr;zt.classList.add("comb"),zt.style.letterSpacing=`calc(${cr}px * var(--scale-factor) - 1ch)`}}else zt=document.createElement("div"),zt.textContent=this.data.fieldValue,zt.style.verticalAlign="middle",zt.style.display="table-cell";return this._setTextStyle(zt),this._setBackgroundColor(zt),this._setDefaultPropertiesFromJS(zt),this.container.append(zt),this.container}}class ht extends rt{constructor(Ot){super(Ot,{isRenderable:!!Ot.data.hasOwnCanvas})}}class ft extends rt{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){const Ot=this.annotationStorage,kt=this.data,zt=kt.id;let Kt=Ot.getValue(zt,{value:kt.exportValue===kt.fieldValue}).value;typeof Kt=="string"&&(Kt=Kt!=="Off",Ot.setValue(zt,{value:Kt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const nr=document.createElement("input");return _e.add(nr),nr.setAttribute("data-element-id",zt),nr.disabled=kt.readOnly,this._setRequired(nr,this.data.required),nr.type="checkbox",nr.name=kt.fieldName,Kt&&nr.setAttribute("checked",!0),nr.setAttribute("exportValue",kt.exportValue),nr.tabIndex=_,nr.addEventListener("change",ur=>{const{name:mr,checked:sr}=ur.target;for(const yr of this._getElementsByName(mr,zt)){const ir=sr&&yr.exportValue===kt.exportValue;yr.domElement&&(yr.domElement.checked=ir),Ot.setValue(yr.id,{value:ir})}Ot.setValue(zt,{value:sr})}),nr.addEventListener("resetform",ur=>{const mr=kt.defaultFieldValue||"Off";ur.target.checked=mr===kt.exportValue}),this.enableScripting&&this.hasJSActions&&(nr.addEventListener("updatefromsandbox",ur=>{const mr={value(sr){sr.target.checked=sr.detail.value!=="Off",Ot.setValue(zt,{value:sr.target.checked})}};this._dispatchEventFromSandbox(mr,ur)}),this._setEventListeners(nr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ur=>ur.target.checked)),this._setBackgroundColor(nr),this._setDefaultPropertiesFromJS(nr),this.container.append(nr),this.container}}class ot extends rt{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ot=this.annotationStorage,kt=this.data,zt=kt.id;let Kt=Ot.getValue(zt,{value:kt.fieldValue===kt.buttonValue}).value;typeof Kt=="string"&&(Kt=Kt!==kt.buttonValue,Ot.setValue(zt,{value:Kt}));const nr=document.createElement("input");if(_e.add(nr),nr.setAttribute("data-element-id",zt),nr.disabled=kt.readOnly,this._setRequired(nr,this.data.required),nr.type="radio",nr.name=kt.fieldName,Kt&&nr.setAttribute("checked",!0),nr.tabIndex=_,nr.addEventListener("change",ur=>{const{name:mr,checked:sr}=ur.target;for(const yr of this._getElementsByName(mr,zt))Ot.setValue(yr.id,{value:!1});Ot.setValue(zt,{value:sr})}),nr.addEventListener("resetform",ur=>{const mr=kt.defaultFieldValue;ur.target.checked=mr!=null&&mr===kt.buttonValue}),this.enableScripting&&this.hasJSActions){const ur=kt.buttonValue;nr.addEventListener("updatefromsandbox",mr=>{const sr={value:yr=>{const ir=ur===yr.detail.value;for(const er of this._getElementsByName(yr.target.name)){const rr=ir&&er.id===zt;er.domElement&&(er.domElement.checked=rr),Ot.setValue(er.id,{value:rr})}}};this._dispatchEventFromSandbox(sr,mr)}),this._setEventListeners(nr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],mr=>mr.target.checked)}return this._setBackgroundColor(nr),this._setDefaultPropertiesFromJS(nr),this.container.append(nr),this.container}}class ut extends it{constructor(Ot){super(Ot,{ignoreBorder:Ot.data.hasAppearance})}render(){const Ot=super.render();Ot.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ot.title=this.data.alternativeText);const kt=Ot.lastChild;return this.enableScripting&&this.hasJSActions&&kt&&(this._setDefaultPropertiesFromJS(kt),kt.addEventListener("updatefromsandbox",zt=>{this._dispatchEventFromSandbox({},zt)})),Ot}}class ct extends rt{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ot=this.annotationStorage,kt=this.data.id,zt=Ot.getValue(kt,{value:this.data.fieldValue}),Kt=document.createElement("select");_e.add(Kt),Kt.setAttribute("data-element-id",kt),Kt.disabled=this.data.readOnly,this._setRequired(Kt,this.data.required),Kt.name=this.data.fieldName,Kt.tabIndex=_;let nr=this.data.combo&&this.data.options.length>0;this.data.combo||(Kt.size=this.data.options.length,this.data.multiSelect&&(Kt.multiple=!0)),Kt.addEventListener("resetform",ir=>{const er=this.data.defaultFieldValue;for(const rr of Kt.options)rr.selected=rr.value===er});for(const ir of this.data.options){const er=document.createElement("option");er.textContent=ir.displayValue,er.value=ir.exportValue,zt.value.includes(ir.exportValue)&&(er.setAttribute("selected",!0),nr=!1),Kt.append(er)}let ur=null;if(nr){const ir=document.createElement("option");ir.value=" ",ir.setAttribute("hidden",!0),ir.setAttribute("selected",!0),Kt.prepend(ir),ur=()=>{ir.remove(),Kt.removeEventListener("input",ur),ur=null},Kt.addEventListener("input",ur)}const mr=ir=>{const er=ir?"value":"textContent",{options:rr,multiple:cr}=Kt;return cr?Array.prototype.filter.call(rr,gr=>gr.selected).map(gr=>gr[er]):rr.selectedIndex===-1?null:rr[rr.selectedIndex][er]};let sr=mr(!1);const yr=ir=>{const er=ir.target.options;return Array.prototype.map.call(er,rr=>({displayValue:rr.textContent,exportValue:rr.value}))};return this.enableScripting&&this.hasJSActions?(Kt.addEventListener("updatefromsandbox",ir=>{const er={value(rr){ur==null||ur();const cr=rr.detail.value,gr=new Set(Array.isArray(cr)?cr:[cr]);for(const Ar of Kt.options)Ar.selected=gr.has(Ar.value);Ot.setValue(kt,{value:mr(!0)}),sr=mr(!1)},multipleSelection(rr){Kt.multiple=!0},remove(rr){const cr=Kt.options,gr=rr.detail.remove;cr[gr].selected=!1,Kt.remove(gr),cr.length>0&&Array.prototype.findIndex.call(cr,_r=>_r.selected)===-1&&(cr[0].selected=!0),Ot.setValue(kt,{value:mr(!0),items:yr(rr)}),sr=mr(!1)},clear(rr){for(;Kt.length!==0;)Kt.remove(0);Ot.setValue(kt,{value:null,items:[]}),sr=mr(!1)},insert(rr){const{index:cr,displayValue:gr,exportValue:Ar}=rr.detail.insert,_r=Kt.children[cr],Fr=document.createElement("option");Fr.textContent=gr,Fr.value=Ar,_r?_r.before(Fr):Kt.append(Fr),Ot.setValue(kt,{value:mr(!0),items:yr(rr)}),sr=mr(!1)},items(rr){const{items:cr}=rr.detail;for(;Kt.length!==0;)Kt.remove(0);for(const gr of cr){const{displayValue:Ar,exportValue:_r}=gr,Fr=document.createElement("option");Fr.textContent=Ar,Fr.value=_r,Kt.append(Fr)}Kt.options.length>0&&(Kt.options[0].selected=!0),Ot.setValue(kt,{value:mr(!0),items:yr(rr)}),sr=mr(!1)},indices(rr){const cr=new Set(rr.detail.indices);for(const gr of rr.target.options)gr.selected=cr.has(gr.index);Ot.setValue(kt,{value:mr(!0)}),sr=mr(!1)},editable(rr){rr.target.disabled=!rr.detail.editable}};this._dispatchEventFromSandbox(er,ir)}),Kt.addEventListener("input",ir=>{var rr;const er=mr(!0);Ot.setValue(kt,{value:er}),ir.preventDefault(),(rr=this.linkService.eventBus)==null||rr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:sr,changeEx:er,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Kt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ir=>ir.target.value)):Kt.addEventListener("input",function(ir){Ot.setValue(kt,{value:mr(!0)})}),this.data.combo&&this._setTextStyle(Kt),this._setBackgroundColor(Kt),this._setDefaultPropertiesFromJS(Kt),this.container.append(Kt),this.container}}class dt extends nt{constructor(Ot){const{data:kt,elements:zt}=Ot;super(Ot,{isRenderable:nt._hasPopupData(kt)}),this.elements=zt}render(){this.container.classList.add("popupAnnotation");const Ot=new vt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),kt=[];for(const zt of this.elements)zt.popup=Ot,kt.push(zt.data.id),zt.addHighlightArea();return this.container.setAttribute("aria-controls",kt.map(zt=>`${o.AnnotationPrefix}${zt}`).join(",")),this.container}}class vt{constructor(Ot){$t(this,Er);$t(this,Ut,null);$t(this,Zt,Wt(this,Er,zo).bind(this));$t(this,tr,Wt(this,Er,Ns).bind(this));$t(this,lr,Wt(this,Er,Is).bind(this));$t(this,hr,Wt(this,Er,Vn).bind(this));$t(this,dr,null);$t(this,Gt,null);$t(this,Jt,null);$t(this,Rt,null);$t(this,Nt,null);$t(this,Ht,null);$t(this,qt,!1);$t(this,ar,null);$t(this,vr,null);$t(this,pr,null);$t(this,Vt,null);$t(this,br,!1);var gr;let{container:kt,color:zt,elements:Kt,titleObj:nr,modificationDate:ur,contentsObj:mr,richText:sr,parent:yr,rect:ir,parentRect:er,open:rr}=Ot;Qt(this,Gt,kt),Qt(this,Vt,nr),Qt(this,Jt,mr),Qt(this,pr,sr),Qt(this,Nt,yr),Qt(this,dr,zt),Qt(this,vr,ir),Qt(this,Ht,er),Qt(this,Rt,Kt);const cr=d.PDFDateString.toDateObject(ur);cr&&Qt(this,Ut,yr.l10n.get("annotation_date_string",{date:cr.toLocaleDateString(),time:cr.toLocaleTimeString()})),this.trigger=Kt.flatMap(Ar=>Ar.getElementsToTriggerPopup());for(const Ar of this.trigger)Ar.addEventListener("click",lt(this,hr)),Ar.addEventListener("mouseenter",lt(this,lr)),Ar.addEventListener("mouseleave",lt(this,tr)),Ar.classList.add("popupTriggerArea");for(const Ar of Kt)(gr=Ar.container)==null||gr.addEventListener("keydown",lt(this,Zt));lt(this,Gt).hidden=!0,rr&&Wt(this,Er,Vn).call(this)}render(){if(lt(this,ar))return;const{page:{view:Ot},viewport:{rawDims:{pageWidth:kt,pageHeight:zt,pageX:Kt,pageY:nr}}}=lt(this,Nt),ur=Qt(this,ar,document.createElement("div"));if(ur.className="popup",lt(this,dr)){const Lr=ur.style.outlineColor=o.Util.makeHexColor(...lt(this,dr));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?ur.style.backgroundColor=`color-mix(in srgb, ${Lr} 30%, white)`:ur.style.backgroundColor=o.Util.makeHexColor(...lt(this,dr).map(zr=>Math.floor(.7*(255-zr)+zr)))}const mr=document.createElement("span");mr.className="header";const sr=document.createElement("h1");if(mr.append(sr),{dir:sr.dir,str:sr.textContent}=lt(this,Vt),ur.append(mr),lt(this,Ut)){const Lr=document.createElement("span");Lr.classList.add("popupDate"),lt(this,Ut).then(Br=>{Lr.textContent=Br}),mr.append(Lr)}const yr=lt(this,Jt),ir=lt(this,pr);if(ir!=null&&ir.str&&(!(yr!=null&&yr.str)||yr.str===ir.str))j.XfaLayer.render({xfaHtml:ir.html,intent:"richText",div:ur}),ur.lastChild.classList.add("richText","popupContent");else{const Lr=this._formatContents(yr);ur.append(Lr)}let er=!!lt(this,Ht),rr=er?lt(this,Ht):lt(this,vr);for(const Lr of lt(this,Rt))if(!rr||o.Util.intersect(Lr.data.rect,rr)!==null){rr=Lr.data.rect,er=!0;break}const cr=o.Util.normalizeRect([rr[0],Ot[3]-rr[1]+Ot[1],rr[2],Ot[3]-rr[3]+Ot[1]]),Ar=er?rr[2]-rr[0]+5:0,_r=cr[0]+Ar,Fr=cr[1],{style:jr}=lt(this,Gt);jr.left=`${100*(_r-Kt)/kt}%`,jr.top=`${100*(Fr-nr)/zt}%`,lt(this,Gt).append(ur)}_formatContents(Ot){let{str:kt,dir:zt}=Ot;const Kt=document.createElement("p");Kt.classList.add("popupContent"),Kt.dir=zt;const nr=kt.split(/(?:\r\n?|\n)/);for(let ur=0,mr=nr.length;ur<mr;++ur){const sr=nr[ur];Kt.append(document.createTextNode(sr)),ur<mr-1&&Kt.append(document.createElement("br"))}return Kt}forceHide(){Qt(this,br,this.isVisible),lt(this,br)&&(lt(this,Gt).hidden=!0)}maybeShow(){lt(this,br)&&(Qt(this,br,!1),lt(this,Gt).hidden=!1)}get isVisible(){return lt(this,Gt).hidden===!1}}Ut=new WeakMap,Zt=new WeakMap,tr=new WeakMap,lr=new WeakMap,hr=new WeakMap,dr=new WeakMap,Gt=new WeakMap,Jt=new WeakMap,Rt=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,qt=new WeakMap,ar=new WeakMap,vr=new WeakMap,pr=new WeakMap,Vt=new WeakMap,br=new WeakMap,Er=new WeakSet,zo=function(Ot){Ot.altKey||Ot.shiftKey||Ot.ctrlKey||Ot.metaKey||(Ot.key==="Enter"||Ot.key==="Escape"&&lt(this,qt))&&Wt(this,Er,Vn).call(this)},Vn=function(){Qt(this,qt,!lt(this,qt)),lt(this,qt)?(Wt(this,Er,Is).call(this),lt(this,Gt).addEventListener("click",lt(this,hr)),lt(this,Gt).addEventListener("keydown",lt(this,Zt))):(Wt(this,Er,Ns).call(this),lt(this,Gt).removeEventListener("click",lt(this,hr)),lt(this,Gt).removeEventListener("keydown",lt(this,Zt)))},Is=function(){lt(this,ar)||this.render(),this.isVisible?lt(this,qt)&&lt(this,Gt).classList.add("focused"):(lt(this,Gt).hidden=!1,lt(this,Gt).style.zIndex=parseInt(lt(this,Gt).style.zIndex)+1e3)},Ns=function(){lt(this,Gt).classList.remove("focused"),!(lt(this,qt)||!this.isVisible)&&(lt(this,Gt).hidden=!0,lt(this,Gt).style.zIndex=parseInt(lt(this,Gt).style.zIndex)-1e3)};class Et extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ot.data.textContent,this.textPosition=Ot.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ot=document.createElement("div");Ot.classList.add("annotationTextContent"),Ot.setAttribute("role","comment");for(const kt of this.textContent){const zt=document.createElement("span");zt.textContent=kt,Ot.append(zt)}this.container.append(Ot)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=Et;class pt extends nt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0});$t(this,Tr,null)}render(){this.container.classList.add("lineAnnotation");const kt=this.data,{width:zt,height:Kt}=et(kt.rect),nr=this.svgFactory.create(zt,Kt,!0),ur=Qt(this,Tr,this.svgFactory.createElement("svg:line"));return ur.setAttribute("x1",kt.rect[2]-kt.lineCoordinates[0]),ur.setAttribute("y1",kt.rect[3]-kt.lineCoordinates[1]),ur.setAttribute("x2",kt.rect[2]-kt.lineCoordinates[2]),ur.setAttribute("y2",kt.rect[3]-kt.lineCoordinates[3]),ur.setAttribute("stroke-width",kt.borderStyle.width||1),ur.setAttribute("stroke","transparent"),ur.setAttribute("fill","transparent"),nr.append(ur),this.container.append(nr),!kt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Tr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tr=new WeakMap;class bt extends nt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0});$t(this,Mr,null)}render(){this.container.classList.add("squareAnnotation");const kt=this.data,{width:zt,height:Kt}=et(kt.rect),nr=this.svgFactory.create(zt,Kt,!0),ur=kt.borderStyle.width,mr=Qt(this,Mr,this.svgFactory.createElement("svg:rect"));return mr.setAttribute("x",ur/2),mr.setAttribute("y",ur/2),mr.setAttribute("width",zt-ur),mr.setAttribute("height",Kt-ur),mr.setAttribute("stroke-width",ur||1),mr.setAttribute("stroke","transparent"),mr.setAttribute("fill","transparent"),nr.append(mr),this.container.append(nr),!kt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Mr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mr=new WeakMap;class Ct extends nt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0});$t(this,Ur,null)}render(){this.container.classList.add("circleAnnotation");const kt=this.data,{width:zt,height:Kt}=et(kt.rect),nr=this.svgFactory.create(zt,Kt,!0),ur=kt.borderStyle.width,mr=Qt(this,Ur,this.svgFactory.createElement("svg:ellipse"));return mr.setAttribute("cx",zt/2),mr.setAttribute("cy",Kt/2),mr.setAttribute("rx",zt/2-ur/2),mr.setAttribute("ry",Kt/2-ur/2),mr.setAttribute("stroke-width",ur||1),mr.setAttribute("stroke","transparent"),mr.setAttribute("fill","transparent"),nr.append(mr),this.container.append(nr),!kt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Ur)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ur=new WeakMap;class Bt extends nt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0});$t(this,Cr,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const kt=this.data,{width:zt,height:Kt}=et(kt.rect),nr=this.svgFactory.create(zt,Kt,!0);let ur=[];for(const sr of kt.vertices){const yr=sr.x-kt.rect[0],ir=kt.rect[3]-sr.y;ur.push(yr+","+ir)}ur=ur.join(" ");const mr=Qt(this,Cr,this.svgFactory.createElement(this.svgElementName));return mr.setAttribute("points",ur),mr.setAttribute("stroke-width",kt.borderStyle.width||1),mr.setAttribute("stroke","transparent"),mr.setAttribute("fill","transparent"),nr.append(mr),this.container.append(nr),!kt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Cr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cr=new WeakMap;class jt extends Bt{constructor(Ot){super(Ot),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ft extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class wt extends nt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0});$t(this,or,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const kt=this.data,{width:zt,height:Kt}=et(kt.rect),nr=this.svgFactory.create(zt,Kt,!0);for(const ur of kt.inkLists){let mr=[];for(const yr of ur){const ir=yr.x-kt.rect[0],er=kt.rect[3]-yr.y;mr.push(`${ir},${er}`)}mr=mr.join(" ");const sr=this.svgFactory.createElement(this.svgElementName);lt(this,or).push(sr),sr.setAttribute("points",mr),sr.setAttribute("stroke-width",kt.borderStyle.width||1),sr.setAttribute("stroke","transparent"),sr.setAttribute("fill","transparent"),!kt.popupRef&&this.hasPopupData&&this._createPopup(),nr.append(sr)}return this.container.append(nr),this.container}getElementsToTriggerPopup(){return lt(this,or)}addHighlightArea(){this.container.classList.add("highlightArea")}}or=new WeakMap,e.InkAnnotationElement=wt;class It extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class yt extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Dt extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Mt extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class St extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=St;class gt extends nt{constructor(kt){var nr;super(kt,{isRenderable:!0});$t(this,fr);$t(this,Yt,null);const{filename:zt,content:Kt}=this.data.file;this.filename=(0,d.getFilenameFromUrl)(zt,!0),this.content=Kt,(nr=this.linkService.eventBus)==null||nr.dispatch("fileattachmentannotation",{source:this,filename:zt,content:Kt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:kt,data:zt}=this;let Kt;zt.hasAppearance||zt.fillAlpha===0?Kt=document.createElement("div"):(Kt=document.createElement("img"),Kt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(zt.name)?"paperclip":"pushpin"}.svg`,zt.fillAlpha&&zt.fillAlpha<1&&(Kt.style=`filter: opacity(${Math.round(zt.fillAlpha*100)}%);`)),Kt.addEventListener("dblclick",Wt(this,fr,js).bind(this)),Qt(this,Yt,Kt);const{isMac:nr}=o.FeatureTest.platform;return kt.addEventListener("keydown",ur=>{ur.key==="Enter"&&(nr?ur.metaKey:ur.ctrlKey)&&Wt(this,fr,js).call(this)}),!zt.popupRef&&this.hasPopupData?this._createPopup():Kt.classList.add("popupTriggerArea"),kt.append(Kt),kt}getElementsToTriggerPopup(){return lt(this,Yt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yt=new WeakMap,fr=new WeakSet,js=function(){var kt;(kt=this.downloadManager)==null||kt.openOrDownloadData(this.container,this.content,this.filename)};class mt{constructor(Ot){$t(this,xr);$t(this,Or,null);$t(this,Pt,null);$t(this,Xt,new Map);let{div:kt,accessibilityManager:zt,annotationCanvasMap:Kt,l10n:nr,page:ur,viewport:mr}=Ot;this.div=kt,Qt(this,Or,zt),Qt(this,Pt,Kt),this.l10n=nr,this.page=ur,this.viewport=mr,this.zIndex=0,this.l10n||(this.l10n=b.NullL10n)}async render(Ot){const{annotations:kt}=Ot,zt=this.div;(0,d.setLayerDimensions)(zt,this.viewport);const Kt=new Map,nr={data:null,layer:zt,linkService:Ot.linkService,downloadManager:Ot.downloadManager,imageResourcesPath:Ot.imageResourcesPath||"",renderForms:Ot.renderForms!==!1,svgFactory:new d.DOMSVGFactory,annotationStorage:Ot.annotationStorage||new h.AnnotationStorage,enableScripting:Ot.enableScripting===!0,hasJSActions:Ot.hasJSActions,fieldObjects:Ot.fieldObjects,parent:this,elements:null};for(const ur of kt){if(ur.noHTML)continue;const mr=ur.annotationType===o.AnnotationType.POPUP;if(mr){const ir=Kt.get(ur.id);if(!ir)continue;nr.elements=ir}else{const{width:ir,height:er}=et(ur.rect);if(ir<=0||er<=0)continue}nr.data=ur;const sr=tt.create(nr);if(!sr.isRenderable)continue;if(!mr&&ur.popupRef){const ir=Kt.get(ur.popupRef);ir?ir.push(sr):Kt.set(ur.popupRef,[sr])}sr.annotationEditorType>0&&lt(this,Xt).set(sr.data.id,sr);const yr=sr.render();ur.hidden&&(yr.style.visibility="hidden"),Wt(this,xr,Ho).call(this,yr,ur.id)}Wt(this,xr,Ms).call(this),await this.l10n.translate(zt)}update(Ot){let{viewport:kt}=Ot;const zt=this.div;this.viewport=kt,(0,d.setLayerDimensions)(zt,{rotation:kt.rotation}),Wt(this,xr,Ms).call(this),zt.hidden=!1}getEditableAnnotations(){return Array.from(lt(this,Xt).values())}getEditableAnnotation(Ot){return lt(this,Xt).get(Ot)}}Or=new WeakMap,Pt=new WeakMap,Xt=new WeakMap,xr=new WeakSet,Ho=function(Ot,kt){var Kt;const zt=Ot.firstChild||Ot;zt.id=`${o.AnnotationPrefix}${kt}`,this.div.append(Ot),(Kt=lt(this,Or))==null||Kt.moveElementInDOM(this.div,Ot,zt,!1)},Ms=function(){if(!lt(this,Pt))return;const Ot=this.div;for(const[kt,zt]of lt(this,Pt)){const Kt=Ot.querySelector(`[data-annotation-id="${kt}"]`);if(!Kt)continue;const{firstChild:nr}=Kt;nr?nr.nodeName==="CANVAS"?nr.replaceWith(zt):nr.before(zt):Kt.append(zt)}lt(this,Pt).clear()},e.AnnotationLayer=mt},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function a(h){return Math.floor(Math.max(0,Math.min(1,h))*255).toString(16).padStart(2,"0")}function o(h){return Math.max(0,Math.min(255,255*h))}class d{static CMYK_G(g){let[b,j,_,$]=g;return["G",1-Math.min(1,.3*b+.59*_+.11*j+$)]}static G_CMYK(g){let[b]=g;return["CMYK",0,0,0,1-b]}static G_RGB(g){let[b]=g;return["RGB",b,b,b]}static G_rgb(g){let[b]=g;return b=o(b),[b,b,b]}static G_HTML(g){let[b]=g;const j=a(b);return`#${j}${j}${j}`}static RGB_G(g){let[b,j,_]=g;return["G",.3*b+.59*j+.11*_]}static RGB_rgb(g){return g.map(o)}static RGB_HTML(g){return`#${g.map(a).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(g){let[b,j,_,$]=g;return["RGB",1-Math.min(1,b+$),1-Math.min(1,_+$),1-Math.min(1,j+$)]}static CMYK_rgb(g){let[b,j,_,$]=g;return[o(1-Math.min(1,b+$)),o(1-Math.min(1,_+$)),o(1-Math.min(1,j+$))]}static CMYK_HTML(g){const b=this.CMYK_RGB(g).slice(1);return this.RGB_HTML(b)}static RGB_CMYK(g){let[b,j,_]=g;const $=1-b,_e=1-j,et=1-_,tt=Math.min($,_e,et);return["CMYK",$,_e,et,tt]}}e.ColorConverters=d},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=o;const a={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};a.print_progress_percent="{{progress}}%";function o(g,b){switch(g){case"find_match_count":g=`find_match_count[${b.total===1?"one":"other"}]`;break;case"find_match_count_limit":g=`find_match_count_limit[${b.limit===1?"one":"other"}]`;break}return a[g]||""}function d(g,b){return b?g.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(j,_)=>_ in b?b[_]:"{{"+_+"}}"):g}const h={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(g){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o(g,b);return d(j,b)},async translate(g){}};e.NullL10n=h},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0,a(89);var o=a(194);class d{static setupStorage(g,b,j,_,$){const _e=_.getValue(b,{value:null});switch(j.name){case"textarea":if(_e.value!==null&&(g.textContent=_e.value),$==="print")break;g.addEventListener("input",et=>{_.setValue(b,{value:et.target.value})});break;case"input":if(j.attributes.type==="radio"||j.attributes.type==="checkbox"){if(_e.value===j.attributes.xfaOn?g.setAttribute("checked",!0):_e.value===j.attributes.xfaOff&&g.removeAttribute("checked"),$==="print")break;g.addEventListener("change",et=>{_.setValue(b,{value:et.target.checked?et.target.getAttribute("xfaOn"):et.target.getAttribute("xfaOff")})})}else{if(_e.value!==null&&g.setAttribute("value",_e.value),$==="print")break;g.addEventListener("input",et=>{_.setValue(b,{value:et.target.value})})}break;case"select":if(_e.value!==null){g.setAttribute("value",_e.value);for(const et of j.children)et.attributes.value===_e.value?et.attributes.selected=!0:et.attributes.hasOwnProperty("selected")&&delete et.attributes.selected}g.addEventListener("input",et=>{const tt=et.target.options,nt=tt.selectedIndex===-1?"":tt[tt.selectedIndex].value;_.setValue(b,{value:nt})});break}}static setAttributes(g){let{html:b,element:j,storage:_=null,intent:$,linkService:_e}=g;const{attributes:et}=j,tt=b instanceof HTMLAnchorElement;et.type==="radio"&&(et.name=`${et.name}-${$}`);for(const[nt,it]of Object.entries(et))if(it!=null)switch(nt){case"class":it.length&&b.setAttribute(nt,it.join(" "));break;case"dataId":break;case"id":b.setAttribute("data-element-id",it);break;case"style":Object.assign(b.style,it);break;case"textContent":b.textContent=it;break;default:(!tt||nt!=="href"&&nt!=="newWindow")&&b.setAttribute(nt,it)}tt&&_e.addLinkAttributes(b,et.href,et.newWindow),_&&et.dataId&&this.setupStorage(b,et.dataId,j,_)}static render(g){var it;const b=g.annotationStorage,j=g.linkService,_=g.xfaHtml,$=g.intent||"display",_e=document.createElement(_.name);_.attributes&&this.setAttributes({html:_e,element:_,intent:$,linkService:j});const et=[[_,-1,_e]],tt=g.div;if(tt.append(_e),g.viewport){const st=`matrix(${g.viewport.transform.join(",")})`;tt.style.transform=st}$!=="richText"&&tt.setAttribute("class","xfaLayer xfaFont");const nt=[];for(;et.length>0;){const[st,rt,at]=et.at(-1);if(rt+1===st.children.length){et.pop();continue}const ht=st.children[++et.at(-1)[1]];if(ht===null)continue;const{name:ft}=ht;if(ft==="#text"){const ut=document.createTextNode(ht.value);nt.push(ut),at.append(ut);continue}const ot=(it=ht==null?void 0:ht.attributes)!=null&&it.xmlns?document.createElementNS(ht.attributes.xmlns,ft):document.createElement(ft);if(at.append(ot),ht.attributes&&this.setAttributes({html:ot,element:ht,storage:b,intent:$,linkService:j}),ht.children&&ht.children.length>0)et.push([ht,-1,ot]);else if(ht.value){const ut=document.createTextNode(ht.value);o.XfaText.shouldBuildText(ft)&&nt.push(ut),ot.append(ut)}}for(const st of tt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))st.setAttribute("readOnly",!0);return{textDivs:nt}}static update(g){const b=`matrix(${g.viewport.transform.join(",")})`;g.div.style.transform=b,g.div.hidden=!1}}e.XfaLayer=d},(s,e,a)=>{var _,$,_e,et,tt,nt,it,st,rt,at,ht,ft,ot,ut,ct,Wo,Vo,Go,Ko,Ls,Xo,Us,qo,Yo,$o,Zo,Jo,nn,Bs,Gn,Kn,hn,zs,Xn,At,Qo,Hs,yl,xl,Ws,qn,fn;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,a(89),a(2);var o=a(1),d=a(164),h=a(198),g=a(168),b=a(165);const dr=class dr extends d.AnnotationEditor{constructor(Rt){super({...Rt,name:"inkEditor"});$t(this,ct);$t(this,_,0);$t(this,$,0);$t(this,_e,this.canvasPointermove.bind(this));$t(this,et,this.canvasPointerleave.bind(this));$t(this,tt,this.canvasPointerup.bind(this));$t(this,nt,this.canvasPointerdown.bind(this));$t(this,it,new Path2D);$t(this,st,!1);$t(this,rt,!1);$t(this,at,!1);$t(this,ht,null);$t(this,ft,0);$t(this,ot,0);$t(this,ut,null);this.color=Rt.color||null,this.thickness=Rt.thickness||null,this.opacity=Rt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Rt){d.AnnotationEditor.initialize(Rt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Rt,Nt){switch(Rt){case o.AnnotationEditorParamsType.INK_THICKNESS:dr._defaultThickness=Nt;break;case o.AnnotationEditorParamsType.INK_COLOR:dr._defaultColor=Nt;break;case o.AnnotationEditorParamsType.INK_OPACITY:dr._defaultOpacity=Nt/100;break}}updateParams(Rt,Nt){switch(Rt){case o.AnnotationEditorParamsType.INK_THICKNESS:Wt(this,ct,Wo).call(this,Nt);break;case o.AnnotationEditorParamsType.INK_COLOR:Wt(this,ct,Vo).call(this,Nt);break;case o.AnnotationEditorParamsType.INK_OPACITY:Wt(this,ct,Go).call(this,Nt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,dr._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,dr._defaultColor||d.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(dr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||dr._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||dr._defaultColor||d.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??dr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Wt(this,ct,Gn).call(this),Wt(this,ct,Kn).call(this)),this.isAttachedToDOM||(this.parent.add(this),Wt(this,ct,hn).call(this)),Wt(this,ct,fn).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,lt(this,ht).disconnect(),Qt(this,ht,null),super.remove())}setParent(Rt){!this.parent&&Rt?this._uiManager.removeShouldRescale(this):this.parent&&Rt===null&&this._uiManager.addShouldRescale(this),super.setParent(Rt)}onScaleChanging(){const[Rt,Nt]=this.parentDimensions,Ht=this.width*Rt,qt=this.height*Nt;this.setDimensions(Ht,qt)}enableEditMode(){lt(this,st)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",lt(this,nt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",lt(this,nt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){lt(this,st)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Qt(this,st,!0),this.div.classList.add("disabled"),Wt(this,ct,fn).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Rt){this._focusEventsAllowed&&(super.focusin(Rt),this.enableEditMode())}canvasPointerdown(Rt){Rt.button!==0||!this.isInEditMode()||lt(this,st)||(this.setInForeground(),Rt.preventDefault(),Rt.type!=="mouse"&&this.div.focus(),Wt(this,ct,Xo).call(this,Rt.offsetX,Rt.offsetY))}canvasPointermove(Rt){Rt.preventDefault(),Wt(this,ct,Us).call(this,Rt.offsetX,Rt.offsetY)}canvasPointerup(Rt){Rt.preventDefault(),Wt(this,ct,Bs).call(this,Rt)}canvasPointerleave(Rt){Wt(this,ct,Bs).call(this,Rt)}get isResizable(){return!this.isEmpty()&&lt(this,st)}render(){if(this.div)return this.div;let Rt,Nt;this.width&&(Rt=this.x,Nt=this.y),super.render(),d.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(pr=>{var Vt;return(Vt=this.div)==null?void 0:Vt.setAttribute("aria-label",pr)});const[Ht,qt,ar,vr]=Wt(this,ct,Ko).call(this);if(this.setAt(Ht,qt,0,0),this.setDims(ar,vr),Wt(this,ct,Gn).call(this),this.width){const[pr,Vt]=this.parentDimensions;this.setAspectRatio(this.width*pr,this.height*Vt),this.setAt(Rt*pr,Nt*Vt,this.width*pr,this.height*Vt),Qt(this,at,!0),Wt(this,ct,hn).call(this),this.setDims(this.width*pr,this.height*Vt),Wt(this,ct,nn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Wt(this,ct,Kn).call(this),this.div}setDimensions(Rt,Nt){const Ht=Math.round(Rt),qt=Math.round(Nt);if(lt(this,ft)===Ht&&lt(this,ot)===qt)return;Qt(this,ft,Ht),Qt(this,ot,qt),this.canvas.style.visibility="hidden";const[ar,vr]=this.parentDimensions;this.width=Rt/ar,this.height=Nt/vr,this.fixAndSetPosition(),lt(this,st)&&Wt(this,ct,zs).call(this,Rt,Nt),Wt(this,ct,hn).call(this),Wt(this,ct,nn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Rt,Nt,Ht){var Tr,Mr,Ur;if(Rt instanceof h.InkAnnotationElement)return null;const qt=super.deserialize(Rt,Nt,Ht);qt.thickness=Rt.thickness,qt.color=o.Util.makeHexColor(...Rt.color),qt.opacity=Rt.opacity;const[ar,vr]=qt.pageDimensions,pr=qt.width*ar,Vt=qt.height*vr,br=qt.parentScale,Er=Rt.thickness/2;Qt(qt,st,!0),Qt(qt,ft,Math.round(pr)),Qt(qt,ot,Math.round(Vt));const{paths:Ir,rect:kr,rotation:Nr}=Rt;for(let{bezier:Cr}of Ir){Cr=Wt(Tr=dr,At,yl).call(Tr,Cr,kr,Nr);const or=[];qt.paths.push(or);let Yt=br*(Cr[0]-Er),fr=br*(Cr[1]-Er);for(let Or=2,Pt=Cr.length;Or<Pt;Or+=6){const Xt=br*(Cr[Or]-Er),xr=br*(Cr[Or+1]-Er),wr=br*(Cr[Or+2]-Er),Pr=br*(Cr[Or+3]-Er),Sr=br*(Cr[Or+4]-Er),Ot=br*(Cr[Or+5]-Er);or.push([[Yt,fr],[Xt,xr],[wr,Pr],[Sr,Ot]]),Yt=Sr,fr=Ot}const Dr=Wt(this,At,Qo).call(this,or);qt.bezierPath2D.push(Dr)}const Rr=Wt(Mr=qt,ct,Ws).call(Mr);return Qt(qt,$,Math.max(d.AnnotationEditor.MIN_SIZE,Rr[2]-Rr[0])),Qt(qt,_,Math.max(d.AnnotationEditor.MIN_SIZE,Rr[3]-Rr[1])),Wt(Ur=qt,ct,zs).call(Ur,pr,Vt),qt}serialize(){if(this.isEmpty())return null;const Rt=this.getRect(0,0),Nt=d.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:Nt,thickness:this.thickness,opacity:this.opacity,paths:Wt(this,ct,xl).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Rt),pageIndex:this.pageIndex,rect:Rt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};_=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,rt=new WeakMap,at=new WeakMap,ht=new WeakMap,ft=new WeakMap,ot=new WeakMap,ut=new WeakMap,ct=new WeakSet,Wo=function(Rt){const Nt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Rt,Wt(this,ct,fn).call(this)},undo:()=>{this.thickness=Nt,Wt(this,ct,fn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Vo=function(Rt){const Nt=this.color;this.addCommands({cmd:()=>{this.color=Rt,Wt(this,ct,nn).call(this)},undo:()=>{this.color=Nt,Wt(this,ct,nn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Go=function(Rt){Rt/=100;const Nt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Rt,Wt(this,ct,nn).call(this)},undo:()=>{this.opacity=Nt,Wt(this,ct,nn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ko=function(){const{parentRotation:Rt,parentDimensions:[Nt,Ht]}=this;switch(Rt){case 90:return[0,Ht,Ht,Nt];case 180:return[Nt,Ht,Nt,Ht];case 270:return[Nt,0,Ht,Nt];default:return[0,0,Nt,Ht]}},Ls=function(){const{ctx:Rt,color:Nt,opacity:Ht,thickness:qt,parentScale:ar,scaleFactor:vr}=this;Rt.lineWidth=qt*ar/vr,Rt.lineCap="round",Rt.lineJoin="round",Rt.miterLimit=10,Rt.strokeStyle=`${Nt}${(0,b.opacityToHex)(Ht)}`},Xo=function(Rt,Nt){this.canvas.addEventListener("contextmenu",g.noContextMenu),this.canvas.addEventListener("pointerleave",lt(this,et)),this.canvas.addEventListener("pointermove",lt(this,_e)),this.canvas.addEventListener("pointerup",lt(this,tt)),this.canvas.removeEventListener("pointerdown",lt(this,nt)),this.isEditing=!0,lt(this,at)||(Qt(this,at,!0),Wt(this,ct,hn).call(this),this.thickness||(this.thickness=dr._defaultThickness),this.color||(this.color=dr._defaultColor||d.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=dr._defaultOpacity)),this.currentPath.push([Rt,Nt]),Qt(this,rt,!1),Wt(this,ct,Ls).call(this),Qt(this,ut,()=>{Wt(this,ct,$o).call(this),lt(this,ut)&&window.requestAnimationFrame(lt(this,ut))}),window.requestAnimationFrame(lt(this,ut))},Us=function(Rt,Nt){const[Ht,qt]=this.currentPath.at(-1);if(this.currentPath.length>1&&Rt===Ht&&Nt===qt)return;const ar=this.currentPath;let vr=lt(this,it);if(ar.push([Rt,Nt]),Qt(this,rt,!0),ar.length<=2){vr.moveTo(...ar[0]),vr.lineTo(Rt,Nt);return}ar.length===3&&(Qt(this,it,vr=new Path2D),vr.moveTo(...ar[0])),Wt(this,ct,Zo).call(this,vr,...ar.at(-3),...ar.at(-2),Rt,Nt)},qo=function(){if(this.currentPath.length===0)return;const Rt=this.currentPath.at(-1);lt(this,it).lineTo(...Rt)},Yo=function(Rt,Nt){Qt(this,ut,null),Rt=Math.min(Math.max(Rt,0),this.canvas.width),Nt=Math.min(Math.max(Nt,0),this.canvas.height),Wt(this,ct,Us).call(this,Rt,Nt),Wt(this,ct,qo).call(this);let Ht;if(this.currentPath.length!==1)Ht=Wt(this,ct,Jo).call(this);else{const Vt=[Rt,Nt];Ht=[[Vt,Vt.slice(),Vt.slice(),Vt]]}const qt=lt(this,it),ar=this.currentPath;this.currentPath=[],Qt(this,it,new Path2D);const vr=()=>{this.allRawPaths.push(ar),this.paths.push(Ht),this.bezierPath2D.push(qt),this.rebuild()},pr=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Wt(this,ct,Gn).call(this),Wt(this,ct,Kn).call(this)),Wt(this,ct,fn).call(this))};this.addCommands({cmd:vr,undo:pr,mustExec:!0})},$o=function(){if(!lt(this,rt))return;Qt(this,rt,!1);const Rt=Math.ceil(this.thickness*this.parentScale),Nt=this.currentPath.slice(-3),Ht=Nt.map(vr=>vr[0]),qt=Nt.map(vr=>vr[1]);Math.min(...Ht)-Rt,Math.max(...Ht)+Rt,Math.min(...qt)-Rt,Math.max(...qt)+Rt;const{ctx:ar}=this;ar.save(),ar.clearRect(0,0,this.canvas.width,this.canvas.height);for(const vr of this.bezierPath2D)ar.stroke(vr);ar.stroke(lt(this,it)),ar.restore()},Zo=function(Rt,Nt,Ht,qt,ar,vr,pr){const Vt=(Nt+qt)/2,br=(Ht+ar)/2,Er=(qt+vr)/2,Ir=(ar+pr)/2;Rt.bezierCurveTo(Vt+2*(qt-Vt)/3,br+2*(ar-br)/3,Er+2*(qt-Er)/3,Ir+2*(ar-Ir)/3,Er,Ir)},Jo=function(){const Rt=this.currentPath;if(Rt.length<=2)return[[Rt[0],Rt[0],Rt.at(-1),Rt.at(-1)]];const Nt=[];let Ht,[qt,ar]=Rt[0];for(Ht=1;Ht<Rt.length-2;Ht++){const[kr,Nr]=Rt[Ht],[Rr,Tr]=Rt[Ht+1],Mr=(kr+Rr)/2,Ur=(Nr+Tr)/2,Cr=[qt+2*(kr-qt)/3,ar+2*(Nr-ar)/3],or=[Mr+2*(kr-Mr)/3,Ur+2*(Nr-Ur)/3];Nt.push([[qt,ar],Cr,or,[Mr,Ur]]),[qt,ar]=[Mr,Ur]}const[vr,pr]=Rt[Ht],[Vt,br]=Rt[Ht+1],Er=[qt+2*(vr-qt)/3,ar+2*(pr-ar)/3],Ir=[Vt+2*(vr-Vt)/3,br+2*(pr-br)/3];return Nt.push([[qt,ar],Er,Ir,[Vt,br]]),Nt},nn=function(){if(this.isEmpty()){Wt(this,ct,Xn).call(this);return}Wt(this,ct,Ls).call(this);const{canvas:Rt,ctx:Nt}=this;Nt.setTransform(1,0,0,1,0,0),Nt.clearRect(0,0,Rt.width,Rt.height),Wt(this,ct,Xn).call(this);for(const Ht of this.bezierPath2D)Nt.stroke(Ht)},Bs=function(Rt){this.canvas.removeEventListener("pointerleave",lt(this,et)),this.canvas.removeEventListener("pointermove",lt(this,_e)),this.canvas.removeEventListener("pointerup",lt(this,tt)),this.canvas.addEventListener("pointerdown",lt(this,nt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",g.noContextMenu)},10),Wt(this,ct,Yo).call(this,Rt.offsetX,Rt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Gn=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",d.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Rt=>{var Nt;return(Nt=this.canvas)==null?void 0:Nt.setAttribute("aria-label",Rt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Kn=function(){Qt(this,ht,new ResizeObserver(Rt=>{const Nt=Rt[0].contentRect;Nt.width&&Nt.height&&this.setDimensions(Nt.width,Nt.height)})),lt(this,ht).observe(this.div)},hn=function(){if(!lt(this,at))return;const[Rt,Nt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Rt),this.canvas.height=Math.ceil(this.height*Nt),Wt(this,ct,Xn).call(this)},zs=function(Rt,Nt){const Ht=Wt(this,ct,qn).call(this),qt=(Rt-Ht)/lt(this,$),ar=(Nt-Ht)/lt(this,_);this.scaleFactor=Math.min(qt,ar)},Xn=function(){const Rt=Wt(this,ct,qn).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Rt,this.translationY*this.scaleFactor+Rt)},At=new WeakSet,Qo=function(Rt){const Nt=new Path2D;for(let Ht=0,qt=Rt.length;Ht<qt;Ht++){const[ar,vr,pr,Vt]=Rt[Ht];Ht===0&&Nt.moveTo(...ar),Nt.bezierCurveTo(vr[0],vr[1],pr[0],pr[1],Vt[0],Vt[1])}return Nt},Hs=function(Rt,Nt,Ht){const[qt,ar,vr,pr]=Nt;switch(Ht){case 0:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2)Rt[Vt]+=qt,Rt[Vt+1]=pr-Rt[Vt+1];break;case 90:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2){const Er=Rt[Vt];Rt[Vt]=Rt[Vt+1]+qt,Rt[Vt+1]=Er+ar}break;case 180:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2)Rt[Vt]=vr-Rt[Vt],Rt[Vt+1]+=ar;break;case 270:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2){const Er=Rt[Vt];Rt[Vt]=vr-Rt[Vt+1],Rt[Vt+1]=pr-Er}break;default:throw new Error("Invalid rotation")}return Rt},yl=function(Rt,Nt,Ht){const[qt,ar,vr,pr]=Nt;switch(Ht){case 0:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2)Rt[Vt]-=qt,Rt[Vt+1]=pr-Rt[Vt+1];break;case 90:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2){const Er=Rt[Vt];Rt[Vt]=Rt[Vt+1]-ar,Rt[Vt+1]=Er-qt}break;case 180:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2)Rt[Vt]=vr-Rt[Vt],Rt[Vt+1]-=ar;break;case 270:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2){const Er=Rt[Vt];Rt[Vt]=pr-Rt[Vt+1],Rt[Vt+1]=vr-Er}break;default:throw new Error("Invalid rotation")}return Rt},xl=function(Rt,Nt,Ht,qt){var br,Er;const ar=[],vr=this.thickness/2,pr=Rt*Nt+vr,Vt=Rt*Ht+vr;for(const Ir of this.paths){const kr=[],Nr=[];for(let Rr=0,Tr=Ir.length;Rr<Tr;Rr++){const[Mr,Ur,Cr,or]=Ir[Rr],Yt=Rt*Mr[0]+pr,fr=Rt*Mr[1]+Vt,Dr=Rt*Ur[0]+pr,Or=Rt*Ur[1]+Vt,Pt=Rt*Cr[0]+pr,Xt=Rt*Cr[1]+Vt,xr=Rt*or[0]+pr,wr=Rt*or[1]+Vt;Rr===0&&(kr.push(Yt,fr),Nr.push(Yt,fr)),kr.push(Dr,Or,Pt,Xt,xr,wr),Nr.push(Dr,Or),Rr===Tr-1&&Nr.push(xr,wr)}ar.push({bezier:Wt(br=dr,At,Hs).call(br,kr,qt,this.rotation),points:Wt(Er=dr,At,Hs).call(Er,Nr,qt,this.rotation)})}return ar},Ws=function(){let Rt=1/0,Nt=-1/0,Ht=1/0,qt=-1/0;for(const ar of this.paths)for(const[vr,pr,Vt,br]of ar){const Er=o.Util.bezierBoundingBox(...vr,...pr,...Vt,...br);Rt=Math.min(Rt,Er[0]),Ht=Math.min(Ht,Er[1]),Nt=Math.max(Nt,Er[2]),qt=Math.max(qt,Er[3])}return[Rt,Ht,Nt,qt]},qn=function(){return lt(this,st)?Math.ceil(this.thickness*this.parentScale):0},fn=function(){let Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!lt(this,st)){Wt(this,ct,nn).call(this);return}const Nt=Wt(this,ct,Ws).call(this),Ht=Wt(this,ct,qn).call(this);Qt(this,$,Math.max(d.AnnotationEditor.MIN_SIZE,Nt[2]-Nt[0])),Qt(this,_,Math.max(d.AnnotationEditor.MIN_SIZE,Nt[3]-Nt[1]));const qt=Math.ceil(Ht+lt(this,$)*this.scaleFactor),ar=Math.ceil(Ht+lt(this,_)*this.scaleFactor),[vr,pr]=this.parentDimensions;this.width=qt/vr,this.height=ar/pr,this.setAspectRatio(qt,ar);const Vt=this.translationX,br=this.translationY;this.translationX=-Nt[0],this.translationY=-Nt[1],Wt(this,ct,hn).call(this),Wt(this,ct,nn).call(this),Qt(this,ft,qt),Qt(this,ot,ar),this.setDims(qt,ar);const Er=Rt?Ht/this.scaleFactor/2:0;this.translate(Vt-this.translationX-Er,br-this.translationY-Er)},$t(dr,At),Hr(dr,"_defaultColor",null),Hr(dr,"_defaultOpacity",1),Hr(dr,"_defaultThickness",1),Hr(dr,"_type","ink");let j=dr;e.InkEditor=j},(s,e,a)=>{var j,_,$,_e,et,tt,nt,it,st,rt,at,Pn,Cn,Yn,Vs,El,Sl,Gs,$n,wl;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0,a(149),a(152);var o=a(1),d=a(164),h=a(168),g=a(198);const bt=class bt extends d.AnnotationEditor{constructor(jt){super({...jt,name:"stampEditor"});$t(this,at);$t(this,j,null);$t(this,_,null);$t(this,$,null);$t(this,_e,null);$t(this,et,null);$t(this,tt,null);$t(this,nt,null);$t(this,it,null);$t(this,st,!1);$t(this,rt,!1);Qt(this,_e,jt.bitmapUrl),Qt(this,et,jt.bitmapFile)}static initialize(jt){d.AnnotationEditor.initialize(jt)}static get supportedTypes(){const jt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",jt.map(Ft=>`image/${Ft}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(jt){return this.supportedTypes.includes(jt)}static paste(jt,Ft){Ft.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:jt.getAsFile()})}remove(){var jt,Ft;lt(this,_)&&(Qt(this,j,null),this._uiManager.imageManager.deleteId(lt(this,_)),(jt=lt(this,tt))==null||jt.remove(),Qt(this,tt,null),(Ft=lt(this,nt))==null||Ft.disconnect(),Qt(this,nt,null)),super.remove()}rebuild(){if(!this.parent){lt(this,_)&&Wt(this,at,Yn).call(this);return}super.rebuild(),this.div!==null&&(lt(this,_)&&Wt(this,at,Yn).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(lt(this,$)||lt(this,j)||lt(this,_e)||lt(this,et))}get isResizable(){return!0}render(){if(this.div)return this.div;let jt,Ft;if(this.width&&(jt=this.x,Ft=this.y),super.render(),this.div.hidden=!0,lt(this,j)?Wt(this,at,Vs).call(this):Wt(this,at,Yn).call(this),this.width){const[wt,It]=this.parentDimensions;this.setAt(jt*wt,Ft*It,this.width*wt,this.height*It)}return this.div}static deserialize(jt,Ft,wt){if(jt instanceof g.StampAnnotationElement)return null;const It=super.deserialize(jt,Ft,wt),{rect:yt,bitmapUrl:Dt,bitmapId:Mt,isSvg:St,accessibilityData:gt}=jt;Mt&&wt.imageManager.isValidId(Mt)?Qt(It,_,Mt):Qt(It,_e,Dt),Qt(It,st,St);const[mt,xt]=It.pageDimensions;return It.width=(yt[2]-yt[0])/mt,It.height=(yt[3]-yt[1])/xt,gt&&(It.altTextData=gt),It}serialize(){let jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.isEmpty())return null;const wt={annotationType:o.AnnotationEditorType.STAMP,bitmapId:lt(this,_),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:lt(this,st),structTreeParentId:this._structTreeParentId};if(jt)return wt.bitmapUrl=Wt(this,at,$n).call(this,!0),wt.accessibilityData=this.altTextData,wt;const{decorative:It,altText:yt}=this.altTextData;if(!It&&yt&&(wt.accessibilityData={type:"Figure",alt:yt}),Ft===null)return wt;Ft.stamps||(Ft.stamps=new Map);const Dt=lt(this,st)?(wt.rect[2]-wt.rect[0])*(wt.rect[3]-wt.rect[1]):null;if(!Ft.stamps.has(lt(this,_)))Ft.stamps.set(lt(this,_),{area:Dt,serialized:wt}),wt.bitmap=Wt(this,at,$n).call(this,!1);else if(lt(this,st)){const Mt=Ft.stamps.get(lt(this,_));Dt>Mt.area&&(Mt.area=Dt,Mt.serialized.bitmap.close(),Mt.serialized.bitmap=Wt(this,at,$n).call(this,!1))}return wt}};j=new WeakMap,_=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,rt=new WeakMap,at=new WeakSet,Pn=function(jt){let Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!jt){this.remove();return}Qt(this,j,jt.bitmap),Ft||(Qt(this,_,jt.id),Qt(this,st,jt.isSvg)),Wt(this,at,Vs).call(this)},Cn=function(){Qt(this,$,null),this._uiManager.enableWaiting(!1),lt(this,tt)&&this.div.focus()},Yn=function(){if(lt(this,_)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(lt(this,_)).then(Ft=>Wt(this,at,Pn).call(this,Ft,!0)).finally(()=>Wt(this,at,Cn).call(this));return}if(lt(this,_e)){const Ft=lt(this,_e);Qt(this,_e,null),this._uiManager.enableWaiting(!0),Qt(this,$,this._uiManager.imageManager.getFromUrl(Ft).then(wt=>Wt(this,at,Pn).call(this,wt)).finally(()=>Wt(this,at,Cn).call(this)));return}if(lt(this,et)){const Ft=lt(this,et);Qt(this,et,null),this._uiManager.enableWaiting(!0),Qt(this,$,this._uiManager.imageManager.getFromFile(Ft).then(wt=>Wt(this,at,Pn).call(this,wt)).finally(()=>Wt(this,at,Cn).call(this)));return}const jt=document.createElement("input");jt.type="file",jt.accept=bt.supportedTypesStr,Qt(this,$,new Promise(Ft=>{jt.addEventListener("change",async()=>{if(!jt.files||jt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const wt=await this._uiManager.imageManager.getFromFile(jt.files[0]);Wt(this,at,Pn).call(this,wt)}Ft()}),jt.addEventListener("cancel",()=>{this.remove(),Ft()})}).finally(()=>Wt(this,at,Cn).call(this))),jt.click()},Vs=function(){const{div:jt}=this;let{width:Ft,height:wt}=lt(this,j);const[It,yt]=this.pageDimensions,Dt=.75;if(this.width)Ft=this.width*It,wt=this.height*yt;else if(Ft>Dt*It||wt>Dt*yt){const mt=Math.min(Dt*It/Ft,Dt*yt/wt);Ft*=mt,wt*=mt}const[Mt,St]=this.parentDimensions;this.setDims(Ft*Mt/It,wt*St/yt),this._uiManager.enableWaiting(!1);const gt=Qt(this,tt,document.createElement("canvas"));jt.append(gt),jt.hidden=!1,Wt(this,at,Gs).call(this,Ft,wt),Wt(this,at,wl).call(this),lt(this,rt)||(this.parent.addUndoableEditor(this),Qt(this,rt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},El=function(jt,Ft){var Dt;const[wt,It]=this.parentDimensions;this.width=jt/wt,this.height=Ft/It,this.setDims(jt,Ft),(Dt=this._initialOptions)!=null&&Dt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,lt(this,it)!==null&&clearTimeout(lt(this,it)),Qt(this,it,setTimeout(()=>{Qt(this,it,null),Wt(this,at,Gs).call(this,jt,Ft)},200))},Sl=function(jt,Ft){const{width:wt,height:It}=lt(this,j);let yt=wt,Dt=It,Mt=lt(this,j);for(;yt>2*jt||Dt>2*Ft;){const St=yt,gt=Dt;yt>2*jt&&(yt=yt>=16384?Math.floor(yt/2)-1:Math.ceil(yt/2)),Dt>2*Ft&&(Dt=Dt>=16384?Math.floor(Dt/2)-1:Math.ceil(Dt/2));const mt=new OffscreenCanvas(yt,Dt);mt.getContext("2d").drawImage(Mt,0,0,St,gt,0,0,yt,Dt),Mt=mt.transferToImageBitmap()}return Mt},Gs=function(jt,Ft){jt=Math.ceil(jt),Ft=Math.ceil(Ft);const wt=lt(this,tt);if(!wt||wt.width===jt&&wt.height===Ft)return;wt.width=jt,wt.height=Ft;const It=lt(this,st)?lt(this,j):Wt(this,at,Sl).call(this,jt,Ft),yt=wt.getContext("2d");yt.filter=this._uiManager.hcmFilter,yt.drawImage(It,0,0,It.width,It.height,0,0,jt,Ft)},$n=function(jt){if(jt){if(lt(this,st)){const It=this._uiManager.imageManager.getSvgUrl(lt(this,_));if(It)return It}const Ft=document.createElement("canvas");return{width:Ft.width,height:Ft.height}=lt(this,j),Ft.getContext("2d").drawImage(lt(this,j),0,0),Ft.toDataURL()}if(lt(this,st)){const[Ft,wt]=this.pageDimensions,It=Math.round(this.width*Ft*h.PixelsPerInch.PDF_TO_CSS_UNITS),yt=Math.round(this.height*wt*h.PixelsPerInch.PDF_TO_CSS_UNITS),Dt=new OffscreenCanvas(It,yt);return Dt.getContext("2d").drawImage(lt(this,j),0,0,lt(this,j).width,lt(this,j).height,0,0,It,yt),Dt.transferToImageBitmap()}return structuredClone(lt(this,j))},wl=function(){Qt(this,nt,new ResizeObserver(jt=>{const Ft=jt[0].contentRect;Ft.width&&Ft.height&&Wt(this,at,El).call(this,Ft.width,Ft.height)})),lt(this,nt).observe(this.div)},Hr(bt,"_type","stamp");let b=bt;e.StampEditor=b}],__webpack_module_cache__={};function __w_pdfjs_require__(s){var e=__webpack_module_cache__[s];if(e!==void 0)return e.exports;var a=__webpack_module_cache__[s]={exports:{}};return __webpack_modules__[s].call(a.exports,a,a.exports,__w_pdfjs_require__),a.exports}var __webpack_exports__={};return(()=>{var s=__webpack_exports__;Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(s,"AnnotationEditorLayer",{enumerable:!0,get:function(){return h.AnnotationEditorLayer}}),Object.defineProperty(s,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(s,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(s,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return g.AnnotationEditorUIManager}}),Object.defineProperty(s,"AnnotationLayer",{enumerable:!0,get:function(){return b.AnnotationLayer}}),Object.defineProperty(s,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(s,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(s,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(s,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(s,"GlobalWorkerOptions",{enumerable:!0,get:function(){return j.GlobalWorkerOptions}}),Object.defineProperty(s,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(s,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(s,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(s,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(s,"PDFDataRangeTransport",{enumerable:!0,get:function(){return a.PDFDataRangeTransport}}),Object.defineProperty(s,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(s,"PDFWorker",{enumerable:!0,get:function(){return a.PDFWorker}}),Object.defineProperty(s,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(s,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(s,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(s,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(s,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(s,"SVGGraphics",{enumerable:!0,get:function(){return a.SVGGraphics}}),Object.defineProperty(s,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(s,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(s,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(s,"XfaLayer",{enumerable:!0,get:function(){return _.XfaLayer}}),Object.defineProperty(s,"build",{enumerable:!0,get:function(){return a.build}}),Object.defineProperty(s,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(s,"getDocument",{enumerable:!0,get:function(){return a.getDocument}}),Object.defineProperty(s,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(s,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(s,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(s,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(s,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(s,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(s,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(s,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(s,"renderTextLayer",{enumerable:!0,get:function(){return d.renderTextLayer}}),Object.defineProperty(s,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(s,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(s,"updateTextLayer",{enumerable:!0,get:function(){return d.updateTextLayer}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return a.version}});var e=__w_pdfjs_require__(1),a=__w_pdfjs_require__(124),o=__w_pdfjs_require__(168),d=__w_pdfjs_require__(195),h=__w_pdfjs_require__(196),g=__w_pdfjs_require__(165),b=__w_pdfjs_require__(198),j=__w_pdfjs_require__(176),_=__w_pdfjs_require__(201)})(),__webpack_exports__})())})(pdf$1);var pdfExports$1=pdf$1.exports;const pdfjsWorker=""+new URL("pdf.worker.min-SzY6Yteu.js",import.meta.url).href;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(s,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var d in o)o.hasOwnProperty(d)&&(a[d]=o[d])},extendStatics(s,e)};function __extends(s,e){extendStatics(s,e);function a(){this.constructor=s}s.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}var __assign=function(){return __assign=Object.assign||function(e){for(var a,o=1,d=arguments.length;o<d;o++){a=arguments[o];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(e[h]=a[h])}return e},__assign.apply(this,arguments)};function __rest(s,e){var a={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&e.indexOf(o)<0&&(a[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(s);d<o.length;d++)e.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(s,o[d])&&(a[o[d]]=s[o[d]]);return a}function __awaiter(s,e,a,o){function d(h){return h instanceof a?h:new a(function(g){g(h)})}return new(a||(a=Promise))(function(h,g){function b($){try{_(o.next($))}catch(_e){g(_e)}}function j($){try{_(o.throw($))}catch(_e){g(_e)}}function _($){$.done?h($.value):d($.value).then(b,j)}_((o=o.apply(s,[])).next())})}function __generator(s,e){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,d,h,g;return g={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(_){return function($){return j([_,$])}}function j(_){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,d&&(h=_[0]&2?d.return:_[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,_[1])).done)return h;switch(d=0,h&&(_=[_[0]&2,h.value]),_[0]){case 0:case 1:h=_;break;case 4:return a.label++,{value:_[1],done:!1};case 5:a.label++,d=_[1],_=[0];continue;case 7:_=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(_[0]===6||_[0]===2)){a=0;continue}if(_[0]===3&&(!h||_[1]>h[0]&&_[1]<h[3])){a.label=_[1];break}if(_[0]===6&&a.label<h[1]){a.label=h[1],h=_;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(_);break}h[2]&&a.ops.pop(),a.trys.pop();continue}_=e.call(s,a)}catch($){_=[6,$],d=0}finally{o=h=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}}function __spreadArrays(){for(var s=0,e=0,a=arguments.length;e<a;e++)s+=arguments[e].length;for(var o=Array(s),d=0,e=0;e<a;e++)for(var h=arguments[e],g=0,b=h.length;g<b;g++,d++)o[d]=h[g];return o}var chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=new Uint8Array(256);for(var i$1=0;i$1<chars$1.length;i$1++)lookup$1[chars$1.charCodeAt(i$1)]=i$1;var encodeToBase64=function(s){for(var e="",a=s.length,o=0;o<a;o+=3)e+=chars$1[s[o]>>2],e+=chars$1[(s[o]&3)<<4|s[o+1]>>4],e+=chars$1[(s[o+1]&15)<<2|s[o+2]>>6],e+=chars$1[s[o+2]&63];return a%3===2?e=e.substring(0,e.length-1)+"=":a%3===1&&(e=e.substring(0,e.length-2)+"=="),e},decodeFromBase64$1=function(s){var e=s.length*.75,a=s.length,o,d=0,h,g,b,j;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);var _=new Uint8Array(e);for(o=0;o<a;o+=4)h=lookup$1[s.charCodeAt(o)],g=lookup$1[s.charCodeAt(o+1)],b=lookup$1[s.charCodeAt(o+2)],j=lookup$1[s.charCodeAt(o+3)],_[d++]=h<<2|g>>4,_[d++]=(g&15)<<4|b>>2,_[d++]=(b&3)<<6|j&63;return _},DATA_URI_PREFIX_REGEX=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,decodeFromBase64DataUri=function(s){var e=s.trim(),a=e.substring(0,100),o=a.match(DATA_URI_PREFIX_REGEX);if(!o)return decodeFromBase64$1(e);var d=o[0],h=e.substring(d.length);return decodeFromBase64$1(h)},toCharCode=function(s){return s.charCodeAt(0)},toCodePoint=function(s){return s.codePointAt(0)},toHexStringOfMinLength=function(s,e){return padStart$1(s.toString(16),e,"0").toUpperCase()},toHexString=function(s){return toHexStringOfMinLength(s,2)},charFromCode=function(s){return String.fromCharCode(s)},charFromHexCode=function(s){return charFromCode(parseInt(s,16))},padStart$1=function(s,e,a){for(var o="",d=0,h=e-s.length;d<h;d++)o+=a;return o+s},copyStringIntoBuffer=function(s,e,a){for(var o=s.length,d=0;d<o;d++)e[a++]=s.charCodeAt(d);return o},escapeRegExp=function(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},cleanText=function(s){return s.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},escapedNewlineChars=["\\n","\\f","\\r","\\u000B"],isNewlineChar=function(s){return/^[\n\f\r\u000B]$/.test(s)},lineSplit=function(s){return s.split(/[\n\f\r\u000B]/)},mergeLines=function(s){return s.replace(/[\n\f\r\u000B]/g," ")},charAtIndex=function(s,e){var a=s.charCodeAt(e),o,d=e+1,h=1;return a>=55296&&a<=56319&&s.length>d&&(o=s.charCodeAt(d),o>=56320&&o<=57343&&(h=2)),[s.slice(e,e+h),h]},charSplit=function(s){for(var e=[],a=0,o=s.length;a<o;){var d=charAtIndex(s,a),h=d[0],g=d[1];e.push(h),a+=g}return e},buildWordBreakRegex=function(s){for(var e=escapedNewlineChars.join("|"),a=["$"],o=0,d=s.length;o<d;o++){var h=s[o];if(isNewlineChar(h))throw new TypeError("`wordBreak` must not include "+e);a.push(h===""?".":escapeRegExp(h))}var g=a.join("|");return new RegExp("("+e+")|((.*?)("+g+"))","gm")},breakTextIntoLines=function(s,e,a,o){for(var d=buildWordBreakRegex(e),h=cleanText(s).match(d),g="",b=0,j=[],_=function(){g!==""&&j.push(g),g="",b=0},$=0,_e=h.length;$<_e;$++){var et=h[$];if(isNewlineChar(et))_();else{var tt=o(et);b+tt>a&&_(),g+=et,b+=tt}}return _(),j},dateRegex=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,parseDate=function(s){var e=s.match(dateRegex);if(e){var a=e[1],o=e[2],d=o===void 0?"01":o,h=e[3],g=h===void 0?"01":h,b=e[4],j=b===void 0?"00":b,_=e[5],$=_===void 0?"00":_,_e=e[6],et=_e===void 0?"00":_e,tt=e[7],nt=tt===void 0?"Z":tt,it=e[8],st=it===void 0?"00":it,rt=e[9],at=rt===void 0?"00":rt,ht=nt==="Z"?"Z":""+nt+st+":"+at,ft=new Date(a+"-"+d+"-"+g+"T"+j+":"+$+":"+et+ht);return ft}},findLastMatch=function(s,e){for(var a,o=0,d;o<s.length;){var h=s.substring(o).match(e);if(!h)return{match:d,pos:o};d=h,o+=((a=h.index)!==null&&a!==void 0?a:0)+h[0].length}return{match:d,pos:o}},last=function(s){return s[s.length-1]},typedArrayFor=function(s){if(s instanceof Uint8Array)return s;for(var e=s.length,a=new Uint8Array(e),o=0;o<e;o++)a[o]=s.charCodeAt(o);return a},mergeIntoTypedArray=function(){for(var s=[],e=0;e<arguments.length;e++)s[e]=arguments[e];for(var a=s.length,o=[],d=0;d<a;d++){var h=s[d];o[d]=h instanceof Uint8Array?h:typedArrayFor(h)}for(var g=0,d=0;d<a;d++)g+=s[d].length;for(var b=new Uint8Array(g),j=0,_=0;_<a;_++)for(var $=o[_],_e=0,et=$.length;_e<et;_e++)b[j++]=$[_e];return b},mergeUint8Arrays=function(s){for(var e=0,a=0,o=s.length;a<o;a++)e+=s[a].length;for(var d=new Uint8Array(e),h=0,a=0,o=s.length;a<o;a++){var g=s[a];d.set(g,h),h+=g.length}return d},arrayAsString=function(s){for(var e="",a=0,o=s.length;a<o;a++)e+=charFromCode(s[a]);return e},byAscendingId=function(s,e){return s.id-e.id},sortedUniq=function(s,e){for(var a=[],o=0,d=s.length;o<d;o++){var h=s[o],g=s[o-1];(o===0||e(h)!==e(g))&&a.push(h)}return a},reverseArray=function(s){for(var e=s.length,a=0,o=Math.floor(e/2);a<o;a++){var d=a,h=e-a-1,g=s[a];s[d]=s[h],s[h]=g}return s},sum=function(s){for(var e=0,a=0,o=s.length;a<o;a++)e+=s[a];return e},range=function(s,e){for(var a=new Array(e-s),o=0,d=a.length;o<d;o++)a[o]=s+o;return a},pluckIndices=function(s,e){for(var a=new Array(e.length),o=0,d=e.length;o<d;o++)a[o]=s[e[o]];return a},canBeConvertedToUint8Array=function(s){return s instanceof Uint8Array||s instanceof ArrayBuffer||typeof s=="string"},toUint8Array=function(s){if(typeof s=="string")return decodeFromBase64DataUri(s);if(s instanceof ArrayBuffer)return new Uint8Array(s);if(s instanceof Uint8Array)return s;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},waitForTick=function(){return new Promise(function(s){setTimeout(function(){return s()},0)})},utf16Encode=function(s,e){e===void 0&&(e=!0);var a=[];e&&a.push(65279);for(var o=0,d=s.length;o<d;){var h=s.codePointAt(o);if(h<65536)a.push(h),o+=1;else if(h<1114112)a.push(highSurrogate(h),lowSurrogate(h)),o+=2;else throw new Error("Invalid code point: 0x"+toHexString(h))}return new Uint16Array(a)},isWithinBMP=function(s){return s>=0&&s<=65535},hasSurrogates=function(s){return s>=65536&&s<=1114111},highSurrogate=function(s){return Math.floor((s-65536)/1024)+55296},lowSurrogate=function(s){return(s-65536)%1024+56320},ByteOrder;(function(s){s.BigEndian="BigEndian",s.LittleEndian="LittleEndian"})(ByteOrder||(ByteOrder={}));var REPLACEMENT="".codePointAt(0),utf16Decode=function(s,e){if(e===void 0&&(e=!0),s.length<=1)return String.fromCodePoint(REPLACEMENT);for(var a=e?readBOM(s):ByteOrder.BigEndian,o=e?2:0,d=[];s.length-o>=2;){var h=decodeValues(s[o++],s[o++],a);if(isHighSurrogate(h))if(s.length-o<2)d.push(REPLACEMENT);else{var g=decodeValues(s[o++],s[o++],a);isLowSurrogate(g)?d.push(h,g):d.push(REPLACEMENT)}else isLowSurrogate(h)?(o+=2,d.push(REPLACEMENT)):d.push(h)}return o<s.length&&d.push(REPLACEMENT),String.fromCodePoint.apply(String,d)},isHighSurrogate=function(s){return s>=55296&&s<=56319},isLowSurrogate=function(s){return s>=56320&&s<=57343},decodeValues=function(s,e,a){if(a===ByteOrder.LittleEndian)return e<<8|s;if(a===ByteOrder.BigEndian)return s<<8|e;throw new Error("Invalid byteOrder: "+a)},readBOM=function(s){return hasUtf16BigEndianBOM(s)?ByteOrder.BigEndian:hasUtf16LittleEndianBOM(s)?ByteOrder.LittleEndian:ByteOrder.BigEndian},hasUtf16BigEndianBOM=function(s){return s[0]===254&&s[1]===255},hasUtf16LittleEndianBOM=function(s){return s[0]===255&&s[1]===254},hasUtf16BOM=function(s){return hasUtf16BigEndianBOM(s)||hasUtf16LittleEndianBOM(s)},numberToString=function(s){var e=String(s);if(Math.abs(s)<1){var a=parseInt(s.toString().split("e-")[1]);if(a){var o=s<0;o&&(s*=-1),s*=Math.pow(10,a-1),e="0."+new Array(a).join("0")+s.toString().substring(2),o&&(e="-"+e)}}else{var a=parseInt(s.toString().split("+")[1]);a>20&&(a-=20,s/=Math.pow(10,a),e=s.toString()+new Array(a+1).join("0"))}return e},sizeInBytes=function(s){return Math.ceil(s.toString(2).length/8)},bytesFor=function(s){for(var e=new Uint8Array(sizeInBytes(s)),a=1;a<=e.length;a++)e[a-1]=s>>(e.length-a)*8;return e},error=function(s){throw new Error(s)},common={};(function(s){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function a(h,g){return Object.prototype.hasOwnProperty.call(h,g)}s.assign=function(h){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var b=g.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var j in b)a(b,j)&&(h[j]=b[j])}}return h},s.shrinkBuf=function(h,g){return h.length===g?h:h.subarray?h.subarray(0,g):(h.length=g,h)};var o={arraySet:function(h,g,b,j,_){if(g.subarray&&h.subarray){h.set(g.subarray(b,b+j),_);return}for(var $=0;$<j;$++)h[_+$]=g[b+$]},flattenChunks:function(h){var g,b,j,_,$,_e;for(j=0,g=0,b=h.length;g<b;g++)j+=h[g].length;for(_e=new Uint8Array(j),_=0,g=0,b=h.length;g<b;g++)$=h[g],_e.set($,_),_+=$.length;return _e}},d={arraySet:function(h,g,b,j,_){for(var $=0;$<j;$++)h[_+$]=g[b+$]},flattenChunks:function(h){return[].concat.apply([],h)}};s.setTyped=function(h){h?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,d))},s.setTyped(e)})(common);var deflate$4={},deflate$3={},trees$1={},utils$6=common,Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(s){for(var e=s.length;--e>=0;)s[e]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);var static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(s,e,a,o,d){this.static_tree=s,this.extra_bits=e,this.extra_base=a,this.elems=o,this.max_length=d,this.has_stree=s&&s.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(s,e){this.dyn_tree=s,this.max_code=0,this.stat_desc=e}function d_code(s){return s<256?_dist_code[s]:_dist_code[256+(s>>>7)]}function put_short(s,e){s.pending_buf[s.pending++]=e&255,s.pending_buf[s.pending++]=e>>>8&255}function send_bits(s,e,a){s.bi_valid>Buf_size-a?(s.bi_buf|=e<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=e>>Buf_size-s.bi_valid,s.bi_valid+=a-Buf_size):(s.bi_buf|=e<<s.bi_valid&65535,s.bi_valid+=a)}function send_code(s,e,a){send_bits(s,a[e*2],a[e*2+1])}function bi_reverse(s,e){var a=0;do a|=s&1,s>>>=1,a<<=1;while(--e>0);return a>>>1}function bi_flush(s){s.bi_valid===16?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=s.bi_buf&255,s.bi_buf>>=8,s.bi_valid-=8)}function gen_bitlen(s,e){var a=e.dyn_tree,o=e.max_code,d=e.stat_desc.static_tree,h=e.stat_desc.has_stree,g=e.stat_desc.extra_bits,b=e.stat_desc.extra_base,j=e.stat_desc.max_length,_,$,_e,et,tt,nt,it=0;for(et=0;et<=MAX_BITS$1;et++)s.bl_count[et]=0;for(a[s.heap[s.heap_max]*2+1]=0,_=s.heap_max+1;_<HEAP_SIZE$1;_++)$=s.heap[_],et=a[a[$*2+1]*2+1]+1,et>j&&(et=j,it++),a[$*2+1]=et,!($>o)&&(s.bl_count[et]++,tt=0,$>=b&&(tt=g[$-b]),nt=a[$*2],s.opt_len+=nt*(et+tt),h&&(s.static_len+=nt*(d[$*2+1]+tt)));if(it!==0){do{for(et=j-1;s.bl_count[et]===0;)et--;s.bl_count[et]--,s.bl_count[et+1]+=2,s.bl_count[j]--,it-=2}while(it>0);for(et=j;et!==0;et--)for($=s.bl_count[et];$!==0;)_e=s.heap[--_],!(_e>o)&&(a[_e*2+1]!==et&&(s.opt_len+=(et-a[_e*2+1])*a[_e*2],a[_e*2+1]=et),$--)}}function gen_codes(s,e,a){var o=new Array(MAX_BITS$1+1),d=0,h,g;for(h=1;h<=MAX_BITS$1;h++)o[h]=d=d+a[h-1]<<1;for(g=0;g<=e;g++){var b=s[g*2+1];b!==0&&(s[g*2]=bi_reverse(o[b]++,b))}}function tr_static_init(){var s,e,a,o,d,h=new Array(MAX_BITS$1+1);for(a=0,o=0;o<LENGTH_CODES$1-1;o++)for(base_length[o]=a,s=0;s<1<<extra_lbits[o];s++)_length_code[a++]=o;for(_length_code[a-1]=o,d=0,o=0;o<16;o++)for(base_dist[o]=d,s=0;s<1<<extra_dbits[o];s++)_dist_code[d++]=o;for(d>>=7;o<D_CODES$1;o++)for(base_dist[o]=d<<7,s=0;s<1<<extra_dbits[o]-7;s++)_dist_code[256+d++]=o;for(e=0;e<=MAX_BITS$1;e++)h[e]=0;for(s=0;s<=143;)static_ltree[s*2+1]=8,s++,h[8]++;for(;s<=255;)static_ltree[s*2+1]=9,s++,h[9]++;for(;s<=279;)static_ltree[s*2+1]=7,s++,h[7]++;for(;s<=287;)static_ltree[s*2+1]=8,s++,h[8]++;for(gen_codes(static_ltree,L_CODES$1+1,h),s=0;s<D_CODES$1;s++)static_dtree[s*2+1]=5,static_dtree[s*2]=bi_reverse(s,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(s){var e;for(e=0;e<L_CODES$1;e++)s.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1;e++)s.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1;e++)s.bl_tree[e*2]=0;s.dyn_ltree[END_BLOCK*2]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function copy_block(s,e,a,o){bi_windup(s),put_short(s,a),put_short(s,~a),utils$6.arraySet(s.pending_buf,s.window,e,a,s.pending),s.pending+=a}function smaller(s,e,a,o){var d=e*2,h=a*2;return s[d]<s[h]||s[d]===s[h]&&o[e]<=o[a]}function pqdownheap(s,e,a){for(var o=s.heap[a],d=a<<1;d<=s.heap_len&&(d<s.heap_len&&smaller(e,s.heap[d+1],s.heap[d],s.depth)&&d++,!smaller(e,o,s.heap[d],s.depth));)s.heap[a]=s.heap[d],a=d,d<<=1;s.heap[a]=o}function compress_block(s,e,a){var o,d,h=0,g,b;if(s.last_lit!==0)do o=s.pending_buf[s.d_buf+h*2]<<8|s.pending_buf[s.d_buf+h*2+1],d=s.pending_buf[s.l_buf+h],h++,o===0?send_code(s,d,e):(g=_length_code[d],send_code(s,g+LITERALS$1+1,e),b=extra_lbits[g],b!==0&&(d-=base_length[g],send_bits(s,d,b)),o--,g=d_code(o),send_code(s,g,a),b=extra_dbits[g],b!==0&&(o-=base_dist[g],send_bits(s,o,b)));while(h<s.last_lit);send_code(s,END_BLOCK,e)}function build_tree(s,e){var a=e.dyn_tree,o=e.stat_desc.static_tree,d=e.stat_desc.has_stree,h=e.stat_desc.elems,g,b,j=-1,_;for(s.heap_len=0,s.heap_max=HEAP_SIZE$1,g=0;g<h;g++)a[g*2]!==0?(s.heap[++s.heap_len]=j=g,s.depth[g]=0):a[g*2+1]=0;for(;s.heap_len<2;)_=s.heap[++s.heap_len]=j<2?++j:0,a[_*2]=1,s.depth[_]=0,s.opt_len--,d&&(s.static_len-=o[_*2+1]);for(e.max_code=j,g=s.heap_len>>1;g>=1;g--)pqdownheap(s,a,g);_=h;do g=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,a,1),b=s.heap[1],s.heap[--s.heap_max]=g,s.heap[--s.heap_max]=b,a[_*2]=a[g*2]+a[b*2],s.depth[_]=(s.depth[g]>=s.depth[b]?s.depth[g]:s.depth[b])+1,a[g*2+1]=a[b*2+1]=_,s.heap[1]=_++,pqdownheap(s,a,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],gen_bitlen(s,e),gen_codes(a,j,s.bl_count)}function scan_tree(s,e,a){var o,d=-1,h,g=e[0*2+1],b=0,j=7,_=4;for(g===0&&(j=138,_=3),e[(a+1)*2+1]=65535,o=0;o<=a;o++)h=g,g=e[(o+1)*2+1],!(++b<j&&h===g)&&(b<_?s.bl_tree[h*2]+=b:h!==0?(h!==d&&s.bl_tree[h*2]++,s.bl_tree[REP_3_6*2]++):b<=10?s.bl_tree[REPZ_3_10*2]++:s.bl_tree[REPZ_11_138*2]++,b=0,d=h,g===0?(j=138,_=3):h===g?(j=6,_=3):(j=7,_=4))}function send_tree(s,e,a){var o,d=-1,h,g=e[0*2+1],b=0,j=7,_=4;for(g===0&&(j=138,_=3),o=0;o<=a;o++)if(h=g,g=e[(o+1)*2+1],!(++b<j&&h===g)){if(b<_)do send_code(s,h,s.bl_tree);while(--b!==0);else h!==0?(h!==d&&(send_code(s,h,s.bl_tree),b--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,b-3,2)):b<=10?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,b-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,b-11,7));b=0,d=h,g===0?(j=138,_=3):h===g?(j=6,_=3):(j=7,_=4)}}function build_bl_tree(s){var e;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),e=BL_CODES$1-1;e>=3&&s.bl_tree[bl_order[e]*2+1]===0;e--);return s.opt_len+=3*(e+1)+5+5+4,e}function send_all_trees(s,e,a,o){var d;for(send_bits(s,e-257,5),send_bits(s,a-1,5),send_bits(s,o-4,4),d=0;d<o;d++)send_bits(s,s.bl_tree[bl_order[d]*2+1],3);send_tree(s,s.dyn_ltree,e-1),send_tree(s,s.dyn_dtree,a-1)}function detect_data_type(s){var e=4093624447,a;for(a=0;a<=31;a++,e>>>=1)if(e&1&&s.dyn_ltree[a*2]!==0)return Z_BINARY;if(s.dyn_ltree[9*2]!==0||s.dyn_ltree[10*2]!==0||s.dyn_ltree[13*2]!==0)return Z_TEXT;for(a=32;a<LITERALS$1;a++)if(s.dyn_ltree[a*2]!==0)return Z_TEXT;return Z_BINARY}var static_init_done=!1;function _tr_init(s){static_init_done||(tr_static_init(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)}function _tr_stored_block(s,e,a,o){send_bits(s,(STORED_BLOCK<<1)+(o?1:0),3),copy_block(s,e,a)}function _tr_align(s){send_bits(s,STATIC_TREES<<1,3),send_code(s,END_BLOCK,static_ltree),bi_flush(s)}function _tr_flush_block(s,e,a,o){var d,h,g=0;s.level>0?(s.strm.data_type===Z_UNKNOWN$1&&(s.strm.data_type=detect_data_type(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),g=build_bl_tree(s),d=s.opt_len+3+7>>>3,h=s.static_len+3+7>>>3,h<=d&&(d=h)):d=h=a+5,a+4<=d&&e!==-1?_tr_stored_block(s,e,a,o):s.strategy===Z_FIXED$1||h===d?(send_bits(s,(STATIC_TREES<<1)+(o?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,(DYN_TREES<<1)+(o?1:0),3),send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,g+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),o&&bi_windup(s)}function _tr_tally(s,e,a){return s.pending_buf[s.d_buf+s.last_lit*2]=e>>>8&255,s.pending_buf[s.d_buf+s.last_lit*2+1]=e&255,s.pending_buf[s.l_buf+s.last_lit]=a&255,s.last_lit++,e===0?s.dyn_ltree[a*2]++:(s.matches++,e--,s.dyn_ltree[(_length_code[a]+LITERALS$1+1)*2]++,s.dyn_dtree[d_code(e)*2]++),s.last_lit===s.lit_bufsize-1}trees$1._tr_init=_tr_init;trees$1._tr_stored_block=_tr_stored_block;trees$1._tr_flush_block=_tr_flush_block;trees$1._tr_tally=_tr_tally;trees$1._tr_align=_tr_align;function adler32$2(s,e,a,o){for(var d=s&65535|0,h=s>>>16&65535|0,g=0;a!==0;){g=a>2e3?2e3:a,a-=g;do d=d+e[o++]|0,h=h+d|0;while(--g);d%=65521,h%=65521}return d|h<<16|0}var adler32_1=adler32$2;function makeTable(){for(var s,e=[],a=0;a<256;a++){s=a;for(var o=0;o<8;o++)s=s&1?3988292384^s>>>1:s>>>1;e[a]=s}return e}var crcTable=makeTable();function crc32$2(s,e,a,o){var d=crcTable,h=o+a;s^=-1;for(var g=o;g<h;g++)s=s>>>8^d[(s^e[g])&255];return s^-1}var crc32_1=crc32$2,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},utils$5=common,trees=trees$1,adler32$1=adler32_1,crc32$1=crc32_1,msg$2=messages,Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH$2=4,Z_BLOCK$1=5,Z_OK$2=0,Z_STREAM_END$2=1,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_BUF_ERROR$1=-5,Z_DEFAULT_COMPRESSION$1=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY$1=0,Z_UNKNOWN=2,Z_DEFLATED$2=8,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(s,e){return s.msg=msg$2[e],e}function rank(s){return(s<<1)-(s>4?9:0)}function zero(s){for(var e=s.length;--e>=0;)s[e]=0}function flush_pending(s){var e=s.state,a=e.pending;a>s.avail_out&&(a=s.avail_out),a!==0&&(utils$5.arraySet(s.output,e.pending_buf,e.pending_out,a,s.next_out),s.next_out+=a,e.pending_out+=a,s.total_out+=a,s.avail_out-=a,e.pending-=a,e.pending===0&&(e.pending_out=0))}function flush_block_only(s,e){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,e),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,e){s.pending_buf[s.pending++]=e}function putShortMSB(s,e){s.pending_buf[s.pending++]=e>>>8&255,s.pending_buf[s.pending++]=e&255}function read_buf(s,e,a,o){var d=s.avail_in;return d>o&&(d=o),d===0?0:(s.avail_in-=d,utils$5.arraySet(e,s.input,s.next_in,d,a),s.state.wrap===1?s.adler=adler32$1(s.adler,e,d,a):s.state.wrap===2&&(s.adler=crc32$1(s.adler,e,d,a)),s.next_in+=d,s.total_in+=d,d)}function longest_match(s,e){var a=s.max_chain_length,o=s.strstart,d,h,g=s.prev_length,b=s.nice_match,j=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_=s.window,$=s.w_mask,_e=s.prev,et=s.strstart+MAX_MATCH,tt=_[o+g-1],nt=_[o+g];s.prev_length>=s.good_match&&(a>>=2),b>s.lookahead&&(b=s.lookahead);do if(d=e,!(_[d+g]!==nt||_[d+g-1]!==tt||_[d]!==_[o]||_[++d]!==_[o+1])){o+=2,d++;do;while(_[++o]===_[++d]&&_[++o]===_[++d]&&_[++o]===_[++d]&&_[++o]===_[++d]&&_[++o]===_[++d]&&_[++o]===_[++d]&&_[++o]===_[++d]&&_[++o]===_[++d]&&o<et);if(h=MAX_MATCH-(et-o),o=et-MAX_MATCH,h>g){if(s.match_start=e,g=h,h>=b)break;tt=_[o+g-1],nt=_[o+g]}}while((e=_e[e&$])>j&&--a!==0);return g<=s.lookahead?g:s.lookahead}function fill_window(s){var e=s.w_size,a,o,d,h,g;do{if(h=s.window_size-s.lookahead-s.strstart,s.strstart>=e+(e-MIN_LOOKAHEAD)){utils$5.arraySet(s.window,s.window,e,e,0),s.match_start-=e,s.strstart-=e,s.block_start-=e,o=s.hash_size,a=o;do d=s.head[--a],s.head[a]=d>=e?d-e:0;while(--o);o=e,a=o;do d=s.prev[--a],s.prev[a]=d>=e?d-e:0;while(--o);h+=e}if(s.strm.avail_in===0)break;if(o=read_buf(s.strm,s.window,s.strstart+s.lookahead,h),s.lookahead+=o,s.lookahead+s.insert>=MIN_MATCH)for(g=s.strstart-s.insert,s.ins_h=s.window[g],s.ins_h=(s.ins_h<<s.hash_shift^s.window[g+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[g+MIN_MATCH-1])&s.hash_mask,s.prev[g&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=g,g++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&s.strm.avail_in!==0)}function deflate_stored(s,e){var a=65535;for(a>s.pending_buf_size-5&&(a=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),s.lookahead===0&&e===Z_NO_FLUSH$1)return BS_NEED_MORE;if(s.lookahead===0)break}s.strstart+=s.lookahead,s.lookahead=0;var o=s.block_start+a;if((s.strstart===0||s.strstart>=o)&&(s.lookahead=s.strstart-o,s.strstart=o,flush_block_only(s,!1),s.strm.avail_out===0)||s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=0,e===Z_FINISH$2?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(s.strstart>s.block_start&&(flush_block_only(s,!1),s.strm.avail_out===0),BS_NEED_MORE)}function deflate_fast(s,e){for(var a,o;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$1)return BS_NEED_MORE;if(s.lookahead===0)break}if(a=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,a=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),a!==0&&s.strstart-a<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,a)),s.match_length>=MIN_MATCH)if(o=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,a=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.match_length!==0);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else o=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(o&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,e===Z_FINISH$2?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(s,e){for(var a,o,d;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$1)return BS_NEED_MORE;if(s.lookahead===0)break}if(a=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,a=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,a!==0&&s.prev_length<s.max_lazy_match&&s.strstart-a<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,a),s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){d=s.strstart+s.lookahead-MIN_MATCH,o=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=d&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,a=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(--s.prev_length!==0);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,o&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}else if(s.match_available){if(o=trees._tr_tally(s,0,s.window[s.strstart-1]),o&&flush_block_only(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(o=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,e===Z_FINISH$2?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(s,e){for(var a,o,d,h,g=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH$1)return BS_NEED_MORE;if(s.lookahead===0)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(d=s.strstart-1,o=g[d],o===g[++d]&&o===g[++d]&&o===g[++d])){h=s.strstart+MAX_MATCH;do;while(o===g[++d]&&o===g[++d]&&o===g[++d]&&o===g[++d]&&o===g[++d]&&o===g[++d]&&o===g[++d]&&o===g[++d]&&d<h);s.match_length=MAX_MATCH-(h-d),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(a=trees._tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(a=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),a&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=0,e===Z_FINISH$2?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(s,e){for(var a;;){if(s.lookahead===0&&(fill_window(s),s.lookahead===0)){if(e===Z_NO_FLUSH$1)return BS_NEED_MORE;break}if(s.match_length=0,a=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,a&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=0,e===Z_FINISH$2?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(s,e,a,o,d){this.good_length=s,this.max_lazy=e,this.nice_length=a,this.max_chain=o,this.func=d}var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(s){s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils$5.Buf16(HEAP_SIZE*2),this.dyn_dtree=new utils$5.Buf16((2*D_CODES+1)*2),this.bl_tree=new utils$5.Buf16((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils$5.Buf16(MAX_BITS+1),this.heap=new utils$5.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils$5.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(s){var e;return!s||!s.state?err(s,Z_STREAM_ERROR$1):(s.total_in=s.total_out=0,s.data_type=Z_UNKNOWN,e=s.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?INIT_STATE:BUSY_STATE,s.adler=e.wrap===2?0:1,e.last_flush=Z_NO_FLUSH$1,trees._tr_init(e),Z_OK$2)}function deflateReset(s){var e=deflateResetKeep(s);return e===Z_OK$2&&lm_init(s.state),e}function deflateSetHeader(s,e){return!s||!s.state||s.state.wrap!==2?Z_STREAM_ERROR$1:(s.state.gzhead=e,Z_OK$2)}function deflateInit2(s,e,a,o,d,h){if(!s)return Z_STREAM_ERROR$1;var g=1;if(e===Z_DEFAULT_COMPRESSION$1&&(e=6),o<0?(g=0,o=-o):o>15&&(g=2,o-=16),d<1||d>MAX_MEM_LEVEL||a!==Z_DEFLATED$2||o<8||o>15||e<0||e>9||h<0||h>Z_FIXED)return err(s,Z_STREAM_ERROR$1);o===8&&(o=9);var b=new DeflateState;return s.state=b,b.strm=s,b.wrap=g,b.gzhead=null,b.w_bits=o,b.w_size=1<<b.w_bits,b.w_mask=b.w_size-1,b.hash_bits=d+7,b.hash_size=1<<b.hash_bits,b.hash_mask=b.hash_size-1,b.hash_shift=~~((b.hash_bits+MIN_MATCH-1)/MIN_MATCH),b.window=new utils$5.Buf8(b.w_size*2),b.head=new utils$5.Buf16(b.hash_size),b.prev=new utils$5.Buf16(b.w_size),b.lit_bufsize=1<<d+6,b.pending_buf_size=b.lit_bufsize*4,b.pending_buf=new utils$5.Buf8(b.pending_buf_size),b.d_buf=1*b.lit_bufsize,b.l_buf=3*b.lit_bufsize,b.level=e,b.strategy=h,b.method=a,deflateReset(s)}function deflateInit(s,e){return deflateInit2(s,e,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1)}function deflate$2(s,e){var a,o,d,h;if(!s||!s.state||e>Z_BLOCK$1||e<0)return s?err(s,Z_STREAM_ERROR$1):Z_STREAM_ERROR$1;if(o=s.state,!s.output||!s.input&&s.avail_in!==0||o.status===FINISH_STATE&&e!==Z_FINISH$2)return err(s,s.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$1);if(o.strm=s,a=o.last_flush,o.last_flush=e,o.status===INIT_STATE)if(o.wrap===2)s.adler=0,put_byte(o,31),put_byte(o,139),put_byte(o,8),o.gzhead?(put_byte(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),put_byte(o,o.gzhead.time&255),put_byte(o,o.gzhead.time>>8&255),put_byte(o,o.gzhead.time>>16&255),put_byte(o,o.gzhead.time>>24&255),put_byte(o,o.level===9?2:o.strategy>=Z_HUFFMAN_ONLY||o.level<2?4:0),put_byte(o,o.gzhead.os&255),o.gzhead.extra&&o.gzhead.extra.length&&(put_byte(o,o.gzhead.extra.length&255),put_byte(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(s.adler=crc32$1(s.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=EXTRA_STATE):(put_byte(o,0),put_byte(o,0),put_byte(o,0),put_byte(o,0),put_byte(o,0),put_byte(o,o.level===9?2:o.strategy>=Z_HUFFMAN_ONLY||o.level<2?4:0),put_byte(o,OS_CODE),o.status=BUSY_STATE);else{var g=Z_DEFLATED$2+(o.w_bits-8<<4)<<8,b=-1;o.strategy>=Z_HUFFMAN_ONLY||o.level<2?b=0:o.level<6?b=1:o.level===6?b=2:b=3,g|=b<<6,o.strstart!==0&&(g|=PRESET_DICT),g+=31-g%31,o.status=BUSY_STATE,putShortMSB(o,g),o.strstart!==0&&(putShortMSB(o,s.adler>>>16),putShortMSB(o,s.adler&65535)),s.adler=1}if(o.status===EXTRA_STATE)if(o.gzhead.extra){for(d=o.pending;o.gzindex<(o.gzhead.extra.length&65535)&&!(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>d&&(s.adler=crc32$1(s.adler,o.pending_buf,o.pending-d,d)),flush_pending(s),d=o.pending,o.pending===o.pending_buf_size));)put_byte(o,o.gzhead.extra[o.gzindex]&255),o.gzindex++;o.gzhead.hcrc&&o.pending>d&&(s.adler=crc32$1(s.adler,o.pending_buf,o.pending-d,d)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=NAME_STATE)}else o.status=NAME_STATE;if(o.status===NAME_STATE)if(o.gzhead.name){d=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>d&&(s.adler=crc32$1(s.adler,o.pending_buf,o.pending-d,d)),flush_pending(s),d=o.pending,o.pending===o.pending_buf_size)){h=1;break}o.gzindex<o.gzhead.name.length?h=o.gzhead.name.charCodeAt(o.gzindex++)&255:h=0,put_byte(o,h)}while(h!==0);o.gzhead.hcrc&&o.pending>d&&(s.adler=crc32$1(s.adler,o.pending_buf,o.pending-d,d)),h===0&&(o.gzindex=0,o.status=COMMENT_STATE)}else o.status=COMMENT_STATE;if(o.status===COMMENT_STATE)if(o.gzhead.comment){d=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>d&&(s.adler=crc32$1(s.adler,o.pending_buf,o.pending-d,d)),flush_pending(s),d=o.pending,o.pending===o.pending_buf_size)){h=1;break}o.gzindex<o.gzhead.comment.length?h=o.gzhead.comment.charCodeAt(o.gzindex++)&255:h=0,put_byte(o,h)}while(h!==0);o.gzhead.hcrc&&o.pending>d&&(s.adler=crc32$1(s.adler,o.pending_buf,o.pending-d,d)),h===0&&(o.status=HCRC_STATE)}else o.status=HCRC_STATE;if(o.status===HCRC_STATE&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&flush_pending(s),o.pending+2<=o.pending_buf_size&&(put_byte(o,s.adler&255),put_byte(o,s.adler>>8&255),s.adler=0,o.status=BUSY_STATE)):o.status=BUSY_STATE),o.pending!==0){if(flush_pending(s),s.avail_out===0)return o.last_flush=-1,Z_OK$2}else if(s.avail_in===0&&rank(e)<=rank(a)&&e!==Z_FINISH$2)return err(s,Z_BUF_ERROR$1);if(o.status===FINISH_STATE&&s.avail_in!==0)return err(s,Z_BUF_ERROR$1);if(s.avail_in!==0||o.lookahead!==0||e!==Z_NO_FLUSH$1&&o.status!==FINISH_STATE){var j=o.strategy===Z_HUFFMAN_ONLY?deflate_huff(o,e):o.strategy===Z_RLE?deflate_rle(o,e):configuration_table[o.level].func(o,e);if((j===BS_FINISH_STARTED||j===BS_FINISH_DONE)&&(o.status=FINISH_STATE),j===BS_NEED_MORE||j===BS_FINISH_STARTED)return s.avail_out===0&&(o.last_flush=-1),Z_OK$2;if(j===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?trees._tr_align(o):e!==Z_BLOCK$1&&(trees._tr_stored_block(o,0,0,!1),e===Z_FULL_FLUSH&&(zero(o.head),o.lookahead===0&&(o.strstart=0,o.block_start=0,o.insert=0))),flush_pending(s),s.avail_out===0))return o.last_flush=-1,Z_OK$2}return e!==Z_FINISH$2?Z_OK$2:o.wrap<=0?Z_STREAM_END$2:(o.wrap===2?(put_byte(o,s.adler&255),put_byte(o,s.adler>>8&255),put_byte(o,s.adler>>16&255),put_byte(o,s.adler>>24&255),put_byte(o,s.total_in&255),put_byte(o,s.total_in>>8&255),put_byte(o,s.total_in>>16&255),put_byte(o,s.total_in>>24&255)):(putShortMSB(o,s.adler>>>16),putShortMSB(o,s.adler&65535)),flush_pending(s),o.wrap>0&&(o.wrap=-o.wrap),o.pending!==0?Z_OK$2:Z_STREAM_END$2)}function deflateEnd(s){var e;return!s||!s.state?Z_STREAM_ERROR$1:(e=s.state.status,e!==INIT_STATE&&e!==EXTRA_STATE&&e!==NAME_STATE&&e!==COMMENT_STATE&&e!==HCRC_STATE&&e!==BUSY_STATE&&e!==FINISH_STATE?err(s,Z_STREAM_ERROR$1):(s.state=null,e===BUSY_STATE?err(s,Z_DATA_ERROR$1):Z_OK$2))}function deflateSetDictionary(s,e){var a=e.length,o,d,h,g,b,j,_,$;if(!s||!s.state||(o=s.state,g=o.wrap,g===2||g===1&&o.status!==INIT_STATE||o.lookahead))return Z_STREAM_ERROR$1;for(g===1&&(s.adler=adler32$1(s.adler,e,a,0)),o.wrap=0,a>=o.w_size&&(g===0&&(zero(o.head),o.strstart=0,o.block_start=0,o.insert=0),$=new utils$5.Buf8(o.w_size),utils$5.arraySet($,e,a-o.w_size,o.w_size,0),e=$,a=o.w_size),b=s.avail_in,j=s.next_in,_=s.input,s.avail_in=a,s.next_in=0,s.input=e,fill_window(o);o.lookahead>=MIN_MATCH;){d=o.strstart,h=o.lookahead-(MIN_MATCH-1);do o.ins_h=(o.ins_h<<o.hash_shift^o.window[d+MIN_MATCH-1])&o.hash_mask,o.prev[d&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=d,d++;while(--h);o.strstart=d,o.lookahead=MIN_MATCH-1,fill_window(o)}return o.strstart+=o.lookahead,o.block_start=o.strstart,o.insert=o.lookahead,o.lookahead=0,o.match_length=o.prev_length=MIN_MATCH-1,o.match_available=0,s.next_in=j,s.input=_,s.avail_in=b,o.wrap=g,Z_OK$2}deflate$3.deflateInit=deflateInit;deflate$3.deflateInit2=deflateInit2;deflate$3.deflateReset=deflateReset;deflate$3.deflateResetKeep=deflateResetKeep;deflate$3.deflateSetHeader=deflateSetHeader;deflate$3.deflate=deflate$2;deflate$3.deflateEnd=deflateEnd;deflate$3.deflateSetDictionary=deflateSetDictionary;deflate$3.deflateInfo="pako deflate (from Nodeca project)";var strings$2={},utils$4=common,STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(s){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){STR_APPLY_UIA_OK=!1}var _utf8len=new utils$4.Buf8(256);for(var q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;_utf8len[254]=_utf8len[254]=1;strings$2.string2buf=function(s){var e,a,o,d,h,g=s.length,b=0;for(d=0;d<g;d++)a=s.charCodeAt(d),(a&64512)===55296&&d+1<g&&(o=s.charCodeAt(d+1),(o&64512)===56320&&(a=65536+(a-55296<<10)+(o-56320),d++)),b+=a<128?1:a<2048?2:a<65536?3:4;for(e=new utils$4.Buf8(b),h=0,d=0;h<b;d++)a=s.charCodeAt(d),(a&64512)===55296&&d+1<g&&(o=s.charCodeAt(d+1),(o&64512)===56320&&(a=65536+(a-55296<<10)+(o-56320),d++)),a<128?e[h++]=a:a<2048?(e[h++]=192|a>>>6,e[h++]=128|a&63):a<65536?(e[h++]=224|a>>>12,e[h++]=128|a>>>6&63,e[h++]=128|a&63):(e[h++]=240|a>>>18,e[h++]=128|a>>>12&63,e[h++]=128|a>>>6&63,e[h++]=128|a&63);return e};function buf2binstring(s,e){if(e<65534&&(s.subarray&&STR_APPLY_UIA_OK||!s.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils$4.shrinkBuf(s,e));for(var a="",o=0;o<e;o++)a+=String.fromCharCode(s[o]);return a}strings$2.buf2binstring=function(s){return buf2binstring(s,s.length)};strings$2.binstring2buf=function(s){for(var e=new utils$4.Buf8(s.length),a=0,o=e.length;a<o;a++)e[a]=s.charCodeAt(a);return e};strings$2.buf2string=function(s,e){var a,o,d,h,g=e||s.length,b=new Array(g*2);for(o=0,a=0;a<g;){if(d=s[a++],d<128){b[o++]=d;continue}if(h=_utf8len[d],h>4){b[o++]=65533,a+=h-1;continue}for(d&=h===2?31:h===3?15:7;h>1&&a<g;)d=d<<6|s[a++]&63,h--;if(h>1){b[o++]=65533;continue}d<65536?b[o++]=d:(d-=65536,b[o++]=55296|d>>10&1023,b[o++]=56320|d&1023)}return buf2binstring(b,o)};strings$2.utf8border=function(s,e){var a;for(e=e||s.length,e>s.length&&(e=s.length),a=e-1;a>=0&&(s[a]&192)===128;)a--;return a<0||a===0?e:a+_utf8len[s[a]]>e?a:e};function ZStream$2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream$2,zlib_deflate=deflate$3,utils$3=common,strings$1=strings$2,msg$1=messages,ZStream$1=zstream,toString$1=Object.prototype.toString,Z_NO_FLUSH=0,Z_FINISH$1=4,Z_OK$1=0,Z_STREAM_END$1=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED$1=8;function Deflate(s){if(!(this instanceof Deflate))return new Deflate(s);this.options=utils$3.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},s||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$1,this.strm.avail_out=0;var a=zlib_deflate.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==Z_OK$1)throw new Error(msg$1[a]);if(e.header&&zlib_deflate.deflateSetHeader(this.strm,e.header),e.dictionary){var o;if(typeof e.dictionary=="string"?o=strings$1.string2buf(e.dictionary):toString$1.call(e.dictionary)==="[object ArrayBuffer]"?o=new Uint8Array(e.dictionary):o=e.dictionary,a=zlib_deflate.deflateSetDictionary(this.strm,o),a!==Z_OK$1)throw new Error(msg$1[a]);this._dict_set=!0}}Deflate.prototype.push=function(s,e){var a=this.strm,o=this.options.chunkSize,d,h;if(this.ended)return!1;h=e===~~e?e:e===!0?Z_FINISH$1:Z_NO_FLUSH,typeof s=="string"?a.input=strings$1.string2buf(s):toString$1.call(s)==="[object ArrayBuffer]"?a.input=new Uint8Array(s):a.input=s,a.next_in=0,a.avail_in=a.input.length;do{if(a.avail_out===0&&(a.output=new utils$3.Buf8(o),a.next_out=0,a.avail_out=o),d=zlib_deflate.deflate(a,h),d!==Z_STREAM_END$1&&d!==Z_OK$1)return this.onEnd(d),this.ended=!0,!1;(a.avail_out===0||a.avail_in===0&&(h===Z_FINISH$1||h===Z_SYNC_FLUSH))&&(this.options.to==="string"?this.onData(strings$1.buf2binstring(utils$3.shrinkBuf(a.output,a.next_out))):this.onData(utils$3.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||a.avail_out===0)&&d!==Z_STREAM_END$1);return h===Z_FINISH$1?(d=zlib_deflate.deflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===Z_OK$1):(h===Z_SYNC_FLUSH&&(this.onEnd(Z_OK$1),a.avail_out=0),!0)};Deflate.prototype.onData=function(s){this.chunks.push(s)};Deflate.prototype.onEnd=function(s){s===Z_OK$1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils$3.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function deflate$1(s,e){var a=new Deflate(e);if(a.push(s,!0),a.err)throw a.msg||msg$1[a.err];return a.result}function deflateRaw(s,e){return e=e||{},e.raw=!0,deflate$1(s,e)}function gzip(s,e){return e=e||{},e.gzip=!0,deflate$1(s,e)}deflate$4.Deflate=Deflate;deflate$4.deflate=deflate$1;deflate$4.deflateRaw=deflateRaw;deflate$4.gzip=gzip;var inflate$4={},inflate$3={},BAD$1=30,TYPE$1=12,inffast=function s(e,a){var o,d,h,g,b,j,_,$,_e,et,tt,nt,it,st,rt,at,ht,ft,ot,ut,ct,dt,vt,Et,pt;o=e.state,d=e.next_in,Et=e.input,h=d+(e.avail_in-5),g=e.next_out,pt=e.output,b=g-(a-e.avail_out),j=g+(e.avail_out-257),_=o.dmax,$=o.wsize,_e=o.whave,et=o.wnext,tt=o.window,nt=o.hold,it=o.bits,st=o.lencode,rt=o.distcode,at=(1<<o.lenbits)-1,ht=(1<<o.distbits)-1;e:do{it<15&&(nt+=Et[d++]<<it,it+=8,nt+=Et[d++]<<it,it+=8),ft=st[nt&at];t:for(;;){if(ot=ft>>>24,nt>>>=ot,it-=ot,ot=ft>>>16&255,ot===0)pt[g++]=ft&65535;else if(ot&16){ut=ft&65535,ot&=15,ot&&(it<ot&&(nt+=Et[d++]<<it,it+=8),ut+=nt&(1<<ot)-1,nt>>>=ot,it-=ot),it<15&&(nt+=Et[d++]<<it,it+=8,nt+=Et[d++]<<it,it+=8),ft=rt[nt&ht];r:for(;;){if(ot=ft>>>24,nt>>>=ot,it-=ot,ot=ft>>>16&255,ot&16){if(ct=ft&65535,ot&=15,it<ot&&(nt+=Et[d++]<<it,it+=8,it<ot&&(nt+=Et[d++]<<it,it+=8)),ct+=nt&(1<<ot)-1,ct>_){e.msg="invalid distance too far back",o.mode=BAD$1;break e}if(nt>>>=ot,it-=ot,ot=g-b,ct>ot){if(ot=ct-ot,ot>_e&&o.sane){e.msg="invalid distance too far back",o.mode=BAD$1;break e}if(dt=0,vt=tt,et===0){if(dt+=$-ot,ot<ut){ut-=ot;do pt[g++]=tt[dt++];while(--ot);dt=g-ct,vt=pt}}else if(et<ot){if(dt+=$+et-ot,ot-=et,ot<ut){ut-=ot;do pt[g++]=tt[dt++];while(--ot);if(dt=0,et<ut){ot=et,ut-=ot;do pt[g++]=tt[dt++];while(--ot);dt=g-ct,vt=pt}}}else if(dt+=et-ot,ot<ut){ut-=ot;do pt[g++]=tt[dt++];while(--ot);dt=g-ct,vt=pt}for(;ut>2;)pt[g++]=vt[dt++],pt[g++]=vt[dt++],pt[g++]=vt[dt++],ut-=3;ut&&(pt[g++]=vt[dt++],ut>1&&(pt[g++]=vt[dt++]))}else{dt=g-ct;do pt[g++]=pt[dt++],pt[g++]=pt[dt++],pt[g++]=pt[dt++],ut-=3;while(ut>2);ut&&(pt[g++]=pt[dt++],ut>1&&(pt[g++]=pt[dt++]))}}else if(ot&64){e.msg="invalid distance code",o.mode=BAD$1;break e}else{ft=rt[(ft&65535)+(nt&(1<<ot)-1)];continue r}break}}else if(ot&64)if(ot&32){o.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",o.mode=BAD$1;break e}else{ft=st[(ft&65535)+(nt&(1<<ot)-1)];continue t}break}}while(d<h&&g<j);ut=it>>3,d-=ut,it-=ut<<3,nt&=(1<<it)-1,e.next_in=d,e.next_out=g,e.avail_in=d<h?5+(h-d):5-(d-h),e.avail_out=g<j?257+(j-g):257-(g-j),o.hold=nt,o.bits=it},utils$2=common,MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function s(e,a,o,d,h,g,b,j){var _=j.bits,$=0,_e=0,et=0,tt=0,nt=0,it=0,st=0,rt=0,at=0,ht=0,ft,ot,ut,ct,dt,vt=null,Et=0,pt,bt=new utils$2.Buf16(MAXBITS+1),Ct=new utils$2.Buf16(MAXBITS+1),Bt=null,jt=0,Ft,wt,It;for($=0;$<=MAXBITS;$++)bt[$]=0;for(_e=0;_e<d;_e++)bt[a[o+_e]]++;for(nt=_,tt=MAXBITS;tt>=1&&bt[tt]===0;tt--);if(nt>tt&&(nt=tt),tt===0)return h[g++]=1<<24|64<<16|0,h[g++]=1<<24|64<<16|0,j.bits=1,0;for(et=1;et<tt&&bt[et]===0;et++);for(nt<et&&(nt=et),rt=1,$=1;$<=MAXBITS;$++)if(rt<<=1,rt-=bt[$],rt<0)return-1;if(rt>0&&(e===CODES$1||tt!==1))return-1;for(Ct[1]=0,$=1;$<MAXBITS;$++)Ct[$+1]=Ct[$]+bt[$];for(_e=0;_e<d;_e++)a[o+_e]!==0&&(b[Ct[a[o+_e]]++]=_e);if(e===CODES$1?(vt=Bt=b,pt=19):e===LENS$1?(vt=lbase,Et-=257,Bt=lext,jt-=257,pt=256):(vt=dbase,Bt=dext,pt=-1),ht=0,_e=0,$=et,dt=g,it=nt,st=0,ut=-1,at=1<<nt,ct=at-1,e===LENS$1&&at>ENOUGH_LENS$1||e===DISTS$1&&at>ENOUGH_DISTS$1)return 1;for(;;){Ft=$-st,b[_e]<pt?(wt=0,It=b[_e]):b[_e]>pt?(wt=Bt[jt+b[_e]],It=vt[Et+b[_e]]):(wt=96,It=0),ft=1<<$-st,ot=1<<it,et=ot;do ot-=ft,h[dt+(ht>>st)+ot]=Ft<<24|wt<<16|It|0;while(ot!==0);for(ft=1<<$-1;ht&ft;)ft>>=1;if(ft!==0?(ht&=ft-1,ht+=ft):ht=0,_e++,--bt[$]===0){if($===tt)break;$=a[o+b[_e]]}if($>nt&&(ht&ct)!==ut){for(st===0&&(st=nt),dt+=et,it=$-st,rt=1<<it;it+st<tt&&(rt-=bt[it+st],!(rt<=0));)it++,rt<<=1;if(at+=1<<it,e===LENS$1&&at>ENOUGH_LENS$1||e===DISTS$1&&at>ENOUGH_DISTS$1)return 1;ut=ht&ct,h[ut]=nt<<24|it<<16|dt-g|0}}return ht!==0&&(h[dt+ht]=$-st<<24|64<<16|0),j.bits=nt,0},utils$1=common,adler32=adler32_1,crc32=crc32_1,inflate_fast=inffast,inflate_table=inftrees,CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS;function zswap32(s){return(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils$1.Buf16(320),this.work=new utils$1.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(s){var e;return!s||!s.state?Z_STREAM_ERROR:(e=s.state,s.total_in=s.total_out=e.total=0,s.msg="",e.wrap&&(s.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new utils$1.Buf32(ENOUGH_LENS),e.distcode=e.distdyn=new utils$1.Buf32(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK)}function inflateReset(s){var e;return!s||!s.state?Z_STREAM_ERROR:(e=s.state,e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(s))}function inflateReset2(s,e){var a,o;return!s||!s.state||(o=s.state,e<0?(a=0,e=-e):(a=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?Z_STREAM_ERROR:(o.window!==null&&o.wbits!==e&&(o.window=null),o.wrap=a,o.wbits=e,inflateReset(s))}function inflateInit2(s,e){var a,o;return s?(o=new InflateState,s.state=o,o.window=null,a=inflateReset2(s,e),a!==Z_OK&&(s.state=null),a):Z_STREAM_ERROR}function inflateInit(s){return inflateInit2(s,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(s){if(virgin){var e;for(lenfix=new utils$1.Buf32(512),distfix=new utils$1.Buf32(32),e=0;e<144;)s.lens[e++]=8;for(;e<256;)s.lens[e++]=9;for(;e<280;)s.lens[e++]=7;for(;e<288;)s.lens[e++]=8;for(inflate_table(LENS,s.lens,0,288,lenfix,0,s.work,{bits:9}),e=0;e<32;)s.lens[e++]=5;inflate_table(DISTS,s.lens,0,32,distfix,0,s.work,{bits:5}),virgin=!1}s.lencode=lenfix,s.lenbits=9,s.distcode=distfix,s.distbits=5}function updatewindow(s,e,a,o){var d,h=s.state;return h.window===null&&(h.wsize=1<<h.wbits,h.wnext=0,h.whave=0,h.window=new utils$1.Buf8(h.wsize)),o>=h.wsize?(utils$1.arraySet(h.window,e,a-h.wsize,h.wsize,0),h.wnext=0,h.whave=h.wsize):(d=h.wsize-h.wnext,d>o&&(d=o),utils$1.arraySet(h.window,e,a-o,d,h.wnext),o-=d,o?(utils$1.arraySet(h.window,e,a-o,o,0),h.wnext=o,h.whave=h.wsize):(h.wnext+=d,h.wnext===h.wsize&&(h.wnext=0),h.whave<h.wsize&&(h.whave+=d))),0}function inflate$2(s,e){var a,o,d,h,g,b,j,_,$,_e,et,tt,nt,it,st=0,rt,at,ht,ft,ot,ut,ct,dt,vt=new utils$1.Buf8(4),Et,pt,bt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!s||!s.state||!s.output||!s.input&&s.avail_in!==0)return Z_STREAM_ERROR;a=s.state,a.mode===TYPE&&(a.mode=TYPEDO),g=s.next_out,d=s.output,j=s.avail_out,h=s.next_in,o=s.input,b=s.avail_in,_=a.hold,$=a.bits,_e=b,et=j,dt=Z_OK;e:for(;;)switch(a.mode){case HEAD:if(a.wrap===0){a.mode=TYPEDO;break}for(;$<16;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}if(a.wrap&2&&_===35615){a.check=0,vt[0]=_&255,vt[1]=_>>>8&255,a.check=crc32(a.check,vt,2,0),_=0,$=0,a.mode=FLAGS;break}if(a.flags=0,a.head&&(a.head.done=!1),!(a.wrap&1)||(((_&255)<<8)+(_>>8))%31){s.msg="incorrect header check",a.mode=BAD;break}if((_&15)!==Z_DEFLATED){s.msg="unknown compression method",a.mode=BAD;break}if(_>>>=4,$-=4,ct=(_&15)+8,a.wbits===0)a.wbits=ct;else if(ct>a.wbits){s.msg="invalid window size",a.mode=BAD;break}a.dmax=1<<ct,s.adler=a.check=1,a.mode=_&512?DICTID:TYPE,_=0,$=0;break;case FLAGS:for(;$<16;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}if(a.flags=_,(a.flags&255)!==Z_DEFLATED){s.msg="unknown compression method",a.mode=BAD;break}if(a.flags&57344){s.msg="unknown header flags set",a.mode=BAD;break}a.head&&(a.head.text=_>>8&1),a.flags&512&&(vt[0]=_&255,vt[1]=_>>>8&255,a.check=crc32(a.check,vt,2,0)),_=0,$=0,a.mode=TIME;case TIME:for(;$<32;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}a.head&&(a.head.time=_),a.flags&512&&(vt[0]=_&255,vt[1]=_>>>8&255,vt[2]=_>>>16&255,vt[3]=_>>>24&255,a.check=crc32(a.check,vt,4,0)),_=0,$=0,a.mode=OS;case OS:for(;$<16;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}a.head&&(a.head.xflags=_&255,a.head.os=_>>8),a.flags&512&&(vt[0]=_&255,vt[1]=_>>>8&255,a.check=crc32(a.check,vt,2,0)),_=0,$=0,a.mode=EXLEN;case EXLEN:if(a.flags&1024){for(;$<16;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}a.length=_,a.head&&(a.head.extra_len=_),a.flags&512&&(vt[0]=_&255,vt[1]=_>>>8&255,a.check=crc32(a.check,vt,2,0)),_=0,$=0}else a.head&&(a.head.extra=null);a.mode=EXTRA;case EXTRA:if(a.flags&1024&&(tt=a.length,tt>b&&(tt=b),tt&&(a.head&&(ct=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),utils$1.arraySet(a.head.extra,o,h,tt,ct)),a.flags&512&&(a.check=crc32(a.check,o,tt,h)),b-=tt,h+=tt,a.length-=tt),a.length))break e;a.length=0,a.mode=NAME;case NAME:if(a.flags&2048){if(b===0)break e;tt=0;do ct=o[h+tt++],a.head&&ct&&a.length<65536&&(a.head.name+=String.fromCharCode(ct));while(ct&&tt<b);if(a.flags&512&&(a.check=crc32(a.check,o,tt,h)),b-=tt,h+=tt,ct)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=COMMENT;case COMMENT:if(a.flags&4096){if(b===0)break e;tt=0;do ct=o[h+tt++],a.head&&ct&&a.length<65536&&(a.head.comment+=String.fromCharCode(ct));while(ct&&tt<b);if(a.flags&512&&(a.check=crc32(a.check,o,tt,h)),b-=tt,h+=tt,ct)break e}else a.head&&(a.head.comment=null);a.mode=HCRC;case HCRC:if(a.flags&512){for(;$<16;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}if(_!==(a.check&65535)){s.msg="header crc mismatch",a.mode=BAD;break}_=0,$=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),s.adler=a.check=0,a.mode=TYPE;break;case DICTID:for(;$<32;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}s.adler=a.check=zswap32(_),_=0,$=0,a.mode=DICT;case DICT:if(a.havedict===0)return s.next_out=g,s.avail_out=j,s.next_in=h,s.avail_in=b,a.hold=_,a.bits=$,Z_NEED_DICT;s.adler=a.check=1,a.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(a.last){_>>>=$&7,$-=$&7,a.mode=CHECK;break}for(;$<3;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}switch(a.last=_&1,_>>>=1,$-=1,_&3){case 0:a.mode=STORED;break;case 1:if(fixedtables(a),a.mode=LEN_,e===Z_TREES){_>>>=2,$-=2;break e}break;case 2:a.mode=TABLE;break;case 3:s.msg="invalid block type",a.mode=BAD}_>>>=2,$-=2;break;case STORED:for(_>>>=$&7,$-=$&7;$<32;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}if((_&65535)!==(_>>>16^65535)){s.msg="invalid stored block lengths",a.mode=BAD;break}if(a.length=_&65535,_=0,$=0,a.mode=COPY_,e===Z_TREES)break e;case COPY_:a.mode=COPY;case COPY:if(tt=a.length,tt){if(tt>b&&(tt=b),tt>j&&(tt=j),tt===0)break e;utils$1.arraySet(d,o,h,tt,g),b-=tt,h+=tt,j-=tt,g+=tt,a.length-=tt;break}a.mode=TYPE;break;case TABLE:for(;$<14;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}if(a.nlen=(_&31)+257,_>>>=5,$-=5,a.ndist=(_&31)+1,_>>>=5,$-=5,a.ncode=(_&15)+4,_>>>=4,$-=4,a.nlen>286||a.ndist>30){s.msg="too many length or distance symbols",a.mode=BAD;break}a.have=0,a.mode=LENLENS;case LENLENS:for(;a.have<a.ncode;){for(;$<3;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}a.lens[bt[a.have++]]=_&7,_>>>=3,$-=3}for(;a.have<19;)a.lens[bt[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,Et={bits:a.lenbits},dt=inflate_table(CODES,a.lens,0,19,a.lencode,0,a.work,Et),a.lenbits=Et.bits,dt){s.msg="invalid code lengths set",a.mode=BAD;break}a.have=0,a.mode=CODELENS;case CODELENS:for(;a.have<a.nlen+a.ndist;){for(;st=a.lencode[_&(1<<a.lenbits)-1],rt=st>>>24,at=st>>>16&255,ht=st&65535,!(rt<=$);){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}if(ht<16)_>>>=rt,$-=rt,a.lens[a.have++]=ht;else{if(ht===16){for(pt=rt+2;$<pt;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}if(_>>>=rt,$-=rt,a.have===0){s.msg="invalid bit length repeat",a.mode=BAD;break}ct=a.lens[a.have-1],tt=3+(_&3),_>>>=2,$-=2}else if(ht===17){for(pt=rt+3;$<pt;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}_>>>=rt,$-=rt,ct=0,tt=3+(_&7),_>>>=3,$-=3}else{for(pt=rt+7;$<pt;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}_>>>=rt,$-=rt,ct=0,tt=11+(_&127),_>>>=7,$-=7}if(a.have+tt>a.nlen+a.ndist){s.msg="invalid bit length repeat",a.mode=BAD;break}for(;tt--;)a.lens[a.have++]=ct}}if(a.mode===BAD)break;if(a.lens[256]===0){s.msg="invalid code -- missing end-of-block",a.mode=BAD;break}if(a.lenbits=9,Et={bits:a.lenbits},dt=inflate_table(LENS,a.lens,0,a.nlen,a.lencode,0,a.work,Et),a.lenbits=Et.bits,dt){s.msg="invalid literal/lengths set",a.mode=BAD;break}if(a.distbits=6,a.distcode=a.distdyn,Et={bits:a.distbits},dt=inflate_table(DISTS,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,Et),a.distbits=Et.bits,dt){s.msg="invalid distances set",a.mode=BAD;break}if(a.mode=LEN_,e===Z_TREES)break e;case LEN_:a.mode=LEN;case LEN:if(b>=6&&j>=258){s.next_out=g,s.avail_out=j,s.next_in=h,s.avail_in=b,a.hold=_,a.bits=$,inflate_fast(s,et),g=s.next_out,d=s.output,j=s.avail_out,h=s.next_in,o=s.input,b=s.avail_in,_=a.hold,$=a.bits,a.mode===TYPE&&(a.back=-1);break}for(a.back=0;st=a.lencode[_&(1<<a.lenbits)-1],rt=st>>>24,at=st>>>16&255,ht=st&65535,!(rt<=$);){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}if(at&&!(at&240)){for(ft=rt,ot=at,ut=ht;st=a.lencode[ut+((_&(1<<ft+ot)-1)>>ft)],rt=st>>>24,at=st>>>16&255,ht=st&65535,!(ft+rt<=$);){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}_>>>=ft,$-=ft,a.back+=ft}if(_>>>=rt,$-=rt,a.back+=rt,a.length=ht,at===0){a.mode=LIT;break}if(at&32){a.back=-1,a.mode=TYPE;break}if(at&64){s.msg="invalid literal/length code",a.mode=BAD;break}a.extra=at&15,a.mode=LENEXT;case LENEXT:if(a.extra){for(pt=a.extra;$<pt;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}a.length+=_&(1<<a.extra)-1,_>>>=a.extra,$-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=DIST;case DIST:for(;st=a.distcode[_&(1<<a.distbits)-1],rt=st>>>24,at=st>>>16&255,ht=st&65535,!(rt<=$);){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}if(!(at&240)){for(ft=rt,ot=at,ut=ht;st=a.distcode[ut+((_&(1<<ft+ot)-1)>>ft)],rt=st>>>24,at=st>>>16&255,ht=st&65535,!(ft+rt<=$);){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}_>>>=ft,$-=ft,a.back+=ft}if(_>>>=rt,$-=rt,a.back+=rt,at&64){s.msg="invalid distance code",a.mode=BAD;break}a.offset=ht,a.extra=at&15,a.mode=DISTEXT;case DISTEXT:if(a.extra){for(pt=a.extra;$<pt;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}a.offset+=_&(1<<a.extra)-1,_>>>=a.extra,$-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){s.msg="invalid distance too far back",a.mode=BAD;break}a.mode=MATCH;case MATCH:if(j===0)break e;if(tt=et-j,a.offset>tt){if(tt=a.offset-tt,tt>a.whave&&a.sane){s.msg="invalid distance too far back",a.mode=BAD;break}tt>a.wnext?(tt-=a.wnext,nt=a.wsize-tt):nt=a.wnext-tt,tt>a.length&&(tt=a.length),it=a.window}else it=d,nt=g-a.offset,tt=a.length;tt>j&&(tt=j),j-=tt,a.length-=tt;do d[g++]=it[nt++];while(--tt);a.length===0&&(a.mode=LEN);break;case LIT:if(j===0)break e;d[g++]=a.length,j--,a.mode=LEN;break;case CHECK:if(a.wrap){for(;$<32;){if(b===0)break e;b--,_|=o[h++]<<$,$+=8}if(et-=j,s.total_out+=et,a.total+=et,et&&(s.adler=a.check=a.flags?crc32(a.check,d,et,g-et):adler32(a.check,d,et,g-et)),et=j,(a.flags?_:zswap32(_))!==a.check){s.msg="incorrect data check",a.mode=BAD;break}_=0,$=0}a.mode=LENGTH;case LENGTH:if(a.wrap&&a.flags){for(;$<32;){if(b===0)break e;b--,_+=o[h++]<<$,$+=8}if(_!==(a.total&4294967295)){s.msg="incorrect length check",a.mode=BAD;break}_=0,$=0}a.mode=DONE;case DONE:dt=Z_STREAM_END;break e;case BAD:dt=Z_DATA_ERROR;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return s.next_out=g,s.avail_out=j,s.next_in=h,s.avail_in=b,a.hold=_,a.bits=$,(a.wsize||et!==s.avail_out&&a.mode<BAD&&(a.mode<CHECK||e!==Z_FINISH))&&updatewindow(s,s.output,s.next_out,et-s.avail_out),_e-=s.avail_in,et-=s.avail_out,s.total_in+=_e,s.total_out+=et,a.total+=et,a.wrap&&et&&(s.adler=a.check=a.flags?crc32(a.check,d,et,s.next_out-et):adler32(a.check,d,et,s.next_out-et)),s.data_type=a.bits+(a.last?64:0)+(a.mode===TYPE?128:0)+(a.mode===LEN_||a.mode===COPY_?256:0),(_e===0&&et===0||e===Z_FINISH)&&dt===Z_OK&&(dt=Z_BUF_ERROR),dt}function inflateEnd(s){if(!s||!s.state)return Z_STREAM_ERROR;var e=s.state;return e.window&&(e.window=null),s.state=null,Z_OK}function inflateGetHeader(s,e){var a;return!s||!s.state||(a=s.state,!(a.wrap&2))?Z_STREAM_ERROR:(a.head=e,e.done=!1,Z_OK)}function inflateSetDictionary(s,e){var a=e.length,o,d,h;return!s||!s.state||(o=s.state,o.wrap!==0&&o.mode!==DICT)?Z_STREAM_ERROR:o.mode===DICT&&(d=1,d=adler32(d,e,a,0),d!==o.check)?Z_DATA_ERROR:(h=updatewindow(s,e,a,a),h?(o.mode=MEM,Z_MEM_ERROR):(o.havedict=1,Z_OK))}inflate$3.inflateReset=inflateReset;inflate$3.inflateReset2=inflateReset2;inflate$3.inflateResetKeep=inflateResetKeep;inflate$3.inflateInit=inflateInit;inflate$3.inflateInit2=inflateInit2;inflate$3.inflate=inflate$2;inflate$3.inflateEnd=inflateEnd;inflate$3.inflateGetHeader=inflateGetHeader;inflate$3.inflateSetDictionary=inflateSetDictionary;inflate$3.inflateInfo="pako inflate (from Nodeca project)";var constants$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader$1,zlib_inflate=inflate$3,utils=common,strings=strings$2,c=constants$1,msg=messages,ZStream=zstream,GZheader=gzheader,toString=Object.prototype.toString;function Inflate(s){if(!(this instanceof Inflate))return new Inflate(s);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},s||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(s&&s.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var a=zlib_inflate.inflateInit2(this.strm,e.windowBits);if(a!==c.Z_OK)throw new Error(msg[a]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings.string2buf(e.dictionary):toString.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=zlib_inflate.inflateSetDictionary(this.strm,e.dictionary),a!==c.Z_OK)))throw new Error(msg[a])}Inflate.prototype.push=function(s,e){var a=this.strm,o=this.options.chunkSize,d=this.options.dictionary,h,g,b,j,_,$=!1;if(this.ended)return!1;g=e===~~e?e:e===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof s=="string"?a.input=strings.binstring2buf(s):toString.call(s)==="[object ArrayBuffer]"?a.input=new Uint8Array(s):a.input=s,a.next_in=0,a.avail_in=a.input.length;do{if(a.avail_out===0&&(a.output=new utils.Buf8(o),a.next_out=0,a.avail_out=o),h=zlib_inflate.inflate(a,c.Z_NO_FLUSH),h===c.Z_NEED_DICT&&d&&(h=zlib_inflate.inflateSetDictionary(this.strm,d)),h===c.Z_BUF_ERROR&&$===!0&&(h=c.Z_OK,$=!1),h!==c.Z_STREAM_END&&h!==c.Z_OK)return this.onEnd(h),this.ended=!0,!1;a.next_out&&(a.avail_out===0||h===c.Z_STREAM_END||a.avail_in===0&&(g===c.Z_FINISH||g===c.Z_SYNC_FLUSH))&&(this.options.to==="string"?(b=strings.utf8border(a.output,a.next_out),j=a.next_out-b,_=strings.buf2string(a.output,b),a.next_out=j,a.avail_out=o-j,j&&utils.arraySet(a.output,a.output,b,j,0),this.onData(_)):this.onData(utils.shrinkBuf(a.output,a.next_out))),a.avail_in===0&&a.avail_out===0&&($=!0)}while((a.avail_in>0||a.avail_out===0)&&h!==c.Z_STREAM_END);return h===c.Z_STREAM_END&&(g=c.Z_FINISH),g===c.Z_FINISH?(h=zlib_inflate.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===c.Z_OK):(g===c.Z_SYNC_FLUSH&&(this.onEnd(c.Z_OK),a.avail_out=0),!0)};Inflate.prototype.onData=function(s){this.chunks.push(s)};Inflate.prototype.onEnd=function(s){s===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function inflate$1(s,e){var a=new Inflate(e);if(a.push(s,!0),a.err)throw a.msg||msg[a.err];return a.result}function inflateRaw(s,e){return e=e||{},e.raw=!0,inflate$1(s,e)}inflate$4.Inflate=Inflate;inflate$4.inflate=inflate$1;inflate$4.inflateRaw=inflateRaw;inflate$4.ungzip=inflate$1;var assign=common.assign,deflate=deflate$4,inflate=inflate$4,constants=constants$1,pako={};assign(pako,deflate,inflate,constants);var pako_1=pako;const pako$1=getDefaultExportFromCjs(pako_1);var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(var i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;var decodeFromBase64=function(s){var e=s.length*.75,a=s.length,o,d=0,h,g,b,j;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);var _=new Uint8Array(e);for(o=0;o<a;o+=4)h=lookup[s.charCodeAt(o)],g=lookup[s.charCodeAt(o+1)],b=lookup[s.charCodeAt(o+2)],j=lookup[s.charCodeAt(o+3)],_[d++]=h<<2|g>>4,_[d++]=(g&15)<<4|b>>2,_[d++]=(b&3)<<6|j&63;return _},arrayToString=function(s){for(var e="",a=0;a<s.length;a++)e+=String.fromCharCode(s[a]);return e},decompressJson=function(s){return arrayToString(pako$1.inflate(decodeFromBase64(s)))},padStart=function(s,e,a){for(var o="",d=0,h=e-s.length;d<h;d++)o+=a;return o+s};const CourierBoldCompressed="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",CourierBoldObliqueCompressed="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",CourierObliqueCompressed="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",CourierCompressed="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",HelveticaBoldCompressed="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",HelveticaBoldObliqueCompressed="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",HelveticaObliqueCompressed="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",HelveticaCompressed="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",TimesBoldCompressed="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",TimesBoldItalicCompressed="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",TimesItalicCompressed="eJyNnV1320aWtf+KF6/mXcvpsWTJsnPnTtLdsdNx7ESGMb36gpZgmSNKcEhRCjNr/vsLgqhz9tlnFz03XsaziwDqVNWuDxSg/5l919/cdLd3s29n7/+5Wc+vukcnZ2fHZ49On5+dHs8ez/7W3979PL/phgS/LW669Tc/3s2Xi4udslkuUXnkyvxmsdyiNsCmW1x93l3nn93lYnMzkH36l7dXyyHdN0enfzkd2Ppviz+6y18WdxefZ9/erTbd49l3n+er+cVdt/q12/3+hz/uutvL7vJdfzO/ne7wr3/t/5h9+69vjp69ePzN8dHZ46MnR08eP3/+9N+PZ+dD4tVycdv90q8Xd4v+dnexJ09A+O3z4uL6tluvZ9+eDvx9t1qPyWZPnhz/5cmTJ8NFfu7vFhe77HzXf9mudjl59B8X/+/R0Yvnp493/56N/77Y/fviyfjv0/Hfs0cvL/uP3aNft+u77maI0e1Fv/rSr+Z33eVfHj16uVw+erc72/rRu27dre4Hug/mYv1o/uhuNb/sbuar60f9p0c/LW77u+2X7pt/dMOvXv790fz28j/71aPF8OP15uN6cbmYrxbd+i/D7f4wXOZycXv168XnbiyF8S5+vRt+Ml9dFnVI+N38yz+mgnl2+vTx7EM5Ojk5ejx7ub7YhXo1iM8H8fvOjscgz369u/xHM/v26fH43/fDf8+e7cvrn93danExBPRf/zNrPsy+Pd4F9ufhRtZf5kMc//fxHj99+nSPuz8ulvMb4yfHU/LfN/0QqY9LU06fTMrt5ubjrqCubrN22S+X85Xx5+UqX7rVxa6yF+Hs7PlemN8M0nqITr6z8Q7GEs/al/mqu112n2pS/Jnd3ny9O+P62pRnZ6fTr5abtVGL2cXQRuf5Ep+3Xz53tzn5kJVF7zk5LplcL+frz/lu/uxWfab9bZfh3YNIefd51Ym0n/rNStDFvUi7XvwhYHffibLtdExvF7eiWl30y/4243V3s4iSlcByZwOJdr9v5suMr1bd0JBFNn/fdOvRaoryolToud/7s6OjPXuZ0V8dPTvbo++82h4f79H3+Yc/ZPS3/MO/Z/SPHKYfvT2enOzRq3xfrz37p8/26Kfc9P6Zf/hzvok3+e5/yane5lTvchn8mu/rt3yu83yu9/num5zqQz59m9F/eVSH3mFEH4fO7Lq7C7ZhbfTjoMV2yr+LnnJS8jFfXywWF4vVxeYmh2KzM+310POIJjL6W7gZ96mMPuYqcSH8N6fqcl4/5R9eZfQ5/3CR0X/nK17nVMtc/iJawnSE7X0RrT4X2iqjdb4vEftNztB9bkIPOdUfGW3zTfzpqaxoh/rVUa08LbVyVUlPPdzJEdTGu8XyssuX3nf1l/2DiHPonb0nuBvHaV45jkr+P+0Ghuiz9put6js+LfvVQvB1VznLxWY1dOMXHsDjoxNoNuvFOHhNrb6MWnSzutosBuWmv9Mjh508nvgrcmVw8Wmh8i360WEoqIYDl/OrK9Wl7TkOxWjAsSu7btV52z899rHQ/Go1/wKmVn76cZhEdCKXHt6P8/WBCB9WKyGyAoj6c6uhy+Xiy3rhDXWYLnhW7z73mzBUTL1+qNtecKv5vfDf+cXmTo1cRiv/tOz+yBo1rIJv5hcrNdr5uOrUhS/7u/lFaHAuLYaCxACYssJm6Dc7TOmGEbcYom5ur+arzc1yvhGX6a+GUea1ON0c8+HFchNqrPGXPuY5PptqQL+6/DQM8sKo0IcnsYf10UfkL4p/vvELPD16Yhe4GVxus8QrmC/PRXd3uWvw67XovJaVkXkfuZ29F0PooW0O0+GhzotC+zGVp3fLsfp51x8rjXdLskT9dLHofGSU7sDG0JeL+8WlKKQ23pkPlkXL8NuOP/JRnviRd4/UBK2jHudd1EYgq/mUfr3QThynMPidU2Pw31RKaEM/8BlAuojPFwaDgAlInGBSRs+emTiteIhLkeX4mJDqgeUyxMVnAuoGvHnU6mh0VB/lq7P5NKp2tuiqEM7sk15DQjaBkyH60DVe/eRsusqy/7O7vRKXfxcv4TM4lUmvHAcbiRC9eXEvYiPZeCNQ1JRXn/vkyNllfvvcr0Su3tDVPQyVUvuVeLmry0rYzukCHrHYs4XFjfVmHOGsxP3GKuhRrPFoq2aCN5vl3eLLcivuizLolTwWR+n4hrHW3WK+vFx8+pTLaptt2JpgvI5X2EOV5YeD1exAr1OXLioFfVuzQa4x7ilzORr6kfoVXHobBgy4/mbTn1V/3d3iJMjMcdVdLdZx2OtNtDLw+lG0C5uJbIZWHeYiHmwaQFrDrESm56pu7bJSpf6LTPvkRRm4jqtccQ3McvnDnRihfFc1wKXyLW9uFZPpqr1jrRd8WRs+HKiVlQD/WWsatZt6UyuRWtdT89x17cr1Lv7NwWEJ21IZF3TLO7HYcxdM2gvpoT/giPUhzs1G5IT6cAuVHGd6W6DQ+yw1jnDOTtHHhwq8GiqyuLVf0wymKMtYI33VU/a/NsOIBffiebmN8kBHeWJ9PvZjZe74Y627/Im6vxKGIWif50tYeCttfDcziQ3ci+KQyd/GUZPXtK+UHw2DLAi17vkqeilmaCpVVah6EPqrHO5aBdYzHKtgg0uoxx09NS13Qn0Tm5j+5LRMsIdu80L57PeVsebq4Gj351g+fruV0e67w9VaXsustXLOl1WP1rOkN5WFwz8PjCd/qPX2dG1fHZZZsfFYGAj42Q42hXgLvrh78ErL/mpX3re9GMX3dS/dZKk05eFUlZZ8dXDO0N2Jhw5/Vqrv7cFufAh56iHc8mtt/IfN7kHkvx/PXner21/mi9Xu8fG/Zi93j6lnj795+uTfj6ejvXsEtL/PiCZPR/j33dGpHe1dJSDMGApvhqMTO8+bcguAoHIEbkUV6L79BxScJyhTyALbLw4FtG84iN6Go992OTqzI4sZoJh7E86Ho1M7z3nJPaCQe+CQe6Al94Ao96BY7oFN7Tqw0U6QvB+Ojp5YETbD4Qs7andJ/ciy5Ahv3SjsB8AAbYajY7vwppwNUAgQcLgK0BIgQBQgUCxAwCxAwKYAObkPWXsIR9t4lOOzzfGZEmF7NUSN1ji1XOfcfIsCbdgQNWTjsjUXFZq0IWrXxlXjNjG3cJOomRvXbd1kbvAmUKs3Tk2/8LcZgQkYIidwruygqOAJhsgYjCt3MDFbhEnkE8a1WZjMjmEC24YJ0TsKRgMpDFykoDa3APYT4/VGo5ylaGAvhshjjCujMTG7jUlkOca175jM5mMCO5AJ0YYKvs8RechoK1Al1MKfJptAfzJE/mSc/Mk5+1NRwJ8MkT8Zl/5UVPAnQ+RPxpU/mZj9ySTyJ+Pan0xmfzKB/Mk4+VPhbzMCfzJE/uRc+VNRwZ8MkT8ZV/5kYvYnk8ifjGt/Mpn9yQT2JxOiPxWM/lQY+FNBbW4B7E/G641G+VPRwJ8MkT8ZV/5kYvYnk8ifjGt/Mpn9yQT2JxOiPxV8nyPykNFWoEqohT9haNCkIieniiLZFYnsWUEG44qc3CuK0sJCEvCxyMnMoqgcLabIthZ18rYoaoOLadjlokpWF0XyuyC+rXBwvsjJ/khUHhiSgBFGTm4YRWWJMUX2xaiTOUZRO2RMwzYZVfbKqEbDDBq6ZhDAOgNvKy2UTTSKX2neyk5DAvDUyMlYo6jcNabIFht18tkoarONadhxo8q2G9XovUG7rwTyocK3NX6o1IQpO0FLRkqGjBLZcZDYjEEEK0ZKRoyStGFIACaMlCwYJWXAqGf7RZXMFyVtvZiCjRc1sl2UyHRBeispGC5SstsgKbOFBGC1SMloUVI2i3o2WVTJYlHSBosp2F5RY3NFLVorKGisgMFWgbayhbGlonSwaSo7BRnMFClZKUrKSFHPNooqmShK2kIxBRsoamyfqEXzBOVehuxB0q2m9XIRljnlHv3SEJmlcXJK52yTRQGPNEQGaVy6Y1HBGg2RLxpXpmhidkSTyA6Nay80mY3QBHJB42SBhb/NCMzPEDmfc2V7RQXPM0SGZ1y5nYnZ6kwinzOuTc5kdjgT2N5MiN5WMBpbYeBqBbW5BbCfGa83GuVkRQMbM0QeZlwZmInZvUwi6zKufctkNi0T2LFMiHZV8H2OyENGW4EqoRb+VO4VDcoZOZQLZFEgsEeZBCbljFzKBWlTJoNPOSOjckE5lavZqlwjr3JBm5Xr7FaukF25QH5lwlvBwLGckWWBoDzLZDAtZ+RaLijbcjX7lmtkXC5o53KdrcsV9i5XonkZR/cyCPZlrBUthA3MhQPNSlmYieBhzsjEXFAu5mq2MdfIx1zQRuY6O5krbGWuRC8zfi+C8yDYVrFa5IWhlRtDQ3NGhuYCGRoIbGgmgaE5I0NzQRqayWBozsjQXFCG5mo2NNfI0FzQhuY6G5orZGgukKGZ8FYwMDRnZGggKEMzGQzNGRmaC8rQXM2G5hoZmgva0FxnQ3OFDc2VaGjG0dAMgqEZa0ULYUNz4UCzUoZmIhiaMzI0F5ShuZoNzTUyNBe0obnOhuYKG5or0dCM34vgPAi2VawWeWFoq+n7JO5AhZCZFUxWZpiNbBLAxgohEytYWtgkgoEVQvZVsDKvomXrKgoZV8HatorKplU4WVbBZFgTfpsImFUhZFWGlVFNIthUIWRSBSuLKlo2qKKQPRWszamobE2FszEVHm1pomhKEwJLmkibajjbUcHVJqGsaJLAiAohGypYmVDRsgUVhQyoYG0/RWXzKZytp/BoPBO9T2F4SGSbiY6tsJupEaDfGCLDMU6O45wtpyjgOYbIdIxL1ykq2I4h8h3jynhMzM5jElmPce09JrP5mEDuY5zsp/C3GYEBGSIHcq4sqKjgQYbIhIwrFzIx25BJ5EPGtRGZzE5kAluRCdGLCkYzKgzcqKA2twD2I+P1RqMcqWhgSYbIk4wrUzIxu5JJZEvGtS+ZzMZkAjuTCdGaCr7PEXnIaCtQJdTZn/460Je7K/uRBdFR8RJAMaTOMZpOLZCOPEjOPD7OSmiclIbt6HyslHZUcgAo3C5wuF2g5XYBUZGDYhkBZhkBNmVkT76f4r733+8x7oCih3+f4g4cMgK0ZASQ3S4wu11g0+0CKXF39N689PvJBvyojUexF/me2v1EJ9PFyBii8BinGBlXgTIxR8skCplxjpsJHDwTYgQNUxgLf5/D0GTUCkShNS7iO77DGONbEMe3cI5v4TK+RRTxLRLHt/AU3yKk+BaB4lswx3fi73MYmoxagTi+haf4/m0K7dHRqR2aFwErIUUWDQoEdCjAZlHA3IkAuhUBLF4EqIQN2G6keeZHJSuASk4AhYwAh3wALdkAZLkAZpkANuUBSMmCo/0HLodMPTUUE3Q5U10Z+iHSmepkpuCF24BzXjuR107kdbGrYn5kFdJRHIw7xzrq1Ibgjnx47czuxFnvw7/x0LtaZ9TXuhA6W8fe2zpL3a1L0N86LJMAZFajnU1fMA0VYmWDofEoDp1GVCoEojAN2Auvpua/N4NX2PoBlSYDSMykXlHTBxrnT69CwwfmhedsajJA4iTp1dTon1p+5rFbeIWNHpDoDF5Rowcau4BXodEDI+N/BY0eSLT7V9Doj4108SiOcF9hm0eUR7ivqM0jhTYPOA58X4U2D4wGvq+mlgZH+Z77yg328gb7fCfcyEAR92hNDFAcib/CBuZoEwpnkyvUplJ7NrL2bHLt4fkYKKJebUS92oR69Xq2XwnZT33HoziLH5GYwI88zd1HGqftI5Iz9lGhyfrISvgBlfA76kIeuhjr11jREeXwv6aKjhQqOuBYKq9DRQdGsX89VfQTy0EfLfN1qujAkz++xooOSC4tvQ4VHVhcUHqNFd3RJh7lu95U7noj73qT75prNSjirjfk96+hVjvZxqN819t8d6Grw3ZBAjURUlVroSS54VACakOk6uZEibhlkUyNjFRqb1GFyk8CtUJSqUGyKtomJcnNlBPkFkspqPGSyu2YZG7SUe5rFYkbOqmq9VCSr1VVdgJSdfOiRNzSSCarIJVcI6qbqnAwMNJWKMnXAsNmQ+r/JTDJgkhmNyI5GlMUt1XhYGCyc/002y/tH/uRDfMAhZG8C7v1gv24fnfUhKM2pGzjsvOI0qLyjorl7J+mDD+1RJZLQNjE9xTfuT8mRJmsvHNPKmQX30cn1OYfcu7V++gkqTjga9iUR46Ieg17kmKVgOCQQCFiVQUqpoFwRaGpCW3tVBxAUnMYYwIVzNygZHw4sPUGNSWY7A4Da4hC6lwFs6gQxoKajNr8Qw6a8RyuIqlAFW2b88jBMZ7C8vNseoZyZkd2d47sGYqjOIFzjnlwahM4Rz5Nc+ZTSWflGYoTm7ntUWlSLwWivBinDBlXuTIxZ80kyp9xzqQJnFMTYnYNU57xYQMjynN62MBc5Vk9bGCJ8pwfNrDAeeaHDYw5z6GFv6wKnP+ochSiKmMRk4iIxAQcl6im6EQ5xSjKFKkoUrzKg9OXAlGMjFN0jKu4mJgjYhLFwjhHwQTOvwkx54Zjnt9M2d178BvMKaCSSUBxhuc8PXN+g7kC5HMzZ747wVnZmODEJmaGfrNR4BvsnBCFfsmFsUuyoyYcfQgp26D59gZHaUb7Bo12uttktMwp1tpoWcxRT0bLnOOfjZaFWBLJaIlDmaSxauKqdMJYNaImow/5h21OxcWmhq+TFF7nhgKMnEoxilSUUVTlGVPkQo06lWwUuXijymUc1VjQUaPSTh+eOBHR43I/9OEJleR9pVSaCv9QOU9bSc+1ov79hb0OL61CxUBK1QIlqhQoqSqBeq4QqFJ1QIkrA2pcFVCLFQEVqgb0MvxJihNXgfrL8DnBexn5RtIP8gytTMvFXntHfK+W1wChxA1RcRunsjauCtrEXMomUREb5/I1gQvXhFiyhqlY8R3fkxgGLtDKO76kvs/xbDL6kH/Y5lRcfPKV2L0U17iwCFmhkmSZCpRlVa6cJhcvp6BSZpkLm3Uuc9Zj0bNKNYBkqAisUH1IsqoWlOh9tcSaqvKhera2+huuOSznCmTvzEHVcUaVxgWqLi6oiuJqriKuUeVwgauFK1whXIlVwTlVgvDm7AlFhAu+9uYsy+9FdBvBPojftiIdF6p+wXSvldUdKE1DVJjGqSyNq6I0MZekSVSQxrkcTeBiNCGWomEqRFzNO4lh4CKsrOaR+j7Hs8noQ/5hm1Nx4akFvknCSfqUtTRJZ05lpyfpLOayS5N05lx2eZLOQiy7NEknDmWXXl1IXJUd7uuneDYZfcg/bHMqLju503+UfpmK7YUfld8CKoUFKJQTcLgC0FI6gKxggFmZAJuKA0gpCUe7zUbP/ajkAFDJAaCQA+CQA6AlB4AsB8AsB8CmHAApOXBE+yR3KCbocqbsyTUinalOZio8mAac89qJvHYir308yvfcV26wlzfY5zvhp8agiHu058OAcvB5U+LbGb7RMB7FNxpGJN5oGHl6o2Gk8Y2GEck3GkaF3mgYGb3RMLLwRsO7Gb4+Nh7F57UjEk+vR54e3o40PqcekXw4PSr0RHpk8fn8iOJD+XdTrOEo3/V55a7P5V2f57vmWIMi7vqcHp6/g1g7GV/Eel6OmnDUxiOrPY6wluxpWfiCMjREITGu4mJiDo5JFCHjOkwmc6xMoGI2TmVd+LlAlSzKojexnkWuBMYPZzFVBxO4TpgQKwYukVLBNhm1AlFlUeuhk1QeMkGNMUThNK7CaWIOp0kUTuM6nCZzOE2gGmOcakzh5wJVsihrjIn1LHKNMX44i6nGmMA1xoRYY/D9IyrYJqNWIKox6v2jIqWthOUm9FZCrcoAV7cS6gQc7INbCXWiFHi9lVCrXM+Cel4VDgZG17yY5GuBSbUwqv+XwOQaGeVUL6NMtTPtupFVqakJbVXgWlvddbNPMEy09hPMJ3YUZzkjsmmlI7HxdeRpLjTSuMV1RLRldWT00vbIwvvaI4n7VX+bmpzn502MwW+pcQGXAbFmBIiHla74sNKZvbfjyF7bMbSbmbw4tiObITqyGaKjOEN0jjNEpzZDdOQzRGc+Q3RWZohObIZo6KJfwirAnuxnXGcnhcRfdDmXNuFCFGqXc6xdQGHCBSexSufIK50zkfnP2y+fu9uQjUXIpr2rBoiWPnasD2ftc977SnH2sjj7XJw8cQNFFLRN3ADlUrWJm+d+FbK1yrmnl8n2SLxMthPW3c2i1JxnRjchzSZfYiMWsUae1q9GGpeuRsRb6V2h9ayRifLchFWsHXkIYdrGo5IHQLjLbk9xv9bkaGm/FnPyY71fi8XszGm/FnP26Lxfi4Xo1mm/FnHw7TTEZq4cXA2xWSIvrw2xWWZXT0Ns5uTvhYPJGyIfME52b1yZhInZKUwiuzDOzmACW6EJsTMwTN5ROHULjkPfULA4AfcSxqmrcC76CxNzp+FS7jlMo+7DOPchJtSix71J4YscIu5XjLMZFaHPl+NuxvihaiQ6HJMq1ajS9Zhcq2XcCRmv1Cbujgpf5Whwx2SceifnqosqquinirTJqbnHMq66LRNz32USdWDGdS9mMndlJtSqEHVqBT/kiG8Foj7OuOjo0ibd0hvoTbpa5a7vwCZdnUR0g3qTrlZTl1jZpKtl6h71Jl2pYlepVxW0KrvN6qqCTsBd6MFVBZ0odad6VUGr3LUGFTvYKLAPRpU726hKr4xJhGPGBOybUU32GOXUmUSZOuQospEGlTtnEmMXnV4FladM3bV+FbSiqq67+ipoJYHoxvWroPr3qUuvvAoqz52696AuaqFOXX1Uk1vHdzBrN5M6/6h+vVqrgUBMcLBa1wYFMdHhup8GCFE9WLvTYCGoq1o808Ahqjx8IFUOIkIaNZSIr47WfpmGFVGVg4uYRAwxYgIeaES1MtyIidKgI8qHKzMPQIL4UCvLbVXgIUn99b8xwfk0GtkvzZ7jEARQ/L7NeRpsAE+L0ec4rABEK8rnYQABLKwdn+NQwVFx7v0HSs5n6ZslZZEd85re0WBOudbvaLCY85/e0WDOkcjvaLAQY5Le0SBO0SmYQ5RehZhOo1+FkCJF7MCrEDJFjp1+FUKKHMXKqxBSjfHUr0IokSIbNA4vvU4wnU69TiAkCmz1dQKh56Cq1wmExAGVrxMILQZTvU6QJQokKBxG3KA/nSdt0GdO0dMb9FnMcUsb9JlzxPIGfRZirNIGfeIUpYI5RGIf/HSi2j74ikxxO7gPvpImR7G2D74ic0yr++AreoxwbR+8linepHLYw+7x6YR593gSKMiV3eNJzYHNu8eTwMEUu8eTEgOYd4+zQEEzzuGyv+cA4XJG4XKBwuWCCperOVyuUbhc4HC5wuFyJYbLOYXLBAqXcQ7X9DV6CFYhFKqCKVAFqzAVLQepKBSigjlAhXN4Co/BKZRCM2EKzEQpLO+nkDx7YkclHIBKKACFMACHEAAt2QdkWQdm2QY2ZRlIya6j3fLWUz8qOQAUPxnlPH23YqT26SdH/DU9V/xLUM7KHBSQfZLR0Li3+OjIDm0pDph/FdcZfRXXBVyKA+xfxXUGX8V1CF/FdWhfxXXkX8U1Fqen76H6HR2/KIh+04kM23JPYJUMhy/NAoX1HExtn5p15J+adaaiYKs0p5a/3dLMfo44HsVp44hinXOe5pAjtTrnyGuWM/8QrrE+3msvwtrXQtjrOtOLOpM+PwuSqk7++Vlgour4Tm+vKbji4RndxKMc8rigARwrilOrEI4oj6B4VXEmCqMsR+xJE+y1yfbaZHttKvbaSHttsr02wl4bYa9Nstcm22sz2eu+u2jQXgGJr642ZK9A41dXG2GvoNBXVxu0V0Dxq6vNDJf2m1laz29maRG/Sd4KPK1rNrO0Rt/M8sJ8M8ur8c2Ml+CbWVp3b5KpNmCqnib+osu5pAX0Jhkq8LRU3rCfQuK4KN7M8kp4M8vL3w266f6DU80MF7qbWVrdbmZ5SbuZ4Tp2M0uL102yPeCyOPtcnHpBupnlVehmlpaem1lab27Q7xzlBd5mhqu6zSwt5TbJ7oCnRdtmllZqG2F3oNCabDPLC7HNjFdfd2RcWTXr8OVUR2jGI21n+ES3RZcEFJ/dtsklgaentC26JCB6HtsGlwQWnry26JKOxmesp3ZkvbCj2Ak7xz7YqXXBjrgHdsU7YGfW/zqy7teQu0mbXbLNLtlWXLKVLtlml2yFS7bCJdvkkm12yTa5ZJtcsg0u2WaXbLNLthWXbKVLttol2+ySrXDJVrhkO0tPBtsZjjnbWRpzjkiMOUeexpwjjWPOEdGYs53lMWcbrLfN1ttWrLeV1ttm622r1tsK622z9bbZettsva203nayXk+zydnbVLK3kdnb5Oyx9YIisrcR9WMTGwc+oJlMKT2gYU6Wqh/QsJjNNT2gYc42mx/QsBANNz2gIQ7Wm17PY65MWL2exxLZce31PJbZmNPreczJoguf55JmszZOjm1c1VkTc8U1iWqvca6oJnBtNUFXWTZ1f+4W2iU/jqPU4gRs9MbJ7Z0fiJDwfZey+ZtGPYBx7gZMqEWPO4TCFwJR12Bc9Q8m5k7CJOopjHN3YQL3GUXoc7649zB+qDREP2JSpb5WehSTa9WZ+xbjlWrLvUzhoqsp0ian5k7H+KGoiO7HpEpUKh2RybWopC7JhNjI+StwTxKl3kl+BS5Lqo+qfQUuq9RT6a/AZY37K/UVuKxQrwUSdFxIqe9CSXVfqOceDFXqxFDS/Rim4K4MNerNUKIODaS5rCXcraFEPRtKqlmgnlsGqtQ4UOIGgBq3AdSqzYC7u/AYP9iDeMCff6PPxF0fStT7BelwFEUfGNTcDaJMPSFK3BmidiDI3CWCtNCUOkaUVN+Ieu4eUaUeEiXuJFHjfhK0XmaZe0uUvlJ6os9Etd4GKj0npjjQSrj/RKneFLgXBUl0pKBu5G+4O0XpK2ETnSqq9bBVulZMcSBsqYNFLZjL4Asz/+bMeGTPDR3FjaaTUDrtK4HoHMbliabEeCJDdCLj8kRhD9hVjdMpoyjPC9G70pTOiZI8Y9k+dCUQncu4PJFt8bhSjE7lgjyX7X+4UozO5YI817Rl4CoTOk/B8izlQ2dXAtF5jKsTfURTODHkf/L8IzZzQPHhlHN8OOXUHk45kn/Z/GNovsDo75l/hOa6Jxe7jssGRLuj66Bdx9xPgs0C/ZcFXedU+hz2TqGfo6DrnKpyjmEMsFzO6SwGr1VKfab9iGb/J0guPy7LXyE5OskyabgKcGTEd8aEugUo3oYL/gj6tKD7cPQQjrwe7Y78z6SMR3HzyYjSJpMyOONMoBufEKLsVNyYVM5Y4fcZPWQE+Sxom/PAOTaes83v8h5FDNk2RNk2LrOdXvqcMlT4fUYPGUG28d1FygNnW767OElqy/OR0DAAsruTog6F3EpdcorifYU/VDiGB/m2kuEUqCDmaIlJz1FSIFKqCxeSjJIab055Bule0gdJITpAtzJ7HBmURFx8cpUCAxJGBjGHBjUdG0iRggPavcYPGmN8AG91PlOEUMsh4n3eRxFDaNJAjbkMSdowPmWw8PuMHjKCEBS0zXngrBvP2U5bh4+IQ8bzuDIJMut5G/KUKxPuBXsQDLJvbCsywwFwIUcg7QY+Ig4RyKPhJMgI5J3FU85MuBfsQTCIgLGtyAxHwIUUgU8p7zsyNJdlt17vlkKeGfw0K+9C744Wdi/jEQ1eP+XsfqIx2X4KepWuvyNdPLJlTUe23RNQ/obryHFlEyhu9nQcP+06IvqA68joA65xtiNmOtVZzlUOVPkpx6XgTiCKkHEKk3MRKxNzwFzKUTONQmec42cCBzEvBVxVlgKuDi4FmMqB1W+dTz/Kb51rgUJdeeu8ooqw1986ryTIRVB561yrXBy1t86lfFUVqIBIlcVUeYd6X1jXoRCuc+Svc7ivKzG+loG91tG8ziG8FnG7FsHasT4e5XvuKzfYyxvs852k/dSuiHv03dSO7MmKoW08yne9zXdXazAs0MkONpikilh9rcGkBLmIDzYYVjmohxsMyX1VOBgWWUnqn0zQCQ5mq1KLap9M0DLVrconE6S6rQoHA5PrYRlC7kdbt7hSMSGcxRcUTgpCWUl01Afb67PX9TWD68vQbn+Ul8z7tEjDXJ42LMbsUWXxuz+0+N1/ffG7zxP+PZeL4r2aUQtJXomnzXual8r7ylJ5f3CpvA8zrT2it0qv6gpdiWV5QUoE1xWr9n1t1b4/vGrfx0nUnpU/7nIlEJ3duDx5UeHceU2+r6zJ9wfX5HtsZ3tU+v/aum7USRzZsvt0V/T9/8vrQviTmb/EGPEQyfmd1uIlxTlX+nf2gRellZ5PanHdO6dYmz9FXC6otHJBqZU1d62KeW1M8WV+0VVis/vJ0/yTu3hSkcLrxhDe/VuPp3YUt7qMyCqgI7HrZeRpt8tI4y6XEdHelZF5j++svO3oJG5f2aGLWXlzZTyySbqjUkKIrGAAlpnLPtqrqVJ7AqvLjuKVunzxLl88Dr+A4zICUBhoAbYNDo58Y4Mzi6qzq3hUyhcQ1SETbH/HsdWf3UjsxMrChl+A4hvaziG3QO3NbEf8QXdX/H1tZ/ZNe0f2QrYhnxV5Wf8esuojoRUaAKA4xF7F5o5QGHVxMGx+aR8xc2qIeh8xi7lJpn3EzLlx5n3ELMRmmvYRE4cGa4gajnFqPc65/aZHeFPBFn6Zk3Jzxp3LjCr3x61b71xmMbdzuXOZNWrxeecyC9z2cajMiFygMlQmlf0AdxWfxEJnZ9C7ilnMHpF2FTPXbpF3FbNAvpF2FRNPDlKE33OYwEsMkaEYJ1dxztbiivIX/GL11PzSF6uZk7/oL1azmP0lfbGaOftL/mI1C9Ff0heriYO/GKL2a5zar3P2l/SsfCr2wi9zUvYX/EY2o8r9sb/ob2SzmP1FfiObNfKX/I1sFthfcOMAI/KXysYBUtlf8EPZJ7HQ2V/0h7JZzP6SPpTNXPtL/lA2C+Qv6UPZxJO/FOH3HCbwF0PkL8bJX5yzv7gi/SWs9KDLRIG9JqrsOFGVvhOTCPeJCdiDopqcKMrJj6JMrhRF9qb4jATKMArsA1FlNyA1eZZ+MFMqVFAvaz9LLpbWp7VwMCfJ1w6sT+skwuPq69M6BftdZX1ay8n70gMdLbAPHnqgI9MkT0wL4yeqyiV/PLAwrpMIr9QL41qt+GZlYVzL7KF6YVyq2U+D/Hst3OitUWCHjSr7LKnJbUkXnjstBo2vbe03DBixW4nY7DVi8RV509BQoxK/G2+YvgVv3L0z8mKakcaPwhf8WyYWVsIxXkHc/UG2/R+tLWT3l9hOQkx3f4LtLKSxv71GGAK0V+7BWvcvjdxjddujh5ToISfaQqL9Bzy2mGhCPNElzMnF9r2s4I/+/b//H63X5Vs=",TimesRomanCompressed="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",SymbolCompressed="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",ZapfDingbatsCompressed="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var compressedJsonForFontName={Courier:CourierCompressed,"Courier-Bold":CourierBoldCompressed,"Courier-Oblique":CourierObliqueCompressed,"Courier-BoldOblique":CourierBoldObliqueCompressed,Helvetica:HelveticaCompressed,"Helvetica-Bold":HelveticaBoldCompressed,"Helvetica-Oblique":HelveticaObliqueCompressed,"Helvetica-BoldOblique":HelveticaBoldObliqueCompressed,"Times-Roman":TimesRomanCompressed,"Times-Bold":TimesBoldCompressed,"Times-Italic":TimesItalicCompressed,"Times-BoldItalic":TimesBoldItalicCompressed,Symbol:SymbolCompressed,ZapfDingbats:ZapfDingbatsCompressed},FontNames;(function(s){s.Courier="Courier",s.CourierBold="Courier-Bold",s.CourierOblique="Courier-Oblique",s.CourierBoldOblique="Courier-BoldOblique",s.Helvetica="Helvetica",s.HelveticaBold="Helvetica-Bold",s.HelveticaOblique="Helvetica-Oblique",s.HelveticaBoldOblique="Helvetica-BoldOblique",s.TimesRoman="Times-Roman",s.TimesRomanBold="Times-Bold",s.TimesRomanItalic="Times-Italic",s.TimesRomanBoldItalic="Times-BoldItalic",s.Symbol="Symbol",s.ZapfDingbats="ZapfDingbats"})(FontNames||(FontNames={}));var fontCache={},Font=function(){function s(){var e=this;this.getWidthOfGlyph=function(a){return e.CharWidths[a]},this.getXAxisKerningForPair=function(a,o){return(e.KernPairXAmounts[a]||{})[o]}}return s.load=function(e){var a=fontCache[e];if(a)return a;var o=decompressJson(compressedJsonForFontName[e]),d=Object.assign(new s,JSON.parse(o));return d.CharWidths=d.CharMetrics.reduce(function(h,g){return h[g.N]=g.WX,h},{}),d.KernPairXAmounts=d.KernPairs.reduce(function(h,g){var b=g[0],j=g[1],_=g[2];return h[b]||(h[b]={}),h[b][j]=_,h},{}),fontCache[e]=d,d},s}();const AllEncodingsCompressed="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";var decompressedEncodings=decompressJson(AllEncodingsCompressed),allUnicodeMappings=JSON.parse(decompressedEncodings),Encoding=function(){function s(e,a){var o=this;this.canEncodeUnicodeCodePoint=function(d){return d in o.unicodeMappings},this.encodeUnicodeCodePoint=function(d){var h=o.unicodeMappings[d];if(!h){var g=String.fromCharCode(d),b="0x"+padStart(d.toString(16),4,"0"),j=o.name+' cannot encode "'+g+'" ('+b+")";throw new Error(j)}return{code:h[0],name:h[1]}},this.name=e,this.supportedCodePoints=Object.keys(a).map(Number).sort(function(d,h){return d-h}),this.unicodeMappings=a}return s}(),Encodings={Symbol:new Encoding("Symbol",allUnicodeMappings.symbol),ZapfDingbats:new Encoding("ZapfDingbats",allUnicodeMappings.zapfdingbats),WinAnsi:new Encoding("WinAnsi",allUnicodeMappings.win1252)},values=function(s){return Object.keys(s).map(function(e){return s[e]})},StandardFontValues=values(FontNames),isStandardFont=function(s){return StandardFontValues.includes(s)},rectanglesAreEqual=function(s,e){return s.x===e.x&&s.y===e.y&&s.width===e.width&&s.height===e.height},backtick=function(s){return"`"+s+"`"},singleQuote=function(s){return"'"+s+"'"},formatValue=function(s){var e=typeof s;return e==="string"?singleQuote(s):e==="undefined"?backtick(s):s},createValueErrorMsg=function(s,e,a){for(var o=new Array(a.length),d=0,h=a.length;d<h;d++){var g=a[d];o[d]=formatValue(g)}var b=o.join(" or ");return backtick(e)+" must be one of "+b+", but was actually "+formatValue(s)},assertIsOneOf=function(s,e,a){Array.isArray(a)||(a=values(a));for(var o=0,d=a.length;o<d;o++)if(s===a[o])return;throw new TypeError(createValueErrorMsg(s,e,a))},assertIsOneOfOrUndefined=function(s,e,a){Array.isArray(a)||(a=values(a)),assertIsOneOf(s,e,a.concat(void 0))},assertIsSubset=function(s,e,a){Array.isArray(a)||(a=values(a));for(var o=0,d=s.length;o<d;o++)assertIsOneOf(s[o],e,a)},getType=function(s){return s===null?"null":s===void 0?"undefined":typeof s=="string"?"string":isNaN(s)?"NaN":typeof s=="number"?"number":typeof s=="boolean"?"boolean":typeof s=="symbol"?"symbol":typeof s=="bigint"?"bigint":s.constructor&&s.constructor.name?s.constructor.name:s.name?s.name:s.constructor?String(s.constructor):String(s)},isType=function(s,e){return e==="null"?s===null:e==="undefined"?s===void 0:e==="string"?typeof s=="string":e==="number"?typeof s=="number"&&!isNaN(s):e==="boolean"?typeof s=="boolean":e==="symbol"?typeof s=="symbol":e==="bigint"?typeof s=="bigint":e===Date?s instanceof Date:e===Array?s instanceof Array:e===Uint8Array?s instanceof Uint8Array:e===ArrayBuffer?s instanceof ArrayBuffer:e===Function?s instanceof Function:s instanceof e[0]},createTypeErrorMsg=function(s,e,a){for(var o=new Array(a.length),d=0,h=a.length;d<h;d++){var g=a[d];g==="null"&&(o[d]=backtick("null")),g==="undefined"&&(o[d]=backtick("undefined")),g==="string"?o[d]=backtick("string"):g==="number"?o[d]=backtick("number"):g==="boolean"?o[d]=backtick("boolean"):g==="symbol"?o[d]=backtick("symbol"):g==="bigint"?o[d]=backtick("bigint"):g===Array?o[d]=backtick("Array"):g===Uint8Array?o[d]=backtick("Uint8Array"):g===ArrayBuffer?o[d]=backtick("ArrayBuffer"):o[d]=backtick(g[1])}var b=o.join(" or ");return backtick(e)+" must be of type "+b+", but was actually of type "+backtick(getType(s))},assertIs=function(s,e,a){for(var o=0,d=a.length;o<d;o++)if(isType(s,a[o]))return;throw new TypeError(createTypeErrorMsg(s,e,a))},assertOrUndefined=function(s,e,a){assertIs(s,e,a.concat("undefined"))},assertEachIs=function(s,e,a){for(var o=0,d=s.length;o<d;o++)assertIs(s[o],e,a)},assertRange=function(s,e,a,o){if(assertIs(s,e,["number"]),assertIs(a,"min",["number"]),assertIs(o,"max",["number"]),o=Math.max(a,o),s<a||s>o)throw new Error(backtick(e)+" must be at least "+a+" and at most "+o+", but was actually "+s)},assertRangeOrUndefined=function(s,e,a,o){assertIs(s,e,["number","undefined"]),typeof s=="number"&&assertRange(s,e,a,o)},assertMultiple=function(s,e,a){if(assertIs(s,e,["number"]),s%a!==0)throw new Error(backtick(e)+" must be a multiple of "+a+", but was actually "+s)},assertInteger=function(s,e){if(!Number.isInteger(s))throw new Error(backtick(e)+" must be an integer, but was actually "+s)},assertPositive=function(s,e){if(![1,0].includes(Math.sign(s)))throw new Error(backtick(e)+" must be a positive number or 0, but was actually "+s)},pdfDocEncodingToUnicode=new Uint16Array(256);for(var idx$2=0;idx$2<256;idx$2++)pdfDocEncodingToUnicode[idx$2]=idx$2;pdfDocEncodingToUnicode[22]=toCharCode("");pdfDocEncodingToUnicode[24]=toCharCode("");pdfDocEncodingToUnicode[25]=toCharCode("");pdfDocEncodingToUnicode[26]=toCharCode("");pdfDocEncodingToUnicode[27]=toCharCode("");pdfDocEncodingToUnicode[28]=toCharCode("");pdfDocEncodingToUnicode[29]=toCharCode("");pdfDocEncodingToUnicode[30]=toCharCode("");pdfDocEncodingToUnicode[31]=toCharCode("");pdfDocEncodingToUnicode[127]=toCharCode("");pdfDocEncodingToUnicode[128]=toCharCode("");pdfDocEncodingToUnicode[129]=toCharCode("");pdfDocEncodingToUnicode[130]=toCharCode("");pdfDocEncodingToUnicode[131]=toCharCode("");pdfDocEncodingToUnicode[132]=toCharCode("");pdfDocEncodingToUnicode[133]=toCharCode("");pdfDocEncodingToUnicode[134]=toCharCode("");pdfDocEncodingToUnicode[135]=toCharCode("");pdfDocEncodingToUnicode[136]=toCharCode("");pdfDocEncodingToUnicode[137]=toCharCode("");pdfDocEncodingToUnicode[138]=toCharCode("");pdfDocEncodingToUnicode[139]=toCharCode("");pdfDocEncodingToUnicode[140]=toCharCode("");pdfDocEncodingToUnicode[141]=toCharCode("");pdfDocEncodingToUnicode[142]=toCharCode("");pdfDocEncodingToUnicode[143]=toCharCode("");pdfDocEncodingToUnicode[144]=toCharCode("");pdfDocEncodingToUnicode[145]=toCharCode("");pdfDocEncodingToUnicode[146]=toCharCode("");pdfDocEncodingToUnicode[147]=toCharCode("");pdfDocEncodingToUnicode[148]=toCharCode("");pdfDocEncodingToUnicode[149]=toCharCode("");pdfDocEncodingToUnicode[150]=toCharCode("");pdfDocEncodingToUnicode[151]=toCharCode("");pdfDocEncodingToUnicode[152]=toCharCode("");pdfDocEncodingToUnicode[153]=toCharCode("");pdfDocEncodingToUnicode[154]=toCharCode("");pdfDocEncodingToUnicode[155]=toCharCode("");pdfDocEncodingToUnicode[156]=toCharCode("");pdfDocEncodingToUnicode[157]=toCharCode("");pdfDocEncodingToUnicode[158]=toCharCode("");pdfDocEncodingToUnicode[159]=toCharCode("");pdfDocEncodingToUnicode[160]=toCharCode("");pdfDocEncodingToUnicode[173]=toCharCode("");var pdfDocEncodingDecode=function(s){for(var e=new Array(s.length),a=0,o=s.length;a<o;a++)e[a]=pdfDocEncodingToUnicode[s[a]];return String.fromCodePoint.apply(String,e)},Cache=function(){function s(e){this.populate=e,this.value=void 0}return s.prototype.getValue=function(){return this.value},s.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},s.prototype.invalidate=function(){this.value=void 0},s.populatedBy=function(e){return new s(e)},s}(),MethodNotImplementedError=function(s){__extends(e,s);function e(a,o){var d=this,h="Method "+a+"."+o+"() not implemented";return d=s.call(this,h)||this,d}return e}(Error),PrivateConstructorError=function(s){__extends(e,s);function e(a){var o=this,d="Cannot construct "+a+" - it has a private constructor";return o=s.call(this,d)||this,o}return e}(Error),UnexpectedObjectTypeError=function(s){__extends(e,s);function e(a,o){var d=this,h=function(j){var _,$;return(_=j==null?void 0:j.name)!==null&&_!==void 0?_:($=j==null?void 0:j.constructor)===null||$===void 0?void 0:$.name},g=Array.isArray(a)?a.map(h):[h(a)],b="Expected instance of "+g.join(" or ")+", "+("but got instance of "+(o&&h(o)));return d=s.call(this,b)||this,d}return e}(Error),UnsupportedEncodingError=function(s){__extends(e,s);function e(a){var o=this,d=a+" stream encoding not supported";return o=s.call(this,d)||this,o}return e}(Error),ReparseError=function(s){__extends(e,s);function e(a,o){var d=this,h="Cannot call "+a+"."+o+"() more than once";return d=s.call(this,h)||this,d}return e}(Error);(function(s){__extends(e,s);function e(a){var o=this,d="Missing catalog (ref="+a+")";return o=s.call(this,d)||this,o}return e})(Error);var MissingPageContentsEmbeddingError=function(s){__extends(e,s);function e(){var a=this,o="Can't embed page with missing Contents";return a=s.call(this,o)||this,a}return e}(Error),UnrecognizedStreamTypeError=function(s){__extends(e,s);function e(a){var o,d,h,g=this,b=(h=(d=(o=a==null?void 0:a.contructor)===null||o===void 0?void 0:o.name)!==null&&d!==void 0?d:a==null?void 0:a.name)!==null&&h!==void 0?h:a,j="Unrecognized stream type: "+b;return g=s.call(this,j)||this,g}return e}(Error),PageEmbeddingMismatchedContextError=function(s){__extends(e,s);function e(){var a=this,o="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return a=s.call(this,o)||this,a}return e}(Error),PDFArrayIsNotRectangleError=function(s){__extends(e,s);function e(a){var o=this,d="Attempted to convert PDFArray with "+a+" elements to rectangle, but must have exactly 4 elements.";return o=s.call(this,d)||this,o}return e}(Error),InvalidPDFDateStringError=function(s){__extends(e,s);function e(a){var o=this,d='Attempted to convert "'+a+'" to a date, but it does not match the PDF date string format.';return o=s.call(this,d)||this,o}return e}(Error),InvalidTargetIndexError=function(s){__extends(e,s);function e(a,o){var d=this,h="Invalid targetIndex specified: targetIndex="+a+" must be less than Count="+o;return d=s.call(this,h)||this,d}return e}(Error),CorruptPageTreeError=function(s){__extends(e,s);function e(a,o){var d=this,h="Failed to "+o+" at targetIndex="+a+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return d=s.call(this,h)||this,d}return e}(Error),IndexOutOfBoundsError=function(s){__extends(e,s);function e(a,o,d){var h=this,g="index should be at least "+o+" and at most "+d+", but was actually "+a;return h=s.call(this,g)||this,h}return e}(Error),InvalidAcroFieldValueError=function(s){__extends(e,s);function e(){var a=this,o="Attempted to set invalid field value";return a=s.call(this,o)||this,a}return e}(Error),MultiSelectValueError=function(s){__extends(e,s);function e(){var a=this,o="Attempted to select multiple values for single-select field";return a=s.call(this,o)||this,a}return e}(Error),MissingDAEntryError=function(s){__extends(e,s);function e(a){var o=this,d="No /DA (default appearance) entry found for field: "+a;return o=s.call(this,d)||this,o}return e}(Error),MissingTfOperatorError=function(s){__extends(e,s);function e(a){var o=this,d="No Tf operator found for DA of field: "+a;return o=s.call(this,d)||this,o}return e}(Error),NumberParsingError=function(s){__extends(e,s);function e(a,o){var d=this,h="Failed to parse number "+("(line:"+a.line+" col:"+a.column+" offset="+a.offset+'): "'+o+'"');return d=s.call(this,h)||this,d}return e}(Error),PDFParsingError=function(s){__extends(e,s);function e(a,o){var d=this,h="Failed to parse PDF document "+("(line:"+a.line+" col:"+a.column+" offset="+a.offset+"): "+o);return d=s.call(this,h)||this,d}return e}(Error),NextByteAssertionError=function(s){__extends(e,s);function e(a,o,d){var h=this,g="Expected next byte to be "+o+" but it was actually "+d;return h=s.call(this,a,g)||this,h}return e}(PDFParsingError),PDFObjectParsingError=function(s){__extends(e,s);function e(a,o){var d=this,h="Failed to parse PDF object starting with the following byte: "+o;return d=s.call(this,a,h)||this,d}return e}(PDFParsingError),PDFInvalidObjectParsingError=function(s){__extends(e,s);function e(a){var o=this,d="Failed to parse invalid PDF object";return o=s.call(this,a,d)||this,o}return e}(PDFParsingError),PDFStreamParsingError=function(s){__extends(e,s);function e(a){var o=this,d="Failed to parse PDF stream";return o=s.call(this,a,d)||this,o}return e}(PDFParsingError),UnbalancedParenthesisError=function(s){__extends(e,s);function e(a){var o=this,d="Failed to parse PDF literal string due to unbalanced parenthesis";return o=s.call(this,a,d)||this,o}return e}(PDFParsingError),StalledParserError=function(s){__extends(e,s);function e(a){var o=this,d="Parser stalled";return o=s.call(this,a,d)||this,o}return e}(PDFParsingError),MissingPDFHeaderError=function(s){__extends(e,s);function e(a){var o=this,d="No PDF header found";return o=s.call(this,a,d)||this,o}return e}(PDFParsingError),MissingKeywordError=function(s){__extends(e,s);function e(a,o){var d=this,h="Did not find expected keyword '"+arrayAsString(o)+"'";return d=s.call(this,a,h)||this,d}return e}(PDFParsingError),CharCodes;(function(s){s[s.Null=0]="Null",s[s.Backspace=8]="Backspace",s[s.Tab=9]="Tab",s[s.Newline=10]="Newline",s[s.FormFeed=12]="FormFeed",s[s.CarriageReturn=13]="CarriageReturn",s[s.Space=32]="Space",s[s.ExclamationPoint=33]="ExclamationPoint",s[s.Hash=35]="Hash",s[s.Percent=37]="Percent",s[s.LeftParen=40]="LeftParen",s[s.RightParen=41]="RightParen",s[s.Plus=43]="Plus",s[s.Minus=45]="Minus",s[s.Dash=45]="Dash",s[s.Period=46]="Period",s[s.ForwardSlash=47]="ForwardSlash",s[s.Zero=48]="Zero",s[s.One=49]="One",s[s.Two=50]="Two",s[s.Three=51]="Three",s[s.Four=52]="Four",s[s.Five=53]="Five",s[s.Six=54]="Six",s[s.Seven=55]="Seven",s[s.Eight=56]="Eight",s[s.Nine=57]="Nine",s[s.LessThan=60]="LessThan",s[s.GreaterThan=62]="GreaterThan",s[s.A=65]="A",s[s.D=68]="D",s[s.E=69]="E",s[s.F=70]="F",s[s.O=79]="O",s[s.P=80]="P",s[s.R=82]="R",s[s.LeftSquareBracket=91]="LeftSquareBracket",s[s.BackSlash=92]="BackSlash",s[s.RightSquareBracket=93]="RightSquareBracket",s[s.a=97]="a",s[s.b=98]="b",s[s.d=100]="d",s[s.e=101]="e",s[s.f=102]="f",s[s.i=105]="i",s[s.j=106]="j",s[s.l=108]="l",s[s.m=109]="m",s[s.n=110]="n",s[s.o=111]="o",s[s.r=114]="r",s[s.s=115]="s",s[s.t=116]="t",s[s.u=117]="u",s[s.x=120]="x",s[s.LeftCurly=123]="LeftCurly",s[s.RightCurly=125]="RightCurly",s[s.Tilde=126]="Tilde"})(CharCodes||(CharCodes={}));const CharCodes$1=CharCodes;var PDFHeader=function(){function s(e,a){this.major=String(e),this.minor=String(a)}return s.prototype.toString=function(){var e=charFromCode(129);return"%PDF-"+this.major+"."+this.minor+`
%`+e+e+e+e},s.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},s.prototype.copyBytesInto=function(e,a){var o=a;return e[a++]=CharCodes$1.Percent,e[a++]=CharCodes$1.P,e[a++]=CharCodes$1.D,e[a++]=CharCodes$1.F,e[a++]=CharCodes$1.Dash,a+=copyStringIntoBuffer(this.major,e,a),e[a++]=CharCodes$1.Period,a+=copyStringIntoBuffer(this.minor,e,a),e[a++]=CharCodes$1.Newline,e[a++]=CharCodes$1.Percent,e[a++]=129,e[a++]=129,e[a++]=129,e[a++]=129,a-o},s.forVersion=function(e,a){return new s(e,a)},s}(),PDFObject=function(){function s(){}return s.prototype.clone=function(e){throw new MethodNotImplementedError(this.constructor.name,"clone")},s.prototype.toString=function(){throw new MethodNotImplementedError(this.constructor.name,"toString")},s.prototype.sizeInBytes=function(){throw new MethodNotImplementedError(this.constructor.name,"sizeInBytes")},s.prototype.copyBytesInto=function(e,a){throw new MethodNotImplementedError(this.constructor.name,"copyBytesInto")},s}(),PDFNumber=function(s){__extends(e,s);function e(a){var o=s.call(this)||this;return o.numberValue=a,o.stringValue=numberToString(a),o}return e.prototype.asNumber=function(){return this.numberValue},e.prototype.value=function(){return this.numberValue},e.prototype.clone=function(){return e.of(this.numberValue)},e.prototype.toString=function(){return this.stringValue},e.prototype.sizeInBytes=function(){return this.stringValue.length},e.prototype.copyBytesInto=function(a,o){return o+=copyStringIntoBuffer(this.stringValue,a,o),this.stringValue.length},e.of=function(a){return new e(a)},e}(PDFObject),PDFArray=function(s){__extends(e,s);function e(a){var o=s.call(this)||this;return o.array=[],o.context=a,o}return e.prototype.size=function(){return this.array.length},e.prototype.push=function(a){this.array.push(a)},e.prototype.insert=function(a,o){this.array.splice(a,0,o)},e.prototype.indexOf=function(a){var o=this.array.indexOf(a);return o===-1?void 0:o},e.prototype.remove=function(a){this.array.splice(a,1)},e.prototype.set=function(a,o){this.array[a]=o},e.prototype.get=function(a){return this.array[a]},e.prototype.lookupMaybe=function(a){for(var o,d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];return(o=this.context).lookupMaybe.apply(o,__spreadArrays([this.get(a)],d))},e.prototype.lookup=function(a){for(var o,d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];return(o=this.context).lookup.apply(o,__spreadArrays([this.get(a)],d))},e.prototype.asRectangle=function(){if(this.size()!==4)throw new PDFArrayIsNotRectangleError(this.size());var a=this.lookup(0,PDFNumber).asNumber(),o=this.lookup(1,PDFNumber).asNumber(),d=this.lookup(2,PDFNumber).asNumber(),h=this.lookup(3,PDFNumber).asNumber(),g=a,b=o,j=d-a,_=h-o;return{x:g,y:b,width:j,height:_}},e.prototype.asArray=function(){return this.array.slice()},e.prototype.clone=function(a){for(var o=e.withContext(a||this.context),d=0,h=this.size();d<h;d++)o.push(this.array[d]);return o},e.prototype.toString=function(){for(var a="[ ",o=0,d=this.size();o<d;o++)a+=this.get(o).toString(),a+=" ";return a+="]",a},e.prototype.sizeInBytes=function(){for(var a=3,o=0,d=this.size();o<d;o++)a+=this.get(o).sizeInBytes()+1;return a},e.prototype.copyBytesInto=function(a,o){var d=o;a[o++]=CharCodes$1.LeftSquareBracket,a[o++]=CharCodes$1.Space;for(var h=0,g=this.size();h<g;h++)o+=this.get(h).copyBytesInto(a,o),a[o++]=CharCodes$1.Space;return a[o++]=CharCodes$1.RightSquareBracket,o-d},e.prototype.scalePDFNumbers=function(a,o){for(var d=0,h=this.size();d<h;d++){var g=this.lookup(d);if(g instanceof PDFNumber){var b=d%2===0?a:o;this.set(d,PDFNumber.of(g.asNumber()*b))}}},e.withContext=function(a){return new e(a)},e}(PDFObject),ENFORCER$2={},PDFBool=function(s){__extends(e,s);function e(a,o){var d=this;if(a!==ENFORCER$2)throw new PrivateConstructorError("PDFBool");return d=s.call(this)||this,d.value=o,d}return e.prototype.asBoolean=function(){return this.value},e.prototype.clone=function(){return this},e.prototype.toString=function(){return String(this.value)},e.prototype.sizeInBytes=function(){return this.value?4:5},e.prototype.copyBytesInto=function(a,o){return this.value?(a[o++]=CharCodes$1.t,a[o++]=CharCodes$1.r,a[o++]=CharCodes$1.u,a[o++]=CharCodes$1.e,4):(a[o++]=CharCodes$1.f,a[o++]=CharCodes$1.a,a[o++]=CharCodes$1.l,a[o++]=CharCodes$1.s,a[o++]=CharCodes$1.e,5)},e.True=new e(ENFORCER$2,!0),e.False=new e(ENFORCER$2,!1),e}(PDFObject),IsDelimiter=new Uint8Array(256);IsDelimiter[CharCodes$1.LeftParen]=1;IsDelimiter[CharCodes$1.RightParen]=1;IsDelimiter[CharCodes$1.LessThan]=1;IsDelimiter[CharCodes$1.GreaterThan]=1;IsDelimiter[CharCodes$1.LeftSquareBracket]=1;IsDelimiter[CharCodes$1.RightSquareBracket]=1;IsDelimiter[CharCodes$1.LeftCurly]=1;IsDelimiter[CharCodes$1.RightCurly]=1;IsDelimiter[CharCodes$1.ForwardSlash]=1;IsDelimiter[CharCodes$1.Percent]=1;var IsWhitespace=new Uint8Array(256);IsWhitespace[CharCodes$1.Null]=1;IsWhitespace[CharCodes$1.Tab]=1;IsWhitespace[CharCodes$1.Newline]=1;IsWhitespace[CharCodes$1.FormFeed]=1;IsWhitespace[CharCodes$1.CarriageReturn]=1;IsWhitespace[CharCodes$1.Space]=1;var IsIrregular=new Uint8Array(256);for(var idx$1=0,len$1=256;idx$1<len$1;idx$1++)IsIrregular[idx$1]=IsWhitespace[idx$1]||IsDelimiter[idx$1]?1:0;IsIrregular[CharCodes$1.Hash]=1;var decodeName=function(s){return s.replace(/#([\dABCDEF]{2})/g,function(e,a){return charFromHexCode(a)})},isRegularChar=function(s){return s>=CharCodes$1.ExclamationPoint&&s<=CharCodes$1.Tilde&&!IsIrregular[s]},ENFORCER$1={},pool$1=new Map,PDFName=function(s){__extends(e,s);function e(a,o){var d=this;if(a!==ENFORCER$1)throw new PrivateConstructorError("PDFName");d=s.call(this)||this;for(var h="/",g=0,b=o.length;g<b;g++){var j=o[g],_=toCharCode(j);h+=isRegularChar(_)?j:"#"+toHexString(_)}return d.encodedName=h,d}return e.prototype.asBytes=function(){for(var a=[],o="",d=!1,h=function(_e){_e!==void 0&&a.push(_e),d=!1},g=1,b=this.encodedName.length;g<b;g++){var j=this.encodedName[g],_=toCharCode(j),$=this.encodedName[g+1];d?_>=CharCodes$1.Zero&&_<=CharCodes$1.Nine||_>=CharCodes$1.a&&_<=CharCodes$1.f||_>=CharCodes$1.A&&_<=CharCodes$1.F?(o+=j,(o.length===2||!($>="0"&&$<="9"||$>="a"&&$<="f"||$>="A"&&$<="F"))&&(h(parseInt(o,16)),o="")):h(_):_===CharCodes$1.Hash?d=!0:h(_)}return new Uint8Array(a)},e.prototype.decodeText=function(){var a=this.asBytes();return String.fromCharCode.apply(String,Array.from(a))},e.prototype.asString=function(){return this.encodedName},e.prototype.value=function(){return this.encodedName},e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.encodedName},e.prototype.sizeInBytes=function(){return this.encodedName.length},e.prototype.copyBytesInto=function(a,o){return o+=copyStringIntoBuffer(this.encodedName,a,o),this.encodedName.length},e.of=function(a){var o=decodeName(a),d=pool$1.get(o);return d||(d=new e(ENFORCER$1,o),pool$1.set(o,d)),d},e.Length=e.of("Length"),e.FlateDecode=e.of("FlateDecode"),e.Resources=e.of("Resources"),e.Font=e.of("Font"),e.XObject=e.of("XObject"),e.ExtGState=e.of("ExtGState"),e.Contents=e.of("Contents"),e.Type=e.of("Type"),e.Parent=e.of("Parent"),e.MediaBox=e.of("MediaBox"),e.Page=e.of("Page"),e.Annots=e.of("Annots"),e.TrimBox=e.of("TrimBox"),e.ArtBox=e.of("ArtBox"),e.BleedBox=e.of("BleedBox"),e.CropBox=e.of("CropBox"),e.Rotate=e.of("Rotate"),e.Title=e.of("Title"),e.Author=e.of("Author"),e.Subject=e.of("Subject"),e.Creator=e.of("Creator"),e.Keywords=e.of("Keywords"),e.Producer=e.of("Producer"),e.CreationDate=e.of("CreationDate"),e.ModDate=e.of("ModDate"),e}(PDFObject),PDFNull=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.asNull=function(){return null},e.prototype.clone=function(){return this},e.prototype.toString=function(){return"null"},e.prototype.sizeInBytes=function(){return 4},e.prototype.copyBytesInto=function(a,o){return a[o++]=CharCodes$1.n,a[o++]=CharCodes$1.u,a[o++]=CharCodes$1.l,a[o++]=CharCodes$1.l,4},e}(PDFObject);const PDFNull$1=new PDFNull;var PDFDict=function(s){__extends(e,s);function e(a,o){var d=s.call(this)||this;return d.dict=a,d.context=o,d}return e.prototype.keys=function(){return Array.from(this.dict.keys())},e.prototype.values=function(){return Array.from(this.dict.values())},e.prototype.entries=function(){return Array.from(this.dict.entries())},e.prototype.set=function(a,o){this.dict.set(a,o)},e.prototype.get=function(a,o){o===void 0&&(o=!1);var d=this.dict.get(a);if(!(d===PDFNull$1&&!o))return d},e.prototype.has=function(a){var o=this.dict.get(a);return o!==void 0&&o!==PDFNull$1},e.prototype.lookupMaybe=function(a){for(var o,d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var g=d.includes(PDFNull$1),b=(o=this.context).lookupMaybe.apply(o,__spreadArrays([this.get(a,g)],d));if(!(b===PDFNull$1&&!g))return b},e.prototype.lookup=function(a){for(var o,d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var g=d.includes(PDFNull$1),b=(o=this.context).lookup.apply(o,__spreadArrays([this.get(a,g)],d));if(!(b===PDFNull$1&&!g))return b},e.prototype.delete=function(a){return this.dict.delete(a)},e.prototype.asMap=function(){return new Map(this.dict)},e.prototype.uniqueKey=function(a){a===void 0&&(a="");for(var o=this.keys(),d=PDFName.of(this.context.addRandomSuffix(a,10));o.includes(d);)d=PDFName.of(this.context.addRandomSuffix(a,10));return d},e.prototype.clone=function(a){for(var o=e.withContext(a||this.context),d=this.entries(),h=0,g=d.length;h<g;h++){var b=d[h],j=b[0],_=b[1];o.set(j,_)}return o},e.prototype.toString=function(){for(var a=`<<
`,o=this.entries(),d=0,h=o.length;d<h;d++){var g=o[d],b=g[0],j=g[1];a+=b.toString()+" "+j.toString()+`
`}return a+=">>",a},e.prototype.sizeInBytes=function(){for(var a=5,o=this.entries(),d=0,h=o.length;d<h;d++){var g=o[d],b=g[0],j=g[1];a+=b.sizeInBytes()+j.sizeInBytes()+2}return a},e.prototype.copyBytesInto=function(a,o){var d=o;a[o++]=CharCodes$1.LessThan,a[o++]=CharCodes$1.LessThan,a[o++]=CharCodes$1.Newline;for(var h=this.entries(),g=0,b=h.length;g<b;g++){var j=h[g],_=j[0],$=j[1];o+=_.copyBytesInto(a,o),a[o++]=CharCodes$1.Space,o+=$.copyBytesInto(a,o),a[o++]=CharCodes$1.Newline}return a[o++]=CharCodes$1.GreaterThan,a[o++]=CharCodes$1.GreaterThan,o-d},e.withContext=function(a){return new e(new Map,a)},e.fromMapWithContext=function(a,o){return new e(a,o)},e}(PDFObject),PDFStream=function(s){__extends(e,s);function e(a){var o=s.call(this)||this;return o.dict=a,o}return e.prototype.clone=function(a){throw new MethodNotImplementedError(this.constructor.name,"clone")},e.prototype.getContentsString=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsString")},e.prototype.getContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getContents")},e.prototype.getContentsSize=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsSize")},e.prototype.updateDict=function(){var a=this.getContentsSize();this.dict.set(PDFName.Length,PDFNumber.of(a))},e.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},e.prototype.toString=function(){this.updateDict();var a=this.dict.toString();return a+=`
stream
`,a+=this.getContentsString(),a+=`
endstream`,a},e.prototype.copyBytesInto=function(a,o){this.updateDict();var d=o;o+=this.dict.copyBytesInto(a,o),a[o++]=CharCodes$1.Newline,a[o++]=CharCodes$1.s,a[o++]=CharCodes$1.t,a[o++]=CharCodes$1.r,a[o++]=CharCodes$1.e,a[o++]=CharCodes$1.a,a[o++]=CharCodes$1.m,a[o++]=CharCodes$1.Newline;for(var h=this.getContents(),g=0,b=h.length;g<b;g++)a[o++]=h[g];return a[o++]=CharCodes$1.Newline,a[o++]=CharCodes$1.e,a[o++]=CharCodes$1.n,a[o++]=CharCodes$1.d,a[o++]=CharCodes$1.s,a[o++]=CharCodes$1.t,a[o++]=CharCodes$1.r,a[o++]=CharCodes$1.e,a[o++]=CharCodes$1.a,a[o++]=CharCodes$1.m,o-d},e}(PDFObject),PDFRawStream=function(s){__extends(e,s);function e(a,o){var d=s.call(this,a)||this;return d.contents=o,d}return e.prototype.asUint8Array=function(){return this.contents.slice()},e.prototype.clone=function(a){return e.of(this.dict.clone(a),this.contents.slice())},e.prototype.getContentsString=function(){return arrayAsString(this.contents)},e.prototype.getContents=function(){return this.contents},e.prototype.getContentsSize=function(){return this.contents.length},e.of=function(a,o){return new e(a,o)},e}(PDFStream),ENFORCER={},pool=new Map,PDFRef=function(s){__extends(e,s);function e(a,o,d){var h=this;if(a!==ENFORCER)throw new PrivateConstructorError("PDFRef");return h=s.call(this)||this,h.objectNumber=o,h.generationNumber=d,h.tag=o+" "+d+" R",h}return e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.tag},e.prototype.sizeInBytes=function(){return this.tag.length},e.prototype.copyBytesInto=function(a,o){return o+=copyStringIntoBuffer(this.tag,a,o),this.tag.length},e.of=function(a,o){o===void 0&&(o=0);var d=a+" "+o+" R",h=pool.get(d);return h||(h=new e(ENFORCER,a,o),pool.set(d,h)),h},e}(PDFObject),PDFOperator=function(){function s(e,a){this.name=e,this.args=a||[]}return s.prototype.clone=function(e){for(var a=new Array(this.args.length),o=0,d=a.length;o<d;o++){var h=this.args[o];a[o]=h instanceof PDFObject?h.clone(e):h}return s.of(this.name,a)},s.prototype.toString=function(){for(var e="",a=0,o=this.args.length;a<o;a++)e+=String(this.args[a])+" ";return e+=this.name,e},s.prototype.sizeInBytes=function(){for(var e=0,a=0,o=this.args.length;a<o;a++){var d=this.args[a];e+=(d instanceof PDFObject?d.sizeInBytes():d.length)+1}return e+=this.name.length,e},s.prototype.copyBytesInto=function(e,a){for(var o=a,d=0,h=this.args.length;d<h;d++){var g=this.args[d];g instanceof PDFObject?a+=g.copyBytesInto(e,a):a+=copyStringIntoBuffer(g,e,a),e[a++]=CharCodes$1.Space}return a+=copyStringIntoBuffer(this.name,e,a),a-o},s.of=function(e,a){return new s(e,a)},s}(),PDFOperatorNames;(function(s){s.NonStrokingColor="sc",s.NonStrokingColorN="scn",s.NonStrokingColorRgb="rg",s.NonStrokingColorGray="g",s.NonStrokingColorCmyk="k",s.NonStrokingColorspace="cs",s.StrokingColor="SC",s.StrokingColorN="SCN",s.StrokingColorRgb="RG",s.StrokingColorGray="G",s.StrokingColorCmyk="K",s.StrokingColorspace="CS",s.BeginMarkedContentSequence="BDC",s.BeginMarkedContent="BMC",s.EndMarkedContent="EMC",s.MarkedContentPointWithProps="DP",s.MarkedContentPoint="MP",s.DrawObject="Do",s.ConcatTransformationMatrix="cm",s.PopGraphicsState="Q",s.PushGraphicsState="q",s.SetFlatness="i",s.SetGraphicsStateParams="gs",s.SetLineCapStyle="J",s.SetLineDashPattern="d",s.SetLineJoinStyle="j",s.SetLineMiterLimit="M",s.SetLineWidth="w",s.SetTextMatrix="Tm",s.SetRenderingIntent="ri",s.AppendRectangle="re",s.BeginInlineImage="BI",s.BeginInlineImageData="ID",s.EndInlineImage="EI",s.ClipEvenOdd="W*",s.ClipNonZero="W",s.CloseAndStroke="s",s.CloseFillEvenOddAndStroke="b*",s.CloseFillNonZeroAndStroke="b",s.ClosePath="h",s.AppendBezierCurve="c",s.CurveToReplicateFinalPoint="y",s.CurveToReplicateInitialPoint="v",s.EndPath="n",s.FillEvenOddAndStroke="B*",s.FillEvenOdd="f*",s.FillNonZeroAndStroke="B",s.FillNonZero="f",s.LegacyFillNonZero="F",s.LineTo="l",s.MoveTo="m",s.ShadingFill="sh",s.StrokePath="S",s.BeginText="BT",s.EndText="ET",s.MoveText="Td",s.MoveTextSetLeading="TD",s.NextLine="T*",s.SetCharacterSpacing="Tc",s.SetFontAndSize="Tf",s.SetTextHorizontalScaling="Tz",s.SetTextLineHeight="TL",s.SetTextRenderingMode="Tr",s.SetTextRise="Ts",s.SetWordSpacing="Tw",s.ShowText="Tj",s.ShowTextAdjusted="TJ",s.ShowTextLine="'",s.ShowTextLineAndSpace='"',s.Type3D0="d0",s.Type3D1="d1",s.BeginCompatibilitySection="BX",s.EndCompatibilitySection="EX"})(PDFOperatorNames||(PDFOperatorNames={}));const Ops=PDFOperatorNames;var PDFFlateStream=function(s){__extends(e,s);function e(a,o){var d=s.call(this,a)||this;return d.computeContents=function(){var h=d.getUnencodedContents();return d.encode?pako$1.deflate(h):h},d.encode=o,o&&a.set(PDFName.of("Filter"),PDFName.of("FlateDecode")),d.contentsCache=Cache.populatedBy(d.computeContents),d}return e.prototype.getContents=function(){return this.contentsCache.access()},e.prototype.getContentsSize=function(){return this.contentsCache.access().length},e.prototype.getUnencodedContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getUnencodedContents")},e}(PDFStream),PDFContentStream=function(s){__extends(e,s);function e(a,o,d){d===void 0&&(d=!0);var h=s.call(this,a,d)||this;return h.operators=o,h}return e.prototype.push=function(){for(var a,o=[],d=0;d<arguments.length;d++)o[d]=arguments[d];(a=this.operators).push.apply(a,o)},e.prototype.clone=function(a){for(var o=new Array(this.operators.length),d=0,h=this.operators.length;d<h;d++)o[d]=this.operators[d].clone(a);var g=this,b=g.dict,j=g.encode;return e.of(b.clone(a),o,j)},e.prototype.getContentsString=function(){for(var a="",o=0,d=this.operators.length;o<d;o++)a+=this.operators[o]+`
`;return a},e.prototype.getUnencodedContents=function(){for(var a=new Uint8Array(this.getUnencodedContentsSize()),o=0,d=0,h=this.operators.length;d<h;d++)o+=this.operators[d].copyBytesInto(a,o),a[o++]=CharCodes$1.Newline;return a},e.prototype.getUnencodedContentsSize=function(){for(var a=0,o=0,d=this.operators.length;o<d;o++)a+=this.operators[o].sizeInBytes()+1;return a},e.of=function(a,o,d){return d===void 0&&(d=!0),new e(a,o,d)},e}(PDFFlateStream),SimpleRNG=function(){function s(e){this.seed=e}return s.prototype.nextInt=function(){var e=Math.sin(this.seed++)*1e4;return e-Math.floor(e)},s.withSeed=function(e){return new s(e)},s}(),byAscendingObjectNumber=function(s,e){var a=s[0],o=e[0];return a.objectNumber-o.objectNumber},PDFContext=function(){function s(){this.largestObjectNumber=0,this.header=PDFHeader.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=SimpleRNG.withSeed(1)}return s.prototype.assign=function(e,a){this.indirectObjects.set(e,a),e.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=e.objectNumber)},s.prototype.nextRef=function(){return this.largestObjectNumber+=1,PDFRef.of(this.largestObjectNumber)},s.prototype.register=function(e){var a=this.nextRef();return this.assign(a,e),a},s.prototype.delete=function(e){return this.indirectObjects.delete(e)},s.prototype.lookupMaybe=function(e){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];var d=a.includes(PDFNull$1),h=e instanceof PDFRef?this.indirectObjects.get(e):e;if(!(!h||h===PDFNull$1&&!d)){for(var g=0,b=a.length;g<b;g++){var j=a[g];if(j===PDFNull$1){if(h===PDFNull$1)return h}else if(h instanceof j)return h}throw new UnexpectedObjectTypeError(a,h)}},s.prototype.lookup=function(e){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];var d=e instanceof PDFRef?this.indirectObjects.get(e):e;if(a.length===0)return d;for(var h=0,g=a.length;h<g;h++){var b=a[h];if(b===PDFNull$1){if(d===PDFNull$1)return d}else if(d instanceof b)return d}throw new UnexpectedObjectTypeError(a,d)},s.prototype.getObjectRef=function(e){for(var a=Array.from(this.indirectObjects.entries()),o=0,d=a.length;o<d;o++){var h=a[o],g=h[0],b=h[1];if(b===e)return g}},s.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(byAscendingObjectNumber)},s.prototype.obj=function(e){if(e instanceof PDFObject)return e;if(e==null)return PDFNull$1;if(typeof e=="string")return PDFName.of(e);if(typeof e=="number")return PDFNumber.of(e);if(typeof e=="boolean")return e?PDFBool.True:PDFBool.False;if(Array.isArray(e)){for(var a=PDFArray.withContext(this),o=0,d=e.length;o<d;o++)a.push(this.obj(e[o]));return a}else{for(var h=PDFDict.withContext(this),g=Object.keys(e),o=0,d=g.length;o<d;o++){var b=g[o],j=e[b];j!==void 0&&h.set(PDFName.of(b),this.obj(j))}return h}},s.prototype.stream=function(e,a){return a===void 0&&(a={}),PDFRawStream.of(this.obj(a),typedArrayFor(e))},s.prototype.flateStream=function(e,a){return a===void 0&&(a={}),this.stream(pako$1.deflate(typedArrayFor(e)),__assign(__assign({},a),{Filter:"FlateDecode"}))},s.prototype.contentStream=function(e,a){return a===void 0&&(a={}),PDFContentStream.of(this.obj(a),e)},s.prototype.formXObject=function(e,a){return a===void 0&&(a={}),this.contentStream(e,__assign(__assign({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},a),{Type:"XObject",Subtype:"Form"}))},s.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var e=this.obj({}),a=PDFOperator.of(Ops.PushGraphicsState),o=PDFContentStream.of(e,[a]);return this.pushGraphicsStateContentStreamRef=this.register(o),this.pushGraphicsStateContentStreamRef},s.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var e=this.obj({}),a=PDFOperator.of(Ops.PopGraphicsState),o=PDFContentStream.of(e,[a]);return this.popGraphicsStateContentStreamRef=this.register(o),this.popGraphicsStateContentStreamRef},s.prototype.addRandomSuffix=function(e,a){return a===void 0&&(a=4),e+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,a))},s.create=function(){return new s},s}(),PDFPageLeaf=function(s){__extends(e,s);function e(a,o,d){d===void 0&&(d=!0);var h=s.call(this,a,o)||this;return h.normalized=!1,h.autoNormalizeCTM=d,h}return e.prototype.clone=function(a){for(var o=e.fromMapWithContext(new Map,a||this.context,this.autoNormalizeCTM),d=this.entries(),h=0,g=d.length;h<g;h++){var b=d[h],j=b[0],_=b[1];o.set(j,_)}return o},e.prototype.Parent=function(){return this.lookupMaybe(PDFName.Parent,PDFDict)},e.prototype.Contents=function(){return this.lookup(PDFName.of("Contents"))},e.prototype.Annots=function(){return this.lookupMaybe(PDFName.Annots,PDFArray)},e.prototype.BleedBox=function(){return this.lookupMaybe(PDFName.BleedBox,PDFArray)},e.prototype.TrimBox=function(){return this.lookupMaybe(PDFName.TrimBox,PDFArray)},e.prototype.ArtBox=function(){return this.lookupMaybe(PDFName.ArtBox,PDFArray)},e.prototype.Resources=function(){var a=this.getInheritableAttribute(PDFName.Resources);return this.context.lookupMaybe(a,PDFDict)},e.prototype.MediaBox=function(){var a=this.getInheritableAttribute(PDFName.MediaBox);return this.context.lookup(a,PDFArray)},e.prototype.CropBox=function(){var a=this.getInheritableAttribute(PDFName.CropBox);return this.context.lookupMaybe(a,PDFArray)},e.prototype.Rotate=function(){var a=this.getInheritableAttribute(PDFName.Rotate);return this.context.lookupMaybe(a,PDFNumber)},e.prototype.getInheritableAttribute=function(a){var o;return this.ascend(function(d){o||(o=d.get(a))}),o},e.prototype.setParent=function(a){this.set(PDFName.Parent,a)},e.prototype.addContentStream=function(a){var o=this.normalizedEntries().Contents||this.context.obj([]);this.set(PDFName.Contents,o),o.push(a)},e.prototype.wrapContentStreams=function(a,o){var d=this.Contents();return d instanceof PDFArray?(d.insert(0,a),d.push(o),!0):!1},e.prototype.addAnnot=function(a){var o=this.normalizedEntries().Annots;o.push(a)},e.prototype.removeAnnot=function(a){var o=this.normalizedEntries().Annots,d=o.indexOf(a);d!==void 0&&o.remove(d)},e.prototype.setFontDictionary=function(a,o){var d=this.normalizedEntries().Font;d.set(a,o)},e.prototype.newFontDictionaryKey=function(a){var o=this.normalizedEntries().Font;return o.uniqueKey(a)},e.prototype.newFontDictionary=function(a,o){var d=this.newFontDictionaryKey(a);return this.setFontDictionary(d,o),d},e.prototype.setXObject=function(a,o){var d=this.normalizedEntries().XObject;d.set(a,o)},e.prototype.newXObjectKey=function(a){var o=this.normalizedEntries().XObject;return o.uniqueKey(a)},e.prototype.newXObject=function(a,o){var d=this.newXObjectKey(a);return this.setXObject(d,o),d},e.prototype.setExtGState=function(a,o){var d=this.normalizedEntries().ExtGState;d.set(a,o)},e.prototype.newExtGStateKey=function(a){var o=this.normalizedEntries().ExtGState;return o.uniqueKey(a)},e.prototype.newExtGState=function(a,o){var d=this.newExtGStateKey(a);return this.setExtGState(d,o),d},e.prototype.ascend=function(a){a(this);var o=this.Parent();o&&o.ascend(a)},e.prototype.normalize=function(){if(!this.normalized){var a=this.context,o=this.get(PDFName.Contents),d=this.context.lookup(o);d instanceof PDFStream&&this.set(PDFName.Contents,a.obj([o])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var h=this.getInheritableAttribute(PDFName.Resources),g=a.lookupMaybe(h,PDFDict)||a.obj({});this.set(PDFName.Resources,g);var b=g.lookupMaybe(PDFName.Font,PDFDict)||a.obj({});g.set(PDFName.Font,b);var j=g.lookupMaybe(PDFName.XObject,PDFDict)||a.obj({});g.set(PDFName.XObject,j);var _=g.lookupMaybe(PDFName.ExtGState,PDFDict)||a.obj({});g.set(PDFName.ExtGState,_);var $=this.Annots()||a.obj([]);this.set(PDFName.Annots,$),this.normalized=!0}},e.prototype.normalizedEntries=function(){this.normalize();var a=this.Annots(),o=this.Resources(),d=this.Contents();return{Annots:a,Resources:o,Contents:d,Font:o.lookup(PDFName.Font,PDFDict),XObject:o.lookup(PDFName.XObject,PDFDict),ExtGState:o.lookup(PDFName.ExtGState,PDFDict)}},e.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],e.withContextAndParent=function(a,o){var d=new Map;return d.set(PDFName.Type,PDFName.Page),d.set(PDFName.Parent,o),d.set(PDFName.Resources,a.obj({})),d.set(PDFName.MediaBox,a.obj([0,0,612,792])),new e(d,a,!1)},e.fromMapWithContext=function(a,o,d){return d===void 0&&(d=!0),new e(a,o,d)},e}(PDFDict),PDFObjectCopier=function(){function s(e,a){var o=this;this.traversedObjects=new Map,this.copy=function(d){return d instanceof PDFPageLeaf?o.copyPDFPage(d):d instanceof PDFDict?o.copyPDFDict(d):d instanceof PDFArray?o.copyPDFArray(d):d instanceof PDFStream?o.copyPDFStream(d):d instanceof PDFRef?o.copyPDFIndirectObject(d):d.clone()},this.copyPDFPage=function(d){for(var h=d.clone(),g=PDFPageLeaf.InheritableEntries,b=0,j=g.length;b<j;b++){var _=PDFName.of(g[b]),$=h.getInheritableAttribute(_);!h.get(_)&&$&&h.set(_,$)}return h.delete(PDFName.of("Parent")),o.copyPDFDict(h)},this.copyPDFDict=function(d){if(o.traversedObjects.has(d))return o.traversedObjects.get(d);var h=d.clone(o.dest);o.traversedObjects.set(d,h);for(var g=d.entries(),b=0,j=g.length;b<j;b++){var _=g[b],$=_[0],_e=_[1];h.set($,o.copy(_e))}return h},this.copyPDFArray=function(d){if(o.traversedObjects.has(d))return o.traversedObjects.get(d);var h=d.clone(o.dest);o.traversedObjects.set(d,h);for(var g=0,b=d.size();g<b;g++){var j=d.get(g);h.set(g,o.copy(j))}return h},this.copyPDFStream=function(d){if(o.traversedObjects.has(d))return o.traversedObjects.get(d);var h=d.clone(o.dest);o.traversedObjects.set(d,h);for(var g=d.dict.entries(),b=0,j=g.length;b<j;b++){var _=g[b],$=_[0],_e=_[1];h.dict.set($,o.copy(_e))}return h},this.copyPDFIndirectObject=function(d){var h=o.traversedObjects.has(d);if(!h){var g=o.dest.nextRef();o.traversedObjects.set(d,g);var b=o.src.lookup(d);if(b){var j=o.copy(b);o.dest.assign(g,j)}}return o.traversedObjects.get(d)},this.src=e,this.dest=a}return s.for=function(e,a){return new s(e,a)},s}(),PDFCrossRefSection=function(){function s(e){this.subsections=e?[[e]]:[],this.chunkIdx=0,this.chunkLength=e?1:0}return s.prototype.addEntry=function(e,a){this.append({ref:e,offset:a,deleted:!1})},s.prototype.addDeletedEntry=function(e,a){this.append({ref:e,offset:a,deleted:!0})},s.prototype.toString=function(){for(var e=`xref
`,a=0,o=this.subsections.length;a<o;a++){var d=this.subsections[a];e+=d[0].ref.objectNumber+" "+d.length+`
`;for(var h=0,g=d.length;h<g;h++){var b=d[h];e+=padStart$1(String(b.offset),10,"0"),e+=" ",e+=padStart$1(String(b.ref.generationNumber),5,"0"),e+=" ",e+=b.deleted?"f":"n",e+=` 
`}}return e},s.prototype.sizeInBytes=function(){for(var e=5,a=0,o=this.subsections.length;a<o;a++){var d=this.subsections[a],h=d.length,g=d[0];e+=2,e+=String(g.ref.objectNumber).length,e+=String(h).length,e+=20*h}return e},s.prototype.copyBytesInto=function(e,a){var o=a;return e[a++]=CharCodes$1.x,e[a++]=CharCodes$1.r,e[a++]=CharCodes$1.e,e[a++]=CharCodes$1.f,e[a++]=CharCodes$1.Newline,a+=this.copySubsectionsIntoBuffer(this.subsections,e,a),a-o},s.prototype.copySubsectionsIntoBuffer=function(e,a,o){for(var d=o,h=e.length,g=0;g<h;g++){var b=this.subsections[g],j=String(b[0].ref.objectNumber);o+=copyStringIntoBuffer(j,a,o),a[o++]=CharCodes$1.Space;var _=String(b.length);o+=copyStringIntoBuffer(_,a,o),a[o++]=CharCodes$1.Newline,o+=this.copyEntriesIntoBuffer(b,a,o)}return o-d},s.prototype.copyEntriesIntoBuffer=function(e,a,o){for(var d=e.length,h=0;h<d;h++){var g=e[h],b=padStart$1(String(g.offset),10,"0");o+=copyStringIntoBuffer(b,a,o),a[o++]=CharCodes$1.Space;var j=padStart$1(String(g.ref.generationNumber),5,"0");o+=copyStringIntoBuffer(j,a,o),a[o++]=CharCodes$1.Space,a[o++]=g.deleted?CharCodes$1.f:CharCodes$1.n,a[o++]=CharCodes$1.Space,a[o++]=CharCodes$1.Newline}return 20*d},s.prototype.append=function(e){if(this.chunkLength===0){this.subsections.push([e]),this.chunkIdx=0,this.chunkLength=1;return}var a=this.subsections[this.chunkIdx],o=a[this.chunkLength-1];e.ref.objectNumber-o.ref.objectNumber>1?(this.subsections.push([e]),this.chunkIdx+=1,this.chunkLength=1):(a.push(e),this.chunkLength+=1)},s.create=function(){return new s({ref:PDFRef.of(0,65535),offset:0,deleted:!0})},s.createEmpty=function(){return new s},s}(),PDFTrailer=function(){function s(e){this.lastXRefOffset=String(e)}return s.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},s.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},s.prototype.copyBytesInto=function(e,a){var o=a;return e[a++]=CharCodes$1.s,e[a++]=CharCodes$1.t,e[a++]=CharCodes$1.a,e[a++]=CharCodes$1.r,e[a++]=CharCodes$1.t,e[a++]=CharCodes$1.x,e[a++]=CharCodes$1.r,e[a++]=CharCodes$1.e,e[a++]=CharCodes$1.f,e[a++]=CharCodes$1.Newline,a+=copyStringIntoBuffer(this.lastXRefOffset,e,a),e[a++]=CharCodes$1.Newline,e[a++]=CharCodes$1.Percent,e[a++]=CharCodes$1.Percent,e[a++]=CharCodes$1.E,e[a++]=CharCodes$1.O,e[a++]=CharCodes$1.F,a-o},s.forLastCrossRefSectionOffset=function(e){return new s(e)},s}(),PDFTrailerDict=function(){function s(e){this.dict=e}return s.prototype.toString=function(){return`trailer
`+this.dict.toString()},s.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},s.prototype.copyBytesInto=function(e,a){var o=a;return e[a++]=CharCodes$1.t,e[a++]=CharCodes$1.r,e[a++]=CharCodes$1.a,e[a++]=CharCodes$1.i,e[a++]=CharCodes$1.l,e[a++]=CharCodes$1.e,e[a++]=CharCodes$1.r,e[a++]=CharCodes$1.Newline,a+=this.dict.copyBytesInto(e,a),a-o},s.of=function(e){return new s(e)},s}(),PDFObjectStream=function(s){__extends(e,s);function e(a,o,d){d===void 0&&(d=!0);var h=s.call(this,a.obj({}),d)||this;return h.objects=o,h.offsets=h.computeObjectOffsets(),h.offsetsString=h.computeOffsetsString(),h.dict.set(PDFName.of("Type"),PDFName.of("ObjStm")),h.dict.set(PDFName.of("N"),PDFNumber.of(h.objects.length)),h.dict.set(PDFName.of("First"),PDFNumber.of(h.offsetsString.length)),h}return e.prototype.getObjectsCount=function(){return this.objects.length},e.prototype.clone=function(a){return e.withContextAndObjects(a||this.dict.context,this.objects.slice(),this.encode)},e.prototype.getContentsString=function(){for(var a=this.offsetsString,o=0,d=this.objects.length;o<d;o++){var h=this.objects[o],g=h[1];a+=g+`
`}return a},e.prototype.getUnencodedContents=function(){for(var a=new Uint8Array(this.getUnencodedContentsSize()),o=copyStringIntoBuffer(this.offsetsString,a,0),d=0,h=this.objects.length;d<h;d++){var g=this.objects[d],b=g[1];o+=b.copyBytesInto(a,o),a[o++]=CharCodes$1.Newline}return a},e.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+last(this.offsets)[1]+last(this.objects)[1].sizeInBytes()+1},e.prototype.computeOffsetsString=function(){for(var a="",o=0,d=this.offsets.length;o<d;o++){var h=this.offsets[o],g=h[0],b=h[1];a+=g+" "+b+" "}return a},e.prototype.computeObjectOffsets=function(){for(var a=0,o=new Array(this.objects.length),d=0,h=this.objects.length;d<h;d++){var g=this.objects[d],b=g[0],j=g[1];o[d]=[b.objectNumber,a],a+=j.sizeInBytes()+1}return o},e.withContextAndObjects=function(a,o,d){return d===void 0&&(d=!0),new e(a,o,d)},e}(PDFFlateStream),PDFWriter=function(){function s(e,a){var o=this;this.parsedObjects=0,this.shouldWaitForTick=function(d){return o.parsedObjects+=d,o.parsedObjects%o.objectsPerTick===0},this.context=e,this.objectsPerTick=a}return s.prototype.serializeToBuffer=function(){return __awaiter(this,void 0,void 0,function(){var e,a,o,d,h,g,b,j,_,$,_e,et,tt,nt,it,st,rt;return __generator(this,function(at){switch(at.label){case 0:return[4,this.computeBufferSize()];case 1:e=at.sent(),a=e.size,o=e.header,d=e.indirectObjects,h=e.xref,g=e.trailerDict,b=e.trailer,j=0,_=new Uint8Array(a),j+=o.copyBytesInto(_,j),_[j++]=CharCodes$1.Newline,_[j++]=CharCodes$1.Newline,$=0,_e=d.length,at.label=2;case 2:return $<_e?(et=d[$],tt=et[0],nt=et[1],it=String(tt.objectNumber),j+=copyStringIntoBuffer(it,_,j),_[j++]=CharCodes$1.Space,st=String(tt.generationNumber),j+=copyStringIntoBuffer(st,_,j),_[j++]=CharCodes$1.Space,_[j++]=CharCodes$1.o,_[j++]=CharCodes$1.b,_[j++]=CharCodes$1.j,_[j++]=CharCodes$1.Newline,j+=nt.copyBytesInto(_,j),_[j++]=CharCodes$1.Newline,_[j++]=CharCodes$1.e,_[j++]=CharCodes$1.n,_[j++]=CharCodes$1.d,_[j++]=CharCodes$1.o,_[j++]=CharCodes$1.b,_[j++]=CharCodes$1.j,_[j++]=CharCodes$1.Newline,_[j++]=CharCodes$1.Newline,rt=nt instanceof PDFObjectStream?nt.getObjectsCount():1,this.shouldWaitForTick(rt)?[4,waitForTick()]:[3,4]):[3,5];case 3:at.sent(),at.label=4;case 4:return $++,[3,2];case 5:return h&&(j+=h.copyBytesInto(_,j),_[j++]=CharCodes$1.Newline),g&&(j+=g.copyBytesInto(_,j),_[j++]=CharCodes$1.Newline,_[j++]=CharCodes$1.Newline),j+=b.copyBytesInto(_,j),[2,_]}})})},s.prototype.computeIndirectObjectSize=function(e){var a=e[0],o=e[1],d=a.sizeInBytes()+3,h=o.sizeInBytes()+9;return d+h},s.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},s.prototype.computeBufferSize=function(){return __awaiter(this,void 0,void 0,function(){var e,a,o,d,h,g,b,j,_,$,_e;return __generator(this,function(et){switch(et.label){case 0:e=PDFHeader.forVersion(1,7),a=e.sizeInBytes()+2,o=PDFCrossRefSection.create(),d=this.context.enumerateIndirectObjects(),h=0,g=d.length,et.label=1;case 1:return h<g?(b=d[h],j=b[0],o.addEntry(j,a),a+=this.computeIndirectObjectSize(b),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4];case 2:et.sent(),et.label=3;case 3:return h++,[3,1];case 4:return _=a,a+=o.sizeInBytes()+1,$=PDFTrailerDict.of(this.createTrailerDict()),a+=$.sizeInBytes()+2,_e=PDFTrailer.forLastCrossRefSectionOffset(_),a+=_e.sizeInBytes(),[2,{size:a,header:e,indirectObjects:d,xref:o,trailerDict:$,trailer:_e}]}})})},s.forContext=function(e,a){return new s(e,a)},s}(),PDFInvalidObject=function(s){__extends(e,s);function e(a){var o=s.call(this)||this;return o.data=a,o}return e.prototype.clone=function(){return e.of(this.data.slice())},e.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},e.prototype.sizeInBytes=function(){return this.data.length},e.prototype.copyBytesInto=function(a,o){for(var d=this.data.length,h=0;h<d;h++)a[o++]=this.data[h];return d},e.of=function(a){return new e(a)},e}(PDFObject),EntryType;(function(s){s[s.Deleted=0]="Deleted",s[s.Uncompressed=1]="Uncompressed",s[s.Compressed=2]="Compressed"})(EntryType||(EntryType={}));var PDFCrossRefStream=function(s){__extends(e,s);function e(a,o,d){d===void 0&&(d=!0);var h=s.call(this,a,d)||this;return h.computeIndex=function(){for(var g=[],b=0,j=0,_=h.entries.length;j<_;j++){var $=h.entries[j],_e=h.entries[j-1];j===0?g.push($.ref.objectNumber):$.ref.objectNumber-_e.ref.objectNumber>1&&(g.push(b),g.push($.ref.objectNumber),b=0),b+=1}return g.push(b),g},h.computeEntryTuples=function(){for(var g=new Array(h.entries.length),b=0,j=h.entries.length;b<j;b++){var _=h.entries[b];if(_.type===EntryType.Deleted){var $=_.type,_e=_.nextFreeObjectNumber,et=_.ref;g[b]=[$,_e,et.generationNumber]}if(_.type===EntryType.Uncompressed){var $=_.type,tt=_.offset,et=_.ref;g[b]=[$,tt,et.generationNumber]}if(_.type===EntryType.Compressed){var $=_.type,nt=_.objectStreamRef,it=_.index;g[b]=[$,nt.objectNumber,it]}}return g},h.computeMaxEntryByteWidths=function(){for(var g=h.entryTuplesCache.access(),b=[0,0,0],j=0,_=g.length;j<_;j++){var $=g[j],_e=$[0],et=$[1],tt=$[2],nt=sizeInBytes(_e),it=sizeInBytes(et),st=sizeInBytes(tt);nt>b[0]&&(b[0]=nt),it>b[1]&&(b[1]=it),st>b[2]&&(b[2]=st)}return b},h.entries=o||[],h.entryTuplesCache=Cache.populatedBy(h.computeEntryTuples),h.maxByteWidthsCache=Cache.populatedBy(h.computeMaxEntryByteWidths),h.indexCache=Cache.populatedBy(h.computeIndex),a.set(PDFName.of("Type"),PDFName.of("XRef")),h}return e.prototype.addDeletedEntry=function(a,o){var d=EntryType.Deleted;this.entries.push({type:d,ref:a,nextFreeObjectNumber:o}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addUncompressedEntry=function(a,o){var d=EntryType.Uncompressed;this.entries.push({type:d,ref:a,offset:o}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addCompressedEntry=function(a,o,d){var h=EntryType.Compressed;this.entries.push({type:h,ref:a,objectStreamRef:o,index:d}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.clone=function(a){var o=this,d=o.dict,h=o.entries,g=o.encode;return e.of(d.clone(a),h.slice(),g)},e.prototype.getContentsString=function(){for(var a=this.entryTuplesCache.access(),o=this.maxByteWidthsCache.access(),d="",h=0,g=a.length;h<g;h++){for(var b=a[h],j=b[0],_=b[1],$=b[2],_e=reverseArray(bytesFor(j)),et=reverseArray(bytesFor(_)),tt=reverseArray(bytesFor($)),nt=o[0]-1;nt>=0;nt--)d+=(_e[nt]||0).toString(2);for(var nt=o[1]-1;nt>=0;nt--)d+=(et[nt]||0).toString(2);for(var nt=o[2]-1;nt>=0;nt--)d+=(tt[nt]||0).toString(2)}return d},e.prototype.getUnencodedContents=function(){for(var a=this.entryTuplesCache.access(),o=this.maxByteWidthsCache.access(),d=new Uint8Array(this.getUnencodedContentsSize()),h=0,g=0,b=a.length;g<b;g++){for(var j=a[g],_=j[0],$=j[1],_e=j[2],et=reverseArray(bytesFor(_)),tt=reverseArray(bytesFor($)),nt=reverseArray(bytesFor(_e)),it=o[0]-1;it>=0;it--)d[h++]=et[it]||0;for(var it=o[1]-1;it>=0;it--)d[h++]=tt[it]||0;for(var it=o[2]-1;it>=0;it--)d[h++]=nt[it]||0}return d},e.prototype.getUnencodedContentsSize=function(){var a=this.maxByteWidthsCache.access(),o=sum(a);return o*this.entries.length},e.prototype.updateDict=function(){s.prototype.updateDict.call(this);var a=this.maxByteWidthsCache.access(),o=this.indexCache.access(),d=this.dict.context;this.dict.set(PDFName.of("W"),d.obj(a)),this.dict.set(PDFName.of("Index"),d.obj(o))},e.create=function(a,o){o===void 0&&(o=!0);var d=new e(a,[],o);return d.addDeletedEntry(PDFRef.of(0,65535),0),d},e.of=function(a,o,d){return d===void 0&&(d=!0),new e(a,o,d)},e}(PDFFlateStream),PDFStreamWriter=function(s){__extends(e,s);function e(a,o,d,h){var g=s.call(this,a,o)||this;return g.encodeStreams=d,g.objectsPerStream=h,g}return e.prototype.computeBufferSize=function(){return __awaiter(this,void 0,void 0,function(){var a,o,d,h,g,b,j,_,nt,it,$,rt,_e,et,st,tt,nt,it,st,rt,at,ht,ft,ot;return __generator(this,function(ut){switch(ut.label){case 0:a=this.context.largestObjectNumber+1,o=PDFHeader.forVersion(1,7),d=o.sizeInBytes()+2,h=PDFCrossRefStream.create(this.createTrailerDict(),this.encodeStreams),g=[],b=[],j=[],_=this.context.enumerateIndirectObjects(),nt=0,it=_.length,ut.label=1;case 1:return nt<it?($=_[nt],rt=$[0],_e=$[1],et=rt===this.context.trailerInfo.Encrypt||_e instanceof PDFStream||_e instanceof PDFInvalidObject||rt.generationNumber!==0,et?(g.push($),h.addUncompressedEntry(rt,d),d+=this.computeIndirectObjectSize($),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4]):[3,6];case 2:ut.sent(),ut.label=3;case 3:return[3,5];case 4:st=last(b),tt=last(j),(!st||st.length%this.objectsPerStream===0)&&(st=[],b.push(st),tt=PDFRef.of(a++),j.push(tt)),h.addCompressedEntry(rt,tt,st.length),st.push($),ut.label=5;case 5:return nt++,[3,1];case 6:nt=0,it=b.length,ut.label=7;case 7:return nt<it?(st=b[nt],rt=j[nt],at=PDFObjectStream.withContextAndObjects(this.context,st,this.encodeStreams),h.addUncompressedEntry(rt,d),d+=this.computeIndirectObjectSize([rt,at]),g.push([rt,at]),this.shouldWaitForTick(st.length)?[4,waitForTick()]:[3,9]):[3,10];case 8:ut.sent(),ut.label=9;case 9:return nt++,[3,7];case 10:return ht=PDFRef.of(a++),h.dict.set(PDFName.of("Size"),PDFNumber.of(a)),h.addUncompressedEntry(ht,d),ft=d,d+=this.computeIndirectObjectSize([ht,h]),g.push([ht,h]),ot=PDFTrailer.forLastCrossRefSectionOffset(ft),d+=ot.sizeInBytes(),[2,{size:d,header:o,indirectObjects:g,trailer:ot}]}})})},e.forContext=function(a,o,d,h){return d===void 0&&(d=!0),h===void 0&&(h=50),new e(a,o,d,h)},e}(PDFWriter),PDFHexString=function(s){__extends(e,s);function e(a){var o=s.call(this)||this;return o.value=a,o}return e.prototype.asBytes=function(){for(var a=this.value+(this.value.length%2===1?"0":""),o=a.length,d=new Uint8Array(a.length/2),h=0,g=0;h<o;){var b=parseInt(a.substring(h,h+2),16);d[g]=b,h+=2,g+=1}return d},e.prototype.decodeText=function(){var a=this.asBytes();return hasUtf16BOM(a)?utf16Decode(a):pdfDocEncodingDecode(a)},e.prototype.decodeDate=function(){var a=this.decodeText(),o=parseDate(a);if(!o)throw new InvalidPDFDateStringError(a);return o},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"<"+this.value+">"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(a,o){return a[o++]=CharCodes$1.LessThan,o+=copyStringIntoBuffer(this.value,a,o),a[o++]=CharCodes$1.GreaterThan,this.value.length+2},e.of=function(a){return new e(a)},e.fromText=function(a){for(var o=utf16Encode(a),d="",h=0,g=o.length;h<g;h++)d+=toHexStringOfMinLength(o[h],4);return new e(d)},e}(PDFObject),StandardFontEmbedder=function(){function s(e,a){this.encoding=e===FontNames.ZapfDingbats?Encodings.ZapfDingbats:e===FontNames.Symbol?Encodings.Symbol:Encodings.WinAnsi,this.font=Font.load(e),this.fontName=this.font.FontName,this.customName=a}return s.prototype.encodeText=function(e){for(var a=this.encodeTextAsGlyphs(e),o=new Array(a.length),d=0,h=a.length;d<h;d++)o[d]=toHexString(a[d].code);return PDFHexString.of(o.join(""))},s.prototype.widthOfTextAtSize=function(e,a){for(var o=this.encodeTextAsGlyphs(e),d=0,h=0,g=o.length;h<g;h++){var b=o[h].name,j=(o[h+1]||{}).name,_=this.font.getXAxisKerningForPair(b,j)||0;d+=this.widthOfGlyph(b)+_}var $=a/1e3;return d*$},s.prototype.heightOfFontAtSize=function(e,a){a===void 0&&(a={});var o=a.descender,d=o===void 0?!0:o,h=this.font,g=h.Ascender,b=h.Descender,j=h.FontBBox,_=g||j[3],$=b||j[1],_e=_-$;return d||(_e+=b||0),_e/1e3*e},s.prototype.sizeOfFontAtHeight=function(e){var a=this.font,o=a.Ascender,d=a.Descender,h=a.FontBBox,g=o||h[3],b=d||h[1];return 1e3*e/(g-b)},s.prototype.embedIntoContext=function(e,a){var o=e.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===Encodings.WinAnsi?"WinAnsiEncoding":void 0});return a?(e.assign(a,o),a):e.register(o)},s.prototype.widthOfGlyph=function(e){return this.font.getWidthOfGlyph(e)||250},s.prototype.encodeTextAsGlyphs=function(e){for(var a=Array.from(e),o=new Array(a.length),d=0,h=a.length;d<h;d++){var g=toCodePoint(a[d]);o[d]=this.encoding.encodeUnicodeCodePoint(g)}return o},s.for=function(e,a){return new s(e,a)},s}(),createCmap=function(s,e){for(var a=new Array(s.length),o=0,d=s.length;o<d;o++){var h=s[o],g=cmapHexFormat(cmapHexString(e(h))),b=cmapHexFormat.apply(void 0,h.codePoints.map(cmapCodePointFormat));a[o]=[g,b]}return fillCmapTemplate(a)},fillCmapTemplate=function(s){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+s.length+` beginbfchar
`+s.map(function(e){var a=e[0],o=e[1];return a+" "+o}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},cmapHexFormat=function(){for(var s=[],e=0;e<arguments.length;e++)s[e]=arguments[e];return"<"+s.join("")+">"},cmapHexString=function(s){return toHexStringOfMinLength(s,4)},cmapCodePointFormat=function(s){if(isWithinBMP(s))return cmapHexString(s);if(hasSurrogates(s)){var e=highSurrogate(s),a=lowSurrogate(s);return""+cmapHexString(e)+cmapHexString(a)}var o=toHexString(s),d="0x"+o+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(d)},makeFontFlags=function(s){var e=0,a=function(o){e|=1<<o-1};return s.fixedPitch&&a(1),s.serif&&a(2),a(3),s.script&&a(4),s.nonsymbolic&&a(6),s.italic&&a(7),s.allCap&&a(17),s.smallCap&&a(18),s.forceBold&&a(19),e},deriveFontFlags=function(s){var e=s["OS/2"]?s["OS/2"].sFamilyClass:0,a=makeFontFlags({fixedPitch:s.post.isFixedPitch,serif:1<=e&&e<=7,script:e===10,italic:s.head.macStyle.italic});return a},PDFString=function(s){__extends(e,s);function e(a){var o=s.call(this)||this;return o.value=a,o}return e.prototype.asBytes=function(){for(var a=[],o="",d=!1,h=function(_e){_e!==void 0&&a.push(_e),d=!1},g=0,b=this.value.length;g<b;g++){var j=this.value[g],_=toCharCode(j),$=this.value[g+1];d?_===CharCodes$1.Newline||_===CharCodes$1.CarriageReturn?h():_===CharCodes$1.n?h(CharCodes$1.Newline):_===CharCodes$1.r?h(CharCodes$1.CarriageReturn):_===CharCodes$1.t?h(CharCodes$1.Tab):_===CharCodes$1.b?h(CharCodes$1.Backspace):_===CharCodes$1.f?h(CharCodes$1.FormFeed):_===CharCodes$1.LeftParen?h(CharCodes$1.LeftParen):_===CharCodes$1.RightParen?h(CharCodes$1.RightParen):_===CharCodes$1.Backspace?h(CharCodes$1.BackSlash):_>=CharCodes$1.Zero&&_<=CharCodes$1.Seven?(o+=j,(o.length===3||!($>="0"&&$<="7"))&&(h(parseInt(o,8)),o="")):h(_):_===CharCodes$1.BackSlash?d=!0:h(_)}return new Uint8Array(a)},e.prototype.decodeText=function(){var a=this.asBytes();return hasUtf16BOM(a)?utf16Decode(a):pdfDocEncodingDecode(a)},e.prototype.decodeDate=function(){var a=this.decodeText(),o=parseDate(a);if(!o)throw new InvalidPDFDateStringError(a);return o},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"("+this.value+")"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(a,o){return a[o++]=CharCodes$1.LeftParen,o+=copyStringIntoBuffer(this.value,a,o),a[o++]=CharCodes$1.RightParen,this.value.length+2},e.of=function(a){return new e(a)},e.fromDate=function(a){var o=padStart$1(String(a.getUTCFullYear()),4,"0"),d=padStart$1(String(a.getUTCMonth()+1),2,"0"),h=padStart$1(String(a.getUTCDate()),2,"0"),g=padStart$1(String(a.getUTCHours()),2,"0"),b=padStart$1(String(a.getUTCMinutes()),2,"0"),j=padStart$1(String(a.getUTCSeconds()),2,"0");return new e("D:"+o+d+h+g+b+j+"Z")},e}(PDFObject),CustomFontEmbedder=function(){function s(e,a,o,d){var h=this;this.allGlyphsInFontSortedById=function(){for(var g=new Array(h.font.characterSet.length),b=0,j=g.length;b<j;b++){var _=h.font.characterSet[b];g[b]=h.font.glyphForCodePoint(_)}return sortedUniq(g.sort(byAscendingId),function($){return $.id})},this.font=e,this.scale=1e3/this.font.unitsPerEm,this.fontData=a,this.fontName=this.font.postscriptName||"Font",this.customName=o,this.fontFeatures=d,this.baseFontName="",this.glyphCache=Cache.populatedBy(this.allGlyphsInFontSortedById)}return s.for=function(e,a,o,d){return __awaiter(this,void 0,void 0,function(){var h;return __generator(this,function(g){switch(g.label){case 0:return[4,e.create(a)];case 1:return h=g.sent(),[2,new s(h,a,o,d)]}})})},s.prototype.encodeText=function(e){for(var a=this.font.layout(e,this.fontFeatures).glyphs,o=new Array(a.length),d=0,h=a.length;d<h;d++)o[d]=toHexStringOfMinLength(a[d].id,4);return PDFHexString.of(o.join(""))},s.prototype.widthOfTextAtSize=function(e,a){for(var o=this.font.layout(e,this.fontFeatures).glyphs,d=0,h=0,g=o.length;h<g;h++)d+=o[h].advanceWidth*this.scale;var b=a/1e3;return d*b},s.prototype.heightOfFontAtSize=function(e,a){a===void 0&&(a={});var o=a.descender,d=o===void 0?!0:o,h=this.font,g=h.ascent,b=h.descent,j=h.bbox,_=(g||j.maxY)*this.scale,$=(b||j.minY)*this.scale,_e=_-$;return d||(_e-=Math.abs(b)||0),_e/1e3*e},s.prototype.sizeOfFontAtHeight=function(e){var a=this.font,o=a.ascent,d=a.descent,h=a.bbox,g=(o||h.maxY)*this.scale,b=(d||h.minY)*this.scale;return 1e3*e/(g-b)},s.prototype.embedIntoContext=function(e,a){return this.baseFontName=this.customName||e.addRandomSuffix(this.fontName),this.embedFontDict(e,a)},s.prototype.embedFontDict=function(e,a){return __awaiter(this,void 0,void 0,function(){var o,d,h;return __generator(this,function(g){switch(g.label){case 0:return[4,this.embedCIDFontDict(e)];case 1:return o=g.sent(),d=this.embedUnicodeCmap(e),h=e.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[o],ToUnicode:d}),a?(e.assign(a,h),[2,a]):[2,e.register(h)]}})})},s.prototype.isCFF=function(){return this.font.cff},s.prototype.embedCIDFontDict=function(e){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(d){switch(d.label){case 0:return[4,this.embedFontDescriptor(e)];case 1:return a=d.sent(),o=e.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:PDFString.of("Adobe"),Ordering:PDFString.of("Identity"),Supplement:0},FontDescriptor:a,W:this.computeWidths()}),[2,e.register(o)]}})})},s.prototype.embedFontDescriptor=function(e){return __awaiter(this,void 0,void 0,function(){var a,o,d,h,g,b,j,_,$,_e,et,tt,nt,it,st;return __generator(this,function(rt){switch(rt.label){case 0:return[4,this.embedFontStream(e)];case 1:return a=rt.sent(),o=this.scale,d=this.font,h=d.italicAngle,g=d.ascent,b=d.descent,j=d.capHeight,_=d.xHeight,$=this.font.bbox,_e=$.minX,et=$.minY,tt=$.maxX,nt=$.maxY,it=e.obj((st={Type:"FontDescriptor",FontName:this.baseFontName,Flags:deriveFontFlags(this.font),FontBBox:[_e*o,et*o,tt*o,nt*o],ItalicAngle:h,Ascent:g*o,Descent:b*o,CapHeight:(j||g)*o,XHeight:(_||0)*o,StemV:0},st[this.isCFF()?"FontFile3":"FontFile2"]=a,st)),[2,e.register(it)]}})})},s.prototype.serializeFont=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,this.fontData]})})},s.prototype.embedFontStream=function(e){return __awaiter(this,void 0,void 0,function(){var a,o,d;return __generator(this,function(h){switch(h.label){case 0:return d=(o=e).flateStream,[4,this.serializeFont()];case 1:return a=d.apply(o,[h.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,e.register(a)]}})})},s.prototype.embedUnicodeCmap=function(e){var a=createCmap(this.glyphCache.access(),this.glyphId.bind(this)),o=e.flateStream(a);return e.register(o)},s.prototype.glyphId=function(e){return e?e.id:-1},s.prototype.computeWidths=function(){for(var e=this.glyphCache.access(),a=[],o=[],d=0,h=e.length;d<h;d++){var g=e[d],b=e[d-1],j=this.glyphId(g),_=this.glyphId(b);d===0?a.push(j):j-_!==1&&(a.push(o),a.push(j),o=[]),o.push(g.advanceWidth*this.scale)}return a.push(o),a},s}(),CustomFontSubsetEmbedder=function(s){__extends(e,s);function e(a,o,d,h){var g=s.call(this,a,o,d,h)||this;return g.subset=g.font.createSubset(),g.glyphs=[],g.glyphCache=Cache.populatedBy(function(){return g.glyphs}),g.glyphIdMap=new Map,g}return e.for=function(a,o,d,h){return __awaiter(this,void 0,void 0,function(){var g;return __generator(this,function(b){switch(b.label){case 0:return[4,a.create(o)];case 1:return g=b.sent(),[2,new e(g,o,d,h)]}})})},e.prototype.encodeText=function(a){for(var o=this.font.layout(a,this.fontFeatures).glyphs,d=new Array(o.length),h=0,g=o.length;h<g;h++){var b=o[h],j=this.subset.includeGlyph(b);this.glyphs[j-1]=b,this.glyphIdMap.set(b.id,j),d[h]=toHexStringOfMinLength(j,4)}return this.glyphCache.invalidate(),PDFHexString.of(d.join(""))},e.prototype.isCFF=function(){return this.subset.cff},e.prototype.glyphId=function(a){return a?this.glyphIdMap.get(a.id):-1},e.prototype.serializeFont=function(){var a=this;return new Promise(function(o,d){var h=[];a.subset.encodeStream().on("data",function(g){return h.push(g)}).on("end",function(){return o(mergeUint8Arrays(h))}).on("error",function(g){return d(g)})})},e}(CustomFontEmbedder),AFRelationship;(function(s){s.Source="Source",s.Data="Data",s.Alternative="Alternative",s.Supplement="Supplement",s.EncryptedPayload="EncryptedPayload",s.FormData="EncryptedPayload",s.Schema="Schema",s.Unspecified="Unspecified"})(AFRelationship||(AFRelationship={}));var FileEmbedder=function(){function s(e,a,o){o===void 0&&(o={}),this.fileData=e,this.fileName=a,this.options=o}return s.for=function(e,a,o){return o===void 0&&(o={}),new s(e,a,o)},s.prototype.embedIntoContext=function(e,a){return __awaiter(this,void 0,void 0,function(){var o,d,h,g,b,j,_,$,_e;return __generator(this,function(et){return o=this.options,d=o.mimeType,h=o.description,g=o.creationDate,b=o.modificationDate,j=o.afRelationship,_=e.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:d??void 0,Params:{Size:this.fileData.length,CreationDate:g?PDFString.fromDate(g):void 0,ModDate:b?PDFString.fromDate(b):void 0}}),$=e.register(_),_e=e.obj({Type:"Filespec",F:PDFString.of(this.fileName),UF:PDFHexString.fromText(this.fileName),EF:{F:$},Desc:h?PDFHexString.fromText(h):void 0,AFRelationship:j??void 0}),a?(e.assign(a,_e),[2,a]):[2,e.register(_e)]})})},s}(),MARKERS=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],ColorSpace;(function(s){s.DeviceGray="DeviceGray",s.DeviceRGB="DeviceRGB",s.DeviceCMYK="DeviceCMYK"})(ColorSpace||(ColorSpace={}));var ChannelToColorSpace={1:ColorSpace.DeviceGray,3:ColorSpace.DeviceRGB,4:ColorSpace.DeviceCMYK},JpegEmbedder=function(){function s(e,a,o,d,h){this.imageData=e,this.bitsPerComponent=a,this.width=o,this.height=d,this.colorSpace=h}return s.for=function(e){return __awaiter(this,void 0,void 0,function(){var a,o,d,h,g,b,j,_,$,_e;return __generator(this,function(et){if(a=new DataView(e.buffer),o=a.getUint16(0),o!==65496)throw new Error("SOI not found in JPEG");for(d=2;d<a.byteLength&&(h=a.getUint16(d),d+=2,!MARKERS.includes(h));)d+=a.getUint16(d);if(!MARKERS.includes(h))throw new Error("Invalid JPEG");if(d+=2,g=a.getUint8(d++),b=a.getUint16(d),d+=2,j=a.getUint16(d),d+=2,_=a.getUint8(d++),$=ChannelToColorSpace[_],!$)throw new Error("Unknown JPEG channel.");return _e=$,[2,new s(e,g,j,b,_e)]})})},s.prototype.embedIntoContext=function(e,a){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(d){return o=e.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===ColorSpace.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),a?(e.assign(a,o),[2,a]):[2,e.register(o)]})})},s}(),UPNG={};UPNG.toRGBA8=function(s){var e=s.width,a=s.height;if(s.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(s.data,e,a,s).buffer];var o=[];s.frames[0].data==null&&(s.frames[0].data=s.data);for(var d=e*a*4,h=new Uint8Array(d),g=new Uint8Array(d),b=new Uint8Array(d),j=0;j<s.frames.length;j++){var _=s.frames[j],$=_.rect.x,_e=_.rect.y,et=_.rect.width,tt=_.rect.height,nt=UPNG.toRGBA8.decodeImage(_.data,et,tt,s);if(j!=0)for(var it=0;it<d;it++)b[it]=h[it];if(_.blend==0?UPNG._copyTile(nt,et,tt,h,e,a,$,_e,0):_.blend==1&&UPNG._copyTile(nt,et,tt,h,e,a,$,_e,1),o.push(h.buffer.slice(0)),_.dispose!=0){if(_.dispose==1)UPNG._copyTile(g,et,tt,h,e,a,$,_e,0);else if(_.dispose==2)for(var it=0;it<d;it++)h[it]=b[it]}}return o};UPNG.toRGBA8.decodeImage=function(s,e,a,o){var d=e*a,h=UPNG.decode._getBPP(o),g=Math.ceil(e*h/8),b=new Uint8Array(d*4),j=new Uint32Array(b.buffer),_=o.ctype,$=o.depth,_e=UPNG._bin.readUshort;if(_==6){var et=d<<2;if($==8)for(var tt=0;tt<et;tt+=4)b[tt]=s[tt],b[tt+1]=s[tt+1],b[tt+2]=s[tt+2],b[tt+3]=s[tt+3];if($==16)for(var tt=0;tt<et;tt++)b[tt]=s[tt<<1]}else if(_==2){var nt=o.tabs.tRNS;if(nt==null){if($==8)for(var tt=0;tt<d;tt++){var it=tt*3;j[tt]=255<<24|s[it+2]<<16|s[it+1]<<8|s[it]}if($==16)for(var tt=0;tt<d;tt++){var it=tt*6;j[tt]=255<<24|s[it+4]<<16|s[it+2]<<8|s[it]}}else{var st=nt[0],rt=nt[1],at=nt[2];if($==8)for(var tt=0;tt<d;tt++){var ht=tt<<2,it=tt*3;j[tt]=255<<24|s[it+2]<<16|s[it+1]<<8|s[it],s[it]==st&&s[it+1]==rt&&s[it+2]==at&&(b[ht+3]=0)}if($==16)for(var tt=0;tt<d;tt++){var ht=tt<<2,it=tt*6;j[tt]=255<<24|s[it+4]<<16|s[it+2]<<8|s[it],_e(s,it)==st&&_e(s,it+2)==rt&&_e(s,it+4)==at&&(b[ht+3]=0)}}}else if(_==3){var ft=o.tabs.PLTE,ot=o.tabs.tRNS,ut=ot?ot.length:0;if($==1)for(var ct=0;ct<a;ct++)for(var dt=ct*g,vt=ct*e,tt=0;tt<e;tt++){var ht=vt+tt<<2,Et=s[dt+(tt>>3)]>>7-((tt&7)<<0)&1,pt=3*Et;b[ht]=ft[pt],b[ht+1]=ft[pt+1],b[ht+2]=ft[pt+2],b[ht+3]=Et<ut?ot[Et]:255}if($==2)for(var ct=0;ct<a;ct++)for(var dt=ct*g,vt=ct*e,tt=0;tt<e;tt++){var ht=vt+tt<<2,Et=s[dt+(tt>>2)]>>6-((tt&3)<<1)&3,pt=3*Et;b[ht]=ft[pt],b[ht+1]=ft[pt+1],b[ht+2]=ft[pt+2],b[ht+3]=Et<ut?ot[Et]:255}if($==4)for(var ct=0;ct<a;ct++)for(var dt=ct*g,vt=ct*e,tt=0;tt<e;tt++){var ht=vt+tt<<2,Et=s[dt+(tt>>1)]>>4-((tt&1)<<2)&15,pt=3*Et;b[ht]=ft[pt],b[ht+1]=ft[pt+1],b[ht+2]=ft[pt+2],b[ht+3]=Et<ut?ot[Et]:255}if($==8)for(var tt=0;tt<d;tt++){var ht=tt<<2,Et=s[tt],pt=3*Et;b[ht]=ft[pt],b[ht+1]=ft[pt+1],b[ht+2]=ft[pt+2],b[ht+3]=Et<ut?ot[Et]:255}}else if(_==4){if($==8)for(var tt=0;tt<d;tt++){var ht=tt<<2,bt=tt<<1,Ct=s[bt];b[ht]=Ct,b[ht+1]=Ct,b[ht+2]=Ct,b[ht+3]=s[bt+1]}if($==16)for(var tt=0;tt<d;tt++){var ht=tt<<2,bt=tt<<2,Ct=s[bt];b[ht]=Ct,b[ht+1]=Ct,b[ht+2]=Ct,b[ht+3]=s[bt+2]}}else if(_==0)for(var st=o.tabs.tRNS?o.tabs.tRNS:-1,ct=0;ct<a;ct++){var Bt=ct*g,jt=ct*e;if($==1)for(var Ft=0;Ft<e;Ft++){var Ct=255*(s[Bt+(Ft>>>3)]>>>7-(Ft&7)&1),wt=Ct==st*255?0:255;j[jt+Ft]=wt<<24|Ct<<16|Ct<<8|Ct}else if($==2)for(var Ft=0;Ft<e;Ft++){var Ct=85*(s[Bt+(Ft>>>2)]>>>6-((Ft&3)<<1)&3),wt=Ct==st*85?0:255;j[jt+Ft]=wt<<24|Ct<<16|Ct<<8|Ct}else if($==4)for(var Ft=0;Ft<e;Ft++){var Ct=17*(s[Bt+(Ft>>>1)]>>>4-((Ft&1)<<2)&15),wt=Ct==st*17?0:255;j[jt+Ft]=wt<<24|Ct<<16|Ct<<8|Ct}else if($==8)for(var Ft=0;Ft<e;Ft++){var Ct=s[Bt+Ft],wt=Ct==st?0:255;j[jt+Ft]=wt<<24|Ct<<16|Ct<<8|Ct}else if($==16)for(var Ft=0;Ft<e;Ft++){var Ct=s[Bt+(Ft<<1)],wt=_e(s,Bt+(Ft<<tt))==st?0:255;j[jt+Ft]=wt<<24|Ct<<16|Ct<<8|Ct}}return b};UPNG.decode=function(s){for(var e=new Uint8Array(s),a=8,o=UPNG._bin,d=o.readUshort,h=o.readUint,g={tabs:{},frames:[]},b=new Uint8Array(e.length),j=0,_,$=0,_e=[137,80,78,71,13,10,26,10],et=0;et<8;et++)if(e[et]!=_e[et])throw"The input is not a PNG file!";for(;a<e.length;){var tt=o.readUint(e,a);a+=4;var nt=o.readASCII(e,a,4);if(a+=4,nt=="IHDR")UPNG.decode._IHDR(e,a,g);else if(nt=="IDAT"){for(var et=0;et<tt;et++)b[j+et]=e[a+et];j+=tt}else if(nt=="acTL")g.tabs[nt]={num_frames:h(e,a),num_plays:h(e,a+4)},_=new Uint8Array(e.length);else if(nt=="fcTL"){if($!=0){var it=g.frames[g.frames.length-1];it.data=UPNG.decode._decompress(g,_.slice(0,$),it.rect.width,it.rect.height),$=0}var st={x:h(e,a+12),y:h(e,a+16),width:h(e,a+4),height:h(e,a+8)},rt=d(e,a+22);rt=d(e,a+20)/(rt==0?100:rt);var at={rect:st,delay:Math.round(rt*1e3),dispose:e[a+24],blend:e[a+25]};g.frames.push(at)}else if(nt=="fdAT"){for(var et=0;et<tt-4;et++)_[$+et]=e[a+et+4];$+=tt-4}else if(nt=="pHYs")g.tabs[nt]=[o.readUint(e,a),o.readUint(e,a+4),e[a+8]];else if(nt=="cHRM"){g.tabs[nt]=[];for(var et=0;et<8;et++)g.tabs[nt].push(o.readUint(e,a+et*4))}else if(nt=="tEXt"){g.tabs[nt]==null&&(g.tabs[nt]={});var ht=o.nextZero(e,a),ft=o.readASCII(e,a,ht-a),ot=o.readASCII(e,ht+1,a+tt-ht-1);g.tabs[nt][ft]=ot}else if(nt=="iTXt"){g.tabs[nt]==null&&(g.tabs[nt]={});var ht=0,ut=a;ht=o.nextZero(e,ut);var ft=o.readASCII(e,ut,ht-ut);ut=ht+1,e[ut],e[ut+1],ut+=2,ht=o.nextZero(e,ut),o.readASCII(e,ut,ht-ut),ut=ht+1,ht=o.nextZero(e,ut),o.readUTF8(e,ut,ht-ut),ut=ht+1;var ot=o.readUTF8(e,ut,tt-(ut-a));g.tabs[nt][ft]=ot}else if(nt=="PLTE")g.tabs[nt]=o.readBytes(e,a,tt);else if(nt=="hIST"){var ct=g.tabs.PLTE.length/3;g.tabs[nt]=[];for(var et=0;et<ct;et++)g.tabs[nt].push(d(e,a+et*2))}else if(nt=="tRNS")g.ctype==3?g.tabs[nt]=o.readBytes(e,a,tt):g.ctype==0?g.tabs[nt]=d(e,a):g.ctype==2&&(g.tabs[nt]=[d(e,a),d(e,a+2),d(e,a+4)]);else if(nt=="gAMA")g.tabs[nt]=o.readUint(e,a)/1e5;else if(nt=="sRGB")g.tabs[nt]=e[a];else if(nt=="bKGD")g.ctype==0||g.ctype==4?g.tabs[nt]=[d(e,a)]:g.ctype==2||g.ctype==6?g.tabs[nt]=[d(e,a),d(e,a+2),d(e,a+4)]:g.ctype==3&&(g.tabs[nt]=e[a]);else if(nt=="IEND")break;a+=tt,o.readUint(e,a),a+=4}if($!=0){var it=g.frames[g.frames.length-1];it.data=UPNG.decode._decompress(g,_.slice(0,$),it.rect.width,it.rect.height),$=0}return g.data=UPNG.decode._decompress(g,b,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g};UPNG.decode._decompress=function(s,e,a,o){var d=UPNG.decode._getBPP(s),h=Math.ceil(a*d/8),g=new Uint8Array((h+1+s.interlace)*o);return e=UPNG.decode._inflate(e,g),s.interlace==0?e=UPNG.decode._filterZero(e,s,0,a,o):s.interlace==1&&(e=UPNG.decode._readInterlace(e,s)),e};UPNG.decode._inflate=function(s,e){var a=UPNG.inflateRaw(new Uint8Array(s.buffer,2,s.length-6),e);return a};UPNG.inflateRaw=function(){var s={};return s.H={},s.H.N=function(e,a){var o=Uint8Array,d=0,h=0,g=0,b=0,j=0,_=0,$=0,_e=0,et=0,tt,nt;if(e[0]==3&&e[1]==0)return a||new o(0);var it=s.H,st=it.b,rt=it.e,at=it.R,ht=it.n,ft=it.A,ot=it.Z,ut=it.m,ct=a==null;for(ct&&(a=new o(e.length>>>2<<3));d==0;){if(d=st(e,et,1),h=st(e,et+1,2),et+=3,h==0){et&7&&(et+=8-(et&7));var dt=(et>>>3)+4,vt=e[dt-4]|e[dt-3]<<8;ct&&(a=s.H.W(a,_e+vt)),a.set(new o(e.buffer,e.byteOffset+dt,vt),_e),et=dt+vt<<3,_e+=vt;continue}if(ct&&(a=s.H.W(a,_e+(1<<17))),h==1&&(tt=ut.J,nt=ut.h,_=511,$=31),h==2){g=rt(e,et,5)+257,b=rt(e,et+5,5)+1,j=rt(e,et+10,4)+4,et+=14;for(var Et=1,pt=0;pt<38;pt+=2)ut.Q[pt]=0,ut.Q[pt+1]=0;for(var pt=0;pt<j;pt++){var bt=rt(e,et+pt*3,3);ut.Q[(ut.X[pt]<<1)+1]=bt,bt>Et&&(Et=bt)}et+=3*j,ht(ut.Q,Et),ft(ut.Q,Et,ut.u),tt=ut.w,nt=ut.d,et=at(ut.u,(1<<Et)-1,g+b,e,et,ut.v);var Ct=it.V(ut.v,0,g,ut.C);_=(1<<Ct)-1;var Bt=it.V(ut.v,g,b,ut.D);$=(1<<Bt)-1,ht(ut.C,Ct),ft(ut.C,Ct,tt),ht(ut.D,Bt),ft(ut.D,Bt,nt)}for(;;){var jt=tt[ot(e,et)&_];et+=jt&15;var Ft=jt>>>4;if(!(Ft>>>8))a[_e++]=Ft;else{if(Ft==256)break;var wt=_e+Ft-254;if(Ft>264){var It=ut.q[Ft-257];wt=_e+(It>>>3)+rt(e,et,It&7),et+=It&7}var yt=nt[ot(e,et)&$];et+=yt&15;var Dt=yt>>>4,Mt=ut.c[Dt],St=(Mt>>>4)+st(e,et,Mt&15);for(et+=Mt&15;_e<wt;)a[_e]=a[_e++-St],a[_e]=a[_e++-St],a[_e]=a[_e++-St],a[_e]=a[_e++-St];_e=wt}}}return a.length==_e?a:a.slice(0,_e)},s.H.W=function(e,a){var o=e.length;if(a<=o)return e;var d=new Uint8Array(o<<1);return d.set(e,0),d},s.H.R=function(e,a,o,d,h,g){for(var b=s.H.e,j=s.H.Z,_=0;_<o;){var $=e[j(d,h)&a];h+=$&15;var _e=$>>>4;if(_e<=15)g[_]=_e,_++;else{var et=0,tt=0;_e==16?(tt=3+b(d,h,2),h+=2,et=g[_-1]):_e==17?(tt=3+b(d,h,3),h+=3):_e==18&&(tt=11+b(d,h,7),h+=7);for(var nt=_+tt;_<nt;)g[_]=et,_++}}return h},s.H.V=function(e,a,o,d){for(var h=0,g=0,b=d.length>>>1;g<o;){var j=e[g+a];d[g<<1]=0,d[(g<<1)+1]=j,j>h&&(h=j),g++}for(;g<b;)d[g<<1]=0,d[(g<<1)+1]=0,g++;return h},s.H.n=function(e,a){for(var o=s.H.m,d=e.length,h,g,b,j,_,$=o.j,j=0;j<=a;j++)$[j]=0;for(j=1;j<d;j+=2)$[e[j]]++;var _e=o.K;for(h=0,$[0]=0,g=1;g<=a;g++)h=h+$[g-1]<<1,_e[g]=h;for(b=0;b<d;b+=2)_=e[b+1],_!=0&&(e[b]=_e[_],_e[_]++)},s.H.A=function(e,a,o){for(var d=e.length,h=s.H.m,g=h.r,b=0;b<d;b+=2)if(e[b+1]!=0)for(var j=b>>1,_=e[b+1],$=j<<4|_,_e=a-_,et=e[b]<<_e,tt=et+(1<<_e);et!=tt;){var nt=g[et]>>>15-a;o[nt]=$,et++}},s.H.l=function(e,a){for(var o=s.H.m.r,d=15-a,h=0;h<e.length;h+=2){var g=e[h]<<a-e[h+1];e[h]=o[g]>>>d}},s.H.M=function(e,a,o){o=o<<(a&7);var d=a>>>3;e[d]|=o,e[d+1]|=o>>>8},s.H.I=function(e,a,o){o=o<<(a&7);var d=a>>>3;e[d]|=o,e[d+1]|=o>>>8,e[d+2]|=o>>>16},s.H.e=function(e,a,o){return(e[a>>>3]|e[(a>>>3)+1]<<8)>>>(a&7)&(1<<o)-1},s.H.b=function(e,a,o){return(e[a>>>3]|e[(a>>>3)+1]<<8|e[(a>>>3)+2]<<16)>>>(a&7)&(1<<o)-1},s.H.Z=function(e,a){return(e[a>>>3]|e[(a>>>3)+1]<<8|e[(a>>>3)+2]<<16)>>>(a&7)},s.H.i=function(e,a){return(e[a>>>3]|e[(a>>>3)+1]<<8|e[(a>>>3)+2]<<16|e[(a>>>3)+3]<<24)>>>(a&7)},s.H.m=function(){var e=Uint16Array,a=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new a(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new a(286),Y:new a(30),a:new a(19),t:new a(15e3),k:new e(65536),g:new e(32768)}}(),function(){for(var e=s.H.m,a=32768,o=0;o<a;o++){var d=o;d=(d&2863311530)>>>1|(d&1431655765)<<1,d=(d&3435973836)>>>2|(d&858993459)<<2,d=(d&4042322160)>>>4|(d&252645135)<<4,d=(d&4278255360)>>>8|(d&16711935)<<8,e.r[o]=(d>>>16|d<<16)>>>17}function h(g,b,j){for(;b--!=0;)g.push(0,j)}for(var o=0;o<32;o++)e.q[o]=e.S[o]<<3|e.T[o],e.c[o]=e.p[o]<<4|e.z[o];h(e._,144,8),h(e._,112,9),h(e._,24,7),h(e._,8,8),s.H.n(e._,9),s.H.A(e._,9,e.J),s.H.l(e._,9),h(e.$,32,5),s.H.n(e.$,5),s.H.A(e.$,5,e.h),s.H.l(e.$,5),h(e.Q,19,0),h(e.C,286,0),h(e.D,30,0),h(e.v,320,0)}(),s.H.N}();UPNG.decode._readInterlace=function(s,e){for(var a=e.width,o=e.height,d=UPNG.decode._getBPP(e),h=d>>3,g=Math.ceil(a*d/8),b=new Uint8Array(o*g),j=0,_=[0,0,4,0,2,0,1],$=[0,4,0,2,0,1,0],_e=[8,8,8,4,4,2,2],et=[8,8,4,4,2,2,1],tt=0;tt<7;){for(var nt=_e[tt],it=et[tt],st=0,rt=0,at=_[tt];at<o;)at+=nt,rt++;for(var ht=$[tt];ht<a;)ht+=it,st++;var ft=Math.ceil(st*d/8);UPNG.decode._filterZero(s,e,j,st,rt);for(var ot=0,ut=_[tt];ut<o;){for(var ct=$[tt],dt=j+ot*ft<<3;ct<a;){if(d==1){var vt=s[dt>>3];vt=vt>>7-(dt&7)&1,b[ut*g+(ct>>3)]|=vt<<7-((ct&7)<<0)}if(d==2){var vt=s[dt>>3];vt=vt>>6-(dt&7)&3,b[ut*g+(ct>>2)]|=vt<<6-((ct&3)<<1)}if(d==4){var vt=s[dt>>3];vt=vt>>4-(dt&7)&15,b[ut*g+(ct>>1)]|=vt<<4-((ct&1)<<2)}if(d>=8)for(var Et=ut*g+ct*h,pt=0;pt<h;pt++)b[Et+pt]=s[(dt>>3)+pt];dt+=d,ct+=it}ot++,ut+=nt}st*rt!=0&&(j+=rt*(1+ft)),tt=tt+1}return b};UPNG.decode._getBPP=function(s){var e=[1,null,3,1,2,null,4][s.ctype];return e*s.depth};UPNG.decode._filterZero=function(s,e,a,o,d){var h=UPNG.decode._getBPP(e),g=Math.ceil(o*h/8),b=UPNG.decode._paeth;h=Math.ceil(h/8);var j=0,_=1,$=s[a],_e=0;if($>1&&(s[a]=[0,0,1][$-2]),$==3)for(_e=h;_e<g;_e++)s[_e+1]=s[_e+1]+(s[_e+1-h]>>>1)&255;for(var et=0;et<d;et++)if(j=a+et*g,_=j+et+1,$=s[_-1],_e=0,$==0)for(;_e<g;_e++)s[j+_e]=s[_+_e];else if($==1){for(;_e<h;_e++)s[j+_e]=s[_+_e];for(;_e<g;_e++)s[j+_e]=s[_+_e]+s[j+_e-h]}else if($==2)for(;_e<g;_e++)s[j+_e]=s[_+_e]+s[j+_e-g];else if($==3){for(;_e<h;_e++)s[j+_e]=s[_+_e]+(s[j+_e-g]>>>1);for(;_e<g;_e++)s[j+_e]=s[_+_e]+(s[j+_e-g]+s[j+_e-h]>>>1)}else{for(;_e<h;_e++)s[j+_e]=s[_+_e]+b(0,s[j+_e-g],0);for(;_e<g;_e++)s[j+_e]=s[_+_e]+b(s[j+_e-h],s[j+_e-g],s[j+_e-h-g])}return s};UPNG.decode._paeth=function(s,e,a){var o=s+e-a,d=o-s,h=o-e,g=o-a;return d*d<=h*h&&d*d<=g*g?s:h*h<=g*g?e:a};UPNG.decode._IHDR=function(s,e,a){var o=UPNG._bin;a.width=o.readUint(s,e),e+=4,a.height=o.readUint(s,e),e+=4,a.depth=s[e],e++,a.ctype=s[e],e++,a.compress=s[e],e++,a.filter=s[e],e++,a.interlace=s[e],e++};UPNG._bin={nextZero:function(s,e){for(;s[e]!=0;)e++;return e},readUshort:function(s,e){return s[e]<<8|s[e+1]},writeUshort:function(s,e,a){s[e]=a>>8&255,s[e+1]=a&255},readUint:function(s,e){return s[e]*(256*256*256)+(s[e+1]<<16|s[e+2]<<8|s[e+3])},writeUint:function(s,e,a){s[e]=a>>24&255,s[e+1]=a>>16&255,s[e+2]=a>>8&255,s[e+3]=a&255},readASCII:function(s,e,a){for(var o="",d=0;d<a;d++)o+=String.fromCharCode(s[e+d]);return o},writeASCII:function(s,e,a){for(var o=0;o<a.length;o++)s[e+o]=a.charCodeAt(o)},readBytes:function(s,e,a){for(var o=[],d=0;d<a;d++)o.push(s[e+d]);return o},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,e,a){for(var o="",d,h=0;h<a;h++)o+="%"+UPNG._bin.pad(s[e+h].toString(16));try{d=decodeURIComponent(o)}catch{return UPNG._bin.readASCII(s,e,a)}return d}};UPNG._copyTile=function(s,e,a,o,d,h,g,b,j){for(var _=Math.min(e,d),$=Math.min(a,h),_e=0,et=0,tt=0;tt<$;tt++)for(var nt=0;nt<_;nt++)if(g>=0&&b>=0?(_e=tt*e+nt<<2,et=(b+tt)*d+g+nt<<2):(_e=(-b+tt)*e-g+nt<<2,et=tt*d+nt<<2),j==0)o[et]=s[_e],o[et+1]=s[_e+1],o[et+2]=s[_e+2],o[et+3]=s[_e+3];else if(j==1){var it=s[_e+3]*.00392156862745098,st=s[_e]*it,rt=s[_e+1]*it,at=s[_e+2]*it,ht=o[et+3]*(1/255),ft=o[et]*ht,ot=o[et+1]*ht,ut=o[et+2]*ht,ct=1-it,dt=it+ht*ct,vt=dt==0?0:1/dt;o[et+3]=255*dt,o[et+0]=(st+ft*ct)*vt,o[et+1]=(rt+ot*ct)*vt,o[et+2]=(at+ut*ct)*vt}else if(j==2){var it=s[_e+3],st=s[_e],rt=s[_e+1],at=s[_e+2],ht=o[et+3],ft=o[et],ot=o[et+1],ut=o[et+2];it==ht&&st==ft&&rt==ot&&at==ut?(o[et]=0,o[et+1]=0,o[et+2]=0,o[et+3]=0):(o[et]=st,o[et+1]=rt,o[et+2]=at,o[et+3]=it)}else if(j==3){var it=s[_e+3],st=s[_e],rt=s[_e+1],at=s[_e+2],ht=o[et+3],ft=o[et],ot=o[et+1],ut=o[et+2];if(it==ht&&st==ft&&rt==ot&&at==ut)continue;if(it<220&&ht>20)return!1}return!0};UPNG.encode=function(s,e,a,o,d,h,g){o==null&&(o=0),g==null&&(g=!1);var b=UPNG.encode.compress(s,e,a,o,[!1,!1,!1,0,g]);return UPNG.encode.compressPNG(b,-1),UPNG.encode._main(b,e,a,d,h)};UPNG.encodeLL=function(s,e,a,o,d,h,g,b){for(var j={ctype:0+(o==1?0:2)+(d==0?0:4),depth:h,frames:[]},_=(o+d)*h,$=_*e,_e=0;_e<s.length;_e++)j.frames.push({rect:{x:0,y:0,width:e,height:a},img:new Uint8Array(s[_e]),blend:0,dispose:1,bpp:Math.ceil(_/8),bpl:Math.ceil($/8)});UPNG.encode.compressPNG(j,0,!0);var et=UPNG.encode._main(j,e,a,g,b);return et};UPNG.encode._main=function(s,e,a,o,d){d==null&&(d={});var h=UPNG.crc.crc,g=UPNG._bin.writeUint,b=UPNG._bin.writeUshort,j=UPNG._bin.writeASCII,_=8,$=s.frames.length>1,_e=!1,et=33+($?20:0);if(d.sRGB!=null&&(et+=13),d.pHYs!=null&&(et+=21),s.ctype==3){for(var tt=s.plte.length,nt=0;nt<tt;nt++)s.plte[nt]>>>24!=255&&(_e=!0);et+=8+tt*3+4+(_e?8+tt*1+4:0)}for(var it=0;it<s.frames.length;it++){var st=s.frames[it];$&&(et+=38),et+=st.cimg.length+12,it!=0&&(et+=4)}et+=12;for(var rt=new Uint8Array(et),at=[137,80,78,71,13,10,26,10],nt=0;nt<8;nt++)rt[nt]=at[nt];if(g(rt,_,13),_+=4,j(rt,_,"IHDR"),_+=4,g(rt,_,e),_+=4,g(rt,_,a),_+=4,rt[_]=s.depth,_++,rt[_]=s.ctype,_++,rt[_]=0,_++,rt[_]=0,_++,rt[_]=0,_++,g(rt,_,h(rt,_-17,17)),_+=4,d.sRGB!=null&&(g(rt,_,1),_+=4,j(rt,_,"sRGB"),_+=4,rt[_]=d.sRGB,_++,g(rt,_,h(rt,_-5,5)),_+=4),d.pHYs!=null&&(g(rt,_,9),_+=4,j(rt,_,"pHYs"),_+=4,g(rt,_,d.pHYs[0]),_+=4,g(rt,_,d.pHYs[1]),_+=4,rt[_]=d.pHYs[2],_++,g(rt,_,h(rt,_-13,13)),_+=4),$&&(g(rt,_,8),_+=4,j(rt,_,"acTL"),_+=4,g(rt,_,s.frames.length),_+=4,g(rt,_,d.loop!=null?d.loop:0),_+=4,g(rt,_,h(rt,_-12,12)),_+=4),s.ctype==3){var tt=s.plte.length;g(rt,_,tt*3),_+=4,j(rt,_,"PLTE"),_+=4;for(var nt=0;nt<tt;nt++){var ht=nt*3,ft=s.plte[nt],ot=ft&255,ut=ft>>>8&255,ct=ft>>>16&255;rt[_+ht+0]=ot,rt[_+ht+1]=ut,rt[_+ht+2]=ct}if(_+=tt*3,g(rt,_,h(rt,_-tt*3-4,tt*3+4)),_+=4,_e){g(rt,_,tt),_+=4,j(rt,_,"tRNS"),_+=4;for(var nt=0;nt<tt;nt++)rt[_+nt]=s.plte[nt]>>>24&255;_+=tt,g(rt,_,h(rt,_-tt-4,tt+4)),_+=4}}for(var dt=0,it=0;it<s.frames.length;it++){var st=s.frames[it];$&&(g(rt,_,26),_+=4,j(rt,_,"fcTL"),_+=4,g(rt,_,dt++),_+=4,g(rt,_,st.rect.width),_+=4,g(rt,_,st.rect.height),_+=4,g(rt,_,st.rect.x),_+=4,g(rt,_,st.rect.y),_+=4,b(rt,_,o[it]),_+=2,b(rt,_,1e3),_+=2,rt[_]=st.dispose,_++,rt[_]=st.blend,_++,g(rt,_,h(rt,_-30,30)),_+=4);var vt=st.cimg,tt=vt.length;g(rt,_,tt+(it==0?0:4)),_+=4;var Et=_;j(rt,_,it==0?"IDAT":"fdAT"),_+=4,it!=0&&(g(rt,_,dt++),_+=4),rt.set(vt,_),_+=tt,g(rt,_,h(rt,Et,_-Et)),_+=4}return g(rt,_,0),_+=4,j(rt,_,"IEND"),_+=4,g(rt,_,h(rt,_-4,4)),_+=4,rt.buffer};UPNG.encode.compressPNG=function(s,e,a){for(var o=0;o<s.frames.length;o++){var d=s.frames[o];d.rect.width;var h=d.rect.height,g=new Uint8Array(h*d.bpl+h);d.cimg=UPNG.encode._filterZero(d.img,h,d.bpp,d.bpl,g,e,a)}};UPNG.encode.compress=function(s,e,a,o,d){for(var h=d[0],g=d[1],b=d[2],j=d[3],_=d[4],$=6,_e=8,et=255,tt=0;tt<s.length;tt++)for(var nt=new Uint8Array(s[tt]),it=nt.length,st=0;st<it;st+=4)et&=nt[st+3];var rt=et!=255,at=UPNG.encode.framize(s,e,a,h,g,b),ht={},ft=[],ot=[];if(o!=0){for(var ut=[],st=0;st<at.length;st++)ut.push(at[st].img.buffer);for(var ct=UPNG.encode.concatRGBA(ut),dt=UPNG.quantize(ct,o),vt=0,Et=new Uint8Array(dt.abuf),st=0;st<at.length;st++){var pt=at[st].img,bt=pt.length;ot.push(new Uint8Array(dt.inds.buffer,vt>>2,bt>>2));for(var tt=0;tt<bt;tt+=4)pt[tt]=Et[vt+tt],pt[tt+1]=Et[vt+tt+1],pt[tt+2]=Et[vt+tt+2],pt[tt+3]=Et[vt+tt+3];vt+=bt}for(var st=0;st<dt.plte.length;st++)ft.push(dt.plte[st].est.rgba)}else for(var tt=0;tt<at.length;tt++){var Ct=at[tt],Bt=new Uint32Array(Ct.img.buffer),jt=Ct.rect.width,it=Bt.length,Ft=new Uint8Array(it);ot.push(Ft);for(var st=0;st<it;st++){var wt=Bt[st];if(st!=0&&wt==Bt[st-1])Ft[st]=Ft[st-1];else if(st>jt&&wt==Bt[st-jt])Ft[st]=Ft[st-jt];else{var It=ht[wt];if(It==null&&(ht[wt]=It=ft.length,ft.push(wt),ft.length>=300))break;Ft[st]=It}}}var yt=ft.length;yt<=256&&_==!1&&(yt<=2?_e=1:yt<=4?_e=2:yt<=16?_e=4:_e=8,_e=Math.max(_e,j));for(var tt=0;tt<at.length;tt++){var Ct=at[tt];Ct.rect.x,Ct.rect.y;var jt=Ct.rect.width,Dt=Ct.rect.height,Mt=Ct.img;new Uint32Array(Mt.buffer);var St=4*jt,gt=4;if(yt<=256&&_==!1){St=Math.ceil(_e*jt/8);for(var mt=new Uint8Array(St*Dt),xt=ot[tt],_t=0;_t<Dt;_t++){var st=_t*St,At=_t*jt;if(_e==8)for(var Tt=0;Tt<jt;Tt++)mt[st+Tt]=xt[At+Tt];else if(_e==4)for(var Tt=0;Tt<jt;Tt++)mt[st+(Tt>>1)]|=xt[At+Tt]<<4-(Tt&1)*4;else if(_e==2)for(var Tt=0;Tt<jt;Tt++)mt[st+(Tt>>2)]|=xt[At+Tt]<<6-(Tt&3)*2;else if(_e==1)for(var Tt=0;Tt<jt;Tt++)mt[st+(Tt>>3)]|=xt[At+Tt]<<7-(Tt&7)*1}Mt=mt,$=3,gt=1}else if(rt==!1&&at.length==1){for(var mt=new Uint8Array(jt*Dt*3),Lt=jt*Dt,st=0;st<Lt;st++){var pt=st*3,Ut=st*4;mt[pt]=Mt[Ut],mt[pt+1]=Mt[Ut+1],mt[pt+2]=Mt[Ut+2]}Mt=mt,$=2,gt=3,St=3*jt}Ct.img=Mt,Ct.bpl=St,Ct.bpp=gt}return{ctype:$,depth:_e,plte:ft,frames:at}};UPNG.encode.framize=function(s,e,a,o,d,h){for(var g=[],b=0;b<s.length;b++){var j=new Uint8Array(s[b]),_=new Uint32Array(j.buffer),$,_e=0,et=0,tt=e,nt=a,it=o?1:0;if(b!=0){for(var st=h||o||b==1||g[b-2].dispose!=0?1:2,rt=0,at=1e9,ht=0;ht<st;ht++){for(var Ct=new Uint8Array(s[b-1-ht]),ft=new Uint32Array(s[b-1-ht]),ot=e,ut=a,ct=-1,dt=-1,vt=0;vt<a;vt++)for(var Et=0;Et<e;Et++){var pt=vt*e+Et;_[pt]!=ft[pt]&&(Et<ot&&(ot=Et),Et>ct&&(ct=Et),vt<ut&&(ut=vt),vt>dt&&(dt=vt))}ct==-1&&(ot=ut=ct=dt=0),d&&((ot&1)==1&&ot--,(ut&1)==1&&ut--);var bt=(ct-ot+1)*(dt-ut+1);bt<at&&(at=bt,rt=ht,_e=ot,et=ut,tt=ct-ot+1,nt=dt-ut+1)}var Ct=new Uint8Array(s[b-1-rt]);rt==1&&(g[b-1].dispose=2),$=new Uint8Array(tt*nt*4),UPNG._copyTile(Ct,e,a,$,tt,nt,-_e,-et,0),it=UPNG._copyTile(j,e,a,$,tt,nt,-_e,-et,3)?1:0,it==1?UPNG.encode._prepareDiff(j,e,a,$,{x:_e,y:et,width:tt,height:nt}):UPNG._copyTile(j,e,a,$,tt,nt,-_e,-et,0)}else $=j.slice(0);g.push({rect:{x:_e,y:et,width:tt,height:nt},img:$,blend:it,dispose:0})}if(o)for(var b=0;b<g.length;b++){var Bt=g[b];if(Bt.blend!=1){var jt=Bt.rect,Ft=g[b-1].rect,wt=Math.min(jt.x,Ft.x),It=Math.min(jt.y,Ft.y),yt=Math.max(jt.x+jt.width,Ft.x+Ft.width),Dt=Math.max(jt.y+jt.height,Ft.y+Ft.height),Mt={x:wt,y:It,width:yt-wt,height:Dt-It};g[b-1].dispose=1,b-1!=0&&UPNG.encode._updateFrame(s,e,a,g,b-1,Mt,d),UPNG.encode._updateFrame(s,e,a,g,b,Mt,d)}}var St=0;if(s.length!=1)for(var pt=0;pt<g.length;pt++){var Bt=g[pt];St+=Bt.rect.width*Bt.rect.height}return g};UPNG.encode._updateFrame=function(s,e,a,o,d,h,g){for(var b=Uint8Array,j=Uint32Array,_=new b(s[d-1]),$=new j(s[d-1]),_e=d+1<s.length?new b(s[d+1]):null,et=new b(s[d]),tt=new j(et.buffer),nt=e,it=a,st=-1,rt=-1,at=0;at<h.height;at++)for(var ht=0;ht<h.width;ht++){var ft=h.x+ht,ot=h.y+at,ut=ot*e+ft,ct=tt[ut];ct==0||o[d-1].dispose==0&&$[ut]==ct&&(_e==null||_e[ut*4+3]!=0)||(ft<nt&&(nt=ft),ft>st&&(st=ft),ot<it&&(it=ot),ot>rt&&(rt=ot))}st==-1&&(nt=it=st=rt=0),g&&((nt&1)==1&&nt--,(it&1)==1&&it--),h={x:nt,y:it,width:st-nt+1,height:rt-it+1};var dt=o[d];dt.rect=h,dt.blend=1,dt.img=new Uint8Array(h.width*h.height*4),o[d-1].dispose==0?(UPNG._copyTile(_,e,a,dt.img,h.width,h.height,-h.x,-h.y,0),UPNG.encode._prepareDiff(et,e,a,dt.img,h)):UPNG._copyTile(et,e,a,dt.img,h.width,h.height,-h.x,-h.y,0)};UPNG.encode._prepareDiff=function(s,e,a,o,d){UPNG._copyTile(s,e,a,o,d.width,d.height,-d.x,-d.y,2)};UPNG.encode._filterZero=function(s,e,a,o,d,h,g){var b=[],j=[0,1,2,3,4];h!=-1?j=[h]:(e*o>5e5||a==1)&&(j=[0]);var _;g&&(_={level:0});for(var $=g&&UZIP!=null?UZIP:pako$1,_e=0;_e<j.length;_e++){for(var et=0;et<e;et++)UPNG.encode._filterLine(d,s,et,o,a,j[_e]);b.push($.deflate(d,_))}for(var tt,nt=1e9,_e=0;_e<b.length;_e++)b[_e].length<nt&&(tt=_e,nt=b[_e].length);return b[tt]};UPNG.encode._filterLine=function(s,e,a,o,d,h){var g=a*o,b=g+a,j=UPNG.decode._paeth;if(s[b]=h,b++,h==0)if(o<500)for(var _=0;_<o;_++)s[b+_]=e[g+_];else s.set(new Uint8Array(e.buffer,g,o),b);else if(h==1){for(var _=0;_<d;_++)s[b+_]=e[g+_];for(var _=d;_<o;_++)s[b+_]=e[g+_]-e[g+_-d]+256&255}else if(a==0){for(var _=0;_<d;_++)s[b+_]=e[g+_];if(h==2)for(var _=d;_<o;_++)s[b+_]=e[g+_];if(h==3)for(var _=d;_<o;_++)s[b+_]=e[g+_]-(e[g+_-d]>>1)+256&255;if(h==4)for(var _=d;_<o;_++)s[b+_]=e[g+_]-j(e[g+_-d],0,0)+256&255}else{if(h==2)for(var _=0;_<o;_++)s[b+_]=e[g+_]+256-e[g+_-o]&255;if(h==3){for(var _=0;_<d;_++)s[b+_]=e[g+_]+256-(e[g+_-o]>>1)&255;for(var _=d;_<o;_++)s[b+_]=e[g+_]+256-(e[g+_-o]+e[g+_-d]>>1)&255}if(h==4){for(var _=0;_<d;_++)s[b+_]=e[g+_]+256-j(0,e[g+_-o],0)&255;for(var _=d;_<o;_++)s[b+_]=e[g+_]+256-j(e[g+_-d],e[g+_-o],e[g+_-d-o])&255}}};UPNG.crc={table:function(){for(var s=new Uint32Array(256),e=0;e<256;e++){for(var a=e,o=0;o<8;o++)a&1?a=3988292384^a>>>1:a=a>>>1;s[e]=a}return s}(),update:function(s,e,a,o){for(var d=0;d<o;d++)s=UPNG.crc.table[(s^e[a+d])&255]^s>>>8;return s},crc:function(s,e,a){return UPNG.crc.update(4294967295,s,e,a)^4294967295}};UPNG.quantize=function(s,e){var a=new Uint8Array(s),o=a.slice(0),d=new Uint32Array(o.buffer),h=UPNG.quantize.getKDtree(o,e),g=h[0],b=h[1];UPNG.quantize.planeDst;for(var j=a,_=d,$=j.length,_e=new Uint8Array(a.length>>2),et=0;et<$;et+=4){var tt=j[et]*.00392156862745098,nt=j[et+1]*(1/255),it=j[et+2]*(1/255),st=j[et+3]*(1/255),rt=UPNG.quantize.getNearest(g,tt,nt,it,st);_e[et>>2]=rt.ind,_[et>>2]=rt.est.rgba}return{abuf:o.buffer,inds:_e,plte:b}};UPNG.quantize.getKDtree=function(s,e,a){a==null&&(a=1e-4);var o=new Uint32Array(s.buffer),d={i0:0,i1:s.length,bst:null,est:null,tdst:0,left:null,right:null};d.bst=UPNG.quantize.stats(s,d.i0,d.i1),d.est=UPNG.quantize.estats(d.bst);for(var h=[d];h.length<e;){for(var g=0,b=0,j=0;j<h.length;j++)h[j].est.L>g&&(g=h[j].est.L,b=j);if(g<a)break;var _=h[b],$=UPNG.quantize.splitPixels(s,o,_.i0,_.i1,_.est.e,_.est.eMq255),_e=_.i0>=$||_.i1<=$;if(_e){_.est.L=0;continue}var et={i0:_.i0,i1:$,bst:null,est:null,tdst:0,left:null,right:null};et.bst=UPNG.quantize.stats(s,et.i0,et.i1),et.est=UPNG.quantize.estats(et.bst);var tt={i0:$,i1:_.i1,bst:null,est:null,tdst:0,left:null,right:null};tt.bst={R:[],m:[],N:_.bst.N-et.bst.N};for(var j=0;j<16;j++)tt.bst.R[j]=_.bst.R[j]-et.bst.R[j];for(var j=0;j<4;j++)tt.bst.m[j]=_.bst.m[j]-et.bst.m[j];tt.est=UPNG.quantize.estats(tt.bst),_.left=et,_.right=tt,h[b]=et,h.push(tt)}h.sort(function(nt,it){return it.bst.N-nt.bst.N});for(var j=0;j<h.length;j++)h[j].ind=j;return[d,h]};UPNG.quantize.getNearest=function(s,e,a,o,d){if(s.left==null)return s.tdst=UPNG.quantize.dist(s.est.q,e,a,o,d),s;var h=UPNG.quantize.planeDst(s.est,e,a,o,d),g=s.left,b=s.right;h>0&&(g=s.right,b=s.left);var j=UPNG.quantize.getNearest(g,e,a,o,d);if(j.tdst<=h*h)return j;var _=UPNG.quantize.getNearest(b,e,a,o,d);return _.tdst<j.tdst?_:j};UPNG.quantize.planeDst=function(s,e,a,o,d){var h=s.e;return h[0]*e+h[1]*a+h[2]*o+h[3]*d-s.eMq};UPNG.quantize.dist=function(s,e,a,o,d){var h=e-s[0],g=a-s[1],b=o-s[2],j=d-s[3];return h*h+g*g+b*b+j*j};UPNG.quantize.splitPixels=function(s,e,a,o,d,h){var g=UPNG.quantize.vecDot;for(o-=4;a<o;){for(;g(s,a,d)<=h;)a+=4;for(;g(s,o,d)>h;)o-=4;if(a>=o)break;var b=e[a>>2];e[a>>2]=e[o>>2],e[o>>2]=b,a+=4,o-=4}for(;g(s,a,d)>h;)a-=4;return a+4};UPNG.quantize.vecDot=function(s,e,a){return s[e]*a[0]+s[e+1]*a[1]+s[e+2]*a[2]+s[e+3]*a[3]};UPNG.quantize.stats=function(s,e,a){for(var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=[0,0,0,0],h=a-e>>2,g=e;g<a;g+=4){var b=s[g]*.00392156862745098,j=s[g+1]*(1/255),_=s[g+2]*(1/255),$=s[g+3]*(1/255);d[0]+=b,d[1]+=j,d[2]+=_,d[3]+=$,o[0]+=b*b,o[1]+=b*j,o[2]+=b*_,o[3]+=b*$,o[5]+=j*j,o[6]+=j*_,o[7]+=j*$,o[10]+=_*_,o[11]+=_*$,o[15]+=$*$}return o[4]=o[1],o[8]=o[2],o[9]=o[6],o[12]=o[3],o[13]=o[7],o[14]=o[11],{R:o,m:d,N:h}};UPNG.quantize.estats=function(s){var e=s.R,a=s.m,o=s.N,d=a[0],h=a[1],g=a[2],b=a[3],j=o==0?0:1/o,_=[e[0]-d*d*j,e[1]-d*h*j,e[2]-d*g*j,e[3]-d*b*j,e[4]-h*d*j,e[5]-h*h*j,e[6]-h*g*j,e[7]-h*b*j,e[8]-g*d*j,e[9]-g*h*j,e[10]-g*g*j,e[11]-g*b*j,e[12]-b*d*j,e[13]-b*h*j,e[14]-b*g*j,e[15]-b*b*j],$=_,_e=UPNG.M4,et=[.5,.5,.5,.5],tt=0,nt=0;if(o!=0)for(var it=0;it<10&&(et=_e.multVec($,et),nt=Math.sqrt(_e.dot(et,et)),et=_e.sml(1/nt,et),!(Math.abs(nt-tt)<1e-9));it++)tt=nt;var st=[d*j,h*j,g*j,b*j],rt=_e.dot(_e.sml(255,st),et);return{Cov:_,q:st,e:et,L:tt,eMq255:rt,eMq:_e.dot(et,st),rgba:(Math.round(255*st[3])<<24|Math.round(255*st[2])<<16|Math.round(255*st[1])<<8|Math.round(255*st[0])<<0)>>>0}};UPNG.M4={multVec:function(s,e){return[s[0]*e[0]+s[1]*e[1]+s[2]*e[2]+s[3]*e[3],s[4]*e[0]+s[5]*e[1]+s[6]*e[2]+s[7]*e[3],s[8]*e[0]+s[9]*e[1]+s[10]*e[2]+s[11]*e[3],s[12]*e[0]+s[13]*e[1]+s[14]*e[2]+s[15]*e[3]]},dot:function(s,e){return s[0]*e[0]+s[1]*e[1]+s[2]*e[2]+s[3]*e[3]},sml:function(s,e){return[s*e[0],s*e[1],s*e[2],s*e[3]]}};UPNG.encode.concatRGBA=function(s){for(var e=0,a=0;a<s.length;a++)e+=s[a].byteLength;for(var o=new Uint8Array(e),d=0,a=0;a<s.length;a++){for(var h=new Uint8Array(s[a]),g=h.length,b=0;b<g;b+=4){var j=h[b],_=h[b+1],$=h[b+2],_e=h[b+3];_e==0&&(j=_=$=0),o[d+b]=j,o[d+b+1]=_,o[d+b+2]=$,o[d+b+3]=_e}d+=g}return o.buffer};var getImageType=function(s){if(s===0)return PngType.Greyscale;if(s===2)return PngType.Truecolour;if(s===3)return PngType.IndexedColour;if(s===4)return PngType.GreyscaleWithAlpha;if(s===6)return PngType.TruecolourWithAlpha;throw new Error("Unknown color type: "+s)},splitAlphaChannel=function(s){for(var e=Math.floor(s.length/4),a=new Uint8Array(e*3),o=new Uint8Array(e*1),d=0,h=0,g=0;d<s.length;)a[h++]=s[d++],a[h++]=s[d++],a[h++]=s[d++],o[g++]=s[d++];return{rgbChannel:a,alphaChannel:o}},PngType;(function(s){s.Greyscale="Greyscale",s.Truecolour="Truecolour",s.IndexedColour="IndexedColour",s.GreyscaleWithAlpha="GreyscaleWithAlpha",s.TruecolourWithAlpha="TruecolourWithAlpha"})(PngType||(PngType={}));var PNG=function(){function s(e){var a=UPNG.decode(e),o=UPNG.toRGBA8(a);if(o.length>1)throw new Error("Animated PNGs are not supported");var d=new Uint8Array(o[0]),h=splitAlphaChannel(d),g=h.rgbChannel,b=h.alphaChannel;this.rgbChannel=g;var j=b.some(function(_){return _<255});j&&(this.alphaChannel=b),this.type=getImageType(a.ctype),this.width=a.width,this.height=a.height,this.bitsPerComponent=8}return s.load=function(e){return new s(e)},s}(),PngEmbedder=function(){function s(e){this.image=e,this.bitsPerComponent=e.bitsPerComponent,this.width=e.width,this.height=e.height,this.colorSpace="DeviceRGB"}return s.for=function(e){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){return a=PNG.load(e),[2,new s(a)]})})},s.prototype.embedIntoContext=function(e,a){return __awaiter(this,void 0,void 0,function(){var o,d;return __generator(this,function(h){return o=this.embedAlphaChannel(e),d=e.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:o}),a?(e.assign(a,d),[2,a]):[2,e.register(d)]})})},s.prototype.embedAlphaChannel=function(e){if(this.image.alphaChannel){var a=e.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return e.register(a)}},s}(),Stream=function(){function s(e,a,o){this.bytes=e,this.start=a||0,this.pos=this.start,this.end=a&&o?a+o:this.bytes.length}return Object.defineProperty(s.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),s.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},s.prototype.getUint16=function(){var e=this.getByte(),a=this.getByte();return e===-1||a===-1?-1:(e<<8)+a},s.prototype.getInt32=function(){var e=this.getByte(),a=this.getByte(),o=this.getByte(),d=this.getByte();return(e<<24)+(a<<16)+(o<<8)+d},s.prototype.getBytes=function(e,a){a===void 0&&(a=!1);var o=this.bytes,d=this.pos,h=this.end;if(e){var b=d+e;b>h&&(b=h),this.pos=b;var g=o.subarray(d,b);return a?new Uint8ClampedArray(g):g}else{var g=o.subarray(d,h);return a?new Uint8ClampedArray(g):g}},s.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},s.prototype.peekBytes=function(e,a){a===void 0&&(a=!1);var o=this.getBytes(e,a);return this.pos-=o.length,o},s.prototype.skip=function(e){e||(e=1),this.pos+=e},s.prototype.reset=function(){this.pos=this.start},s.prototype.moveStart=function(){this.start=this.pos},s.prototype.makeSubStream=function(e,a){return new s(this.bytes,e,a)},s.prototype.decode=function(){return this.bytes},s}(),emptyBuffer=new Uint8Array(0),DecodeStream=function(){function s(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}return Object.defineProperty(s.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),s.prototype.getByte=function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},s.prototype.getUint16=function(){var e=this.getByte(),a=this.getByte();return e===-1||a===-1?-1:(e<<8)+a},s.prototype.getInt32=function(){var e=this.getByte(),a=this.getByte(),o=this.getByte(),d=this.getByte();return(e<<24)+(a<<16)+(o<<8)+d},s.prototype.getBytes=function(e,a){a===void 0&&(a=!1);var o,d=this.pos;if(e){for(this.ensureBuffer(d+e),o=d+e;!this.eof&&this.bufferLength<o;)this.readBlock();var h=this.bufferLength;o>h&&(o=h)}else{for(;!this.eof;)this.readBlock();o=this.bufferLength}this.pos=o;var g=this.buffer.subarray(d,o);return a&&!(g instanceof Uint8ClampedArray)?new Uint8ClampedArray(g):g},s.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},s.prototype.peekBytes=function(e,a){a===void 0&&(a=!1);var o=this.getBytes(e,a);return this.pos-=o.length,o},s.prototype.skip=function(e){e||(e=1),this.pos+=e},s.prototype.reset=function(){this.pos=0},s.prototype.makeSubStream=function(e,a){for(var o=e+a;this.bufferLength<=o&&!this.eof;)this.readBlock();return new Stream(this.buffer,e,a)},s.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},s.prototype.readBlock=function(){throw new MethodNotImplementedError(this.constructor.name,"readBlock")},s.prototype.ensureBuffer=function(e){var a=this.buffer;if(e<=a.byteLength)return a;for(var o=this.minBufferLength;o<e;)o*=2;var d=new Uint8Array(o);return d.set(a),this.buffer=d},s}(),isSpace=function(s){return s===32||s===9||s===13||s===10},Ascii85Stream=function(s){__extends(e,s);function e(a,o){var d=s.call(this,o)||this;return d.stream=a,d.input=new Uint8Array(5),o&&(o=.8*o),d}return e.prototype.readBlock=function(){for(var a=126,o=122,d=-1,h=this.stream,g=h.getByte();isSpace(g);)g=h.getByte();if(g===d||g===a){this.eof=!0;return}var b=this.bufferLength,j,_;if(g===o){for(j=this.ensureBuffer(b+4),_=0;_<4;++_)j[b+_]=0;this.bufferLength+=4}else{var $=this.input;for($[0]=g,_=1;_<5;++_){for(g=h.getByte();isSpace(g);)g=h.getByte();if($[_]=g,g===d||g===a)break}if(j=this.ensureBuffer(b+_-1),this.bufferLength+=_-1,_<5){for(;_<5;++_)$[_]=117;this.eof=!0}var _e=0;for(_=0;_<5;++_)_e=_e*85+($[_]-33);for(_=3;_>=0;--_)j[b+_]=_e&255,_e>>=8}},e}(DecodeStream),AsciiHexStream=function(s){__extends(e,s);function e(a,o){var d=s.call(this,o)||this;return d.stream=a,d.firstDigit=-1,o&&(o=.5*o),d}return e.prototype.readBlock=function(){var a=8e3,o=this.stream.getBytes(a);if(!o.length){this.eof=!0;return}for(var d=o.length+1>>1,h=this.ensureBuffer(this.bufferLength+d),g=this.bufferLength,b=this.firstDigit,j=0,_=o.length;j<_;j++){var $=o[j],_e=void 0;if($>=48&&$<=57)_e=$&15;else if($>=65&&$<=70||$>=97&&$<=102)_e=($&15)+9;else if($===62){this.eof=!0;break}else continue;b<0?b=_e:(h[g++]=b<<4|_e,b=-1)}b>=0&&this.eof&&(h[g++]=b<<4,b=-1),this.firstDigit=b,this.bufferLength=g},e}(DecodeStream),codeLenCodeMap=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],FlateStream=function(s){__extends(e,s);function e(a,o){var d=s.call(this,o)||this;d.stream=a;var h=a.getByte(),g=a.getByte();if(h===-1||g===-1)throw new Error("Invalid header in flate stream: "+h+", "+g);if((h&15)!==8)throw new Error("Unknown compression method in flate stream: "+h+", "+g);if(((h<<8)+g)%31!==0)throw new Error("Bad FCHECK in flate stream: "+h+", "+g);if(g&32)throw new Error("FDICT bit set in flate stream: "+h+", "+g);return d.codeSize=0,d.codeBuf=0,d}return e.prototype.readBlock=function(){var a,o,d=this.stream,h=this.getBits(3);if(h&1&&(this.eof=!0),h>>=1,h===0){var g=void 0;if((g=d.getByte())===-1)throw new Error("Bad block header in flate stream");var b=g;if((g=d.getByte())===-1)throw new Error("Bad block header in flate stream");if(b|=g<<8,(g=d.getByte())===-1)throw new Error("Bad block header in flate stream");var j=g;if((g=d.getByte())===-1)throw new Error("Bad block header in flate stream");if(j|=g<<8,j!==(~b&65535)&&(b!==0||j!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var _=this.bufferLength;a=this.ensureBuffer(_+b);var $=_+b;if(this.bufferLength=$,b===0)d.peekByte()===-1&&(this.eof=!0);else for(var _e=_;_e<$;++_e){if((g=d.getByte())===-1){this.eof=!0;break}a[_e]=g}return}var et,tt;if(h===1)et=fixedLitCodeTab,tt=fixedDistCodeTab;else if(h===2){var nt=this.getBits(5)+257,it=this.getBits(5)+1,st=this.getBits(4)+4,rt=new Uint8Array(codeLenCodeMap.length),at=void 0;for(at=0;at<st;++at)rt[codeLenCodeMap[at]]=this.getBits(3);var ht=this.generateHuffmanTable(rt);o=0,at=0;for(var ft=nt+it,ot=new Uint8Array(ft),ut=void 0,ct=void 0,dt=void 0;at<ft;){var vt=this.getCode(ht);if(vt===16)ut=2,ct=3,dt=o;else if(vt===17)ut=3,ct=3,dt=o=0;else if(vt===18)ut=7,ct=11,dt=o=0;else{ot[at++]=o=vt;continue}for(var Et=this.getBits(ut)+ct;Et-- >0;)ot[at++]=dt}et=this.generateHuffmanTable(ot.subarray(0,nt)),tt=this.generateHuffmanTable(ot.subarray(nt,ft))}else throw new Error("Unknown block type in flate stream");a=this.buffer;for(var pt=a?a.length:0,bt=this.bufferLength;;){var Ct=this.getCode(et);if(Ct<256){bt+1>=pt&&(a=this.ensureBuffer(bt+1),pt=a.length),a[bt++]=Ct;continue}if(Ct===256){this.bufferLength=bt;return}Ct-=257,Ct=lengthDecode[Ct];var Bt=Ct>>16;Bt>0&&(Bt=this.getBits(Bt)),o=(Ct&65535)+Bt,Ct=this.getCode(tt),Ct=distDecode[Ct],Bt=Ct>>16,Bt>0&&(Bt=this.getBits(Bt));var jt=(Ct&65535)+Bt;bt+o>=pt&&(a=this.ensureBuffer(bt+o),pt=a.length);for(var Ft=0;Ft<o;++Ft,++bt)a[bt]=a[bt-jt]}},e.prototype.getBits=function(a){for(var o=this.stream,d=this.codeSize,h=this.codeBuf,g;d<a;){if((g=o.getByte())===-1)throw new Error("Bad encoding in flate stream");h|=g<<d,d+=8}return g=h&(1<<a)-1,this.codeBuf=h>>a,this.codeSize=d-=a,g},e.prototype.getCode=function(a){for(var o=this.stream,d=a[0],h=a[1],g=this.codeSize,b=this.codeBuf,j;g<h&&(j=o.getByte())!==-1;)b|=j<<g,g+=8;var _=d[b&(1<<h)-1];typeof d=="number"&&console.log("FLATE:",_);var $=_>>16,_e=_&65535;if($<1||g<$)throw new Error("Bad encoding in flate stream");return this.codeBuf=b>>$,this.codeSize=g-$,_e},e.prototype.generateHuffmanTable=function(a){var o=a.length,d=0,h;for(h=0;h<o;++h)a[h]>d&&(d=a[h]);for(var g=1<<d,b=new Int32Array(g),j=1,_=0,$=2;j<=d;++j,_<<=1,$<<=1)for(var _e=0;_e<o;++_e)if(a[_e]===j){var et=0,tt=_;for(h=0;h<j;++h)et=et<<1|tt&1,tt>>=1;for(h=et;h<g;h+=$)b[h]=j<<16|_e;++_}return[b,d]},e}(DecodeStream),LZWStream=function(s){__extends(e,s);function e(a,o,d){var h=s.call(this,o)||this;h.stream=a,h.cachedData=0,h.bitsCached=0;for(var g=4096,b={earlyChange:d,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(g),dictionaryLengths:new Uint16Array(g),dictionaryPrevCodes:new Uint16Array(g),currentSequence:new Uint8Array(g),currentSequenceLength:0},j=0;j<256;++j)b.dictionaryValues[j]=j,b.dictionaryLengths[j]=1;return h.lzwState=b,h}return e.prototype.readBlock=function(){var a=512,o=a*2,d=a,h,g,b,j=this.lzwState;if(j){var _=j.earlyChange,$=j.nextCode,_e=j.dictionaryValues,et=j.dictionaryLengths,tt=j.dictionaryPrevCodes,nt=j.codeLength,it=j.prevCode,st=j.currentSequence,rt=j.currentSequenceLength,at=0,ht=this.bufferLength,ft=this.ensureBuffer(this.bufferLength+o);for(h=0;h<a;h++){var ot=this.readBits(nt),ut=rt>0;if(!ot||ot<256)st[0]=ot,rt=1;else if(ot>=258)if(ot<$)for(rt=et[ot],g=rt-1,b=ot;g>=0;g--)st[g]=_e[b],b=tt[b];else st[rt++]=st[0];else if(ot===256){nt=9,$=258,rt=0;continue}else{this.eof=!0,delete this.lzwState;break}if(ut&&(tt[$]=it,et[$]=et[it]+1,_e[$]=st[0],$++,nt=$+_&$+_-1?nt:Math.min(Math.log($+_)/.6931471805599453+1,12)|0),it=ot,at+=rt,o<at){do o+=d;while(o<at);ft=this.ensureBuffer(this.bufferLength+o)}for(g=0;g<rt;g++)ft[ht++]=st[g]}j.nextCode=$,j.codeLength=nt,j.prevCode=it,j.currentSequenceLength=rt,this.bufferLength=ht}},e.prototype.readBits=function(a){for(var o=this.bitsCached,d=this.cachedData;o<a;){var h=this.stream.getByte();if(h===-1)return this.eof=!0,null;d=d<<8|h,o+=8}return this.bitsCached=o-=a,this.cachedData=d,d>>>o&(1<<a)-1},e}(DecodeStream),RunLengthStream=function(s){__extends(e,s);function e(a,o){var d=s.call(this,o)||this;return d.stream=a,d}return e.prototype.readBlock=function(){var a=this.stream.getBytes(2);if(!a||a.length<2||a[0]===128){this.eof=!0;return}var o,d=this.bufferLength,h=a[0];if(h<128){if(o=this.ensureBuffer(d+h+1),o[d++]=a[1],h>0){var g=this.stream.getBytes(h);o.set(g,d),d+=h}}else{h=257-h;var b=a[1];o=this.ensureBuffer(d+h+1);for(var j=0;j<h;j++)o[d++]=b}this.bufferLength=d},e}(DecodeStream),decodeStream=function(s,e,a){if(e===PDFName.of("FlateDecode"))return new FlateStream(s);if(e===PDFName.of("LZWDecode")){var o=1;if(a instanceof PDFDict){var d=a.lookup(PDFName.of("EarlyChange"));d instanceof PDFNumber&&(o=d.asNumber())}return new LZWStream(s,void 0,o)}if(e===PDFName.of("ASCII85Decode"))return new Ascii85Stream(s);if(e===PDFName.of("ASCIIHexDecode"))return new AsciiHexStream(s);if(e===PDFName.of("RunLengthDecode"))return new RunLengthStream(s);throw new UnsupportedEncodingError(e.asString())},decodePDFRawStream=function(s){var e=s.dict,a=s.contents,o=new Stream(a),d=e.lookup(PDFName.of("Filter")),h=e.lookup(PDFName.of("DecodeParms"));if(d instanceof PDFName)o=decodeStream(o,d,h);else if(d instanceof PDFArray)for(var g=0,b=d.size();g<b;g++)o=decodeStream(o,d.lookup(g,PDFName),h&&h.lookupMaybe(g,PDFDict));else if(d)throw new UnexpectedObjectTypeError([PDFName,PDFArray],d);return o},fullPageBoundingBox=function(s){var e=s.MediaBox(),a=e.lookup(2,PDFNumber).asNumber()-e.lookup(0,PDFNumber).asNumber(),o=e.lookup(3,PDFNumber).asNumber()-e.lookup(1,PDFNumber).asNumber();return{left:0,bottom:0,right:a,top:o}},boundingBoxAdjustedMatrix=function(s){return[1,0,0,1,-s.left,-s.bottom]},PDFPageEmbedder=function(){function s(e,a,o){this.page=e;var d=a??fullPageBoundingBox(e);this.width=d.right-d.left,this.height=d.top-d.bottom,this.boundingBox=d,this.transformationMatrix=o??boundingBoxAdjustedMatrix(d)}return s.for=function(e,a,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(d){return[2,new s(e,a,o)]})})},s.prototype.embedIntoContext=function(e,a){return __awaiter(this,void 0,void 0,function(){var o,d,h,g,b,j,_,$,_e,et;return __generator(this,function(tt){if(o=this.page.normalizedEntries(),d=o.Contents,h=o.Resources,!d)throw new MissingPageContentsEmbeddingError;return g=this.decodeContents(d),b=this.boundingBox,j=b.left,_=b.bottom,$=b.right,_e=b.top,et=e.flateStream(g,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[j,_,$,_e],Matrix:this.transformationMatrix,Resources:h}),a?(e.assign(a,et),[2,a]):[2,e.register(et)]})})},s.prototype.decodeContents=function(e){for(var a=Uint8Array.of(CharCodes$1.Newline),o=[],d=0,h=e.size();d<h;d++){var g=e.lookup(d,PDFStream),b=void 0;if(g instanceof PDFRawStream)b=decodePDFRawStream(g).decode();else if(g instanceof PDFContentStream)b=g.getUnencodedContents();else throw new UnrecognizedStreamTypeError(g);o.push(b,a)}return mergeIntoTypedArray.apply(void 0,o)},s}(),asEnum=function(s,e){if(s!==void 0)return e[s]},NonFullScreenPageMode;(function(s){s.UseNone="UseNone",s.UseOutlines="UseOutlines",s.UseThumbs="UseThumbs",s.UseOC="UseOC"})(NonFullScreenPageMode||(NonFullScreenPageMode={}));var ReadingDirection;(function(s){s.L2R="L2R",s.R2L="R2L"})(ReadingDirection||(ReadingDirection={}));var PrintScaling;(function(s){s.None="None",s.AppDefault="AppDefault"})(PrintScaling||(PrintScaling={}));var Duplex;(function(s){s.Simplex="Simplex",s.DuplexFlipShortEdge="DuplexFlipShortEdge",s.DuplexFlipLongEdge="DuplexFlipLongEdge"})(Duplex||(Duplex={}));var ViewerPreferences=function(){function s(e){this.dict=e}return s.prototype.lookupBool=function(e){var a=this.dict.lookup(PDFName.of(e));if(a instanceof PDFBool)return a},s.prototype.lookupName=function(e){var a=this.dict.lookup(PDFName.of(e));if(a instanceof PDFName)return a},s.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},s.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},s.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},s.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},s.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},s.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},s.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},s.prototype.Direction=function(){return this.lookupName("Direction")},s.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},s.prototype.Duplex=function(){return this.lookupName("Duplex")},s.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},s.prototype.PrintPageRange=function(){var e=this.dict.lookup(PDFName.of("PrintPageRange"));if(e instanceof PDFArray)return e},s.prototype.NumCopies=function(){var e=this.dict.lookup(PDFName.of("NumCopies"));if(e instanceof PDFNumber)return e},s.prototype.getHideToolbar=function(){var e,a;return(a=(e=this.HideToolbar())===null||e===void 0?void 0:e.asBoolean())!==null&&a!==void 0?a:!1},s.prototype.getHideMenubar=function(){var e,a;return(a=(e=this.HideMenubar())===null||e===void 0?void 0:e.asBoolean())!==null&&a!==void 0?a:!1},s.prototype.getHideWindowUI=function(){var e,a;return(a=(e=this.HideWindowUI())===null||e===void 0?void 0:e.asBoolean())!==null&&a!==void 0?a:!1},s.prototype.getFitWindow=function(){var e,a;return(a=(e=this.FitWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&a!==void 0?a:!1},s.prototype.getCenterWindow=function(){var e,a;return(a=(e=this.CenterWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&a!==void 0?a:!1},s.prototype.getDisplayDocTitle=function(){var e,a;return(a=(e=this.DisplayDocTitle())===null||e===void 0?void 0:e.asBoolean())!==null&&a!==void 0?a:!1},s.prototype.getNonFullScreenPageMode=function(){var e,a,o=(e=this.NonFullScreenPageMode())===null||e===void 0?void 0:e.decodeText();return(a=asEnum(o,NonFullScreenPageMode))!==null&&a!==void 0?a:NonFullScreenPageMode.UseNone},s.prototype.getReadingDirection=function(){var e,a,o=(e=this.Direction())===null||e===void 0?void 0:e.decodeText();return(a=asEnum(o,ReadingDirection))!==null&&a!==void 0?a:ReadingDirection.L2R},s.prototype.getPrintScaling=function(){var e,a,o=(e=this.PrintScaling())===null||e===void 0?void 0:e.decodeText();return(a=asEnum(o,PrintScaling))!==null&&a!==void 0?a:PrintScaling.AppDefault},s.prototype.getDuplex=function(){var e,a=(e=this.Duplex())===null||e===void 0?void 0:e.decodeText();return asEnum(a,Duplex)},s.prototype.getPickTrayByPDFSize=function(){var e;return(e=this.PickTrayByPDFSize())===null||e===void 0?void 0:e.asBoolean()},s.prototype.getPrintPageRange=function(){var e=this.PrintPageRange();if(!e)return[];for(var a=[],o=0;o<e.size();o+=2){var d=e.lookup(o,PDFNumber).asNumber(),h=e.lookup(o+1,PDFNumber).asNumber();a.push({start:d,end:h})}return a},s.prototype.getNumCopies=function(){var e,a;return(a=(e=this.NumCopies())===null||e===void 0?void 0:e.asNumber())!==null&&a!==void 0?a:1},s.prototype.setHideToolbar=function(e){var a=this.dict.context.obj(e);this.dict.set(PDFName.of("HideToolbar"),a)},s.prototype.setHideMenubar=function(e){var a=this.dict.context.obj(e);this.dict.set(PDFName.of("HideMenubar"),a)},s.prototype.setHideWindowUI=function(e){var a=this.dict.context.obj(e);this.dict.set(PDFName.of("HideWindowUI"),a)},s.prototype.setFitWindow=function(e){var a=this.dict.context.obj(e);this.dict.set(PDFName.of("FitWindow"),a)},s.prototype.setCenterWindow=function(e){var a=this.dict.context.obj(e);this.dict.set(PDFName.of("CenterWindow"),a)},s.prototype.setDisplayDocTitle=function(e){var a=this.dict.context.obj(e);this.dict.set(PDFName.of("DisplayDocTitle"),a)},s.prototype.setNonFullScreenPageMode=function(e){assertIsOneOf(e,"nonFullScreenPageMode",NonFullScreenPageMode);var a=PDFName.of(e);this.dict.set(PDFName.of("NonFullScreenPageMode"),a)},s.prototype.setReadingDirection=function(e){assertIsOneOf(e,"readingDirection",ReadingDirection);var a=PDFName.of(e);this.dict.set(PDFName.of("Direction"),a)},s.prototype.setPrintScaling=function(e){assertIsOneOf(e,"printScaling",PrintScaling);var a=PDFName.of(e);this.dict.set(PDFName.of("PrintScaling"),a)},s.prototype.setDuplex=function(e){assertIsOneOf(e,"duplex",Duplex);var a=PDFName.of(e);this.dict.set(PDFName.of("Duplex"),a)},s.prototype.setPickTrayByPDFSize=function(e){var a=this.dict.context.obj(e);this.dict.set(PDFName.of("PickTrayByPDFSize"),a)},s.prototype.setPrintPageRange=function(e){Array.isArray(e)||(e=[e]);for(var a=[],o=0,d=e.length;o<d;o++)a.push(e[o].start),a.push(e[o].end);assertEachIs(a,"printPageRange",["number"]);var h=this.dict.context.obj(a);this.dict.set(PDFName.of("PrintPageRange"),h)},s.prototype.setNumCopies=function(e){assertRange(e,"numCopies",1,Number.MAX_VALUE),assertInteger(e,"numCopies");var a=this.dict.context.obj(e);this.dict.set(PDFName.of("NumCopies"),a)},s.fromDict=function(e){return new s(e)},s.create=function(e){var a=e.obj({});return new s(a)},s}(),tfRegex$1=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,PDFAcroField=function(){function s(e,a){this.dict=e,this.ref=a}return s.prototype.T=function(){return this.dict.lookupMaybe(PDFName.of("T"),PDFString,PDFHexString)},s.prototype.Ff=function(){var e=this.getInheritableAttribute(PDFName.of("Ff"));return this.dict.context.lookupMaybe(e,PDFNumber)},s.prototype.V=function(){var e=this.getInheritableAttribute(PDFName.of("V"));return this.dict.context.lookup(e)},s.prototype.Kids=function(){return this.dict.lookupMaybe(PDFName.of("Kids"),PDFArray)},s.prototype.DA=function(){var e=this.dict.lookup(PDFName.of("DA"));if(e instanceof PDFString||e instanceof PDFHexString)return e},s.prototype.setKids=function(e){this.dict.set(PDFName.of("Kids"),this.dict.context.obj(e))},s.prototype.getParent=function(){var e=this.dict.get(PDFName.of("Parent"));if(e instanceof PDFRef){var a=this.dict.lookup(PDFName.of("Parent"),PDFDict);return new s(a,e)}},s.prototype.setParent=function(e){e?this.dict.set(PDFName.of("Parent"),e):this.dict.delete(PDFName.of("Parent"))},s.prototype.getFullyQualifiedName=function(){var e=this.getParent();return e?e.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},s.prototype.getPartialName=function(){var e;return(e=this.T())===null||e===void 0?void 0:e.decodeText()},s.prototype.setPartialName=function(e){e?this.dict.set(PDFName.of("T"),PDFHexString.fromText(e)):this.dict.delete(PDFName.of("T"))},s.prototype.setDefaultAppearance=function(e){this.dict.set(PDFName.of("DA"),PDFString.of(e))},s.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof PDFHexString?e.decodeText():e==null?void 0:e.asString()},s.prototype.setFontSize=function(e){var a,o=(a=this.getFullyQualifiedName())!==null&&a!==void 0?a:"",d=this.getDefaultAppearance();if(!d)throw new MissingDAEntryError(o);var h=findLastMatch(d,tfRegex$1);if(!h.match)throw new MissingTfOperatorError(o);var g=d.slice(0,h.pos-h.match[0].length),b=h.pos<=d.length?d.slice(h.pos):"",j=h.match[1],_=g+" /"+j+" "+e+" Tf "+b;this.setDefaultAppearance(_)},s.prototype.getFlags=function(){var e,a;return(a=(e=this.Ff())===null||e===void 0?void 0:e.asNumber())!==null&&a!==void 0?a:0},s.prototype.setFlags=function(e){this.dict.set(PDFName.of("Ff"),PDFNumber.of(e))},s.prototype.hasFlag=function(e){var a=this.getFlags();return(a&e)!==0},s.prototype.setFlag=function(e){var a=this.getFlags();this.setFlags(a|e)},s.prototype.clearFlag=function(e){var a=this.getFlags();this.setFlags(a&~e)},s.prototype.setFlagTo=function(e,a){a?this.setFlag(e):this.clearFlag(e)},s.prototype.getInheritableAttribute=function(e){var a;return this.ascend(function(o){a||(a=o.dict.get(e))}),a},s.prototype.ascend=function(e){e(this);var a=this.getParent();a&&a.ascend(e)},s}(),BorderStyle=function(){function s(e){this.dict=e}return s.prototype.W=function(){var e=this.dict.lookup(PDFName.of("W"));if(e instanceof PDFNumber)return e},s.prototype.getWidth=function(){var e,a;return(a=(e=this.W())===null||e===void 0?void 0:e.asNumber())!==null&&a!==void 0?a:1},s.prototype.setWidth=function(e){var a=this.dict.context.obj(e);this.dict.set(PDFName.of("W"),a)},s.fromDict=function(e){return new s(e)},s}(),PDFAnnotation=function(){function s(e){this.dict=e}return s.prototype.Rect=function(){return this.dict.lookup(PDFName.of("Rect"),PDFArray)},s.prototype.AP=function(){return this.dict.lookupMaybe(PDFName.of("AP"),PDFDict)},s.prototype.F=function(){var e=this.dict.lookup(PDFName.of("F"));return this.dict.context.lookupMaybe(e,PDFNumber)},s.prototype.getRectangle=function(){var e,a=this.Rect();return(e=a==null?void 0:a.asRectangle())!==null&&e!==void 0?e:{x:0,y:0,width:0,height:0}},s.prototype.setRectangle=function(e){var a=e.x,o=e.y,d=e.width,h=e.height,g=this.dict.context.obj([a,o,a+d,o+h]);this.dict.set(PDFName.of("Rect"),g)},s.prototype.getAppearanceState=function(){var e=this.dict.lookup(PDFName.of("AS"));if(e instanceof PDFName)return e},s.prototype.setAppearanceState=function(e){this.dict.set(PDFName.of("AS"),e)},s.prototype.setAppearances=function(e){this.dict.set(PDFName.of("AP"),e)},s.prototype.ensureAP=function(){var e=this.AP();return e||(e=this.dict.context.obj({}),this.dict.set(PDFName.of("AP"),e)),e},s.prototype.getNormalAppearance=function(){var e=this.ensureAP(),a=e.get(PDFName.of("N"));if(a instanceof PDFRef||a instanceof PDFDict)return a;throw new Error("Unexpected N type: "+(a==null?void 0:a.constructor.name))},s.prototype.setNormalAppearance=function(e){var a=this.ensureAP();a.set(PDFName.of("N"),e)},s.prototype.setRolloverAppearance=function(e){var a=this.ensureAP();a.set(PDFName.of("R"),e)},s.prototype.setDownAppearance=function(e){var a=this.ensureAP();a.set(PDFName.of("D"),e)},s.prototype.removeRolloverAppearance=function(){var e=this.AP();e==null||e.delete(PDFName.of("R"))},s.prototype.removeDownAppearance=function(){var e=this.AP();e==null||e.delete(PDFName.of("D"))},s.prototype.getAppearances=function(){var e=this.AP();if(e){var a=e.lookup(PDFName.of("N"),PDFDict,PDFStream),o=e.lookupMaybe(PDFName.of("R"),PDFDict,PDFStream),d=e.lookupMaybe(PDFName.of("D"),PDFDict,PDFStream);return{normal:a,rollover:o,down:d}}},s.prototype.getFlags=function(){var e,a;return(a=(e=this.F())===null||e===void 0?void 0:e.asNumber())!==null&&a!==void 0?a:0},s.prototype.setFlags=function(e){this.dict.set(PDFName.of("F"),PDFNumber.of(e))},s.prototype.hasFlag=function(e){var a=this.getFlags();return(a&e)!==0},s.prototype.setFlag=function(e){var a=this.getFlags();this.setFlags(a|e)},s.prototype.clearFlag=function(e){var a=this.getFlags();this.setFlags(a&~e)},s.prototype.setFlagTo=function(e,a){a?this.setFlag(e):this.clearFlag(e)},s.fromDict=function(e){return new s(e)},s}(),AppearanceCharacteristics=function(){function s(e){this.dict=e}return s.prototype.R=function(){var e=this.dict.lookup(PDFName.of("R"));if(e instanceof PDFNumber)return e},s.prototype.BC=function(){var e=this.dict.lookup(PDFName.of("BC"));if(e instanceof PDFArray)return e},s.prototype.BG=function(){var e=this.dict.lookup(PDFName.of("BG"));if(e instanceof PDFArray)return e},s.prototype.CA=function(){var e=this.dict.lookup(PDFName.of("CA"));if(e instanceof PDFHexString||e instanceof PDFString)return e},s.prototype.RC=function(){var e=this.dict.lookup(PDFName.of("RC"));if(e instanceof PDFHexString||e instanceof PDFString)return e},s.prototype.AC=function(){var e=this.dict.lookup(PDFName.of("AC"));if(e instanceof PDFHexString||e instanceof PDFString)return e},s.prototype.getRotation=function(){var e;return(e=this.R())===null||e===void 0?void 0:e.asNumber()},s.prototype.getBorderColor=function(){var e=this.BC();if(e){for(var a=[],o=0,d=e==null?void 0:e.size();o<d;o++){var h=e.get(o);h instanceof PDFNumber&&a.push(h.asNumber())}return a}},s.prototype.getBackgroundColor=function(){var e=this.BG();if(e){for(var a=[],o=0,d=e==null?void 0:e.size();o<d;o++){var h=e.get(o);h instanceof PDFNumber&&a.push(h.asNumber())}return a}},s.prototype.getCaptions=function(){var e=this.CA(),a=this.RC(),o=this.AC();return{normal:e==null?void 0:e.decodeText(),rollover:a==null?void 0:a.decodeText(),down:o==null?void 0:o.decodeText()}},s.prototype.setRotation=function(e){var a=this.dict.context.obj(e);this.dict.set(PDFName.of("R"),a)},s.prototype.setBorderColor=function(e){var a=this.dict.context.obj(e);this.dict.set(PDFName.of("BC"),a)},s.prototype.setBackgroundColor=function(e){var a=this.dict.context.obj(e);this.dict.set(PDFName.of("BG"),a)},s.prototype.setCaptions=function(e){var a=PDFHexString.fromText(e.normal);if(this.dict.set(PDFName.of("CA"),a),e.rollover){var o=PDFHexString.fromText(e.rollover);this.dict.set(PDFName.of("RC"),o)}else this.dict.delete(PDFName.of("RC"));if(e.down){var d=PDFHexString.fromText(e.down);this.dict.set(PDFName.of("AC"),d)}else this.dict.delete(PDFName.of("AC"))},s.fromDict=function(e){return new s(e)},s}(),PDFWidgetAnnotation=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.MK=function(){var a=this.dict.lookup(PDFName.of("MK"));if(a instanceof PDFDict)return a},e.prototype.BS=function(){var a=this.dict.lookup(PDFName.of("BS"));if(a instanceof PDFDict)return a},e.prototype.DA=function(){var a=this.dict.lookup(PDFName.of("DA"));if(a instanceof PDFString||a instanceof PDFHexString)return a},e.prototype.P=function(){var a=this.dict.get(PDFName.of("P"));if(a instanceof PDFRef)return a},e.prototype.setP=function(a){this.dict.set(PDFName.of("P"),a)},e.prototype.setDefaultAppearance=function(a){this.dict.set(PDFName.of("DA"),PDFString.of(a))},e.prototype.getDefaultAppearance=function(){var a=this.DA();return a instanceof PDFHexString?a.decodeText():a==null?void 0:a.asString()},e.prototype.getAppearanceCharacteristics=function(){var a=this.MK();if(a)return AppearanceCharacteristics.fromDict(a)},e.prototype.getOrCreateAppearanceCharacteristics=function(){var a=this.MK();if(a)return AppearanceCharacteristics.fromDict(a);var o=AppearanceCharacteristics.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("MK"),o.dict),o},e.prototype.getBorderStyle=function(){var a=this.BS();if(a)return BorderStyle.fromDict(a)},e.prototype.getOrCreateBorderStyle=function(){var a=this.BS();if(a)return BorderStyle.fromDict(a);var o=BorderStyle.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("BS"),o.dict),o},e.prototype.getOnValue=function(){var a,o=(a=this.getAppearances())===null||a===void 0?void 0:a.normal;if(o instanceof PDFDict)for(var d=o.keys(),h=0,g=d.length;h<g;h++){var b=d[h];if(b!==PDFName.of("Off"))return b}},e.fromDict=function(a){return new e(a)},e.create=function(a,o){var d=a.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:o});return new e(d)},e}(PDFAnnotation),PDFAcroTerminal=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.FT=function(){var a=this.getInheritableAttribute(PDFName.of("FT"));return this.dict.context.lookup(a,PDFName)},e.prototype.getWidgets=function(){var a=this.Kids();if(!a)return[PDFWidgetAnnotation.fromDict(this.dict)];for(var o=new Array(a.size()),d=0,h=a.size();d<h;d++){var g=a.lookup(d,PDFDict);o[d]=PDFWidgetAnnotation.fromDict(g)}return o},e.prototype.addWidget=function(a){var o=this.normalizedEntries().Kids;o.push(a)},e.prototype.removeWidget=function(a){var o=this.Kids();if(o){if(a<0||a>o.size())throw new IndexOutOfBoundsError(a,0,o.size());o.remove(a)}else{if(a!==0)throw new IndexOutOfBoundsError(a,0,0);this.setKids([])}},e.prototype.normalizedEntries=function(){var a=this.Kids();return a||(a=this.dict.context.obj([this.ref]),this.dict.set(PDFName.of("Kids"),a)),{Kids:a}},e.fromDict=function(a,o){return new e(a,o)},e}(PDFAcroField),PDFAcroButton=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},e.prototype.setOpt=function(a){this.dict.set(PDFName.of("Opt"),this.dict.context.obj(a))},e.prototype.getExportValues=function(){var a=this.Opt();if(a){if(a instanceof PDFString||a instanceof PDFHexString)return[a];for(var o=[],d=0,h=a.size();d<h;d++){var g=a.lookup(d);(g instanceof PDFString||g instanceof PDFHexString)&&o.push(g)}return o}},e.prototype.removeExportValue=function(a){var o=this.Opt();if(o)if(o instanceof PDFString||o instanceof PDFHexString){if(a!==0)throw new IndexOutOfBoundsError(a,0,0);this.setOpt([])}else{if(a<0||a>o.size())throw new IndexOutOfBoundsError(a,0,o.size());o.remove(a)}},e.prototype.normalizeExportValues=function(){for(var a,o,d,h,g=(a=this.getExportValues())!==null&&a!==void 0?a:[],b=[],j=this.getWidgets(),_=0,$=j.length;_<$;_++){var _e=j[_],et=(o=g[_])!==null&&o!==void 0?o:PDFHexString.fromText((h=(d=_e.getOnValue())===null||d===void 0?void 0:d.decodeText())!==null&&h!==void 0?h:"");b.push(et)}this.setOpt(b)},e.prototype.addOpt=function(a,o){var d;this.normalizeExportValues();var h=a.decodeText(),g;if(o)for(var b=(d=this.getExportValues())!==null&&d!==void 0?d:[],j=0,_=b.length;j<_;j++){var $=b[j];$.decodeText()===h&&(g=j)}var _e=this.Opt();return _e.push(a),g??_e.size()-1},e.prototype.addWidgetWithOpt=function(a,o,d){var h=this.addOpt(o,d),g=PDFName.of(String(h));return this.addWidget(a),g},e}(PDFAcroTerminal),PDFAcroCheckBox=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.setValue=function(a){var o,d=(o=this.getOnValue())!==null&&o!==void 0?o:PDFName.of("Yes");if(a!==d&&a!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),a);for(var h=this.getWidgets(),g=0,b=h.length;g<b;g++){var j=h[g],_=j.getOnValue()===a?a:PDFName.of("Off");j.setAppearanceState(_)}},e.prototype.getValue=function(){var a=this.V();return a instanceof PDFName?a:PDFName.of("Off")},e.prototype.getOnValue=function(){var a=this.getWidgets()[0];return a==null?void 0:a.getOnValue()},e.fromDict=function(a,o){return new e(a,o)},e.create=function(a){var o=a.obj({FT:"Btn",Kids:[]}),d=a.register(o);return new e(o,d)},e}(PDFAcroButton),flag$1=function(s){return 1<<s},AcroFieldFlags;(function(s){s[s.ReadOnly=flag$1(0)]="ReadOnly",s[s.Required=flag$1(1)]="Required",s[s.NoExport=flag$1(2)]="NoExport"})(AcroFieldFlags||(AcroFieldFlags={}));var AcroButtonFlags;(function(s){s[s.NoToggleToOff=flag$1(14)]="NoToggleToOff",s[s.Radio=flag$1(15)]="Radio",s[s.PushButton=flag$1(16)]="PushButton",s[s.RadiosInUnison=flag$1(25)]="RadiosInUnison"})(AcroButtonFlags||(AcroButtonFlags={}));var AcroTextFlags;(function(s){s[s.Multiline=flag$1(12)]="Multiline",s[s.Password=flag$1(13)]="Password",s[s.FileSelect=flag$1(20)]="FileSelect",s[s.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",s[s.DoNotScroll=flag$1(23)]="DoNotScroll",s[s.Comb=flag$1(24)]="Comb",s[s.RichText=flag$1(25)]="RichText"})(AcroTextFlags||(AcroTextFlags={}));var AcroChoiceFlags;(function(s){s[s.Combo=flag$1(17)]="Combo",s[s.Edit=flag$1(18)]="Edit",s[s.Sort=flag$1(19)]="Sort",s[s.MultiSelect=flag$1(21)]="MultiSelect",s[s.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",s[s.CommitOnSelChange=flag$1(26)]="CommitOnSelChange"})(AcroChoiceFlags||(AcroChoiceFlags={}));var PDFAcroChoice=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.setValues=function(a){if(this.hasFlag(AcroChoiceFlags.Combo)&&!this.hasFlag(AcroChoiceFlags.Edit)&&!this.valuesAreValid(a))throw new InvalidAcroFieldValueError;if(a.length===0&&this.dict.delete(PDFName.of("V")),a.length===1&&this.dict.set(PDFName.of("V"),a[0]),a.length>1){if(!this.hasFlag(AcroChoiceFlags.MultiSelect))throw new MultiSelectValueError;this.dict.set(PDFName.of("V"),this.dict.context.obj(a))}this.updateSelectedIndices(a)},e.prototype.valuesAreValid=function(a){for(var o=this.getOptions(),d=function(j,_){var $=a[j].decodeText();if(!o.find(function(_e){return $===(_e.display||_e.value).decodeText()}))return{value:!1}},h=0,g=a.length;h<g;h++){var b=d(h);if(typeof b=="object")return b.value}return!0},e.prototype.updateSelectedIndices=function(a){if(a.length>1){for(var o=new Array(a.length),d=this.getOptions(),h=function(j,_){var $=a[j].decodeText();o[j]=d.findIndex(function(_e){return $===(_e.display||_e.value).decodeText()})},g=0,b=a.length;g<b;g++)h(g,b);this.dict.set(PDFName.of("I"),this.dict.context.obj(o.sort()))}else this.dict.delete(PDFName.of("I"))},e.prototype.getValues=function(){var a=this.V();if(a instanceof PDFString||a instanceof PDFHexString)return[a];if(a instanceof PDFArray){for(var o=[],d=0,h=a.size();d<h;d++){var g=a.lookup(d);(g instanceof PDFString||g instanceof PDFHexString)&&o.push(g)}return o}return[]},e.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},e.prototype.setOptions=function(a){for(var o=new Array(a.length),d=0,h=a.length;d<h;d++){var g=a[d],b=g.value,j=g.display;o[d]=this.dict.context.obj([b,j||b])}this.dict.set(PDFName.of("Opt"),this.dict.context.obj(o))},e.prototype.getOptions=function(){var a=this.Opt();if(a instanceof PDFString||a instanceof PDFHexString)return[{value:a,display:a}];if(a instanceof PDFArray){for(var o=[],d=0,h=a.size();d<h;d++){var g=a.lookup(d);if((g instanceof PDFString||g instanceof PDFHexString)&&o.push({value:g,display:g}),g instanceof PDFArray&&g.size()>0){var b=g.lookup(0,PDFString,PDFHexString),j=g.lookupMaybe(1,PDFString,PDFHexString);o.push({value:b,display:j||b})}}return o}return[]},e}(PDFAcroTerminal),PDFAcroComboBox=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.fromDict=function(a,o){return new e(a,o)},e.create=function(a){var o=a.obj({FT:"Ch",Ff:AcroChoiceFlags.Combo,Kids:[]}),d=a.register(o);return new e(o,d)},e}(PDFAcroChoice),PDFAcroNonTerminal=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.addField=function(a){var o=this.normalizedEntries().Kids;o==null||o.push(a)},e.prototype.normalizedEntries=function(){var a=this.Kids();return a||(a=this.dict.context.obj([]),this.dict.set(PDFName.of("Kids"),a)),{Kids:a}},e.fromDict=function(a,o){return new e(a,o)},e.create=function(a){var o=a.obj({}),d=a.register(o);return new e(o,d)},e}(PDFAcroField),PDFAcroSignature=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.fromDict=function(a,o){return new e(a,o)},e}(PDFAcroTerminal),PDFAcroText=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.MaxLen=function(){var a=this.dict.lookup(PDFName.of("MaxLen"));if(a instanceof PDFNumber)return a},e.prototype.Q=function(){var a=this.dict.lookup(PDFName.of("Q"));if(a instanceof PDFNumber)return a},e.prototype.setMaxLength=function(a){this.dict.set(PDFName.of("MaxLen"),PDFNumber.of(a))},e.prototype.removeMaxLength=function(){this.dict.delete(PDFName.of("MaxLen"))},e.prototype.getMaxLength=function(){var a;return(a=this.MaxLen())===null||a===void 0?void 0:a.asNumber()},e.prototype.setQuadding=function(a){this.dict.set(PDFName.of("Q"),PDFNumber.of(a))},e.prototype.getQuadding=function(){var a;return(a=this.Q())===null||a===void 0?void 0:a.asNumber()},e.prototype.setValue=function(a){this.dict.set(PDFName.of("V"),a)},e.prototype.removeValue=function(){this.dict.delete(PDFName.of("V"))},e.prototype.getValue=function(){var a=this.V();if(a instanceof PDFString||a instanceof PDFHexString)return a},e.fromDict=function(a,o){return new e(a,o)},e.create=function(a){var o=a.obj({FT:"Tx",Kids:[]}),d=a.register(o);return new e(o,d)},e}(PDFAcroTerminal),PDFAcroPushButton=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.fromDict=function(a,o){return new e(a,o)},e.create=function(a){var o=a.obj({FT:"Btn",Ff:AcroButtonFlags.PushButton,Kids:[]}),d=a.register(o);return new e(o,d)},e}(PDFAcroButton),PDFAcroRadioButton=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.setValue=function(a){var o=this.getOnValues();if(!o.includes(a)&&a!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),a);for(var d=this.getWidgets(),h=0,g=d.length;h<g;h++){var b=d[h],j=b.getOnValue()===a?a:PDFName.of("Off");b.setAppearanceState(j)}},e.prototype.getValue=function(){var a=this.V();return a instanceof PDFName?a:PDFName.of("Off")},e.prototype.getOnValues=function(){for(var a=this.getWidgets(),o=[],d=0,h=a.length;d<h;d++){var g=a[d].getOnValue();g&&o.push(g)}return o},e.fromDict=function(a,o){return new e(a,o)},e.create=function(a){var o=a.obj({FT:"Btn",Ff:AcroButtonFlags.Radio,Kids:[]}),d=a.register(o);return new e(o,d)},e}(PDFAcroButton),PDFAcroListBox=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.fromDict=function(a,o){return new e(a,o)},e.create=function(a){var o=a.obj({FT:"Ch",Kids:[]}),d=a.register(o);return new e(o,d)},e}(PDFAcroChoice),createPDFAcroFields=function(s){if(!s)return[];for(var e=[],a=0,o=s.size();a<o;a++){var d=s.get(a),h=s.lookup(a);d instanceof PDFRef&&h instanceof PDFDict&&e.push([createPDFAcroField(h,d),d])}return e},createPDFAcroField=function(s,e){var a=isNonTerminalAcroField(s);return a?PDFAcroNonTerminal.fromDict(s,e):createPDFAcroTerminal(s,e)},isNonTerminalAcroField=function(s){var e=s.lookup(PDFName.of("Kids"));if(e instanceof PDFArray)for(var a=0,o=e.size();a<o;a++){var d=e.lookup(a),h=d instanceof PDFDict&&d.has(PDFName.of("T"));if(h)return!0}return!1},createPDFAcroTerminal=function(s,e){var a=getInheritableAttribute(s,PDFName.of("FT")),o=s.context.lookup(a,PDFName);return o===PDFName.of("Btn")?createPDFAcroButton(s,e):o===PDFName.of("Ch")?createPDFAcroChoice(s,e):o===PDFName.of("Tx")?PDFAcroText.fromDict(s,e):o===PDFName.of("Sig")?PDFAcroSignature.fromDict(s,e):PDFAcroTerminal.fromDict(s,e)},createPDFAcroButton=function(s,e){var a,o=getInheritableAttribute(s,PDFName.of("Ff")),d=s.context.lookupMaybe(o,PDFNumber),h=(a=d==null?void 0:d.asNumber())!==null&&a!==void 0?a:0;return flagIsSet(h,AcroButtonFlags.PushButton)?PDFAcroPushButton.fromDict(s,e):flagIsSet(h,AcroButtonFlags.Radio)?PDFAcroRadioButton.fromDict(s,e):PDFAcroCheckBox.fromDict(s,e)},createPDFAcroChoice=function(s,e){var a,o=getInheritableAttribute(s,PDFName.of("Ff")),d=s.context.lookupMaybe(o,PDFNumber),h=(a=d==null?void 0:d.asNumber())!==null&&a!==void 0?a:0;return flagIsSet(h,AcroChoiceFlags.Combo)?PDFAcroComboBox.fromDict(s,e):PDFAcroListBox.fromDict(s,e)},flagIsSet=function(s,e){return(s&e)!==0},getInheritableAttribute=function(s,e){var a;return ascend(s,function(o){a||(a=o.get(e))}),a},ascend=function(s,e){e(s);var a=s.lookupMaybe(PDFName.of("Parent"),PDFDict);a&&ascend(a,e)},PDFAcroForm=function(){function s(e){this.dict=e}return s.prototype.Fields=function(){var e=this.dict.lookup(PDFName.of("Fields"));if(e instanceof PDFArray)return e},s.prototype.getFields=function(){for(var e=this.normalizedEntries().Fields,a=new Array(e.size()),o=0,d=e.size();o<d;o++){var h=e.get(o),g=e.lookup(o,PDFDict);a[o]=[createPDFAcroField(g,h),h]}return a},s.prototype.getAllFields=function(){var e=[],a=function(o){if(o)for(var d=0,h=o.length;d<h;d++){var g=o[d];e.push(g);var b=g[0];b instanceof PDFAcroNonTerminal&&a(createPDFAcroFields(b.Kids()))}};return a(this.getFields()),e},s.prototype.addField=function(e){var a=this.normalizedEntries().Fields;a==null||a.push(e)},s.prototype.removeField=function(e){var a=e.getParent(),o=a===void 0?this.normalizedEntries().Fields:a.Kids(),d=o==null?void 0:o.indexOf(e.ref);if(o===void 0||d===void 0)throw new Error("Tried to remove inexistent field "+e.getFullyQualifiedName());o.remove(d),a!==void 0&&o.size()===0&&this.removeField(a)},s.prototype.normalizedEntries=function(){var e=this.Fields();return e||(e=this.dict.context.obj([]),this.dict.set(PDFName.of("Fields"),e)),{Fields:e}},s.fromDict=function(e){return new s(e)},s.create=function(e){var a=e.obj({Fields:[]});return new s(a)},s}(),PDFCatalog=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.Pages=function(){return this.lookup(PDFName.of("Pages"),PDFDict)},e.prototype.AcroForm=function(){return this.lookupMaybe(PDFName.of("AcroForm"),PDFDict)},e.prototype.getAcroForm=function(){var a=this.AcroForm();if(a)return PDFAcroForm.fromDict(a)},e.prototype.getOrCreateAcroForm=function(){var a=this.getAcroForm();if(!a){a=PDFAcroForm.create(this.context);var o=this.context.register(a.dict);this.set(PDFName.of("AcroForm"),o)}return a},e.prototype.ViewerPreferences=function(){return this.lookupMaybe(PDFName.of("ViewerPreferences"),PDFDict)},e.prototype.getViewerPreferences=function(){var a=this.ViewerPreferences();if(a)return ViewerPreferences.fromDict(a)},e.prototype.getOrCreateViewerPreferences=function(){var a=this.getViewerPreferences();if(!a){a=ViewerPreferences.create(this.context);var o=this.context.register(a.dict);this.set(PDFName.of("ViewerPreferences"),o)}return a},e.prototype.insertLeafNode=function(a,o){var d=this.get(PDFName.of("Pages")),h=this.Pages().insertLeafNode(a,o);return h||d},e.prototype.removeLeafNode=function(a){this.Pages().removeLeafNode(a)},e.withContextAndPages=function(a,o){var d=new Map;return d.set(PDFName.of("Type"),PDFName.of("Catalog")),d.set(PDFName.of("Pages"),o),new e(d,a)},e.fromMapWithContext=function(a,o){return new e(a,o)},e}(PDFDict),PDFPageTree=function(s){__extends(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.prototype.Parent=function(){return this.lookup(PDFName.of("Parent"))},e.prototype.Kids=function(){return this.lookup(PDFName.of("Kids"),PDFArray)},e.prototype.Count=function(){return this.lookup(PDFName.of("Count"),PDFNumber)},e.prototype.pushTreeNode=function(a){var o=this.Kids();o.push(a)},e.prototype.pushLeafNode=function(a){var o=this.Kids();this.insertLeafKid(o.size(),a)},e.prototype.insertLeafNode=function(a,o){var d=this.Kids(),h=this.Count().asNumber();if(o>h)throw new InvalidTargetIndexError(o,h);for(var g=o,b=0,j=d.size();b<j;b++){if(g===0){this.insertLeafKid(b,a);return}var _=d.get(b),$=this.context.lookup(_);if($ instanceof e){if($.Count().asNumber()>g)return $.insertLeafNode(a,g)||_;g-=$.Count().asNumber()}$ instanceof PDFPageLeaf&&(g-=1)}if(g===0){this.insertLeafKid(d.size(),a);return}throw new CorruptPageTreeError(o,"insertLeafNode")},e.prototype.removeLeafNode=function(a,o){o===void 0&&(o=!0);var d=this.Kids(),h=this.Count().asNumber();if(a>=h)throw new InvalidTargetIndexError(a,h);for(var g=a,b=0,j=d.size();b<j;b++){var _=d.get(b),$=this.context.lookup(_);if($ instanceof e)if($.Count().asNumber()>g){$.removeLeafNode(g,o),o&&$.Kids().size()===0&&d.remove(b);return}else g-=$.Count().asNumber();if($ instanceof PDFPageLeaf)if(g===0){this.removeKid(b);return}else g-=1}throw new CorruptPageTreeError(a,"removeLeafNode")},e.prototype.ascend=function(a){a(this);var o=this.Parent();o&&o.ascend(a)},e.prototype.traverse=function(a){for(var o=this.Kids(),d=0,h=o.size();d<h;d++){var g=o.get(d),b=this.context.lookup(g);b instanceof e&&b.traverse(a),a(b,g)}},e.prototype.insertLeafKid=function(a,o){var d=this.Kids();this.ascend(function(h){var g=h.Count().asNumber()+1;h.set(PDFName.of("Count"),PDFNumber.of(g))}),d.insert(a,o)},e.prototype.removeKid=function(a){var o=this.Kids(),d=o.lookup(a);d instanceof PDFPageLeaf&&this.ascend(function(h){var g=h.Count().asNumber()-1;h.set(PDFName.of("Count"),PDFNumber.of(g))}),o.remove(a)},e.withContext=function(a,o){var d=new Map;return d.set(PDFName.of("Type"),PDFName.of("Pages")),d.set(PDFName.of("Kids"),a.obj([])),d.set(PDFName.of("Count"),a.obj(0)),o&&d.set(PDFName.of("Parent"),o),new e(d,a)},e.fromMapWithContext=function(a,o){return new e(a,o)},e}(PDFDict),IsDigit=new Uint8Array(256);IsDigit[CharCodes$1.Zero]=1;IsDigit[CharCodes$1.One]=1;IsDigit[CharCodes$1.Two]=1;IsDigit[CharCodes$1.Three]=1;IsDigit[CharCodes$1.Four]=1;IsDigit[CharCodes$1.Five]=1;IsDigit[CharCodes$1.Six]=1;IsDigit[CharCodes$1.Seven]=1;IsDigit[CharCodes$1.Eight]=1;IsDigit[CharCodes$1.Nine]=1;var IsNumericPrefix=new Uint8Array(256);IsNumericPrefix[CharCodes$1.Period]=1;IsNumericPrefix[CharCodes$1.Plus]=1;IsNumericPrefix[CharCodes$1.Minus]=1;var IsNumeric=new Uint8Array(256);for(var idx=0,len=256;idx<len;idx++)IsNumeric[idx]=IsDigit[idx]||IsNumericPrefix[idx]?1:0;var Newline$1=CharCodes$1.Newline,CarriageReturn$1=CharCodes$1.CarriageReturn,BaseParser=function(){function s(e,a){a===void 0&&(a=!1),this.bytes=e,this.capNumbers=a}return s.prototype.parseRawInt=function(){for(var e="";!this.bytes.done();){var a=this.bytes.peek();if(!IsDigit[a])break;e+=charFromCode(this.bytes.next())}var o=Number(e);if(!e||!isFinite(o))throw new NumberParsingError(this.bytes.position(),e);return o},s.prototype.parseRawNumber=function(){for(var e="";!this.bytes.done();){var a=this.bytes.peek();if(!IsNumeric[a]||(e+=charFromCode(this.bytes.next()),a===CharCodes$1.Period))break}for(;!this.bytes.done();){var a=this.bytes.peek();if(!IsDigit[a])break;e+=charFromCode(this.bytes.next())}var o=Number(e);if(!e||!isFinite(o))throw new NumberParsingError(this.bytes.position(),e);if(o>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var d="Parsed number that is too large for some PDF readers: "+e+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(d),Number.MAX_SAFE_INTEGER}else{var d="Parsed number that is too large for some PDF readers: "+e+", not capping.";console.warn(d)}return o},s.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&IsWhitespace[this.bytes.peek()];)this.bytes.next()},s.prototype.skipLine=function(){for(;!this.bytes.done();){var e=this.bytes.peek();if(e===Newline$1||e===CarriageReturn$1)return;this.bytes.next()}},s.prototype.skipComment=function(){if(this.bytes.peek()!==CharCodes$1.Percent)return!1;for(;!this.bytes.done();){var e=this.bytes.peek();if(e===Newline$1||e===CarriageReturn$1)return!0;this.bytes.next()}return!0},s.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},s.prototype.matchKeyword=function(e){for(var a=this.bytes.offset(),o=0,d=e.length;o<d;o++)if(this.bytes.done()||this.bytes.next()!==e[o])return this.bytes.moveTo(a),!1;return!0},s}(),ByteStream=function(){function s(e){this.idx=0,this.line=0,this.column=0,this.bytes=e,this.length=this.bytes.length}return s.prototype.moveTo=function(e){this.idx=e},s.prototype.next=function(){var e=this.bytes[this.idx++];return e===CharCodes$1.Newline?(this.line+=1,this.column=0):this.column+=1,e},s.prototype.assertNext=function(e){if(this.peek()!==e)throw new NextByteAssertionError(this.position(),e,this.peek());return this.next()},s.prototype.peek=function(){return this.bytes[this.idx]},s.prototype.peekAhead=function(e){return this.bytes[this.idx+e]},s.prototype.peekAt=function(e){return this.bytes[e]},s.prototype.done=function(){return this.idx>=this.length},s.prototype.offset=function(){return this.idx},s.prototype.slice=function(e,a){return this.bytes.slice(e,a)},s.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},s.of=function(e){return new s(e)},s.fromPDFRawStream=function(e){return s.of(decodePDFRawStream(e).decode())},s}(),Space=CharCodes$1.Space,CarriageReturn=CharCodes$1.CarriageReturn,Newline=CharCodes$1.Newline,stream=[CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],endstream=[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],Keywords={header:[CharCodes$1.Percent,CharCodes$1.P,CharCodes$1.D,CharCodes$1.F,CharCodes$1.Dash],eof:[CharCodes$1.Percent,CharCodes$1.Percent,CharCodes$1.E,CharCodes$1.O,CharCodes$1.F],obj:[CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],endobj:[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],xref:[CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],trailer:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.a,CharCodes$1.i,CharCodes$1.l,CharCodes$1.e,CharCodes$1.r],startxref:[CharCodes$1.s,CharCodes$1.t,CharCodes$1.a,CharCodes$1.r,CharCodes$1.t,CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],true:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.u,CharCodes$1.e],false:[CharCodes$1.f,CharCodes$1.a,CharCodes$1.l,CharCodes$1.s,CharCodes$1.e],null:[CharCodes$1.n,CharCodes$1.u,CharCodes$1.l,CharCodes$1.l],stream,streamEOF1:__spreadArrays(stream,[Space,CarriageReturn,Newline]),streamEOF2:__spreadArrays(stream,[CarriageReturn,Newline]),streamEOF3:__spreadArrays(stream,[CarriageReturn]),streamEOF4:__spreadArrays(stream,[Newline]),endstream,EOF1endstream:__spreadArrays([CarriageReturn,Newline],endstream),EOF2endstream:__spreadArrays([CarriageReturn],endstream),EOF3endstream:__spreadArrays([Newline],endstream)},PDFObjectParser=function(s){__extends(e,s);function e(a,o,d){d===void 0&&(d=!1);var h=s.call(this,a,d)||this;return h.context=o,h}return e.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.true))return PDFBool.True;if(this.matchKeyword(Keywords.false))return PDFBool.False;if(this.matchKeyword(Keywords.null))return PDFNull$1;var a=this.bytes.peek();if(a===CharCodes$1.LessThan&&this.bytes.peekAhead(1)===CharCodes$1.LessThan)return this.parseDictOrStream();if(a===CharCodes$1.LessThan)return this.parseHexString();if(a===CharCodes$1.LeftParen)return this.parseString();if(a===CharCodes$1.ForwardSlash)return this.parseName();if(a===CharCodes$1.LeftSquareBracket)return this.parseArray();if(IsNumeric[a])return this.parseNumberOrRef();throw new PDFObjectParsingError(this.bytes.position(),a)},e.prototype.parseNumberOrRef=function(){var a=this.parseRawNumber();this.skipWhitespaceAndComments();var o=this.bytes.offset();if(IsDigit[this.bytes.peek()]){var d=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===CharCodes$1.R)return this.bytes.assertNext(CharCodes$1.R),PDFRef.of(a,d)}return this.bytes.moveTo(o),PDFNumber.of(a)},e.prototype.parseHexString=function(){var a="";for(this.bytes.assertNext(CharCodes$1.LessThan);!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan;)a+=charFromCode(this.bytes.next());return this.bytes.assertNext(CharCodes$1.GreaterThan),PDFHexString.of(a)},e.prototype.parseString=function(){for(var a=0,o=!1,d="";!this.bytes.done();){var h=this.bytes.next();if(d+=charFromCode(h),o||(h===CharCodes$1.LeftParen&&(a+=1),h===CharCodes$1.RightParen&&(a-=1)),h===CharCodes$1.BackSlash?o=!o:o&&(o=!1),a===0)return PDFString.of(d.substring(1,d.length-1))}throw new UnbalancedParenthesisError(this.bytes.position())},e.prototype.parseName=function(){this.bytes.assertNext(CharCodes$1.ForwardSlash);for(var a="";!this.bytes.done();){var o=this.bytes.peek();if(IsWhitespace[o]||IsDelimiter[o])break;a+=charFromCode(o),this.bytes.next()}return PDFName.of(a)},e.prototype.parseArray=function(){this.bytes.assertNext(CharCodes$1.LeftSquareBracket),this.skipWhitespaceAndComments();for(var a=PDFArray.withContext(this.context);this.bytes.peek()!==CharCodes$1.RightSquareBracket;){var o=this.parseObject();a.push(o),this.skipWhitespaceAndComments()}return this.bytes.assertNext(CharCodes$1.RightSquareBracket),a},e.prototype.parseDict=function(){this.bytes.assertNext(CharCodes$1.LessThan),this.bytes.assertNext(CharCodes$1.LessThan),this.skipWhitespaceAndComments();for(var a=new Map;!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan&&this.bytes.peekAhead(1)!==CharCodes$1.GreaterThan;){var o=this.parseName(),d=this.parseObject();a.set(o,d),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(CharCodes$1.GreaterThan),this.bytes.assertNext(CharCodes$1.GreaterThan);var h=a.get(PDFName.of("Type"));return h===PDFName.of("Catalog")?PDFCatalog.fromMapWithContext(a,this.context):h===PDFName.of("Pages")?PDFPageTree.fromMapWithContext(a,this.context):h===PDFName.of("Page")?PDFPageLeaf.fromMapWithContext(a,this.context):PDFDict.fromMapWithContext(a,this.context)},e.prototype.parseDictOrStream=function(){var a=this.bytes.position(),o=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.streamEOF1)&&!this.matchKeyword(Keywords.streamEOF2)&&!this.matchKeyword(Keywords.streamEOF3)&&!this.matchKeyword(Keywords.streamEOF4)&&!this.matchKeyword(Keywords.stream))return o;var d=this.bytes.offset(),h,g=o.get(PDFName.of("Length"));g instanceof PDFNumber?(h=d+g.asNumber(),this.bytes.moveTo(h),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endstream)||(this.bytes.moveTo(d),h=this.findEndOfStreamFallback(a))):h=this.findEndOfStreamFallback(a);var b=this.bytes.slice(d,h);return PDFRawStream.of(o,b)},e.prototype.findEndOfStreamFallback=function(a){for(var o=1,d=this.bytes.offset();!this.bytes.done()&&(d=this.bytes.offset(),this.matchKeyword(Keywords.stream)?o+=1:this.matchKeyword(Keywords.EOF1endstream)||this.matchKeyword(Keywords.EOF2endstream)||this.matchKeyword(Keywords.EOF3endstream)||this.matchKeyword(Keywords.endstream)?o-=1:this.bytes.next(),o!==0););if(o!==0)throw new PDFStreamParsingError(a);return d},e.forBytes=function(a,o,d){return new e(ByteStream.of(a),o,d)},e.forByteStream=function(a,o,d){return d===void 0&&(d=!1),new e(a,o,d)},e}(BaseParser),PDFObjectStreamParser=function(s){__extends(e,s);function e(a,o){var d=s.call(this,ByteStream.fromPDFRawStream(a),a.dict.context)||this,h=a.dict;return d.alreadyParsed=!1,d.shouldWaitForTick=o||function(){return!1},d.firstOffset=h.lookup(PDFName.of("First"),PDFNumber).asNumber(),d.objectCount=h.lookup(PDFName.of("N"),PDFNumber).asNumber(),d}return e.prototype.parseIntoContext=function(){return __awaiter(this,void 0,void 0,function(){var a,o,d,h,g,b,j,_;return __generator(this,function($){switch($.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,a=this.parseOffsetsAndObjectNumbers(),o=0,d=a.length,$.label=1;case 1:return o<d?(h=a[o],g=h.objectNumber,b=h.offset,this.bytes.moveTo(this.firstOffset+b),j=this.parseObject(),_=PDFRef.of(g,0),this.context.assign(_,j),this.shouldWaitForTick()?[4,waitForTick()]:[3,3]):[3,4];case 2:$.sent(),$.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.parseOffsetsAndObjectNumbers=function(){for(var a=[],o=0,d=this.objectCount;o<d;o++){this.skipWhitespaceAndComments();var h=this.parseRawInt();this.skipWhitespaceAndComments();var g=this.parseRawInt();a.push({objectNumber:h,offset:g})}return a},e.forStream=function(a,o){return new e(a,o)},e}(PDFObjectParser),PDFXRefStreamParser=function(){function s(e){this.alreadyParsed=!1,this.dict=e.dict,this.bytes=ByteStream.fromPDFRawStream(e),this.context=this.dict.context;var a=this.dict.lookup(PDFName.of("Size"),PDFNumber),o=this.dict.lookup(PDFName.of("Index"));if(o instanceof PDFArray){this.subsections=[];for(var d=0,h=o.size();d<h;d+=2){var g=o.lookup(d+0,PDFNumber).asNumber(),b=o.lookup(d+1,PDFNumber).asNumber();this.subsections.push({firstObjectNumber:g,length:b})}}else this.subsections=[{firstObjectNumber:0,length:a.asNumber()}];var j=this.dict.lookup(PDFName.of("W"),PDFArray);this.byteWidths=[-1,-1,-1];for(var d=0,h=j.size();d<h;d++)this.byteWidths[d]=j.lookup(d,PDFNumber).asNumber()}return s.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new ReparseError("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(PDFName.of("Root")),Encrypt:this.dict.get(PDFName.of("Encrypt")),Info:this.dict.get(PDFName.of("Info")),ID:this.dict.get(PDFName.of("ID"))};var e=this.parseEntries();return e},s.prototype.parseEntries=function(){for(var e=[],a=this.byteWidths,o=a[0],d=a[1],h=a[2],g=0,b=this.subsections.length;g<b;g++)for(var j=this.subsections[g],_=j.firstObjectNumber,$=j.length,_e=0;_e<$;_e++){for(var et=0,tt=0,nt=o;tt<nt;tt++)et=et<<8|this.bytes.next();for(var it=0,tt=0,nt=d;tt<nt;tt++)it=it<<8|this.bytes.next();for(var st=0,tt=0,nt=h;tt<nt;tt++)st=st<<8|this.bytes.next();o===0&&(et=1);var rt=_+_e,at={ref:PDFRef.of(rt,st),offset:it,deleted:et===0,inObjectStream:et===2};e.push(at)}return e},s.forStream=function(e){return new s(e)},s}(),PDFParser=function(s){__extends(e,s);function e(a,o,d,h){o===void 0&&(o=1/0),d===void 0&&(d=!1),h===void 0&&(h=!1);var g=s.call(this,ByteStream.of(a),PDFContext.create(),h)||this;return g.alreadyParsed=!1,g.parsedObjects=0,g.shouldWaitForTick=function(){return g.parsedObjects+=1,g.parsedObjects%g.objectsPerTick===0},g.objectsPerTick=o,g.throwOnInvalidObject=d,g}return e.prototype.parseDocument=function(){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(d){switch(d.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),d.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(d.sent(),o=this.bytes.offset(),o===a)throw new StalledParserError(this.bytes.position());return a=o,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(PDFRef.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(PDFRef.of(0))),[2,this.context]}})})},e.prototype.maybeRecoverRoot=function(){var a=function($){return $ instanceof PDFDict&&$.lookup(PDFName.of("Type"))===PDFName.of("Catalog")},o=this.context.lookup(this.context.trailerInfo.Root);if(!a(o))for(var d=this.context.enumerateIndirectObjects(),h=0,g=d.length;h<g;h++){var b=d[h],j=b[0],_=b[1];a(_)&&(this.context.trailerInfo.Root=j)}},e.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Keywords.header)){var a=this.parseRawInt();this.bytes.assertNext(CharCodes$1.Period);var o=this.parseRawInt(),d=PDFHeader.forVersion(a,o);return this.skipBinaryHeaderComment(),d}this.bytes.next()}throw new MissingPDFHeaderError(this.bytes.position())},e.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var a=this.parseRawInt();this.skipWhitespaceAndComments();var o=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.obj))throw new MissingKeywordError(this.bytes.position(),Keywords.obj);return PDFRef.of(a,o)},e.prototype.matchIndirectObjectHeader=function(){var a=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(a),!1}},e.prototype.parseIndirectObject=function(){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(d){switch(d.label){case 0:return a=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),o=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endobj),o instanceof PDFRawStream&&o.dict.lookup(PDFName.of("Type"))===PDFName.of("ObjStm")?[4,PDFObjectStreamParser.forStream(o,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return d.sent(),[3,3];case 2:o instanceof PDFRawStream&&o.dict.lookup(PDFName.of("Type"))===PDFName.of("XRef")?PDFXRefStreamParser.forStream(o).parseIntoContext():this.context.assign(a,o),d.label=3;case 3:return[2,a]}})})},e.prototype.tryToParseInvalidIndirectObject=function(){var a=this.bytes.position(),o="Trying to parse invalid object: "+JSON.stringify(a)+")";if(this.throwOnInvalidObject)throw new Error(o);console.warn(o);var d=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+d),this.skipWhitespaceAndComments();for(var h=this.bytes.offset(),g=!0;!this.bytes.done()&&(this.matchKeyword(Keywords.endobj)&&(g=!1),!!g);)this.bytes.next();if(g)throw new PDFInvalidObjectParsingError(a);var b=this.bytes.offset()-Keywords.endobj.length,j=PDFInvalidObject.of(this.bytes.slice(h,b));return this.context.assign(d,j),d},e.prototype.parseIndirectObjects=function(){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:this.skipWhitespaceAndComments(),o.label=1;case 1:if(!(!this.bytes.done()&&IsDigit[this.bytes.peek()]))return[3,8];a=this.bytes.offset(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return o.sent(),[3,5];case 4:return o.sent(),this.bytes.moveTo(a),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,waitForTick()]:[3,7];case 6:o.sent(),o.label=7;case 7:return[3,1];case 8:return[2]}})})},e.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.xref)){this.skipWhitespaceAndComments();for(var a=-1,o=PDFCrossRefSection.createEmpty();!this.bytes.done()&&IsDigit[this.bytes.peek()];){var d=this.parseRawInt();this.skipWhitespaceAndComments();var h=this.parseRawInt();this.skipWhitespaceAndComments();var g=this.bytes.peek();if(g===CharCodes$1.n||g===CharCodes$1.f){var b=PDFRef.of(a,h);this.bytes.next()===CharCodes$1.n?o.addEntry(b,d):o.addDeletedEntry(b,d),a+=1}else a=d;this.skipWhitespaceAndComments()}return o}},e.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.trailer)){this.skipWhitespaceAndComments();var a=this.parseDict(),o=this.context;o.trailerInfo={Root:a.get(PDFName.of("Root"))||o.trailerInfo.Root,Encrypt:a.get(PDFName.of("Encrypt"))||o.trailerInfo.Encrypt,Info:a.get(PDFName.of("Info"))||o.trailerInfo.Info,ID:a.get(PDFName.of("ID"))||o.trailerInfo.ID}}},e.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.startxref)){this.skipWhitespaceAndComments();var a=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),PDFTrailer.forLastCrossRefSectionOffset(a)}},e.prototype.parseDocumentSection=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(a){switch(a.label){case 0:return[4,this.parseIndirectObjects()];case 1:return a.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},e.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var a=this.bytes.offset(),o=this.bytes.peek(),d=o>=CharCodes$1.Space&&o<=CharCodes$1.Tilde;if(d&&(this.matchKeyword(Keywords.xref)||this.matchKeyword(Keywords.trailer)||this.matchKeyword(Keywords.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(a);break}this.bytes.next()}},e.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var a=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(a)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},e.forBytesWithOptions=function(a,o,d,h){return new e(a,o,d,h)},e}(PDFObjectParser),flag=function(s){return 1<<s},AnnotationFlags;(function(s){s[s.Invisible=flag(0)]="Invisible",s[s.Hidden=flag(1)]="Hidden",s[s.Print=flag(2)]="Print",s[s.NoZoom=flag(3)]="NoZoom",s[s.NoRotate=flag(4)]="NoRotate",s[s.NoView=flag(5)]="NoView",s[s.ReadOnly=flag(6)]="ReadOnly",s[s.Locked=flag(7)]="Locked",s[s.ToggleNoView=flag(8)]="ToggleNoView",s[s.LockedContents=flag(9)]="LockedContents"})(AnnotationFlags||(AnnotationFlags={}));var asPDFName=function(s){return s instanceof PDFName?s:PDFName.of(s)},asPDFNumber=function(s){return s instanceof PDFNumber?s:PDFNumber.of(s)},asNumber=function(s){return s instanceof PDFNumber?s.asNumber():s},RotationTypes;(function(s){s.Degrees="degrees",s.Radians="radians"})(RotationTypes||(RotationTypes={}));var degrees=function(s){return assertIs(s,"degreeAngle",["number"]),{type:RotationTypes.Degrees,angle:s}},Radians=RotationTypes.Radians,Degrees=RotationTypes.Degrees,degreesToRadians=function(s){return s*Math.PI/180},radiansToDegrees=function(s){return s*180/Math.PI},toRadians=function(s){return s.type===Radians?s.angle:s.type===Degrees?degreesToRadians(s.angle):error("Invalid rotation: "+JSON.stringify(s))},toDegrees=function(s){return s.type===Radians?radiansToDegrees(s.angle):s.type===Degrees?s.angle:error("Invalid rotation: "+JSON.stringify(s))},reduceRotation=function(s){s===void 0&&(s=0);var e=s/90%4;return e===0?0:e===1?90:e===2?180:e===3?270:0},adjustDimsForRotation=function(s,e){e===void 0&&(e=0);var a=reduceRotation(e);return a===90||a===270?{width:s.height,height:s.width}:{width:s.width,height:s.height}},rotateRectangle=function(s,e,a){e===void 0&&(e=0),a===void 0&&(a=0);var o=s.x,d=s.y,h=s.width,g=s.height,b=reduceRotation(a),j=e/2;return b===0?{x:o-j,y:d-j,width:h,height:g}:b===90?{x:o-g+j,y:d-j,width:g,height:h}:b===180?{x:o-h+j,y:d-g+j,width:h,height:g}:b===270?{x:o-j,y:d-h+j,width:g,height:h}:{x:o-j,y:d-j,width:h,height:g}},clip=function(){return PDFOperator.of(Ops.ClipNonZero)},cos=Math.cos,sin=Math.sin,tan=Math.tan,concatTransformationMatrix=function(s,e,a,o,d,h){return PDFOperator.of(Ops.ConcatTransformationMatrix,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(a),asPDFNumber(o),asPDFNumber(d),asPDFNumber(h)])},translate=function(s,e){return concatTransformationMatrix(1,0,0,1,s,e)},scale=function(s,e){return concatTransformationMatrix(s,0,0,e,0,0)},rotateRadians=function(s){return concatTransformationMatrix(cos(asNumber(s)),sin(asNumber(s)),-sin(asNumber(s)),cos(asNumber(s)),0,0)},rotateDegrees=function(s){return rotateRadians(degreesToRadians(asNumber(s)))},skewRadians=function(s,e){return concatTransformationMatrix(1,tan(asNumber(s)),tan(asNumber(e)),1,0,0)},setDashPattern=function(s,e){return PDFOperator.of(Ops.SetLineDashPattern,["["+s.map(asPDFNumber).join(" ")+"]",asPDFNumber(e)])},LineCapStyle;(function(s){s[s.Butt=0]="Butt",s[s.Round=1]="Round",s[s.Projecting=2]="Projecting"})(LineCapStyle||(LineCapStyle={}));var setLineCap=function(s){return PDFOperator.of(Ops.SetLineCapStyle,[asPDFNumber(s)])},LineJoinStyle;(function(s){s[s.Miter=0]="Miter",s[s.Round=1]="Round",s[s.Bevel=2]="Bevel"})(LineJoinStyle||(LineJoinStyle={}));var setGraphicsState=function(s){return PDFOperator.of(Ops.SetGraphicsStateParams,[asPDFName(s)])},pushGraphicsState=function(){return PDFOperator.of(Ops.PushGraphicsState)},popGraphicsState=function(){return PDFOperator.of(Ops.PopGraphicsState)},setLineWidth=function(s){return PDFOperator.of(Ops.SetLineWidth,[asPDFNumber(s)])},appendBezierCurve=function(s,e,a,o,d,h){return PDFOperator.of(Ops.AppendBezierCurve,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(a),asPDFNumber(o),asPDFNumber(d),asPDFNumber(h)])},appendQuadraticCurve=function(s,e,a,o){return PDFOperator.of(Ops.CurveToReplicateInitialPoint,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(a),asPDFNumber(o)])},closePath=function(){return PDFOperator.of(Ops.ClosePath)},moveTo=function(s,e){return PDFOperator.of(Ops.MoveTo,[asPDFNumber(s),asPDFNumber(e)])},lineTo=function(s,e){return PDFOperator.of(Ops.LineTo,[asPDFNumber(s),asPDFNumber(e)])},stroke=function(){return PDFOperator.of(Ops.StrokePath)},fill=function(){return PDFOperator.of(Ops.FillNonZero)},fillAndStroke=function(){return PDFOperator.of(Ops.FillNonZeroAndStroke)},endPath=function(){return PDFOperator.of(Ops.EndPath)},nextLine=function(){return PDFOperator.of(Ops.NextLine)},showText=function(s){return PDFOperator.of(Ops.ShowText,[s])},beginText=function(){return PDFOperator.of(Ops.BeginText)},endText=function(){return PDFOperator.of(Ops.EndText)},setFontAndSize=function(s,e){return PDFOperator.of(Ops.SetFontAndSize,[asPDFName(s),asPDFNumber(e)])},setLineHeight=function(s){return PDFOperator.of(Ops.SetTextLineHeight,[asPDFNumber(s)])},TextRenderingMode;(function(s){s[s.Fill=0]="Fill",s[s.Outline=1]="Outline",s[s.FillAndOutline=2]="FillAndOutline",s[s.Invisible=3]="Invisible",s[s.FillAndClip=4]="FillAndClip",s[s.OutlineAndClip=5]="OutlineAndClip",s[s.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",s[s.Clip=7]="Clip"})(TextRenderingMode||(TextRenderingMode={}));var setTextMatrix=function(s,e,a,o,d,h){return PDFOperator.of(Ops.SetTextMatrix,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(a),asPDFNumber(o),asPDFNumber(d),asPDFNumber(h)])},rotateAndSkewTextRadiansAndTranslate=function(s,e,a,o,d){return setTextMatrix(cos(asNumber(s)),sin(asNumber(s))+tan(asNumber(e)),-sin(asNumber(s))+tan(asNumber(a)),cos(asNumber(s)),o,d)},drawObject=function(s){return PDFOperator.of(Ops.DrawObject,[asPDFName(s)])},setFillingGrayscaleColor=function(s){return PDFOperator.of(Ops.NonStrokingColorGray,[asPDFNumber(s)])},setStrokingGrayscaleColor=function(s){return PDFOperator.of(Ops.StrokingColorGray,[asPDFNumber(s)])},setFillingRgbColor=function(s,e,a){return PDFOperator.of(Ops.NonStrokingColorRgb,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(a)])},setStrokingRgbColor=function(s,e,a){return PDFOperator.of(Ops.StrokingColorRgb,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(a)])},setFillingCmykColor=function(s,e,a,o){return PDFOperator.of(Ops.NonStrokingColorCmyk,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(a),asPDFNumber(o)])},setStrokingCmykColor=function(s,e,a,o){return PDFOperator.of(Ops.StrokingColorCmyk,[asPDFNumber(s),asPDFNumber(e),asPDFNumber(a),asPDFNumber(o)])},beginMarkedContent=function(s){return PDFOperator.of(Ops.BeginMarkedContent,[asPDFName(s)])},endMarkedContent=function(){return PDFOperator.of(Ops.EndMarkedContent)},ColorTypes;(function(s){s.Grayscale="Grayscale",s.RGB="RGB",s.CMYK="CMYK"})(ColorTypes||(ColorTypes={}));var grayscale=function(s){return assertRange(s,"gray",0,1),{type:ColorTypes.Grayscale,gray:s}},rgb=function(s,e,a){return assertRange(s,"red",0,1),assertRange(e,"green",0,1),assertRange(a,"blue",0,1),{type:ColorTypes.RGB,red:s,green:e,blue:a}},cmyk=function(s,e,a,o){return assertRange(s,"cyan",0,1),assertRange(e,"magenta",0,1),assertRange(a,"yellow",0,1),assertRange(o,"key",0,1),{type:ColorTypes.CMYK,cyan:s,magenta:e,yellow:a,key:o}},Grayscale=ColorTypes.Grayscale,RGB=ColorTypes.RGB,CMYK=ColorTypes.CMYK,setFillingColor=function(s){return s.type===Grayscale?setFillingGrayscaleColor(s.gray):s.type===RGB?setFillingRgbColor(s.red,s.green,s.blue):s.type===CMYK?setFillingCmykColor(s.cyan,s.magenta,s.yellow,s.key):error("Invalid color: "+JSON.stringify(s))},setStrokingColor=function(s){return s.type===Grayscale?setStrokingGrayscaleColor(s.gray):s.type===RGB?setStrokingRgbColor(s.red,s.green,s.blue):s.type===CMYK?setStrokingCmykColor(s.cyan,s.magenta,s.yellow,s.key):error("Invalid color: "+JSON.stringify(s))},componentsToColor=function(s,e){return e===void 0&&(e=1),(s==null?void 0:s.length)===1?grayscale(s[0]*e):(s==null?void 0:s.length)===3?rgb(s[0]*e,s[1]*e,s[2]*e):(s==null?void 0:s.length)===4?cmyk(s[0]*e,s[1]*e,s[2]*e,s[3]*e):void 0},colorToComponents=function(s){return s.type===Grayscale?[s.gray]:s.type===RGB?[s.red,s.green,s.blue]:s.type===CMYK?[s.cyan,s.magenta,s.yellow,s.key]:error("Invalid color: "+JSON.stringify(s))},cx=0,cy=0,px=0,py=0,sx=0,sy=0,parameters=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),parse=function(s){for(var e,a=[],o=[],d="",h=!1,g=0,b=0,j=s;b<j.length;b++){var _=j[b];if(parameters.has(_))g=parameters.get(_),e&&(d.length>0&&(o[o.length]=+d),a[a.length]={cmd:e,args:o},o=[],d="",h=!1),e=_;else if([" ",","].includes(_)||_==="-"&&d.length>0&&d[d.length-1]!=="e"||_==="."&&h){if(d.length===0)continue;o.length===g?(a[a.length]={cmd:e,args:o},o=[+d],e==="M"&&(e="L"),e==="m"&&(e="l")):o[o.length]=+d,h=_===".",d=["-","."].includes(_)?_:""}else d+=_,_==="."&&(h=!0)}return d.length>0&&(o.length===g?(a[a.length]={cmd:e,args:o},o=[+d],e==="M"&&(e="L"),e==="m"&&(e="l")):o[o.length]=+d),a[a.length]={cmd:e,args:o},a},apply=function(s){cx=cy=px=py=sx=sy=0;for(var e=[],a=0;a<s.length;a++){var o=s[a];if(o.cmd&&typeof runners[o.cmd]=="function"){var d=runners[o.cmd](o.args);Array.isArray(d)?e=e.concat(d):e.push(d)}}return e},runners={M:function(s){return cx=s[0],cy=s[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},m:function(s){return cx+=s[0],cy+=s[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},C:function(s){return cx=s[4],cy=s[5],px=s[2],py=s[3],appendBezierCurve(s[0],s[1],s[2],s[3],s[4],s[5])},c:function(s){var e=appendBezierCurve(s[0]+cx,s[1]+cy,s[2]+cx,s[3]+cy,s[4]+cx,s[5]+cy);return px=cx+s[2],py=cy+s[3],cx+=s[4],cy+=s[5],e},S:function(s){(px===null||py===null)&&(px=cx,py=cy);var e=appendBezierCurve(cx-(px-cx),cy-(py-cy),s[0],s[1],s[2],s[3]);return px=s[0],py=s[1],cx=s[2],cy=s[3],e},s:function(s){(px===null||py===null)&&(px=cx,py=cy);var e=appendBezierCurve(cx-(px-cx),cy-(py-cy),cx+s[0],cy+s[1],cx+s[2],cy+s[3]);return px=cx+s[0],py=cy+s[1],cx+=s[2],cy+=s[3],e},Q:function(s){return px=s[0],py=s[1],cx=s[2],cy=s[3],appendQuadraticCurve(s[0],s[1],cx,cy)},q:function(s){var e=appendQuadraticCurve(s[0]+cx,s[1]+cy,s[2]+cx,s[3]+cy);return px=cx+s[0],py=cy+s[1],cx+=s[2],cy+=s[3],e},T:function(s){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var e=appendQuadraticCurve(px,py,s[0],s[1]);return px=cx-(px-cx),py=cy-(py-cy),cx=s[0],cy=s[1],e},t:function(s){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var e=appendQuadraticCurve(px,py,cx+s[0],cy+s[1]);return cx+=s[0],cy+=s[1],e},A:function(s){var e=solveArc(cx,cy,s);return cx=s[5],cy=s[6],e},a:function(s){s[5]+=cx,s[6]+=cy;var e=solveArc(cx,cy,s);return cx=s[5],cy=s[6],e},L:function(s){return cx=s[0],cy=s[1],px=py=null,lineTo(cx,cy)},l:function(s){return cx+=s[0],cy+=s[1],px=py=null,lineTo(cx,cy)},H:function(s){return cx=s[0],px=py=null,lineTo(cx,cy)},h:function(s){return cx+=s[0],px=py=null,lineTo(cx,cy)},V:function(s){return cy=s[0],px=py=null,lineTo(cx,cy)},v:function(s){return cy+=s[0],px=py=null,lineTo(cx,cy)},Z:function(){var s=closePath();return cx=sx,cy=sy,s},z:function(){var s=closePath();return cx=sx,cy=sy,s}},solveArc=function(s,e,a){for(var o=a[0],d=a[1],h=a[2],g=a[3],b=a[4],j=a[5],_=a[6],$=arcToSegments(j,_,o,d,g,b,h,s,e),_e=[],et=0,tt=$;et<tt.length;et++){var nt=tt[et],it=segmentToBezier.apply(void 0,nt);_e.push(appendBezierCurve.apply(void 0,it))}return _e},arcToSegments=function(s,e,a,o,d,h,g,b,j){var _=g*(Math.PI/180),$=Math.sin(_),_e=Math.cos(_);a=Math.abs(a),o=Math.abs(o),px=_e*(b-s)*.5+$*(j-e)*.5,py=_e*(j-e)*.5-$*(b-s)*.5;var et=px*px/(a*a)+py*py/(o*o);et>1&&(et=Math.sqrt(et),a*=et,o*=et);var tt=_e/a,nt=$/a,it=-$/o,st=_e/o,rt=tt*b+nt*j,at=it*b+st*j,ht=tt*s+nt*e,ft=it*s+st*e,ot=(ht-rt)*(ht-rt)+(ft-at)*(ft-at),ut=1/ot-.25;ut<0&&(ut=0);var ct=Math.sqrt(ut);h===d&&(ct=-ct);var dt=.5*(rt+ht)-ct*(ft-at),vt=.5*(at+ft)+ct*(ht-rt),Et=Math.atan2(at-vt,rt-dt),pt=Math.atan2(ft-vt,ht-dt),bt=pt-Et;bt<0&&h===1?bt+=2*Math.PI:bt>0&&h===0&&(bt-=2*Math.PI);for(var Ct=Math.ceil(Math.abs(bt/(Math.PI*.5+.001))),Bt=[],jt=0;jt<Ct;jt++){var Ft=Et+jt*bt/Ct,wt=Et+(jt+1)*bt/Ct;Bt[jt]=[dt,vt,Ft,wt,a,o,$,_e]}return Bt},segmentToBezier=function(s,e,a,o,d,h,g,b){var j=b*d,_=-g*h,$=g*d,_e=b*h,et=.5*(o-a),tt=8/3*Math.sin(et*.5)*Math.sin(et*.5)/Math.sin(et),nt=s+Math.cos(a)-tt*Math.sin(a),it=e+Math.sin(a)+tt*Math.cos(a),st=s+Math.cos(o),rt=e+Math.sin(o),at=st+tt*Math.sin(o),ht=rt-tt*Math.cos(o),ft=[j*nt+_*it,$*nt+_e*it,j*at+_*ht,$*at+_e*ht,j*st+_*rt,$*st+_e*rt];return ft},svgPathToOperators=function(s){return apply(parse(s))},drawLinesOfText=function(s,e){for(var a=[pushGraphicsState(),e.graphicsState&&setGraphicsState(e.graphicsState),beginText(),setFillingColor(e.color),setFontAndSize(e.font,e.size),setLineHeight(e.lineHeight),rotateAndSkewTextRadiansAndTranslate(toRadians(e.rotate),toRadians(e.xSkew),toRadians(e.ySkew),e.x,e.y)].filter(Boolean),o=0,d=s.length;o<d;o++)a.push(showText(s[o]),nextLine());return a.push(endText(),popGraphicsState()),a},drawImage=function(s,e){return[pushGraphicsState(),e.graphicsState&&setGraphicsState(e.graphicsState),translate(e.x,e.y),rotateRadians(toRadians(e.rotate)),scale(e.width,e.height),skewRadians(toRadians(e.xSkew),toRadians(e.ySkew)),drawObject(s),popGraphicsState()].filter(Boolean)},drawPage=function(s,e){return[pushGraphicsState(),e.graphicsState&&setGraphicsState(e.graphicsState),translate(e.x,e.y),rotateRadians(toRadians(e.rotate)),scale(e.xScale,e.yScale),skewRadians(toRadians(e.xSkew),toRadians(e.ySkew)),drawObject(s),popGraphicsState()].filter(Boolean)},drawLine=function(s){var e,a;return[pushGraphicsState(),s.graphicsState&&setGraphicsState(s.graphicsState),s.color&&setStrokingColor(s.color),setLineWidth(s.thickness),setDashPattern((e=s.dashArray)!==null&&e!==void 0?e:[],(a=s.dashPhase)!==null&&a!==void 0?a:0),moveTo(s.start.x,s.start.y),s.lineCap&&setLineCap(s.lineCap),moveTo(s.start.x,s.start.y),lineTo(s.end.x,s.end.y),stroke(),popGraphicsState()].filter(Boolean)},drawRectangle=function(s){var e,a;return[pushGraphicsState(),s.graphicsState&&setGraphicsState(s.graphicsState),s.color&&setFillingColor(s.color),s.borderColor&&setStrokingColor(s.borderColor),setLineWidth(s.borderWidth),s.borderLineCap&&setLineCap(s.borderLineCap),setDashPattern((e=s.borderDashArray)!==null&&e!==void 0?e:[],(a=s.borderDashPhase)!==null&&a!==void 0?a:0),translate(s.x,s.y),rotateRadians(toRadians(s.rotate)),skewRadians(toRadians(s.xSkew),toRadians(s.ySkew)),moveTo(0,0),lineTo(0,s.height),lineTo(s.width,s.height),lineTo(s.width,0),closePath(),s.color&&s.borderWidth?fillAndStroke():s.color?fill():s.borderColor?stroke():closePath(),popGraphicsState()].filter(Boolean)},KAPPA=4*((Math.sqrt(2)-1)/3),drawEllipsePath=function(s){var e=asNumber(s.x),a=asNumber(s.y),o=asNumber(s.xScale),d=asNumber(s.yScale);e-=o,a-=d;var h=o*KAPPA,g=d*KAPPA,b=e+o*2,j=a+d*2,_=e+o,$=a+d;return[pushGraphicsState(),moveTo(e,$),appendBezierCurve(e,$-g,_-h,a,_,a),appendBezierCurve(_+h,a,b,$-g,b,$),appendBezierCurve(b,$+g,_+h,j,_,j),appendBezierCurve(_-h,j,e,$+g,e,$),popGraphicsState()]},drawEllipseCurves=function(s){var e=asNumber(s.x),a=asNumber(s.y),o=asNumber(s.xScale),d=asNumber(s.yScale),h=-o,g=-d,b=o*KAPPA,j=d*KAPPA,_=h+o*2,$=g+d*2,_e=h+o,et=g+d;return[translate(e,a),rotateRadians(toRadians(s.rotate)),moveTo(h,et),appendBezierCurve(h,et-j,_e-b,g,_e,g),appendBezierCurve(_e+b,g,_,et-j,_,et),appendBezierCurve(_,et+j,_e+b,$,_e,$),appendBezierCurve(_e-b,$,h,et+j,h,et)]},drawEllipse=function(s){var e,a,o;return __spreadArrays([pushGraphicsState(),s.graphicsState&&setGraphicsState(s.graphicsState),s.color&&setFillingColor(s.color),s.borderColor&&setStrokingColor(s.borderColor),setLineWidth(s.borderWidth),s.borderLineCap&&setLineCap(s.borderLineCap),setDashPattern((e=s.borderDashArray)!==null&&e!==void 0?e:[],(a=s.borderDashPhase)!==null&&a!==void 0?a:0)],s.rotate===void 0?drawEllipsePath({x:s.x,y:s.y,xScale:s.xScale,yScale:s.yScale}):drawEllipseCurves({x:s.x,y:s.y,xScale:s.xScale,yScale:s.yScale,rotate:(o=s.rotate)!==null&&o!==void 0?o:degrees(0)}),[s.color&&s.borderWidth?fillAndStroke():s.color?fill():s.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawSvgPath=function(s,e){var a,o,d;return __spreadArrays([pushGraphicsState(),e.graphicsState&&setGraphicsState(e.graphicsState),translate(e.x,e.y),rotateRadians(toRadians((a=e.rotate)!==null&&a!==void 0?a:degrees(0))),e.scale?scale(e.scale,-e.scale):scale(1,-1),e.color&&setFillingColor(e.color),e.borderColor&&setStrokingColor(e.borderColor),e.borderWidth&&setLineWidth(e.borderWidth),e.borderLineCap&&setLineCap(e.borderLineCap),setDashPattern((o=e.borderDashArray)!==null&&o!==void 0?o:[],(d=e.borderDashPhase)!==null&&d!==void 0?d:0)],svgPathToOperators(s),[e.color&&e.borderWidth?fillAndStroke():e.color?fill():e.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawCheckMark=function(s){var e=asNumber(s.size),a=-1+.75,o=-1+.51,d=1-.525,h=1-.31,g=-1+.325,b=.3995/(d-o)+o;return[pushGraphicsState(),s.color&&setStrokingColor(s.color),setLineWidth(s.thickness),translate(s.x,s.y),moveTo(g*e,b*e),lineTo(a*e,o*e),lineTo(h*e,d*e),stroke(),popGraphicsState()].filter(Boolean)},rotateInPlace=function(s){return s.rotation===0?[translate(0,0),rotateDegrees(0)]:s.rotation===90?[translate(s.width,0),rotateDegrees(90)]:s.rotation===180?[translate(s.width,s.height),rotateDegrees(180)]:s.rotation===270?[translate(0,s.height),rotateDegrees(270)]:[]},drawCheckBox=function(s){var e=drawRectangle({x:s.x,y:s.y,width:s.width,height:s.height,borderWidth:s.borderWidth,color:s.color,borderColor:s.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});if(!s.filled)return e;var a=asNumber(s.width),o=asNumber(s.height),d=Math.min(a,o)/2,h=drawCheckMark({x:a/2,y:o/2,size:d,thickness:s.thickness,color:s.markColor});return __spreadArrays([pushGraphicsState()],e,h,[popGraphicsState()])},drawRadioButton=function(s){var e=asNumber(s.width),a=asNumber(s.height),o=Math.min(e,a)/2,d=drawEllipse({x:s.x,y:s.y,xScale:o,yScale:o,color:s.color,borderColor:s.borderColor,borderWidth:s.borderWidth});if(!s.filled)return d;var h=drawEllipse({x:s.x,y:s.y,xScale:o*.45,yScale:o*.45,color:s.dotColor,borderColor:void 0,borderWidth:0});return __spreadArrays([pushGraphicsState()],d,h,[popGraphicsState()])},drawButton=function(s){var e=asNumber(s.x),a=asNumber(s.y),o=asNumber(s.width),d=asNumber(s.height),h=drawRectangle({x:e,y:a,width:o,height:d,borderWidth:s.borderWidth,color:s.color,borderColor:s.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),g=drawTextLines(s.textLines,{color:s.textColor,font:s.font,size:s.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});return __spreadArrays([pushGraphicsState()],h,g,[popGraphicsState()])},drawTextLines=function(s,e){for(var a=[beginText(),setFillingColor(e.color),setFontAndSize(e.font,e.size)],o=0,d=s.length;o<d;o++){var h=s[o],g=h.encoded,b=h.x,j=h.y;a.push(rotateAndSkewTextRadiansAndTranslate(toRadians(e.rotate),toRadians(e.xSkew),toRadians(e.ySkew),b,j),showText(g))}return a.push(endText()),a},drawTextField=function(s){var e=asNumber(s.x),a=asNumber(s.y),o=asNumber(s.width),d=asNumber(s.height),h=asNumber(s.borderWidth),g=asNumber(s.padding),b=e+h/2+g,j=a+h/2+g,_=o-(h/2+g)*2,$=d-(h/2+g)*2,_e=[moveTo(b,j),lineTo(b,j+$),lineTo(b+_,j+$),lineTo(b+_,j),closePath(),clip(),endPath()],et=drawRectangle({x:e,y:a,width:o,height:d,borderWidth:s.borderWidth,color:s.color,borderColor:s.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),tt=drawTextLines(s.textLines,{color:s.textColor,font:s.font,size:s.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),nt=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],tt,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],et,_e,nt,[popGraphicsState()])},drawOptionList=function(s){for(var e=asNumber(s.x),a=asNumber(s.y),o=asNumber(s.width),d=asNumber(s.height),h=asNumber(s.lineHeight),g=asNumber(s.borderWidth),b=asNumber(s.padding),j=e+g/2+b,_=a+g/2+b,$=o-(g/2+b)*2,_e=d-(g/2+b)*2,et=[moveTo(j,_),lineTo(j,_+_e),lineTo(j+$,_+_e),lineTo(j+$,_),closePath(),clip(),endPath()],tt=drawRectangle({x:e,y:a,width:o,height:d,borderWidth:s.borderWidth,color:s.color,borderColor:s.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),nt=[],it=0,st=s.selectedLines.length;it<st;it++){var rt=s.textLines[s.selectedLines[it]];nt.push.apply(nt,drawRectangle({x:rt.x-b,y:rt.y-(h-rt.height)/2,width:o-g,height:rt.height+(h-rt.height)/2,borderWidth:0,color:s.selectedColor,borderColor:void 0,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}))}var at=drawTextLines(s.textLines,{color:s.textColor,font:s.font,size:s.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),ht=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],at,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],tt,nt,et,ht,[popGraphicsState()])},EncryptedPDFError=function(s){__extends(e,s);function e(){var a=this,o="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return a=s.call(this,o)||this,a}return e}(Error),FontkitNotRegisteredError=function(s){__extends(e,s);function e(){var a=this,o="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return a=s.call(this,o)||this,a}return e}(Error),ForeignPageError=function(s){__extends(e,s);function e(){var a=this,o="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return a=s.call(this,o)||this,a}return e}(Error),RemovePageFromEmptyDocumentError=function(s){__extends(e,s);function e(){var a=this,o="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return a=s.call(this,o)||this,a}return e}(Error),NoSuchFieldError=function(s){__extends(e,s);function e(a){var o=this,d='PDFDocument has no form field with the name "'+a+'"';return o=s.call(this,d)||this,o}return e}(Error),UnexpectedFieldTypeError=function(s){__extends(e,s);function e(a,o,d){var h,g,b=this,j=o==null?void 0:o.name,_=(g=(h=d==null?void 0:d.constructor)===null||h===void 0?void 0:h.name)!==null&&g!==void 0?g:d,$='Expected field "'+a+'" to be of type '+j+", "+("but it is actually of type "+_);return b=s.call(this,$)||this,b}return e}(Error);(function(s){__extends(e,s);function e(a){var o=this,d='Failed to select check box due to missing onValue: "'+a+'"';return o=s.call(this,d)||this,o}return e})(Error);var FieldAlreadyExistsError=function(s){__extends(e,s);function e(a){var o=this,d='A field already exists with the specified name: "'+a+'"';return o=s.call(this,d)||this,o}return e}(Error),InvalidFieldNamePartError=function(s){__extends(e,s);function e(a){var o=this,d='Field name contains invalid component: "'+a+'"';return o=s.call(this,d)||this,o}return e}(Error);(function(s){__extends(e,s);function e(a){var o=this,d='A non-terminal field already exists with the specified name: "'+a+'"';return o=s.call(this,d)||this,o}return e})(Error);var RichTextFieldReadError=function(s){__extends(e,s);function e(a){var o=this,d="Reading rich text fields is not supported: Attempted to read rich text field: "+a;return o=s.call(this,d)||this,o}return e}(Error),CombedTextLayoutError=function(s){__extends(e,s);function e(a,o){var d=this,h="Failed to layout combed text as lineLength="+a+" is greater than cellCount="+o;return d=s.call(this,h)||this,d}return e}(Error),ExceededMaxLengthError=function(s){__extends(e,s);function e(a,o,d){var h=this,g="Attempted to set text with length="+a+" for TextField with maxLength="+o+" and name="+d;return h=s.call(this,g)||this,h}return e}(Error),InvalidMaxLengthError=function(s){__extends(e,s);function e(a,o,d){var h=this,g="Attempted to set maxLength="+o+", which is less than "+a+", the length of this field's current value (name="+d+")";return h=s.call(this,g)||this,h}return e}(Error),TextAlignment;(function(s){s[s.Left=0]="Left",s[s.Center=1]="Center",s[s.Right=2]="Right"})(TextAlignment||(TextAlignment={}));var MIN_FONT_SIZE=4,MAX_FONT_SIZE=500,computeFontSize=function(s,e,a,o){o===void 0&&(o=!1);for(var d=MIN_FONT_SIZE;d<MAX_FONT_SIZE;){for(var h=0,g=0,b=s.length;g<b;g++){h+=1;for(var j=s[g],_=j.split(" "),$=a.width,_e=0,et=_.length;_e<et;_e++){var tt=_e===et-1,nt=tt?_[_e]:_[_e]+" ",it=e.widthOfTextAtSize(nt,d);$-=it,$<=0&&(h+=1,$=a.width-it)}}if(!o&&h>s.length)return d-1;var st=e.heightAtSize(d),rt=st+st*.2,at=rt*h;if(at>Math.abs(a.height))return d-1;d+=1}return d},computeCombedFontSize=function(s,e,a,o){for(var d=a.width/o,h=a.height,g=MIN_FONT_SIZE,b=charSplit(s);g<MAX_FONT_SIZE;){for(var j=0,_=b.length;j<_;j++){var $=b[j],_e=e.widthOfTextAtSize($,g)>d*.75;if(_e)return g-1}var et=e.heightAtSize(g,{descender:!1});if(et>h)return g-1;g+=1}return g},lastIndexOfWhitespace=function(s){for(var e=s.length;e>0;e--)if(/\s/.test(s[e]))return e},splitOutLines=function(s,e,a,o){for(var d,h=s.length;h>0;){var g=s.substring(0,h),b=a.encodeText(g),j=a.widthOfTextAtSize(g,o);if(j<e){var _=s.substring(h)||void 0;return{line:g,encoded:b,width:j,remainder:_}}h=(d=lastIndexOfWhitespace(g))!==null&&d!==void 0?d:0}return{line:s,encoded:a.encodeText(s),width:a.widthOfTextAtSize(s,o),remainder:void 0}},layoutMultilineText=function(s,e){var a=e.alignment,o=e.fontSize,d=e.font,h=e.bounds,g=lineSplit(cleanText(s));(o===void 0||o===0)&&(o=computeFontSize(g,d,h,!0));for(var b=d.heightAtSize(o),j=b+b*.2,_=[],$=h.x,_e=h.y,et=h.x+h.width,tt=h.y+h.height,nt=h.y+h.height,it=0,st=g.length;it<st;it++)for(var rt=g[it];rt!==void 0;){var at=splitOutLines(rt,h.width,d,o),ht=at.line,ft=at.encoded,ot=at.width,ut=at.remainder,ct=a===TextAlignment.Left?h.x:a===TextAlignment.Center?h.x+h.width/2-ot/2:a===TextAlignment.Right?h.x+h.width-ot:h.x;nt-=j,ct<$&&($=ct),nt<_e&&(_e=nt),ct+ot>et&&(et=ct+ot),nt+b>tt&&(tt=nt+b),_.push({text:ht,encoded:ft,width:ot,height:b,x:ct,y:nt}),rt=ut==null?void 0:ut.trim()}return{fontSize:o,lineHeight:j,lines:_,bounds:{x:$,y:_e,width:et-$,height:tt-_e}}},layoutCombedText=function(s,e){var a=e.fontSize,o=e.font,d=e.bounds,h=e.cellCount,g=mergeLines(cleanText(s));if(g.length>h)throw new CombedTextLayoutError(g.length,h);(a===void 0||a===0)&&(a=computeCombedFontSize(g,o,d,h));for(var b=d.width/h,j=o.heightAtSize(a,{descender:!1}),_=d.y+(d.height/2-j/2),$=[],_e=d.x,et=d.y,tt=d.x+d.width,nt=d.y+d.height,it=0,st=0;it<h;){var rt=charAtIndex(g,st),at=rt[0],ht=rt[1],ft=o.encodeText(at),ot=o.widthOfTextAtSize(at,a),ut=d.x+(b*it+b/2),ct=ut-ot/2;ct<_e&&(_e=ct),_<et&&(et=_),ct+ot>tt&&(tt=ct+ot),_+j>nt&&(nt=_+j),$.push({text:g,encoded:ft,width:ot,height:j,x:ct,y:_}),it+=1,st+=ht}return{fontSize:a,cells:$,bounds:{x:_e,y:et,width:tt-_e,height:nt-et}}},layoutSinglelineText=function(s,e){var a=e.alignment,o=e.fontSize,d=e.font,h=e.bounds,g=mergeLines(cleanText(s));(o===void 0||o===0)&&(o=computeFontSize([g],d,h));var b=d.encodeText(g),j=d.widthOfTextAtSize(g,o),_=d.heightAtSize(o,{descender:!1}),$=a===TextAlignment.Left?h.x:a===TextAlignment.Center?h.x+h.width/2-j/2:a===TextAlignment.Right?h.x+h.width-j:h.x,_e=h.y+(h.height/2-_/2);return{fontSize:o,line:{text:g,encoded:b,width:j,height:_,x:$,y:_e},bounds:{x:$,y:_e,width:j,height:_}}},normalizeAppearance=function(s){return"normal"in s?s:{normal:s}},tfRegex=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,getDefaultFontSize=function(s){var e,a,o=(e=s.getDefaultAppearance())!==null&&e!==void 0?e:"",d=(a=findLastMatch(o,tfRegex).match)!==null&&a!==void 0?a:[],h=Number(d[2]);return isFinite(h)?h:void 0},colorRegex=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,getDefaultColor=function(s){var e,a=(e=s.getDefaultAppearance())!==null&&e!==void 0?e:"",o=findLastMatch(a,colorRegex).match,d=o??[],h=d[1],g=d[2],b=d[3],j=d[4],_=d[5];if(_==="g"&&h)return grayscale(Number(h));if(_==="rg"&&h&&g&&b)return rgb(Number(h),Number(g),Number(b));if(_==="k"&&h&&g&&b&&j)return cmyk(Number(h),Number(g),Number(b),Number(j))},updateDefaultAppearance=function(s,e,a,o){var d;o===void 0&&(o=0);var h=[setFillingColor(e).toString(),setFontAndSize((d=a==null?void 0:a.name)!==null&&d!==void 0?d:"dummy__noop",o).toString()].join(`
`);s.setDefaultAppearance(h)},defaultCheckBoxAppearanceProvider=function(s,e){var a,o,d,h=getDefaultColor(e),g=getDefaultColor(s.acroField),b=e.getRectangle(),j=e.getAppearanceCharacteristics(),_=e.getBorderStyle(),$=(a=_==null?void 0:_.getWidth())!==null&&a!==void 0?a:0,_e=reduceRotation(j==null?void 0:j.getRotation()),et=adjustDimsForRotation(b,_e),tt=et.width,nt=et.height,it=rotateInPlace(__assign(__assign({},b),{rotation:_e})),st=rgb(0,0,0),rt=(o=componentsToColor(j==null?void 0:j.getBorderColor()))!==null&&o!==void 0?o:st,at=componentsToColor(j==null?void 0:j.getBackgroundColor()),ht=componentsToColor(j==null?void 0:j.getBackgroundColor(),.8),ft=(d=h??g)!==null&&d!==void 0?d:st;updateDefaultAppearance(h?e:s.acroField,ft);var ot={x:0+$/2,y:0+$/2,width:tt-$,height:nt-$,thickness:1.5,borderWidth:$,borderColor:rt,markColor:ft};return{normal:{on:__spreadArrays(it,drawCheckBox(__assign(__assign({},ot),{color:at,filled:!0}))),off:__spreadArrays(it,drawCheckBox(__assign(__assign({},ot),{color:at,filled:!1})))},down:{on:__spreadArrays(it,drawCheckBox(__assign(__assign({},ot),{color:ht,filled:!0}))),off:__spreadArrays(it,drawCheckBox(__assign(__assign({},ot),{color:ht,filled:!1})))}}},defaultRadioGroupAppearanceProvider=function(s,e){var a,o,d,h=getDefaultColor(e),g=getDefaultColor(s.acroField),b=e.getRectangle(),j=e.getAppearanceCharacteristics(),_=e.getBorderStyle(),$=(a=_==null?void 0:_.getWidth())!==null&&a!==void 0?a:0,_e=reduceRotation(j==null?void 0:j.getRotation()),et=adjustDimsForRotation(b,_e),tt=et.width,nt=et.height,it=rotateInPlace(__assign(__assign({},b),{rotation:_e})),st=rgb(0,0,0),rt=(o=componentsToColor(j==null?void 0:j.getBorderColor()))!==null&&o!==void 0?o:st,at=componentsToColor(j==null?void 0:j.getBackgroundColor()),ht=componentsToColor(j==null?void 0:j.getBackgroundColor(),.8),ft=(d=h??g)!==null&&d!==void 0?d:st;updateDefaultAppearance(h?e:s.acroField,ft);var ot={x:tt/2,y:nt/2,width:tt-$,height:nt-$,borderWidth:$,borderColor:rt,dotColor:ft};return{normal:{on:__spreadArrays(it,drawRadioButton(__assign(__assign({},ot),{color:at,filled:!0}))),off:__spreadArrays(it,drawRadioButton(__assign(__assign({},ot),{color:at,filled:!1})))},down:{on:__spreadArrays(it,drawRadioButton(__assign(__assign({},ot),{color:ht,filled:!0}))),off:__spreadArrays(it,drawRadioButton(__assign(__assign({},ot),{color:ht,filled:!1})))}}},defaultButtonAppearanceProvider=function(s,e,a){var o,d,h,g,b,j=getDefaultColor(e),_=getDefaultColor(s.acroField),$=getDefaultFontSize(e),_e=getDefaultFontSize(s.acroField),et=e.getRectangle(),tt=e.getAppearanceCharacteristics(),nt=e.getBorderStyle(),it=tt==null?void 0:tt.getCaptions(),st=(o=it==null?void 0:it.normal)!==null&&o!==void 0?o:"",rt=(h=(d=it==null?void 0:it.down)!==null&&d!==void 0?d:st)!==null&&h!==void 0?h:"",at=(g=nt==null?void 0:nt.getWidth())!==null&&g!==void 0?g:0,ht=reduceRotation(tt==null?void 0:tt.getRotation()),ft=adjustDimsForRotation(et,ht),ot=ft.width,ut=ft.height,ct=rotateInPlace(__assign(__assign({},et),{rotation:ht})),dt=rgb(0,0,0),vt=componentsToColor(tt==null?void 0:tt.getBorderColor()),Et=componentsToColor(tt==null?void 0:tt.getBackgroundColor()),pt=componentsToColor(tt==null?void 0:tt.getBackgroundColor(),.8),bt={x:at,y:at,width:ot-at*2,height:ut-at*2},Ct=layoutSinglelineText(st,{alignment:TextAlignment.Center,fontSize:$??_e,font:a,bounds:bt}),Bt=layoutSinglelineText(rt,{alignment:TextAlignment.Center,fontSize:$??_e,font:a,bounds:bt}),jt=Math.min(Ct.fontSize,Bt.fontSize),Ft=(b=j??_)!==null&&b!==void 0?b:dt;updateDefaultAppearance(j||$!==void 0?e:s.acroField,Ft,a,jt);var wt={x:0+at/2,y:0+at/2,width:ot-at,height:ut-at,borderWidth:at,borderColor:vt,textColor:Ft,font:a.name,fontSize:jt};return{normal:__spreadArrays(ct,drawButton(__assign(__assign({},wt),{color:Et,textLines:[Ct.line]}))),down:__spreadArrays(ct,drawButton(__assign(__assign({},wt),{color:pt,textLines:[Bt.line]})))}},defaultTextFieldAppearanceProvider=function(s,e,a){var o,d,h,g,b=getDefaultColor(e),j=getDefaultColor(s.acroField),_=getDefaultFontSize(e),$=getDefaultFontSize(s.acroField),_e=e.getRectangle(),et=e.getAppearanceCharacteristics(),tt=e.getBorderStyle(),nt=(o=s.getText())!==null&&o!==void 0?o:"",it=(d=tt==null?void 0:tt.getWidth())!==null&&d!==void 0?d:0,st=reduceRotation(et==null?void 0:et.getRotation()),rt=adjustDimsForRotation(_e,st),at=rt.width,ht=rt.height,ft=rotateInPlace(__assign(__assign({},_e),{rotation:st})),ot=rgb(0,0,0),ut=componentsToColor(et==null?void 0:et.getBorderColor()),ct=componentsToColor(et==null?void 0:et.getBackgroundColor()),dt,vt,Et=s.isCombed()?0:1,pt={x:it+Et,y:it+Et,width:at-(it+Et)*2,height:ht-(it+Et)*2};if(s.isMultiline()){var bt=layoutMultilineText(nt,{alignment:s.getAlignment(),fontSize:_??$,font:a,bounds:pt});dt=bt.lines,vt=bt.fontSize}else if(s.isCombed()){var bt=layoutCombedText(nt,{fontSize:_??$,font:a,bounds:pt,cellCount:(h=s.getMaxLength())!==null&&h!==void 0?h:0});dt=bt.cells,vt=bt.fontSize}else{var bt=layoutSinglelineText(nt,{alignment:s.getAlignment(),fontSize:_??$,font:a,bounds:pt});dt=[bt.line],vt=bt.fontSize}var Ct=(g=b??j)!==null&&g!==void 0?g:ot;updateDefaultAppearance(b||_!==void 0?e:s.acroField,Ct,a,vt);var Bt={x:0+it/2,y:0+it/2,width:at-it,height:ht-it,borderWidth:it??0,borderColor:ut,textColor:Ct,font:a.name,fontSize:vt,color:ct,textLines:dt,padding:Et};return __spreadArrays(ft,drawTextField(Bt))},defaultDropdownAppearanceProvider=function(s,e,a){var o,d,h,g=getDefaultColor(e),b=getDefaultColor(s.acroField),j=getDefaultFontSize(e),_=getDefaultFontSize(s.acroField),$=e.getRectangle(),_e=e.getAppearanceCharacteristics(),et=e.getBorderStyle(),tt=(o=s.getSelected()[0])!==null&&o!==void 0?o:"",nt=(d=et==null?void 0:et.getWidth())!==null&&d!==void 0?d:0,it=reduceRotation(_e==null?void 0:_e.getRotation()),st=adjustDimsForRotation($,it),rt=st.width,at=st.height,ht=rotateInPlace(__assign(__assign({},$),{rotation:it})),ft=rgb(0,0,0),ot=componentsToColor(_e==null?void 0:_e.getBorderColor()),ut=componentsToColor(_e==null?void 0:_e.getBackgroundColor()),ct=1,dt={x:nt+ct,y:nt+ct,width:rt-(nt+ct)*2,height:at-(nt+ct)*2},vt=layoutSinglelineText(tt,{alignment:TextAlignment.Left,fontSize:j??_,font:a,bounds:dt}),Et=vt.line,pt=vt.fontSize,bt=(h=g??b)!==null&&h!==void 0?h:ft;updateDefaultAppearance(g||j!==void 0?e:s.acroField,bt,a,pt);var Ct={x:0+nt/2,y:0+nt/2,width:rt-nt,height:at-nt,borderWidth:nt??0,borderColor:ot,textColor:bt,font:a.name,fontSize:pt,color:ut,textLines:[Et],padding:ct};return __spreadArrays(ht,drawTextField(Ct))},defaultOptionListAppearanceProvider=function(s,e,a){var o,d,h=getDefaultColor(e),g=getDefaultColor(s.acroField),b=getDefaultFontSize(e),j=getDefaultFontSize(s.acroField),_=e.getRectangle(),$=e.getAppearanceCharacteristics(),_e=e.getBorderStyle(),et=(o=_e==null?void 0:_e.getWidth())!==null&&o!==void 0?o:0,tt=reduceRotation($==null?void 0:$.getRotation()),nt=adjustDimsForRotation(_,tt),it=nt.width,st=nt.height,rt=rotateInPlace(__assign(__assign({},_),{rotation:tt})),at=rgb(0,0,0),ht=componentsToColor($==null?void 0:$.getBorderColor()),ft=componentsToColor($==null?void 0:$.getBackgroundColor()),ot=s.getOptions(),ut=s.getSelected();s.isSorted()&&ot.sort();for(var ct="",dt=0,vt=ot.length;dt<vt;dt++)ct+=ot[dt],dt<vt-1&&(ct+=`
`);for(var Et=1,pt={x:et+Et,y:et+Et,width:it-(et+Et)*2,height:st-(et+Et)*2},bt=layoutMultilineText(ct,{alignment:TextAlignment.Left,fontSize:b??j,font:a,bounds:pt}),Ct=bt.lines,Bt=bt.fontSize,jt=bt.lineHeight,Ft=[],dt=0,vt=Ct.length;dt<vt;dt++){var wt=Ct[dt];ut.includes(wt.text)&&Ft.push(dt)}var It=rgb(153/255,193/255,218/255),yt=(d=h??g)!==null&&d!==void 0?d:at;return updateDefaultAppearance(h||b!==void 0?e:s.acroField,yt,a,Bt),__spreadArrays(rt,drawOptionList({x:0+et/2,y:0+et/2,width:it-et,height:st-et,borderWidth:et??0,borderColor:ht,textColor:yt,font:a.name,fontSize:Bt,color:ft,textLines:Ct,lineHeight:jt,selectedColor:It,selectedLines:Ft,padding:Et}))},PDFEmbeddedPage=function(){function s(e,a,o){this.alreadyEmbedded=!1,assertIs(e,"ref",[[PDFRef,"PDFRef"]]),assertIs(a,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(o,"embedder",[[PDFPageEmbedder,"PDFPageEmbedder"]]),this.ref=e,this.doc=a,this.width=o.width,this.height=o.height,this.embedder=o}return s.prototype.scale=function(e){return assertIs(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},s.prototype.size=function(){return this.scale(1)},s.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}})})},s.of=function(e,a,o){return new s(e,a,o)},s}(),PDFFont=function(){function s(e,a,o){this.modified=!0,assertIs(e,"ref",[[PDFRef,"PDFRef"]]),assertIs(a,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(o,"embedder",[[CustomFontEmbedder,"CustomFontEmbedder"],[StandardFontEmbedder,"StandardFontEmbedder"]]),this.ref=e,this.doc=a,this.name=o.fontName,this.embedder=o}return s.prototype.encodeText=function(e){return assertIs(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},s.prototype.widthOfTextAtSize=function(e,a){return assertIs(e,"text",["string"]),assertIs(a,"size",["number"]),this.embedder.widthOfTextAtSize(e,a)},s.prototype.heightAtSize=function(e,a){var o;return assertIs(e,"size",["number"]),assertOrUndefined(a==null?void 0:a.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:(o=a==null?void 0:a.descender)!==null&&o!==void 0?o:!0})},s.prototype.sizeAtHeight=function(e){return assertIs(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},s.prototype.getCharacterSet=function(){return this.embedder instanceof StandardFontEmbedder?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},s.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}})})},s.of=function(e,a,o){return new s(e,a,o)},s}(),PDFImage=function(){function s(e,a,o){assertIs(e,"ref",[[PDFRef,"PDFRef"]]),assertIs(a,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(o,"embedder",[[JpegEmbedder,"JpegEmbedder"],[PngEmbedder,"PngEmbedder"]]),this.ref=e,this.doc=a,this.width=o.width,this.height=o.height,this.embedder=o}return s.prototype.scale=function(e){return assertIs(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},s.prototype.scaleToFit=function(e,a){assertIs(e,"width",["number"]),assertIs(a,"height",["number"]);var o=e/this.width,d=a/this.height,h=Math.min(o,d);return this.scale(h)},s.prototype.size=function(){return this.scale(1)},s.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var e,a,o;return __generator(this,function(d){switch(d.label){case 0:return this.embedder?(this.embedTask||(e=this,a=e.doc,o=e.ref,this.embedTask=this.embedder.embedIntoContext(a.context,o)),[4,this.embedTask]):[2];case 1:return d.sent(),this.embedder=void 0,[2]}})})},s.of=function(e,a,o){return new s(e,a,o)},s}(),ImageAlignment;(function(s){s[s.Left=0]="Left",s[s.Center=1]="Center",s[s.Right=2]="Right"})(ImageAlignment||(ImageAlignment={}));var assertFieldAppearanceOptions=function(s){assertOrUndefined(s==null?void 0:s.x,"options.x",["number"]),assertOrUndefined(s==null?void 0:s.y,"options.y",["number"]),assertOrUndefined(s==null?void 0:s.width,"options.width",["number"]),assertOrUndefined(s==null?void 0:s.height,"options.height",["number"]),assertOrUndefined(s==null?void 0:s.textColor,"options.textColor",[[Object,"Color"]]),assertOrUndefined(s==null?void 0:s.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),assertOrUndefined(s==null?void 0:s.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(s==null?void 0:s.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(s==null?void 0:s.rotate,"options.rotate",[[Object,"Rotation"]])},PDFField=function(){function s(e,a,o){assertIs(e,"acroField",[[PDFAcroTerminal,"PDFAcroTerminal"]]),assertIs(a,"ref",[[PDFRef,"PDFRef"]]),assertIs(o,"doc",[[PDFDocument,"PDFDocument"]]),this.acroField=e,this.ref=a,this.doc=o}return s.prototype.getName=function(){var e;return(e=this.acroField.getFullyQualifiedName())!==null&&e!==void 0?e:""},s.prototype.isReadOnly=function(){return this.acroField.hasFlag(AcroFieldFlags.ReadOnly)},s.prototype.enableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!0)},s.prototype.disableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!1)},s.prototype.isRequired=function(){return this.acroField.hasFlag(AcroFieldFlags.Required)},s.prototype.enableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!0)},s.prototype.disableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!1)},s.prototype.isExported=function(){return!this.acroField.hasFlag(AcroFieldFlags.NoExport)},s.prototype.enableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!1)},s.prototype.disableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!0)},s.prototype.needsAppearancesUpdate=function(){throw new MethodNotImplementedError(this.constructor.name,"needsAppearancesUpdate")},s.prototype.defaultUpdateAppearances=function(e){throw new MethodNotImplementedError(this.constructor.name,"defaultUpdateAppearances")},s.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},s.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},s.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},s.prototype.createWidget=function(e){var a,o=e.textColor,d=e.backgroundColor,h=e.borderColor,g=e.borderWidth,b=toDegrees(e.rotate),j=e.caption,_=e.x,$=e.y,_e=e.width+g,et=e.height+g,tt=!!e.hidden,nt=e.page;assertMultiple(b,"degreesAngle",90);var it=PDFWidgetAnnotation.create(this.doc.context,this.ref),st=rotateRectangle({x:_,y:$,width:_e,height:et},g,b);it.setRectangle(st),nt&&it.setP(nt);var rt=it.getOrCreateAppearanceCharacteristics();d&&rt.setBackgroundColor(colorToComponents(d)),rt.setRotation(b),j&&rt.setCaptions({normal:j}),h&&rt.setBorderColor(colorToComponents(h));var at=it.getOrCreateBorderStyle();if(g!==void 0&&at.setWidth(g),it.setFlagTo(AnnotationFlags.Print,!0),it.setFlagTo(AnnotationFlags.Hidden,tt),it.setFlagTo(AnnotationFlags.Invisible,!1),o){var ht=(a=this.acroField.getDefaultAppearance())!==null&&a!==void 0?a:"",ft=ht+`
`+setFillingColor(o).toString();this.acroField.setDefaultAppearance(ft)}return it},s.prototype.updateWidgetAppearanceWithFont=function(e,a,o){var d=o.normal,h=o.rollover,g=o.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,d,a),rollover:h&&this.createAppearanceStream(e,h,a),down:g&&this.createAppearanceStream(e,g,a)})},s.prototype.updateOnOffWidgetAppearance=function(e,a,o){var d=o.normal,h=o.rollover,g=o.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,d,a),rollover:h&&this.createAppearanceDict(e,h,a),down:g&&this.createAppearanceDict(e,g,a)})},s.prototype.updateWidgetAppearances=function(e,a){var o=a.normal,d=a.rollover,h=a.down;e.setNormalAppearance(o),d?e.setRolloverAppearance(d):e.removeRolloverAppearance(),h?e.setDownAppearance(h):e.removeDownAppearance()},s.prototype.createAppearanceStream=function(e,a,o){var d,h=this.acroField.dict.context,g=e.getRectangle(),b=g.width,j=g.height,_=o&&{Font:(d={},d[o.name]=o.ref,d)},$=h.formXObject(a,{Resources:_,BBox:h.obj([0,0,b,j]),Matrix:h.obj([1,0,0,1,0,0])}),_e=h.register($);return _e},s.prototype.createImageAppearanceStream=function(e,a,o){var d,h,g=this.acroField.dict.context,b=e.getRectangle(),j=e.getAppearanceCharacteristics(),_=e.getBorderStyle(),$=(h=_==null?void 0:_.getWidth())!==null&&h!==void 0?h:0,_e=reduceRotation(j==null?void 0:j.getRotation()),et=rotateInPlace(__assign(__assign({},b),{rotation:_e})),tt=adjustDimsForRotation(b,_e),nt=a.scaleToFit(tt.width-$*2,tt.height-$*2),it={x:$,y:$,width:nt.width,height:nt.height,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)};o===ImageAlignment.Center?(it.x+=(tt.width-$*2)/2-nt.width/2,it.y+=(tt.height-$*2)/2-nt.height/2):o===ImageAlignment.Right&&(it.x=tt.width-$-nt.width,it.y=tt.height-$-nt.height);var st=this.doc.context.addRandomSuffix("Image",10),rt=__spreadArrays(et,drawImage(st,it)),at={XObject:(d={},d[st]=a.ref,d)},ht=g.formXObject(rt,{Resources:at,BBox:g.obj([0,0,b.width,b.height]),Matrix:g.obj([1,0,0,1,0,0])});return g.register(ht)},s.prototype.createAppearanceDict=function(e,a,o){var d=this.acroField.dict.context,h=this.createAppearanceStream(e,a.on),g=this.createAppearanceStream(e,a.off),b=d.obj({});return b.set(o,h),b.set(PDFName.of("Off"),g),b},s}(),PDFCheckBox=function(s){__extends(e,s);function e(a,o,d){var h=s.call(this,a,o,d)||this;return assertIs(a,"acroCheckBox",[[PDFAcroCheckBox,"PDFAcroCheckBox"]]),h.acroField=a,h}return e.prototype.check=function(){var a,o=(a=this.acroField.getOnValue())!==null&&a!==void 0?a:PDFName.of("Yes");this.markAsDirty(),this.acroField.setValue(o)},e.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},e.prototype.isChecked=function(){var a=this.acroField.getOnValue();return!!a&&a===this.acroField.getValue()},e.prototype.addToPage=function(a,o){var d,h,g,b,j,_;assertIs(a,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(o),o||(o={}),"textColor"in o||(o.textColor=rgb(0,0,0)),"backgroundColor"in o||(o.backgroundColor=rgb(1,1,1)),"borderColor"in o||(o.borderColor=rgb(0,0,0)),"borderWidth"in o||(o.borderWidth=1);var $=this.createWidget({x:(d=o.x)!==null&&d!==void 0?d:0,y:(h=o.y)!==null&&h!==void 0?h:0,width:(g=o.width)!==null&&g!==void 0?g:50,height:(b=o.height)!==null&&b!==void 0?b:50,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:(j=o.borderWidth)!==null&&j!==void 0?j:0,rotate:(_=o.rotate)!==null&&_!==void 0?_:degrees(0),hidden:o.hidden,page:a.ref}),_e=this.doc.context.register($.dict);this.acroField.addWidget(_e),$.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance($,PDFName.of("Yes")),a.node.addAnnot(_e)},e.prototype.needsAppearancesUpdate=function(){for(var a,o=this.acroField.getWidgets(),d=0,h=o.length;d<h;d++){var g=o[d],b=g.getAppearanceState(),j=(a=g.getAppearances())===null||a===void 0?void 0:a.normal;if(!(j instanceof PDFDict)||b&&!j.has(b))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(a){var o;assertOrUndefined(a,"provider",[Function]);for(var d=this.acroField.getWidgets(),h=0,g=d.length;h<g;h++){var b=d[h],j=(o=b.getOnValue())!==null&&o!==void 0?o:PDFName.of("Yes");j&&this.updateWidgetAppearance(b,j,a)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(a,o,d){var h=d??defaultCheckBoxAppearanceProvider,g=normalizeAppearance(h(this,a));this.updateOnOffWidgetAppearance(a,o,g)},e.of=function(a,o,d){return new e(a,o,d)},e}(PDFField),PDFDropdown=function(s){__extends(e,s);function e(a,o,d){var h=s.call(this,a,o,d)||this;return assertIs(a,"acroComboBox",[[PDFAcroComboBox,"PDFAcroComboBox"]]),h.acroField=a,h}return e.prototype.getOptions=function(){for(var a=this.acroField.getOptions(),o=new Array(a.length),d=0,h=o.length;d<h;d++){var g=a[d],b=g.display,j=g.value;o[d]=(b??j).decodeText()}return o},e.prototype.getSelected=function(){for(var a=this.acroField.getValues(),o=new Array(a.length),d=0,h=a.length;d<h;d++)o[d]=a[d].decodeText();return o},e.prototype.setOptions=function(a){assertIs(a,"options",[Array]);for(var o=new Array(a.length),d=0,h=a.length;d<h;d++)o[d]={value:PDFHexString.fromText(a[d])};this.acroField.setOptions(o)},e.prototype.addOptions=function(a){assertIs(a,"options",["string",Array]);for(var o=Array.isArray(a)?a:[a],d=this.acroField.getOptions(),h=new Array(o.length),g=0,b=o.length;g<b;g++)h[g]={value:PDFHexString.fromText(o[g])};this.acroField.setOptions(d.concat(h))},e.prototype.select=function(a,o){o===void 0&&(o=!1),assertIs(a,"options",["string",Array]),assertIs(o,"merge",["boolean"]);var d=Array.isArray(a)?a:[a],h=this.getOptions(),g=d.find(function(_e){return!h.includes(_e)});g&&this.enableEditing(),this.markAsDirty(),(d.length>1||d.length===1&&o)&&this.enableMultiselect();for(var b=new Array(d.length),j=0,_=d.length;j<_;j++)b[j]=PDFHexString.fromText(d[j]);if(o){var $=this.acroField.getValues();this.acroField.setValues($.concat(b))}else this.acroField.setValues(b)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(a){assertPositive(a,"fontSize"),this.acroField.setFontSize(a),this.markAsDirty()},e.prototype.isEditable=function(){return this.acroField.hasFlag(AcroChoiceFlags.Edit)},e.prototype.enableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!0)},e.prototype.disableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!1)},e.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroChoiceFlags.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!0)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},e.prototype.addToPage=function(a,o){var d,h,g,b,j,_,$;assertIs(a,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(o),o||(o={}),"textColor"in o||(o.textColor=rgb(0,0,0)),"backgroundColor"in o||(o.backgroundColor=rgb(1,1,1)),"borderColor"in o||(o.borderColor=rgb(0,0,0)),"borderWidth"in o||(o.borderWidth=1);var _e=this.createWidget({x:(d=o.x)!==null&&d!==void 0?d:0,y:(h=o.y)!==null&&h!==void 0?h:0,width:(g=o.width)!==null&&g!==void 0?g:200,height:(b=o.height)!==null&&b!==void 0?b:50,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:(j=o.borderWidth)!==null&&j!==void 0?j:0,rotate:(_=o.rotate)!==null&&_!==void 0?_:degrees(0),hidden:o.hidden,page:a.ref}),et=this.doc.context.register(_e.dict);this.acroField.addWidget(et);var tt=($=o.font)!==null&&$!==void 0?$:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(_e,tt),a.node.addAnnot(et)},e.prototype.needsAppearancesUpdate=function(){var a;if(this.isDirty())return!0;for(var o=this.acroField.getWidgets(),d=0,h=o.length;d<h;d++){var g=o[d],b=((a=g.getAppearances())===null||a===void 0?void 0:a.normal)instanceof PDFStream;if(!b)return!0}return!1},e.prototype.defaultUpdateAppearances=function(a){assertIs(a,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(a)},e.prototype.updateAppearances=function(a,o){assertIs(a,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(o,"provider",[Function]);for(var d=this.acroField.getWidgets(),h=0,g=d.length;h<g;h++){var b=d[h];this.updateWidgetAppearance(b,a,o)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(a,o,d){var h=d??defaultDropdownAppearanceProvider,g=normalizeAppearance(h(this,a,o));this.updateWidgetAppearanceWithFont(a,o,g)},e.of=function(a,o,d){return new e(a,o,d)},e}(PDFField),PDFOptionList=function(s){__extends(e,s);function e(a,o,d){var h=s.call(this,a,o,d)||this;return assertIs(a,"acroListBox",[[PDFAcroListBox,"PDFAcroListBox"]]),h.acroField=a,h}return e.prototype.getOptions=function(){for(var a=this.acroField.getOptions(),o=new Array(a.length),d=0,h=o.length;d<h;d++){var g=a[d],b=g.display,j=g.value;o[d]=(b??j).decodeText()}return o},e.prototype.getSelected=function(){for(var a=this.acroField.getValues(),o=new Array(a.length),d=0,h=a.length;d<h;d++)o[d]=a[d].decodeText();return o},e.prototype.setOptions=function(a){assertIs(a,"options",[Array]),this.markAsDirty();for(var o=new Array(a.length),d=0,h=a.length;d<h;d++)o[d]={value:PDFHexString.fromText(a[d])};this.acroField.setOptions(o)},e.prototype.addOptions=function(a){assertIs(a,"options",["string",Array]),this.markAsDirty();for(var o=Array.isArray(a)?a:[a],d=this.acroField.getOptions(),h=new Array(o.length),g=0,b=o.length;g<b;g++)h[g]={value:PDFHexString.fromText(o[g])};this.acroField.setOptions(d.concat(h))},e.prototype.select=function(a,o){o===void 0&&(o=!1),assertIs(a,"options",["string",Array]),assertIs(o,"merge",["boolean"]);var d=Array.isArray(a)?a:[a],h=this.getOptions();assertIsSubset(d,"option",h),this.markAsDirty(),(d.length>1||d.length===1&&o)&&this.enableMultiselect();for(var g=new Array(d.length),b=0,j=d.length;b<j;b++)g[b]=PDFHexString.fromText(d[b]);if(o){var _=this.acroField.getValues();this.acroField.setValues(_.concat(g))}else this.acroField.setValues(g)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(a){assertPositive(a,"fontSize"),this.acroField.setFontSize(a),this.markAsDirty()},e.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},e.prototype.addToPage=function(a,o){var d,h,g,b,j,_,$;assertIs(a,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(o),o||(o={}),"textColor"in o||(o.textColor=rgb(0,0,0)),"backgroundColor"in o||(o.backgroundColor=rgb(1,1,1)),"borderColor"in o||(o.borderColor=rgb(0,0,0)),"borderWidth"in o||(o.borderWidth=1);var _e=this.createWidget({x:(d=o.x)!==null&&d!==void 0?d:0,y:(h=o.y)!==null&&h!==void 0?h:0,width:(g=o.width)!==null&&g!==void 0?g:200,height:(b=o.height)!==null&&b!==void 0?b:100,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:(j=o.borderWidth)!==null&&j!==void 0?j:0,rotate:(_=o.rotate)!==null&&_!==void 0?_:degrees(0),hidden:o.hidden,page:a.ref}),et=this.doc.context.register(_e.dict);this.acroField.addWidget(et);var tt=($=o.font)!==null&&$!==void 0?$:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(_e,tt),a.node.addAnnot(et)},e.prototype.needsAppearancesUpdate=function(){var a;if(this.isDirty())return!0;for(var o=this.acroField.getWidgets(),d=0,h=o.length;d<h;d++){var g=o[d],b=((a=g.getAppearances())===null||a===void 0?void 0:a.normal)instanceof PDFStream;if(!b)return!0}return!1},e.prototype.defaultUpdateAppearances=function(a){assertIs(a,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(a)},e.prototype.updateAppearances=function(a,o){assertIs(a,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(o,"provider",[Function]);for(var d=this.acroField.getWidgets(),h=0,g=d.length;h<g;h++){var b=d[h];this.updateWidgetAppearance(b,a,o)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(a,o,d){var h=d??defaultOptionListAppearanceProvider,g=normalizeAppearance(h(this,a,o));this.updateWidgetAppearanceWithFont(a,o,g)},e.of=function(a,o,d){return new e(a,o,d)},e}(PDFField),PDFRadioGroup=function(s){__extends(e,s);function e(a,o,d){var h=s.call(this,a,o,d)||this;return assertIs(a,"acroRadioButton",[[PDFAcroRadioButton,"PDFAcroRadioButton"]]),h.acroField=a,h}return e.prototype.getOptions=function(){var a=this.acroField.getExportValues();if(a){for(var o=new Array(a.length),d=0,h=a.length;d<h;d++)o[d]=a[d].decodeText();return o}for(var g=this.acroField.getOnValues(),b=new Array(g.length),d=0,h=b.length;d<h;d++)b[d]=g[d].decodeText();return b},e.prototype.getSelected=function(){var a=this.acroField.getValue();if(a!==PDFName.of("Off")){var o=this.acroField.getExportValues();if(o){for(var d=this.acroField.getOnValues(),h=0,g=d.length;h<g;h++)if(d[h]===a)return o[h].decodeText()}return a.decodeText()}},e.prototype.select=function(a){assertIs(a,"option",["string"]);var o=this.getOptions();assertIsOneOf(a,"option",o),this.markAsDirty();var d=this.acroField.getOnValues(),h=this.acroField.getExportValues();if(h)for(var g=0,b=h.length;g<b;g++)h[g].decodeText()===a&&this.acroField.setValue(d[g]);else for(var g=0,b=d.length;g<b;g++){var j=d[g];j.decodeText()===a&&this.acroField.setValue(j)}},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},e.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(AcroButtonFlags.NoToggleToOff)},e.prototype.enableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!1)},e.prototype.disableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!0)},e.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(AcroButtonFlags.RadiosInUnison)},e.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!1)},e.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!0)},e.prototype.addOptionToPage=function(a,o,d){var h,g,b,j,_,$,_e,et,tt;assertIs(a,"option",["string"]),assertIs(o,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(d);var nt=this.createWidget({x:(h=d==null?void 0:d.x)!==null&&h!==void 0?h:0,y:(g=d==null?void 0:d.y)!==null&&g!==void 0?g:0,width:(b=d==null?void 0:d.width)!==null&&b!==void 0?b:50,height:(j=d==null?void 0:d.height)!==null&&j!==void 0?j:50,textColor:(_=d==null?void 0:d.textColor)!==null&&_!==void 0?_:rgb(0,0,0),backgroundColor:($=d==null?void 0:d.backgroundColor)!==null&&$!==void 0?$:rgb(1,1,1),borderColor:(_e=d==null?void 0:d.borderColor)!==null&&_e!==void 0?_e:rgb(0,0,0),borderWidth:(et=d==null?void 0:d.borderWidth)!==null&&et!==void 0?et:1,rotate:(tt=d==null?void 0:d.rotate)!==null&&tt!==void 0?tt:degrees(0),hidden:d==null?void 0:d.hidden,page:o.ref}),it=this.doc.context.register(nt.dict),st=this.acroField.addWidgetWithOpt(it,PDFHexString.fromText(a),!this.isMutuallyExclusive());nt.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(nt,st),o.node.addAnnot(it)},e.prototype.needsAppearancesUpdate=function(){for(var a,o=this.acroField.getWidgets(),d=0,h=o.length;d<h;d++){var g=o[d],b=g.getAppearanceState(),j=(a=g.getAppearances())===null||a===void 0?void 0:a.normal;if(!(j instanceof PDFDict)||b&&!j.has(b))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(a){assertOrUndefined(a,"provider",[Function]);for(var o=this.acroField.getWidgets(),d=0,h=o.length;d<h;d++){var g=o[d],b=g.getOnValue();b&&this.updateWidgetAppearance(g,b,a)}},e.prototype.updateWidgetAppearance=function(a,o,d){var h=d??defaultRadioGroupAppearanceProvider,g=normalizeAppearance(h(this,a));this.updateOnOffWidgetAppearance(a,o,g)},e.of=function(a,o,d){return new e(a,o,d)},e}(PDFField),PDFSignature=function(s){__extends(e,s);function e(a,o,d){var h=s.call(this,a,o,d)||this;return assertIs(a,"acroSignature",[[PDFAcroSignature,"PDFAcroSignature"]]),h.acroField=a,h}return e.prototype.needsAppearancesUpdate=function(){return!1},e.of=function(a,o,d){return new e(a,o,d)},e}(PDFField),PDFTextField=function(s){__extends(e,s);function e(a,o,d){var h=s.call(this,a,o,d)||this;return assertIs(a,"acroText",[[PDFAcroText,"PDFAcroText"]]),h.acroField=a,h}return e.prototype.getText=function(){var a=this.acroField.getValue();if(!a&&this.isRichFormatted())throw new RichTextFieldReadError(this.getName());return a==null?void 0:a.decodeText()},e.prototype.setText=function(a){assertOrUndefined(a,"text",["string"]);var o=this.getMaxLength();if(o!==void 0&&a&&a.length>o)throw new ExceededMaxLengthError(a.length,o,this.getName());this.markAsDirty(),this.disableRichFormatting(),a?this.acroField.setValue(PDFHexString.fromText(a)):this.acroField.removeValue()},e.prototype.getAlignment=function(){var a=this.acroField.getQuadding();return a===0?TextAlignment.Left:a===1?TextAlignment.Center:a===2?TextAlignment.Right:TextAlignment.Left},e.prototype.setAlignment=function(a){assertIsOneOf(a,"alignment",TextAlignment),this.markAsDirty(),this.acroField.setQuadding(a)},e.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},e.prototype.setMaxLength=function(a){if(assertRangeOrUndefined(a,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),a===void 0)this.acroField.removeMaxLength();else{var o=this.getText();if(o&&o.length>a)throw new InvalidMaxLengthError(o.length,a,this.getName());this.acroField.setMaxLength(a)}},e.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},e.prototype.setImage=function(a){for(var o=this.getAlignment(),d=o===TextAlignment.Center?ImageAlignment.Center:o===TextAlignment.Right?ImageAlignment.Right:ImageAlignment.Left,h=this.acroField.getWidgets(),g=0,b=h.length;g<b;g++){var j=h[g],_=this.createImageAppearanceStream(j,a,d);this.updateWidgetAppearances(j,{normal:_})}this.markAsClean()},e.prototype.setFontSize=function(a){assertPositive(a,"fontSize"),this.acroField.setFontSize(a),this.markAsDirty()},e.prototype.isMultiline=function(){return this.acroField.hasFlag(AcroTextFlags.Multiline)},e.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!0)},e.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!1)},e.prototype.isPassword=function(){return this.acroField.hasFlag(AcroTextFlags.Password)},e.prototype.enablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!0)},e.prototype.disablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!1)},e.prototype.isFileSelector=function(){return this.acroField.hasFlag(AcroTextFlags.FileSelect)},e.prototype.enableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!0)},e.prototype.disableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!0)},e.prototype.isScrollable=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotScroll)},e.prototype.enableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!1)},e.prototype.disableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!0)},e.prototype.isCombed=function(){return this.acroField.hasFlag(AcroTextFlags.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},e.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var a="PDFTextFields must have a max length in order to be combed";console.warn(a)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(AcroTextFlags.Comb,!0)},e.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Comb,!1)},e.prototype.isRichFormatted=function(){return this.acroField.hasFlag(AcroTextFlags.RichText)},e.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!0)},e.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!1)},e.prototype.addToPage=function(a,o){var d,h,g,b,j,_,$;assertIs(a,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(o),o||(o={}),"textColor"in o||(o.textColor=rgb(0,0,0)),"backgroundColor"in o||(o.backgroundColor=rgb(1,1,1)),"borderColor"in o||(o.borderColor=rgb(0,0,0)),"borderWidth"in o||(o.borderWidth=1);var _e=this.createWidget({x:(d=o.x)!==null&&d!==void 0?d:0,y:(h=o.y)!==null&&h!==void 0?h:0,width:(g=o.width)!==null&&g!==void 0?g:200,height:(b=o.height)!==null&&b!==void 0?b:50,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:(j=o.borderWidth)!==null&&j!==void 0?j:0,rotate:(_=o.rotate)!==null&&_!==void 0?_:degrees(0),hidden:o.hidden,page:a.ref}),et=this.doc.context.register(_e.dict);this.acroField.addWidget(et);var tt=($=o.font)!==null&&$!==void 0?$:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(_e,tt),a.node.addAnnot(et)},e.prototype.needsAppearancesUpdate=function(){var a;if(this.isDirty())return!0;for(var o=this.acroField.getWidgets(),d=0,h=o.length;d<h;d++){var g=o[d],b=((a=g.getAppearances())===null||a===void 0?void 0:a.normal)instanceof PDFStream;if(!b)return!0}return!1},e.prototype.defaultUpdateAppearances=function(a){assertIs(a,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(a)},e.prototype.updateAppearances=function(a,o){assertIs(a,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(o,"provider",[Function]);for(var d=this.acroField.getWidgets(),h=0,g=d.length;h<g;h++){var b=d[h];this.updateWidgetAppearance(b,a,o)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(a,o,d){var h=d??defaultTextFieldAppearanceProvider,g=normalizeAppearance(h(this,a,o));this.updateWidgetAppearanceWithFont(a,o,g)},e.of=function(a,o,d){return new e(a,o,d)},e}(PDFField),StandardFonts;(function(s){s.Courier="Courier",s.CourierBold="Courier-Bold",s.CourierOblique="Courier-Oblique",s.CourierBoldOblique="Courier-BoldOblique",s.Helvetica="Helvetica",s.HelveticaBold="Helvetica-Bold",s.HelveticaOblique="Helvetica-Oblique",s.HelveticaBoldOblique="Helvetica-BoldOblique",s.TimesRoman="Times-Roman",s.TimesRomanBold="Times-Bold",s.TimesRomanItalic="Times-Italic",s.TimesRomanBoldItalic="Times-BoldItalic",s.Symbol="Symbol",s.ZapfDingbats="ZapfDingbats"})(StandardFonts||(StandardFonts={}));var PDFForm=function(){function s(e,a){var o=this;this.embedDefaultFont=function(){return o.doc.embedStandardFont(StandardFonts.Helvetica)},assertIs(e,"acroForm",[[PDFAcroForm,"PDFAcroForm"]]),assertIs(a,"doc",[[PDFDocument,"PDFDocument"]]),this.acroForm=e,this.doc=a,this.dirtyFields=new Set,this.defaultFontCache=Cache.populatedBy(this.embedDefaultFont)}return s.prototype.hasXFA=function(){return this.acroForm.dict.has(PDFName.of("XFA"))},s.prototype.deleteXFA=function(){this.acroForm.dict.delete(PDFName.of("XFA"))},s.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),a=[],o=0,d=e.length;o<d;o++){var h=e[o],g=h[0],b=h[1],j=convertToPDFField(g,b,this.doc);j&&a.push(j)}return a},s.prototype.getFieldMaybe=function(e){assertIs(e,"name",["string"]);for(var a=this.getFields(),o=0,d=a.length;o<d;o++){var h=a[o];if(h.getName()===e)return h}},s.prototype.getField=function(e){assertIs(e,"name",["string"]);var a=this.getFieldMaybe(e);if(a)return a;throw new NoSuchFieldError(e)},s.prototype.getButton=function(e){assertIs(e,"name",["string"]);var a=this.getField(e);if(a instanceof PDFButton)return a;throw new UnexpectedFieldTypeError(e,PDFButton,a)},s.prototype.getCheckBox=function(e){assertIs(e,"name",["string"]);var a=this.getField(e);if(a instanceof PDFCheckBox)return a;throw new UnexpectedFieldTypeError(e,PDFCheckBox,a)},s.prototype.getDropdown=function(e){assertIs(e,"name",["string"]);var a=this.getField(e);if(a instanceof PDFDropdown)return a;throw new UnexpectedFieldTypeError(e,PDFDropdown,a)},s.prototype.getOptionList=function(e){assertIs(e,"name",["string"]);var a=this.getField(e);if(a instanceof PDFOptionList)return a;throw new UnexpectedFieldTypeError(e,PDFOptionList,a)},s.prototype.getRadioGroup=function(e){assertIs(e,"name",["string"]);var a=this.getField(e);if(a instanceof PDFRadioGroup)return a;throw new UnexpectedFieldTypeError(e,PDFRadioGroup,a)},s.prototype.getSignature=function(e){assertIs(e,"name",["string"]);var a=this.getField(e);if(a instanceof PDFSignature)return a;throw new UnexpectedFieldTypeError(e,PDFSignature,a)},s.prototype.getTextField=function(e){assertIs(e,"name",["string"]);var a=this.getField(e);if(a instanceof PDFTextField)return a;throw new UnexpectedFieldTypeError(e,PDFTextField,a)},s.prototype.createButton=function(e){assertIs(e,"name",["string"]);var a=splitFieldName(e),o=this.findOrCreateNonTerminals(a.nonTerminal),d=PDFAcroPushButton.create(this.doc.context);return d.setPartialName(a.terminal),addFieldToParent(o,[d,d.ref],a.terminal),PDFButton.of(d,d.ref,this.doc)},s.prototype.createCheckBox=function(e){assertIs(e,"name",["string"]);var a=splitFieldName(e),o=this.findOrCreateNonTerminals(a.nonTerminal),d=PDFAcroCheckBox.create(this.doc.context);return d.setPartialName(a.terminal),addFieldToParent(o,[d,d.ref],a.terminal),PDFCheckBox.of(d,d.ref,this.doc)},s.prototype.createDropdown=function(e){assertIs(e,"name",["string"]);var a=splitFieldName(e),o=this.findOrCreateNonTerminals(a.nonTerminal),d=PDFAcroComboBox.create(this.doc.context);return d.setPartialName(a.terminal),addFieldToParent(o,[d,d.ref],a.terminal),PDFDropdown.of(d,d.ref,this.doc)},s.prototype.createOptionList=function(e){assertIs(e,"name",["string"]);var a=splitFieldName(e),o=this.findOrCreateNonTerminals(a.nonTerminal),d=PDFAcroListBox.create(this.doc.context);return d.setPartialName(a.terminal),addFieldToParent(o,[d,d.ref],a.terminal),PDFOptionList.of(d,d.ref,this.doc)},s.prototype.createRadioGroup=function(e){assertIs(e,"name",["string"]);var a=splitFieldName(e),o=this.findOrCreateNonTerminals(a.nonTerminal),d=PDFAcroRadioButton.create(this.doc.context);return d.setPartialName(a.terminal),addFieldToParent(o,[d,d.ref],a.terminal),PDFRadioGroup.of(d,d.ref,this.doc)},s.prototype.createTextField=function(e){assertIs(e,"name",["string"]);var a=splitFieldName(e),o=this.findOrCreateNonTerminals(a.nonTerminal),d=PDFAcroText.create(this.doc.context);return d.setPartialName(a.terminal),addFieldToParent(o,[d,d.ref],a.terminal),PDFTextField.of(d,d.ref,this.doc)},s.prototype.flatten=function(e){e===void 0&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var a=this.getFields(),o=0,d=a.length;o<d;o++){for(var h=a[o],g=h.acroField.getWidgets(),b=0,j=g.length;b<j;b++){var _=g[b],$=this.findWidgetPage(_),_e=this.findWidgetAppearanceRef(h,_),et=$.node.newXObject("FlatWidget",_e),tt=_.getRectangle(),nt=__spreadArrays([pushGraphicsState(),translate(tt.x,tt.y)],rotateInPlace(__assign(__assign({},tt),{rotation:0})),[drawObject(et),popGraphicsState()]).filter(Boolean);$.pushOperators.apply($,nt)}this.removeField(h)}},s.prototype.removeField=function(e){for(var a=e.acroField.getWidgets(),o=new Set,d=0,h=a.length;d<h;d++){var g=a[d],b=this.findWidgetAppearanceRef(e,g),j=this.findWidgetPage(g);o.add(j),j.node.removeAnnot(b)}o.forEach(function(tt){return tt.node.removeAnnot(e.ref)}),this.acroForm.removeField(e.acroField);for(var _=e.acroField.normalizedEntries().Kids,$=_.size(),_e=0;_e<$;_e++){var et=_.get(_e);et instanceof PDFRef&&this.doc.context.delete(et)}this.doc.context.delete(e.ref)},s.prototype.updateFieldAppearances=function(e){assertOrUndefined(e,"font",[[PDFFont,"PDFFont"]]),e=e??this.getDefaultFont();for(var a=this.getFields(),o=0,d=a.length;o<d;o++){var h=a[o];h.needsAppearancesUpdate()&&h.defaultUpdateAppearances(e)}},s.prototype.markFieldAsDirty=function(e){assertOrUndefined(e,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.add(e)},s.prototype.markFieldAsClean=function(e){assertOrUndefined(e,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.delete(e)},s.prototype.fieldIsDirty=function(e){return assertOrUndefined(e,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.has(e)},s.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},s.prototype.findWidgetPage=function(e){var a=e.P(),o=this.doc.getPages().find(function(h){return h.ref===a});if(o===void 0){var d=this.doc.context.getObjectRef(e.dict);if(d===void 0)throw new Error("Could not find PDFRef for PDFObject");if(o=this.doc.findPageForAnnotationRef(d),o===void 0)throw new Error("Could not find page for PDFRef "+d)}return o},s.prototype.findWidgetAppearanceRef=function(e,a){var o,d=a.getNormalAppearance();if(d instanceof PDFDict&&(e instanceof PDFCheckBox||e instanceof PDFRadioGroup)){var h=e.acroField.getValue(),g=(o=d.get(h))!==null&&o!==void 0?o:d.get(PDFName.of("Off"));g instanceof PDFRef&&(d=g)}if(!(d instanceof PDFRef)){var b=e.getName();throw new Error("Failed to extract appearance ref for: "+b)}return d},s.prototype.findOrCreateNonTerminals=function(e){for(var a=[this.acroForm],o=0,d=e.length;o<d;o++){var h=e[o];if(!h)throw new InvalidFieldNamePartError(h);var g=a[0],b=a[1],j=this.findNonTerminal(h,g);if(j)a=j;else{var _=PDFAcroNonTerminal.create(this.doc.context);_.setPartialName(h),_.setParent(b);var $=this.doc.context.register(_.dict);g.addField($),a=[_,$]}}return a},s.prototype.findNonTerminal=function(e,a){for(var o=a instanceof PDFAcroForm?this.acroForm.getFields():createPDFAcroFields(a.Kids()),d=0,h=o.length;d<h;d++){var g=o[d],b=g[0],j=g[1];if(b.getPartialName()===e){if(b instanceof PDFAcroNonTerminal)return[b,j];throw new FieldAlreadyExistsError(e)}}},s.of=function(e,a){return new s(e,a)},s}(),convertToPDFField=function(s,e,a){if(s instanceof PDFAcroPushButton)return PDFButton.of(s,e,a);if(s instanceof PDFAcroCheckBox)return PDFCheckBox.of(s,e,a);if(s instanceof PDFAcroComboBox)return PDFDropdown.of(s,e,a);if(s instanceof PDFAcroListBox)return PDFOptionList.of(s,e,a);if(s instanceof PDFAcroText)return PDFTextField.of(s,e,a);if(s instanceof PDFAcroRadioButton)return PDFRadioGroup.of(s,e,a);if(s instanceof PDFAcroSignature)return PDFSignature.of(s,e,a)},splitFieldName=function(s){if(s.length===0)throw new Error("PDF field names must not be empty strings");for(var e=s.split("."),a=0,o=e.length;a<o;a++)if(e[a]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+s+'"');return e.length===1?{nonTerminal:[],terminal:e[0]}:{nonTerminal:e.slice(0,e.length-1),terminal:e[e.length-1]}},addFieldToParent=function(s,e,a){for(var o=s[0],d=s[1],h=e[0],g=e[1],b=o.normalizedEntries(),j=createPDFAcroFields("Kids"in b?b.Kids:b.Fields),_=0,$=j.length;_<$;_++)if(j[_][0].getPartialName()===a)throw new FieldAlreadyExistsError(a);o.addField(g),h.setParent(d)},PageSizes={A4:[595.28,841.89]},ParseSpeeds;(function(s){s[s.Fastest=1/0]="Fastest",s[s.Fast=1500]="Fast",s[s.Medium=500]="Medium",s[s.Slow=100]="Slow"})(ParseSpeeds||(ParseSpeeds={}));var PDFEmbeddedFile=function(){function s(e,a,o){this.alreadyEmbedded=!1,this.ref=e,this.doc=a,this.embedder=o}return s.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var e,a,o,d,h;return __generator(this,function(g){switch(g.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=g.sent(),this.doc.catalog.has(PDFName.of("Names"))||this.doc.catalog.set(PDFName.of("Names"),this.doc.context.obj({})),a=this.doc.catalog.lookup(PDFName.of("Names"),PDFDict),a.has(PDFName.of("EmbeddedFiles"))||a.set(PDFName.of("EmbeddedFiles"),this.doc.context.obj({})),o=a.lookup(PDFName.of("EmbeddedFiles"),PDFDict),o.has(PDFName.of("Names"))||o.set(PDFName.of("Names"),this.doc.context.obj([])),d=o.lookup(PDFName.of("Names"),PDFArray),d.push(PDFHexString.fromText(this.embedder.fileName)),d.push(e),this.doc.catalog.has(PDFName.of("AF"))||this.doc.catalog.set(PDFName.of("AF"),this.doc.context.obj([])),h=this.doc.catalog.lookup(PDFName.of("AF"),PDFArray),h.push(e),this.alreadyEmbedded=!0,g.label=2;case 2:return[2]}})})},s.of=function(e,a,o){return new s(e,a,o)},s}(),PDFJavaScript=function(){function s(e,a,o){this.alreadyEmbedded=!1,this.ref=e,this.doc=a,this.embedder=o}return s.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var e,a,o,d,h,g,b;return __generator(this,function(j){switch(j.label){case 0:return this.alreadyEmbedded?[3,2]:(e=this.doc,a=e.catalog,o=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:d=j.sent(),a.has(PDFName.of("Names"))||a.set(PDFName.of("Names"),o.obj({})),h=a.lookup(PDFName.of("Names"),PDFDict),h.has(PDFName.of("JavaScript"))||h.set(PDFName.of("JavaScript"),o.obj({})),g=h.lookup(PDFName.of("JavaScript"),PDFDict),g.has(PDFName.of("Names"))||g.set(PDFName.of("Names"),o.obj([])),b=g.lookup(PDFName.of("Names"),PDFArray),b.push(PDFHexString.fromText(this.embedder.scriptName)),b.push(d),this.alreadyEmbedded=!0,j.label=2;case 2:return[2]}})})},s.of=function(e,a,o){return new s(e,a,o)},s}(),JavaScriptEmbedder=function(){function s(e,a){this.script=e,this.scriptName=a}return s.for=function(e,a){return new s(e,a)},s.prototype.embedIntoContext=function(e,a){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(d){return o=e.obj({Type:"Action",S:"JavaScript",JS:PDFHexString.fromText(this.script)}),a?(e.assign(a,o),[2,a]):[2,e.register(o)]})})},s}(),PDFDocument=function(){function s(e,a,o){var d=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var h=[];return d.catalog.Pages().traverse(function(g,b){if(g instanceof PDFPageLeaf){var j=d.pageMap.get(g);j||(j=PDFPage.of(g,b,d),d.pageMap.set(g,j)),h.push(j)}}),h},this.getOrCreateForm=function(){var h=d.catalog.getOrCreateAcroForm();return PDFForm.of(h,d)},assertIs(e,"context",[[PDFContext,"PDFContext"]]),assertIs(a,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=Cache.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Cache.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!a&&this.isEncrypted)throw new EncryptedPDFError;o&&this.updateInfoDict()}return s.load=function(e,a){return a===void 0&&(a={}),__awaiter(this,void 0,void 0,function(){var o,d,h,g,b,j,_,$,_e,et,tt,nt;return __generator(this,function(it){switch(it.label){case 0:return o=a.ignoreEncryption,d=o===void 0?!1:o,h=a.parseSpeed,g=h===void 0?ParseSpeeds.Slow:h,b=a.throwOnInvalidObject,j=b===void 0?!1:b,_=a.updateMetadata,$=_===void 0?!0:_,_e=a.capNumbers,et=_e===void 0?!1:_e,assertIs(e,"pdf",["string",Uint8Array,ArrayBuffer]),assertIs(d,"ignoreEncryption",["boolean"]),assertIs(g,"parseSpeed",["number"]),assertIs(j,"throwOnInvalidObject",["boolean"]),tt=toUint8Array(e),[4,PDFParser.forBytesWithOptions(tt,g,j,et).parseDocument()];case 1:return nt=it.sent(),[2,new s(nt,d,$)]}})})},s.create=function(e){return e===void 0&&(e={}),__awaiter(this,void 0,void 0,function(){var a,o,d,h,g,b;return __generator(this,function(j){return a=e.updateMetadata,o=a===void 0?!0:a,d=PDFContext.create(),h=PDFPageTree.withContext(d),g=d.register(h),b=PDFCatalog.withContextAndPages(d,g),d.trailerInfo.Root=d.register(b),[2,new s(d,!1,o)]})})},s.prototype.registerFontkit=function(e){this.fontkit=e},s.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},s.prototype.getTitle=function(){var e=this.getInfoDict().lookup(PDFName.Title);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},s.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(PDFName.Author);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},s.prototype.getSubject=function(){var e=this.getInfoDict().lookup(PDFName.Subject);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},s.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(PDFName.Keywords);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},s.prototype.getCreator=function(){var e=this.getInfoDict().lookup(PDFName.Creator);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},s.prototype.getProducer=function(){var e=this.getInfoDict().lookup(PDFName.Producer);if(e)return assertIsLiteralOrHexString(e),e.decodeText()},s.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(PDFName.CreationDate);if(e)return assertIsLiteralOrHexString(e),e.decodeDate()},s.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(PDFName.ModDate);if(e)return assertIsLiteralOrHexString(e),e.decodeDate()},s.prototype.setTitle=function(e,a){assertIs(e,"title",["string"]);var o=PDFName.of("Title");if(this.getInfoDict().set(o,PDFHexString.fromText(e)),a!=null&&a.showInWindowTitleBar){var d=this.catalog.getOrCreateViewerPreferences();d.setDisplayDocTitle(!0)}},s.prototype.setAuthor=function(e){assertIs(e,"author",["string"]);var a=PDFName.of("Author");this.getInfoDict().set(a,PDFHexString.fromText(e))},s.prototype.setSubject=function(e){assertIs(e,"author",["string"]);var a=PDFName.of("Subject");this.getInfoDict().set(a,PDFHexString.fromText(e))},s.prototype.setKeywords=function(e){assertIs(e,"keywords",[Array]);var a=PDFName.of("Keywords");this.getInfoDict().set(a,PDFHexString.fromText(e.join(" ")))},s.prototype.setCreator=function(e){assertIs(e,"creator",["string"]);var a=PDFName.of("Creator");this.getInfoDict().set(a,PDFHexString.fromText(e))},s.prototype.setProducer=function(e){assertIs(e,"creator",["string"]);var a=PDFName.of("Producer");this.getInfoDict().set(a,PDFHexString.fromText(e))},s.prototype.setLanguage=function(e){assertIs(e,"language",["string"]);var a=PDFName.of("Lang");this.catalog.set(a,PDFString.of(e))},s.prototype.setCreationDate=function(e){assertIs(e,"creationDate",[[Date,"Date"]]);var a=PDFName.of("CreationDate");this.getInfoDict().set(a,PDFString.fromDate(e))},s.prototype.setModificationDate=function(e){assertIs(e,"modificationDate",[[Date,"Date"]]);var a=PDFName.of("ModDate");this.getInfoDict().set(a,PDFString.fromDate(e))},s.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},s.prototype.getPages=function(){return this.pageCache.access()},s.prototype.getPage=function(e){var a=this.getPages();return assertRange(e,"index",0,a.length-1),a[e]},s.prototype.getPageIndices=function(){return range(0,this.getPageCount())},s.prototype.removePage=function(e){var a=this.getPageCount();if(this.pageCount===0)throw new RemovePageFromEmptyDocumentError;assertRange(e,"index",0,a-1),this.catalog.removeLeafNode(e),this.pageCount=a-1},s.prototype.addPage=function(e){return assertIs(e,"page",["undefined",[PDFPage,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},s.prototype.insertPage=function(e,a){var o=this.getPageCount();if(assertRange(e,"index",0,o),assertIs(a,"page",["undefined",[PDFPage,"PDFPage"],Array]),!a||Array.isArray(a)){var d=Array.isArray(a)?a:PageSizes.A4;a=PDFPage.create(this),a.setSize.apply(a,d)}else if(a.doc!==this)throw new ForeignPageError;var h=this.catalog.insertLeafNode(a.ref,e);return a.node.setParent(h),this.pageMap.set(a.node,a),this.pageCache.invalidate(),this.pageCount=o+1,a},s.prototype.copyPages=function(e,a){return __awaiter(this,void 0,void 0,function(){var o,d,h,g,b,j,_,$;return __generator(this,function(_e){switch(_e.label){case 0:return assertIs(e,"srcDoc",[[s,"PDFDocument"]]),assertIs(a,"indices",[Array]),[4,e.flush()];case 1:for(_e.sent(),o=PDFObjectCopier.for(e.context,this.context),d=e.getPages(),h=new Array(a.length),g=0,b=a.length;g<b;g++)j=d[a[g]],_=o.copy(j.node),$=this.context.register(_),h[g]=PDFPage.of(_,$,this);return[2,h]}})})},s.prototype.copy=function(){return __awaiter(this,void 0,void 0,function(){var e,a,o,d;return __generator(this,function(h){switch(h.label){case 0:return[4,s.create()];case 1:return e=h.sent(),[4,e.copyPages(this,this.getPageIndices())];case 2:for(a=h.sent(),o=0,d=a.length;o<d;o++)e.addPage(a[o]);return this.getAuthor()!==void 0&&e.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&e.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&e.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&e.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&e.setProducer(this.getProducer()),this.getSubject()!==void 0&&e.setSubject(this.getSubject()),this.getTitle()!==void 0&&e.setTitle(this.getTitle()),e.defaultWordBreaks=this.defaultWordBreaks,[2,e]}})})},s.prototype.addJavaScript=function(e,a){assertIs(e,"name",["string"]),assertIs(a,"script",["string"]);var o=JavaScriptEmbedder.for(a,e),d=this.context.nextRef(),h=PDFJavaScript.of(d,this,o);this.javaScripts.push(h)},s.prototype.attach=function(e,a,o){return o===void 0&&(o={}),__awaiter(this,void 0,void 0,function(){var d,h,g,b;return __generator(this,function(j){return assertIs(e,"attachment",["string",Uint8Array,ArrayBuffer]),assertIs(a,"name",["string"]),assertOrUndefined(o.mimeType,"mimeType",["string"]),assertOrUndefined(o.description,"description",["string"]),assertOrUndefined(o.creationDate,"options.creationDate",[Date]),assertOrUndefined(o.modificationDate,"options.modificationDate",[Date]),assertIsOneOfOrUndefined(o.afRelationship,"options.afRelationship",AFRelationship),d=toUint8Array(e),h=FileEmbedder.for(d,a,o),g=this.context.nextRef(),b=PDFEmbeddedFile.of(g,this,h),this.embeddedFiles.push(b),[2]})})},s.prototype.embedFont=function(e,a){return a===void 0&&(a={}),__awaiter(this,void 0,void 0,function(){var o,d,h,g,b,j,_,$,_e,et;return __generator(this,function(tt){switch(tt.label){case 0:return o=a.subset,d=o===void 0?!1:o,h=a.customName,g=a.features,assertIs(e,"font",["string",Uint8Array,ArrayBuffer]),assertIs(d,"subset",["boolean"]),isStandardFont(e)?(b=StandardFontEmbedder.for(e,h),[3,7]):[3,1];case 1:return canBeConvertedToUint8Array(e)?(j=toUint8Array(e),_=this.assertFontkit(),d?[4,CustomFontSubsetEmbedder.for(_,j,h,g)]:[3,3]):[3,6];case 2:return $=tt.sent(),[3,5];case 3:return[4,CustomFontEmbedder.for(_,j,h,g)];case 4:$=tt.sent(),tt.label=5;case 5:return b=$,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return _e=this.context.nextRef(),et=PDFFont.of(_e,this,b),this.fonts.push(et),[2,et]}})})},s.prototype.embedStandardFont=function(e,a){if(assertIs(e,"font",["string"]),!isStandardFont(e))throw new TypeError("`font` must be one of type `StandardFonts`");var o=StandardFontEmbedder.for(e,a),d=this.context.nextRef(),h=PDFFont.of(d,this,o);return this.fonts.push(h),h},s.prototype.embedJpg=function(e){return __awaiter(this,void 0,void 0,function(){var a,o,d,h;return __generator(this,function(g){switch(g.label){case 0:return assertIs(e,"jpg",["string",Uint8Array,ArrayBuffer]),a=toUint8Array(e),[4,JpegEmbedder.for(a)];case 1:return o=g.sent(),d=this.context.nextRef(),h=PDFImage.of(d,this,o),this.images.push(h),[2,h]}})})},s.prototype.embedPng=function(e){return __awaiter(this,void 0,void 0,function(){var a,o,d,h;return __generator(this,function(g){switch(g.label){case 0:return assertIs(e,"png",["string",Uint8Array,ArrayBuffer]),a=toUint8Array(e),[4,PngEmbedder.for(a)];case 1:return o=g.sent(),d=this.context.nextRef(),h=PDFImage.of(d,this,o),this.images.push(h),[2,h]}})})},s.prototype.embedPdf=function(e,a){return a===void 0&&(a=[0]),__awaiter(this,void 0,void 0,function(){var o,d,h;return __generator(this,function(g){switch(g.label){case 0:return assertIs(e,"pdf",["string",Uint8Array,ArrayBuffer,[s,"PDFDocument"]]),assertIs(a,"indices",[Array]),e instanceof s?(d=e,[3,3]):[3,1];case 1:return[4,s.load(e)];case 2:d=g.sent(),g.label=3;case 3:return o=d,h=pluckIndices(o.getPages(),a),[2,this.embedPages(h)]}})})},s.prototype.embedPage=function(e,a,o){return __awaiter(this,void 0,void 0,function(){var d;return __generator(this,function(h){switch(h.label){case 0:return assertIs(e,"page",[[PDFPage,"PDFPage"]]),[4,this.embedPages([e],[a],[o])];case 1:return d=h.sent()[0],[2,d]}})})},s.prototype.embedPages=function(e,a,o){return a===void 0&&(a=[]),o===void 0&&(o=[]),__awaiter(this,void 0,void 0,function(){var _,$,d,h,g,b,j,_,$,_e,et,tt,nt,it,st;return __generator(this,function(rt){switch(rt.label){case 0:if(e.length===0)return[2,[]];for(_=0,$=e.length-1;_<$;_++)if(d=e[_],h=e[_+1],d.node.context!==h.node.context)throw new PageEmbeddingMismatchedContextError;g=e[0].node.context,b=g===this.context?function(at){return at}:PDFObjectCopier.for(g,this.context).copy,j=new Array(e.length),_=0,$=e.length,rt.label=1;case 1:return _<$?(_e=b(e[_].node),et=a[_],tt=o[_],[4,PDFPageEmbedder.for(_e,et,tt)]):[3,4];case 2:nt=rt.sent(),it=this.context.nextRef(),j[_]=PDFEmbeddedPage.of(it,this,nt),rt.label=3;case 3:return _++,[3,1];case 4:return(st=this.embeddedPages).push.apply(st,j),[2,j]}})})},s.prototype.flush=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}})})},s.prototype.save=function(e){return e===void 0&&(e={}),__awaiter(this,void 0,void 0,function(){var a,o,d,h,g,b,j,_,$,_e;return __generator(this,function(et){switch(et.label){case 0:return a=e.useObjectStreams,o=a===void 0?!0:a,d=e.addDefaultPage,h=d===void 0?!0:d,g=e.objectsPerTick,b=g===void 0?50:g,j=e.updateFieldAppearances,_=j===void 0?!0:j,assertIs(o,"useObjectStreams",["boolean"]),assertIs(h,"addDefaultPage",["boolean"]),assertIs(b,"objectsPerTick",["number"]),assertIs(_,"updateFieldAppearances",["boolean"]),h&&this.getPageCount()===0&&this.addPage(),_&&($=this.formCache.getValue(),$&&$.updateFieldAppearances()),[4,this.flush()];case 1:return et.sent(),_e=o?PDFStreamWriter:PDFWriter,[2,_e.forContext(this.context,b).serializeToBuffer()]}})})},s.prototype.saveAsBase64=function(e){return e===void 0&&(e={}),__awaiter(this,void 0,void 0,function(){var a,o,d,h,g;return __generator(this,function(b){switch(b.label){case 0:return a=e.dataUri,o=a===void 0?!1:a,d=__rest(e,["dataUri"]),assertIs(o,"dataUri",["boolean"]),[4,this.save(d)];case 1:return h=b.sent(),g=encodeToBase64(h),[2,o?"data:application/pdf;base64,"+g:g]}})})},s.prototype.findPageForAnnotationRef=function(e){for(var a=this.getPages(),o=0,d=a.length;o<d;o++){var h=a[o],g=h.node.Annots();if((g==null?void 0:g.indexOf(e))!==void 0)return h}},s.prototype.embedAll=function(e){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(d){switch(d.label){case 0:a=0,o=e.length,d.label=1;case 1:return a<o?[4,e[a].embed()]:[3,4];case 2:d.sent(),d.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},s.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",a=new Date,o=this.getInfoDict();this.setProducer(e),this.setModificationDate(a),o.get(PDFName.of("Creator"))||this.setCreator(e),o.get(PDFName.of("CreationDate"))||this.setCreationDate(a)},s.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof PDFDict)return e;var a=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(a),a},s.prototype.assertFontkit=function(){if(!this.fontkit)throw new FontkitNotRegisteredError;return this.fontkit},s}();function assertIsLiteralOrHexString(s){if(!(s instanceof PDFHexString)&&!(s instanceof PDFString))throw new UnexpectedObjectTypeError([PDFHexString,PDFString],s)}var BlendMode;(function(s){s.Normal="Normal",s.Multiply="Multiply",s.Screen="Screen",s.Overlay="Overlay",s.Darken="Darken",s.Lighten="Lighten",s.ColorDodge="ColorDodge",s.ColorBurn="ColorBurn",s.HardLight="HardLight",s.SoftLight="SoftLight",s.Difference="Difference",s.Exclusion="Exclusion"})(BlendMode||(BlendMode={}));var PDFPage=function(){function s(e,a,o){this.fontSize=24,this.fontColor=rgb(0,0,0),this.lineHeight=24,this.x=0,this.y=0,assertIs(e,"leafNode",[[PDFPageLeaf,"PDFPageLeaf"]]),assertIs(a,"ref",[[PDFRef,"PDFRef"]]),assertIs(o,"doc",[[PDFDocument,"PDFDocument"]]),this.node=e,this.ref=a,this.doc=o}return s.prototype.setRotation=function(e){var a=toDegrees(e);assertMultiple(a,"degreesAngle",90),this.node.set(PDFName.of("Rotate"),this.doc.context.obj(a))},s.prototype.getRotation=function(){var e=this.node.Rotate();return degrees(e?e.asNumber():0)},s.prototype.setSize=function(e,a){assertIs(e,"width",["number"]),assertIs(a,"height",["number"]);var o=this.getMediaBox();this.setMediaBox(o.x,o.y,e,a);var d=this.getCropBox(),h=this.getBleedBox(),g=this.getTrimBox(),b=this.getArtBox(),j=this.node.CropBox(),_=this.node.BleedBox(),$=this.node.TrimBox(),_e=this.node.ArtBox();j&&rectanglesAreEqual(d,o)&&this.setCropBox(o.x,o.y,e,a),_&&rectanglesAreEqual(h,o)&&this.setBleedBox(o.x,o.y,e,a),$&&rectanglesAreEqual(g,o)&&this.setTrimBox(o.x,o.y,e,a),_e&&rectanglesAreEqual(b,o)&&this.setArtBox(o.x,o.y,e,a)},s.prototype.setWidth=function(e){assertIs(e,"width",["number"]),this.setSize(e,this.getSize().height)},s.prototype.setHeight=function(e){assertIs(e,"height",["number"]),this.setSize(this.getSize().width,e)},s.prototype.setMediaBox=function(e,a,o,d){assertIs(e,"x",["number"]),assertIs(a,"y",["number"]),assertIs(o,"width",["number"]),assertIs(d,"height",["number"]);var h=this.doc.context.obj([e,a,e+o,a+d]);this.node.set(PDFName.MediaBox,h)},s.prototype.setCropBox=function(e,a,o,d){assertIs(e,"x",["number"]),assertIs(a,"y",["number"]),assertIs(o,"width",["number"]),assertIs(d,"height",["number"]);var h=this.doc.context.obj([e,a,e+o,a+d]);this.node.set(PDFName.CropBox,h)},s.prototype.setBleedBox=function(e,a,o,d){assertIs(e,"x",["number"]),assertIs(a,"y",["number"]),assertIs(o,"width",["number"]),assertIs(d,"height",["number"]);var h=this.doc.context.obj([e,a,e+o,a+d]);this.node.set(PDFName.BleedBox,h)},s.prototype.setTrimBox=function(e,a,o,d){assertIs(e,"x",["number"]),assertIs(a,"y",["number"]),assertIs(o,"width",["number"]),assertIs(d,"height",["number"]);var h=this.doc.context.obj([e,a,e+o,a+d]);this.node.set(PDFName.TrimBox,h)},s.prototype.setArtBox=function(e,a,o,d){assertIs(e,"x",["number"]),assertIs(a,"y",["number"]),assertIs(o,"width",["number"]),assertIs(d,"height",["number"]);var h=this.doc.context.obj([e,a,e+o,a+d]);this.node.set(PDFName.ArtBox,h)},s.prototype.getSize=function(){var e=this.getMediaBox(),a=e.width,o=e.height;return{width:a,height:o}},s.prototype.getWidth=function(){return this.getSize().width},s.prototype.getHeight=function(){return this.getSize().height},s.prototype.getMediaBox=function(){var e=this.node.MediaBox();return e.asRectangle()},s.prototype.getCropBox=function(){var e,a=this.node.CropBox();return(e=a==null?void 0:a.asRectangle())!==null&&e!==void 0?e:this.getMediaBox()},s.prototype.getBleedBox=function(){var e,a=this.node.BleedBox();return(e=a==null?void 0:a.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},s.prototype.getTrimBox=function(){var e,a=this.node.TrimBox();return(e=a==null?void 0:a.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},s.prototype.getArtBox=function(){var e,a=this.node.ArtBox();return(e=a==null?void 0:a.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},s.prototype.translateContent=function(e,a){assertIs(e,"x",["number"]),assertIs(a,"y",["number"]),this.node.normalize(),this.getContentStream();var o=this.createContentStream(pushGraphicsState(),translate(e,a)),d=this.doc.context.register(o),h=this.createContentStream(popGraphicsState()),g=this.doc.context.register(h);this.node.wrapContentStreams(d,g)},s.prototype.scale=function(e,a){assertIs(e,"x",["number"]),assertIs(a,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*a),this.scaleContent(e,a),this.scaleAnnotations(e,a)},s.prototype.scaleContent=function(e,a){assertIs(e,"x",["number"]),assertIs(a,"y",["number"]),this.node.normalize(),this.getContentStream();var o=this.createContentStream(pushGraphicsState(),scale(e,a)),d=this.doc.context.register(o),h=this.createContentStream(popGraphicsState()),g=this.doc.context.register(h);this.node.wrapContentStreams(d,g)},s.prototype.scaleAnnotations=function(e,a){assertIs(e,"x",["number"]),assertIs(a,"y",["number"]);var o=this.node.Annots();if(o)for(var d=0;d<o.size();d++){var h=o.lookup(d);h instanceof PDFDict&&this.scaleAnnot(h,e,a)}},s.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},s.prototype.setFont=function(e){assertIs(e,"font",[[PDFFont,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},s.prototype.setFontSize=function(e){assertIs(e,"fontSize",["number"]),this.fontSize=e},s.prototype.setFontColor=function(e){assertIs(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},s.prototype.setLineHeight=function(e){assertIs(e,"lineHeight",["number"]),this.lineHeight=e},s.prototype.getPosition=function(){return{x:this.x,y:this.y}},s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.moveTo=function(e,a){assertIs(e,"x",["number"]),assertIs(a,"y",["number"]),this.x=e,this.y=a},s.prototype.moveDown=function(e){assertIs(e,"yDecrease",["number"]),this.y-=e},s.prototype.moveUp=function(e){assertIs(e,"yIncrease",["number"]),this.y+=e},s.prototype.moveLeft=function(e){assertIs(e,"xDecrease",["number"]),this.x-=e},s.prototype.moveRight=function(e){assertIs(e,"xIncrease",["number"]),this.x+=e},s.prototype.pushOperators=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];assertEachIs(e,"operator",[[PDFOperator,"PDFOperator"]]);var o=this.getContentStream();o.push.apply(o,e)},s.prototype.drawText=function(e,a){var o,d,h,g,b,j,_;a===void 0&&(a={}),assertIs(e,"text",["string"]),assertOrUndefined(a.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(a.opacity,"opacity.opacity",0,1),assertOrUndefined(a.font,"options.font",[[PDFFont,"PDFFont"]]),assertOrUndefined(a.size,"options.size",["number"]),assertOrUndefined(a.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(a.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(a.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(a.x,"options.x",["number"]),assertOrUndefined(a.y,"options.y",["number"]),assertOrUndefined(a.lineHeight,"options.lineHeight",["number"]),assertOrUndefined(a.maxWidth,"options.maxWidth",["number"]),assertOrUndefined(a.wordBreaks,"options.wordBreaks",[Array]),assertIsOneOfOrUndefined(a.blendMode,"options.blendMode",BlendMode);for(var $=this.setOrEmbedFont(a.font),_e=$.oldFont,et=$.newFont,tt=$.newFontKey,nt=a.size||this.fontSize,it=a.wordBreaks||this.doc.defaultWordBreaks,st=function(ct){return et.widthOfTextAtSize(ct,nt)},rt=a.maxWidth===void 0?lineSplit(cleanText(e)):breakTextIntoLines(e,it,a.maxWidth,st),at=new Array(rt.length),ht=0,ft=rt.length;ht<ft;ht++)at[ht]=et.encodeText(rt[ht]);var ot=this.maybeEmbedGraphicsState({opacity:a.opacity,blendMode:a.blendMode}),ut=this.getContentStream();ut.push.apply(ut,drawLinesOfText(at,{color:(o=a.color)!==null&&o!==void 0?o:this.fontColor,font:tt,size:nt,rotate:(d=a.rotate)!==null&&d!==void 0?d:degrees(0),xSkew:(h=a.xSkew)!==null&&h!==void 0?h:degrees(0),ySkew:(g=a.ySkew)!==null&&g!==void 0?g:degrees(0),x:(b=a.x)!==null&&b!==void 0?b:this.x,y:(j=a.y)!==null&&j!==void 0?j:this.y,lineHeight:(_=a.lineHeight)!==null&&_!==void 0?_:this.lineHeight,graphicsState:ot})),a.font&&(_e?this.setFont(_e):this.resetFont())},s.prototype.drawImage=function(e,a){var o,d,h,g,b,j,_;a===void 0&&(a={}),assertIs(e,"image",[[PDFImage,"PDFImage"]]),assertOrUndefined(a.x,"options.x",["number"]),assertOrUndefined(a.y,"options.y",["number"]),assertOrUndefined(a.width,"options.width",["number"]),assertOrUndefined(a.height,"options.height",["number"]),assertOrUndefined(a.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(a.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(a.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(a.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(a.blendMode,"options.blendMode",BlendMode);var $=this.node.newXObject("Image",e.ref),_e=this.maybeEmbedGraphicsState({opacity:a.opacity,blendMode:a.blendMode}),et=this.getContentStream();et.push.apply(et,drawImage($,{x:(o=a.x)!==null&&o!==void 0?o:this.x,y:(d=a.y)!==null&&d!==void 0?d:this.y,width:(h=a.width)!==null&&h!==void 0?h:e.size().width,height:(g=a.height)!==null&&g!==void 0?g:e.size().height,rotate:(b=a.rotate)!==null&&b!==void 0?b:degrees(0),xSkew:(j=a.xSkew)!==null&&j!==void 0?j:degrees(0),ySkew:(_=a.ySkew)!==null&&_!==void 0?_:degrees(0),graphicsState:_e}))},s.prototype.drawPage=function(e,a){var o,d,h,g,b;a===void 0&&(a={}),assertIs(e,"embeddedPage",[[PDFEmbeddedPage,"PDFEmbeddedPage"]]),assertOrUndefined(a.x,"options.x",["number"]),assertOrUndefined(a.y,"options.y",["number"]),assertOrUndefined(a.xScale,"options.xScale",["number"]),assertOrUndefined(a.yScale,"options.yScale",["number"]),assertOrUndefined(a.width,"options.width",["number"]),assertOrUndefined(a.height,"options.height",["number"]),assertOrUndefined(a.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(a.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(a.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(a.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(a.blendMode,"options.blendMode",BlendMode);var j=this.node.newXObject("EmbeddedPdfPage",e.ref),_=this.maybeEmbedGraphicsState({opacity:a.opacity,blendMode:a.blendMode}),$=a.width!==void 0?a.width/e.width:a.xScale!==void 0?a.xScale:1,_e=a.height!==void 0?a.height/e.height:a.yScale!==void 0?a.yScale:1,et=this.getContentStream();et.push.apply(et,drawPage(j,{x:(o=a.x)!==null&&o!==void 0?o:this.x,y:(d=a.y)!==null&&d!==void 0?d:this.y,xScale:$,yScale:_e,rotate:(h=a.rotate)!==null&&h!==void 0?h:degrees(0),xSkew:(g=a.xSkew)!==null&&g!==void 0?g:degrees(0),ySkew:(b=a.ySkew)!==null&&b!==void 0?b:degrees(0),graphicsState:_}))},s.prototype.drawSvgPath=function(e,a){var o,d,h,g,b,j,_,$,_e;a===void 0&&(a={}),assertIs(e,"path",["string"]),assertOrUndefined(a.x,"options.x",["number"]),assertOrUndefined(a.y,"options.y",["number"]),assertOrUndefined(a.scale,"options.scale",["number"]),assertOrUndefined(a.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(a.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(a.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(a.opacity,"opacity.opacity",0,1),assertOrUndefined(a.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(a.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(a.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(a.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(a.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(a.blendMode,"options.blendMode",BlendMode);var et=this.maybeEmbedGraphicsState({opacity:a.opacity,borderOpacity:a.borderOpacity,blendMode:a.blendMode});!("color"in a)&&!("borderColor"in a)&&(a.borderColor=rgb(0,0,0));var tt=this.getContentStream();tt.push.apply(tt,drawSvgPath(e,{x:(o=a.x)!==null&&o!==void 0?o:this.x,y:(d=a.y)!==null&&d!==void 0?d:this.y,scale:a.scale,rotate:(h=a.rotate)!==null&&h!==void 0?h:degrees(0),color:(g=a.color)!==null&&g!==void 0?g:void 0,borderColor:(b=a.borderColor)!==null&&b!==void 0?b:void 0,borderWidth:(j=a.borderWidth)!==null&&j!==void 0?j:0,borderDashArray:(_=a.borderDashArray)!==null&&_!==void 0?_:void 0,borderDashPhase:($=a.borderDashPhase)!==null&&$!==void 0?$:void 0,borderLineCap:(_e=a.borderLineCap)!==null&&_e!==void 0?_e:void 0,graphicsState:et}))},s.prototype.drawLine=function(e){var a,o,d,h,g;assertIs(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),assertIs(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),assertIs(e.start.x,"options.start.x",["number"]),assertIs(e.start.y,"options.start.y",["number"]),assertIs(e.end.x,"options.end.x",["number"]),assertIs(e.end.y,"options.end.y",["number"]),assertOrUndefined(e.thickness,"options.thickness",["number"]),assertOrUndefined(e.color,"options.color",[[Object,"Color"]]),assertOrUndefined(e.dashArray,"options.dashArray",[Array]),assertOrUndefined(e.dashPhase,"options.dashPhase",["number"]),assertIsOneOfOrUndefined(e.lineCap,"options.lineCap",LineCapStyle),assertRangeOrUndefined(e.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(e.blendMode,"options.blendMode",BlendMode);var b=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=rgb(0,0,0));var j=this.getContentStream();j.push.apply(j,drawLine({start:e.start,end:e.end,thickness:(a=e.thickness)!==null&&a!==void 0?a:1,color:(o=e.color)!==null&&o!==void 0?o:void 0,dashArray:(d=e.dashArray)!==null&&d!==void 0?d:void 0,dashPhase:(h=e.dashPhase)!==null&&h!==void 0?h:void 0,lineCap:(g=e.lineCap)!==null&&g!==void 0?g:void 0,graphicsState:b}))},s.prototype.drawRectangle=function(e){var a,o,d,h,g,b,j,_,$,_e,et,tt,nt;e===void 0&&(e={}),assertOrUndefined(e.x,"options.x",["number"]),assertOrUndefined(e.y,"options.y",["number"]),assertOrUndefined(e.width,"options.width",["number"]),assertOrUndefined(e.height,"options.height",["number"]),assertOrUndefined(e.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(e.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(e.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(e.opacity,"opacity.opacity",0,1),assertOrUndefined(e.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(e.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(e.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(e.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(e.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(e.blendMode,"options.blendMode",BlendMode);var it=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=rgb(0,0,0));var st=this.getContentStream();st.push.apply(st,drawRectangle({x:(a=e.x)!==null&&a!==void 0?a:this.x,y:(o=e.y)!==null&&o!==void 0?o:this.y,width:(d=e.width)!==null&&d!==void 0?d:150,height:(h=e.height)!==null&&h!==void 0?h:100,rotate:(g=e.rotate)!==null&&g!==void 0?g:degrees(0),xSkew:(b=e.xSkew)!==null&&b!==void 0?b:degrees(0),ySkew:(j=e.ySkew)!==null&&j!==void 0?j:degrees(0),borderWidth:(_=e.borderWidth)!==null&&_!==void 0?_:0,color:($=e.color)!==null&&$!==void 0?$:void 0,borderColor:(_e=e.borderColor)!==null&&_e!==void 0?_e:void 0,borderDashArray:(et=e.borderDashArray)!==null&&et!==void 0?et:void 0,borderDashPhase:(tt=e.borderDashPhase)!==null&&tt!==void 0?tt:void 0,graphicsState:it,borderLineCap:(nt=e.borderLineCap)!==null&&nt!==void 0?nt:void 0}))},s.prototype.drawSquare=function(e){e===void 0&&(e={});var a=e.size;assertOrUndefined(a,"size",["number"]),this.drawRectangle(__assign(__assign({},e),{width:a,height:a}))},s.prototype.drawEllipse=function(e){var a,o,d,h,g,b,j,_,$,_e,et;e===void 0&&(e={}),assertOrUndefined(e.x,"options.x",["number"]),assertOrUndefined(e.y,"options.y",["number"]),assertOrUndefined(e.xScale,"options.xScale",["number"]),assertOrUndefined(e.yScale,"options.yScale",["number"]),assertOrUndefined(e.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(e.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(e.opacity,"opacity.opacity",0,1),assertOrUndefined(e.borderColor,"options.borderColor",[[Object,"Color"]]),assertRangeOrUndefined(e.borderOpacity,"options.borderOpacity",0,1),assertOrUndefined(e.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(e.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(e.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(e.borderLineCap,"options.borderLineCap",LineCapStyle),assertIsOneOfOrUndefined(e.blendMode,"options.blendMode",BlendMode);var tt=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=rgb(0,0,0));var nt=this.getContentStream();nt.push.apply(nt,drawEllipse({x:(a=e.x)!==null&&a!==void 0?a:this.x,y:(o=e.y)!==null&&o!==void 0?o:this.y,xScale:(d=e.xScale)!==null&&d!==void 0?d:100,yScale:(h=e.yScale)!==null&&h!==void 0?h:100,rotate:(g=e.rotate)!==null&&g!==void 0?g:void 0,color:(b=e.color)!==null&&b!==void 0?b:void 0,borderColor:(j=e.borderColor)!==null&&j!==void 0?j:void 0,borderWidth:(_=e.borderWidth)!==null&&_!==void 0?_:0,borderDashArray:($=e.borderDashArray)!==null&&$!==void 0?$:void 0,borderDashPhase:(_e=e.borderDashPhase)!==null&&_e!==void 0?_e:void 0,borderLineCap:(et=e.borderLineCap)!==null&&et!==void 0?et:void 0,graphicsState:tt}))},s.prototype.drawCircle=function(e){e===void 0&&(e={});var a=e.size,o=a===void 0?100:a;assertOrUndefined(o,"size",["number"]),this.drawEllipse(__assign(__assign({},e),{xScale:o,yScale:o}))},s.prototype.setOrEmbedFont=function(e){var a=this.font,o=this.fontKey;e?this.setFont(e):this.getFont();var d=this.font,h=this.fontKey;return{oldFont:a,oldFontKey:o,newFont:d,newFontKey:h}},s.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont(StandardFonts.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},s.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},s.prototype.getContentStream=function(e){return e===void 0&&(e=!0),e&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},s.prototype.createContentStream=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];var o=this.doc.context.obj({}),d=PDFContentStream.of(o,e);return d},s.prototype.maybeEmbedGraphicsState=function(e){var a=e.opacity,o=e.borderOpacity,d=e.blendMode;if(!(a===void 0&&o===void 0&&d===void 0)){var h=this.doc.context.obj({Type:"ExtGState",ca:a,CA:o,BM:d}),g=this.node.newExtGState("GS",h);return g}},s.prototype.scaleAnnot=function(e,a,o){for(var d=["RD","CL","Vertices","QuadPoints","L","Rect"],h=0,g=d.length;h<g;h++){var b=e.lookup(PDFName.of(d[h]));b instanceof PDFArray&&b.scalePDFNumbers(a,o)}var j=e.lookup(PDFName.of("InkList"));if(j instanceof PDFArray)for(var h=0,g=j.size();h<g;h++){var _=j.lookup(h);_ instanceof PDFArray&&_.scalePDFNumbers(a,o)}},s.of=function(e,a,o){return new s(e,a,o)},s.create=function(e){assertIs(e,"doc",[[PDFDocument,"PDFDocument"]]);var a=PDFRef.of(-1),o=PDFPageLeaf.withContextAndParent(e.context,a),d=e.context.register(o);return new s(o,d,e)},s}(),PDFButton=function(s){__extends(e,s);function e(a,o,d){var h=s.call(this,a,o,d)||this;return assertIs(a,"acroButton",[[PDFAcroPushButton,"PDFAcroPushButton"]]),h.acroField=a,h}return e.prototype.setImage=function(a,o){o===void 0&&(o=ImageAlignment.Center);for(var d=this.acroField.getWidgets(),h=0,g=d.length;h<g;h++){var b=d[h],j=this.createImageAppearanceStream(b,a,o);this.updateWidgetAppearances(b,{normal:j})}this.markAsClean()},e.prototype.setFontSize=function(a){assertPositive(a,"fontSize"),this.acroField.setFontSize(a),this.markAsDirty()},e.prototype.addToPage=function(a,o,d){var h,g,b,j,_,$,_e,et,tt,nt,it;assertOrUndefined(a,"text",["string"]),assertOrUndefined(o,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(d);var st=this.createWidget({x:((h=d==null?void 0:d.x)!==null&&h!==void 0?h:0)-((g=d==null?void 0:d.borderWidth)!==null&&g!==void 0?g:0)/2,y:((b=d==null?void 0:d.y)!==null&&b!==void 0?b:0)-((j=d==null?void 0:d.borderWidth)!==null&&j!==void 0?j:0)/2,width:(_=d==null?void 0:d.width)!==null&&_!==void 0?_:100,height:($=d==null?void 0:d.height)!==null&&$!==void 0?$:50,textColor:(_e=d==null?void 0:d.textColor)!==null&&_e!==void 0?_e:rgb(0,0,0),backgroundColor:(et=d==null?void 0:d.backgroundColor)!==null&&et!==void 0?et:rgb(.75,.75,.75),borderColor:d==null?void 0:d.borderColor,borderWidth:(tt=d==null?void 0:d.borderWidth)!==null&&tt!==void 0?tt:0,rotate:(nt=d==null?void 0:d.rotate)!==null&&nt!==void 0?nt:degrees(0),caption:a,hidden:d==null?void 0:d.hidden,page:o.ref}),rt=this.doc.context.register(st.dict);this.acroField.addWidget(rt);var at=(it=d==null?void 0:d.font)!==null&&it!==void 0?it:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(st,at),o.node.addAnnot(rt)},e.prototype.needsAppearancesUpdate=function(){var a;if(this.isDirty())return!0;for(var o=this.acroField.getWidgets(),d=0,h=o.length;d<h;d++){var g=o[d],b=((a=g.getAppearances())===null||a===void 0?void 0:a.normal)instanceof PDFStream;if(!b)return!0}return!1},e.prototype.defaultUpdateAppearances=function(a){assertIs(a,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(a)},e.prototype.updateAppearances=function(a,o){assertIs(a,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(o,"provider",[Function]);for(var d=this.acroField.getWidgets(),h=0,g=d.length;h<g;h++){var b=d[h];this.updateWidgetAppearance(b,a,o)}},e.prototype.updateWidgetAppearance=function(a,o,d){var h=d??defaultButtonAppearanceProvider,g=normalizeAppearance(h(this,a,o));this.updateWidgetAppearanceWithFont(a,o,g)},e.of=function(a,o,d){return new e(a,o,d)},e}(PDFField);const PAGE_SIZES={A4:{name:"A4",width:595,height:842,displayName:"A4 (210  297 mm)",description:"Standard international paper size"},A3:{name:"A3",width:842,height:1191,displayName:"A3 (297  420 mm)",description:"Double the size of A4"},LETTER:{name:"LETTER",width:612,height:792,displayName:"Letter (8.5  11 in)",description:"Standard US paper size"},LEGAL:{name:"LEGAL",width:612,height:1008,displayName:"Legal (8.5  14 in)",description:"US legal document size"}},DEFAULT_PAGE_SIZE="A4",getPageSize=s=>PAGE_SIZES[s]||PAGE_SIZES[DEFAULT_PAGE_SIZE],PDFEditor$1=reactExports.lazy(()=>__vitePreload(()=>import("./PDFEditor-XAbRHtk9.js"),__vite__mapDeps([0,1]),import.meta.url));pdfExports$1.GlobalWorkerOptions.workerSrc=pdfjsWorker;const PAGES_PER_BATCH=2,QUALITY_TIERS={ULTRA_LOW:"ULTRA_LOW",APPROPRIATE:"APPROPRIATE",BEST:"BEST"},QUALITY_CONFIG={[QUALITY_TIERS.ULTRA_LOW]:{scale:.2,jpegQuality:.4},[QUALITY_TIERS.APPROPRIATE]:{scale:.65,jpegQuality:.6},[QUALITY_TIERS.BEST]:{scale:2,jpegQuality:.85}},CACHE_LIMITS={[QUALITY_TIERS.ULTRA_LOW]:120,[QUALITY_TIERS.APPROPRIATE]:80,[QUALITY_TIERS.BEST]:12},PDFPageSelector=({file:s,selectedPages:e,onPagesSelected:a,pageSize:o=DEFAULT_PAGE_SIZE,colorMode:d="BW",pagesPerSheet:h=1,onEditPage:g,viewMode:b="grid"})=>{const[j,_]=reactExports.useState([]),[$,_e]=reactExports.useState([]),[et,tt]=reactExports.useState(0),[nt,it]=reactExports.useState(0),[st,rt]=reactExports.useState(!1),[at,ht]=reactExports.useState(!1),[ft,ot]=reactExports.useState(null),[ut,ct]=reactExports.useState(!1),[dt,vt]=reactExports.useState(null),[Et,pt]=reactExports.useState(""),[bt,Ct]=reactExports.useState(!1),[Bt,jt]=reactExports.useState(null),[Ft,wt]=reactExports.useState(!0),[It,yt]=reactExports.useState(o),[Dt,Mt]=reactExports.useState(d),[St,gt]=reactExports.useState(h),[mt,xt]=reactExports.useState(new Map),[_t,At]=reactExports.useState(new Set),[Tt,Lt]=reactExports.useState(1),[Ut,Zt]=reactExports.useState(0),[tr,lr]=reactExports.useState(0),[hr,dr]=reactExports.useState(!1),[Gt,Jt]=reactExports.useState(!1),[Rt,Nt]=reactExports.useState(0),[Ht,qt]=reactExports.useState(!1),ar=React.useRef(null),vr=React.useRef(null),pr=React.useRef(null),Vt=React.useRef(new Map),br=React.useRef(null),Er=React.useRef($),Ir=React.useRef(j),kr=React.useRef(mt);reactExports.useEffect(()=>{Er.current=$},[$]),reactExports.useEffect(()=>{Ir.current=j},[j]),reactExports.useEffect(()=>{kr.current=mt},[mt]),reactExports.useEffect(()=>()=>{const sr=new Set;Er.current.forEach(yr=>{yr._blobURL&&!sr.has(yr._blobURL)&&(URL.revokeObjectURL(yr._blobURL),sr.add(yr._blobURL))}),Ir.current.forEach(yr=>{yr._blobURL&&!sr.has(yr._blobURL)&&(URL.revokeObjectURL(yr._blobURL),sr.add(yr._blobURL))}),kr.current.forEach(yr=>{yr.page._blobURL&&!sr.has(yr.page._blobURL)&&(URL.revokeObjectURL(yr.page._blobURL),sr.add(yr.page._blobURL))}),Vt.current.forEach(yr=>{yr._blobURL&&!sr.has(yr._blobURL)&&(URL.revokeObjectURL(yr._blobURL),sr.add(yr._blobURL))}),Vt.current.clear(),console.log(` Cleanup: Revoked ${sr.size} blob URLs on unmount`)},[]),reactExports.useEffect(()=>{br.current&&(console.log(" Aborting previous PDF load"),br.current.abort()),s&&s.type==="application/pdf"&&(et===0||!Bt?Rr():(console.log(" File updated (edited), reloading existing pages without reset"),Nr()))},[s]),reactExports.useEffect(()=>{o!==It&&Bt&&(console.log(" Page size changed:",It,"->",o),yt(o),Xt())},[o]),reactExports.useEffect(()=>{(d!==Dt||h!==St)&&(console.log(" Print settings changed - Color:",d,"Pages per sheet:",h),Mt(d),gt(h))},[d,h]),reactExports.useEffect(()=>{et>0&&(console.log(" Applying settings to pages...",St),Pt())},[Dt,St,et,Ut]),reactExports.useEffect(()=>{if(b==="single")if(e&&e.length>0&&j.length>0){const sr=j.filter(yr=>Et?yr.pageNumber.toString().includes(Et):!0);if(sr.length>0){const yr=Math.min(...e),ir=sr.findIndex(er=>er.pageNumber===yr);lr(ir>=0?ir:0)}else lr(0)}else lr(0)},[b,j,Et,e]),reactExports.useEffect(()=>{if(b==="single"&&j.length>0){const sr=j.filter(yr=>Et?yr.pageNumber.toString().includes(Et):!0);sr.length===0?lr(0):tr>=sr.length&&lr(sr.length-1)}},[j.length,Et,b,tr]);const Nr=async()=>{try{rt(!0),console.log(" Reloading existing pages after edit...");const sr=await s.arrayBuffer(),yr=await pdfExports$1.getDocument({data:sr}).promise,ir=yr.numPages;console.log(` Page count: old=${et}, new=${ir}`),jt(yr),tt(ir);const er=$.map(jr=>jr.pageNumber).filter(jr=>jr<=ir);console.log(` Reloading ${er.length} previously loaded pages (valid in new PDF):`,er);const rr=er.map(jr=>Cr(yr,jr,Ft)),gr=(await Promise.all(rr)).filter(jr=>jr!==null),Ar=gr.sort((jr,Lr)=>jr.pageNumber-Lr.pageNumber);_e(Ar),_(Ar);const _r=gr.length>0?Math.max(...gr.map(jr=>jr.pageNumber)):0;it(_r);const Fr=e.filter(jr=>jr<=ir);Fr.length!==e.length&&(console.log(` Adjusted selection: ${e.length}  ${Fr.length} pages`),a(Fr)),console.log(` Reloaded ${gr.length} pages after edit (new total: ${ir})`),Zt(jr=>jr+1),console.log(" Triggered page rebuild via reloadVersion increment")}catch(sr){console.error(" Error reloading pages:",sr)}finally{rt(!1)}},Rr=async()=>{try{br.current=new AbortController,rt(!0),ot(null),ct(!1);const sr=performance.now();console.log(" [UPLOAD START] PDF upload started"),console.log(" Starting fast PDF loading..."),console.log(" Loading file:",s.name,"Size:",(s.size/1024/1024).toFixed(2),"MB","Type:",s.type);const yr=await s.arrayBuffer();console.log(" File converted to array buffer, size:",(yr.byteLength/1024/1024).toFixed(2),"MB");const ir=await pdfExports$1.getDocument({data:yr}).promise,er=ir.numPages;console.log(` PDF ready: ${er} pages detected`);const cr=(await ir.getPage(1)).getViewport({scale:1});console.log(` First page dimensions: ${cr.width.toFixed(1)} x ${cr.height.toFixed(1)} (rotation: ${cr.rotation})`),console.log(" Expected A4: 595.3 x 841.9 (portrait) or 841.9 x 595.3 (landscape)");const gr=Math.abs(cr.width-595.3)<5&&Math.abs(cr.height-841.9)<5,Ar=Math.abs(cr.width-841.9)<5&&Math.abs(cr.height-595.3)<5;gr||Ar?console.log(" PDF is A4 size - normalization successful!"):(console.warn(" PDF is NOT A4 size - normalization may have failed!"),console.warn(`   Current: ${cr.width.toFixed(1)} x ${cr.height.toFixed(1)}`),console.warn("   Expected: 595.3 x 841.9 (portrait) OR 841.9 x 595.3 (landscape)")),jt(ir),tt(er);const _r=Array.from({length:er},(Fr,jr)=>jr+1);a(_r),rt(!1),ct(!0),console.log(` Loading first ${PAGES_PER_BATCH} pages in background...`),Tr(ir,1,Math.min(PAGES_PER_BATCH,er)).then(()=>{const jr=((performance.now()-sr)/1e3).toFixed(2);console.log(` [FIRST PAGE] First pages loaded at ${jr}s after upload`)}).catch(Fr=>{console.error(" Error loading initial pages:",Fr)})}catch(sr){console.error(" Error loading PDF:",sr),ot("Failed to load PDF: "+sr.message),rt(!1)}},Tr=async(sr,yr,ir)=>{var er,rr;try{if((er=br.current)!=null&&er.signal.aborted){console.log(" Load aborted, skipping batch");return}console.log(` Loading pages ${yr} to ${ir}`);const cr=[];for(let _r=yr;_r<=ir;_r++)cr.push(Cr(sr,_r,Ft));const gr=await Promise.all(cr);if((rr=br.current)!=null&&rr.signal.aborted){console.log(" Load aborted after render, discarding pages");return}let Ar=gr.filter(_r=>_r!==null);_e(_r=>{const Fr=new Set(_r.map(Lr=>Lr.pageNumber)),jr=Ar.filter(Lr=>!Fr.has(Lr.pageNumber));return[..._r,...jr]}),_(_r=>{const Fr=new Set(_r.map(Lr=>Lr.pageNumber)),jr=Ar.filter(Lr=>!Fr.has(Lr.pageNumber));return[..._r,...jr]}),it(ir),console.log(` Loaded ${Ar.length} pages successfully`)}catch(cr){throw console.error(" Error loading page batch:",cr),cr}},Mr=async()=>{if(!(!Bt||nt>=et||at))try{ht(!0);const sr=nt+1,yr=Math.min(nt+PAGES_PER_BATCH,et);await Tr(Bt,sr,yr)}catch(sr){console.error(" Error loading more pages:",sr)}finally{ht(!1)}},Ur=async sr=>{if(!Bt||sr<1||sr>et)return;if(j.find(ir=>ir.pageNumber===sr)){const ir=document.getElementById(`page-${sr}`);ir&&ir.scrollIntoView({behavior:"smooth",block:"center"});return}try{ht(!0);const ir=Math.max(1,sr-5),er=Math.min(et,sr+5),rr=[];for(let cr=ir;cr<=er;cr++)j.find(gr=>gr.pageNumber===cr)||rr.push(cr);if(rr.length>0){const cr=rr.map(_r=>Cr(Bt,_r)),Ar=(await Promise.all(cr)).filter(_r=>_r!==null);_e(_r=>{const Fr=new Set(_r.map(Br=>Br.pageNumber)),jr=Ar.filter(Br=>!Fr.has(Br.pageNumber));if(jr.length===0)return _r;const Lr=[..._r];return jr.forEach(Br=>{const zr=Lr.findIndex(Wr=>Wr.pageNumber>Br.pageNumber);zr===-1?Lr.push(Br):Lr.splice(zr,0,Br)}),Lr}),_(_r=>{const Fr=new Set(_r.map(Br=>Br.pageNumber)),jr=Ar.filter(Br=>!Fr.has(Br.pageNumber));if(jr.length===0)return _r;const Lr=[..._r];return jr.forEach(Br=>{const zr=Lr.findIndex(Wr=>Wr.pageNumber>Br.pageNumber);zr===-1?Lr.push(Br):Lr.splice(zr,0,Br)}),Lr}),it(Math.max(nt,er))}setTimeout(()=>{const cr=document.getElementById(`page-${sr}`);cr&&cr.scrollIntoView({behavior:"smooth",block:"center"})},100)}catch(ir){console.error(" Error jumping to page:",ir)}finally{ht(!1)}},Cr=async(sr,yr,ir=!0,er=QUALITY_TIERS.ULTRA_LOW)=>{try{const rr=await sr.getPage(yr),cr=QUALITY_CONFIG[er]||QUALITY_CONFIG[QUALITY_TIERS.ULTRA_LOW];let gr=cr.scale;const Ar=getPageSize(It);if(ir){const zr=rr.getViewport({scale:1}),Wr=Ar.width/zr.width,Vr=Ar.height/zr.height;gr=Math.min(Wr,Vr)*gr*.9}const _r=rr.getViewport({scale:gr}),Fr=document.createElement("canvas"),jr=Fr.getContext("2d",{alpha:!1,willReadFrequently:!1});Fr.height=_r.height,Fr.width=_r.width,jr.fillStyle="white",jr.fillRect(0,0,Fr.width,Fr.height),jr.imageSmoothingEnabled=!0,jr.imageSmoothingQuality="high",await rr.render({canvasContext:jr,viewport:_r}).promise;const Lr=await new Promise(zr=>{Fr.toBlob(zr,"image/jpeg",cr.jpegQuality)}),Br=URL.createObjectURL(Lr);return{pageNumber:yr,thumbnail:Br,originalThumbnail:Br,width:_r.width,height:_r.height,isFittedToPage:ir,pageSize:It,quality:er,_blobURL:Br}}catch(rr){return console.error(` Error rendering page ${yr}:`,rr),null}},or=sr=>{xt(yr=>{const ir=new Map(yr),er={[QUALITY_TIERS.ULTRA_LOW]:0,[QUALITY_TIERS.APPROPRIATE]:0,[QUALITY_TIERS.BEST]:0},rr={[QUALITY_TIERS.ULTRA_LOW]:[],[QUALITY_TIERS.APPROPRIATE]:[],[QUALITY_TIERS.BEST]:[]};return ir.forEach((cr,gr)=>{er[cr.quality]++,rr[cr.quality].push({pageNum:gr,entry:cr})}),Object.keys(er).forEach(cr=>{const gr=CACHE_LIMITS[cr];if(er[cr]>=gr){const Ar=rr[cr][0];Ar&&Ar.entry.page._blobURL&&URL.revokeObjectURL(Ar.entry.page._blobURL),ir.delete(Ar.pageNum),console.log(` Evicted ${cr} quality page ${Ar.pageNum} from cache`)}}),ir})},Yt=async(sr,yr)=>{if(!Bt)return;const ir=mt.get(sr),er=[QUALITY_TIERS.ULTRA_LOW,QUALITY_TIERS.APPROPRIATE,QUALITY_TIERS.BEST];if(ir){const rr=er.indexOf(ir.quality),cr=er.indexOf(yr);if(rr>=cr)return console.log(` Page ${sr} already at ${ir.quality} quality`),ir.page}if(_t.has(sr))return console.log(` Page ${sr} already upgrading`),null;try{At(cr=>new Set(cr).add(sr)),console.log(` Upgrading page ${sr} to ${yr} quality`);const rr=await Cr(Bt,sr,Ft,yr);if(rr)return or(yr),xt(cr=>{const gr=new Map(cr),Ar=gr.get(sr);return Ar&&Ar.page._blobURL&&URL.revokeObjectURL(Ar.page._blobURL),gr.set(sr,{quality:yr,page:rr}),gr}),_e(cr=>{const gr=cr.map(Ar=>Ar.pageNumber===sr?rr:Ar);return cr.find(Ar=>Ar.pageNumber===sr)||(gr.push(rr),gr.sort((Ar,_r)=>Ar.pageNumber-_r.pageNumber)),gr}),_(cr=>{const gr=cr.map(Ar=>Ar.pageNumber===sr?rr:Ar);return cr.find(Ar=>Ar.pageNumber===sr)||(gr.push(rr),gr.sort((Ar,_r)=>Ar.pageNumber-_r.pageNumber)),gr}),console.log(` Upgraded page ${sr} to ${yr} quality`),rr}catch(rr){console.error(` Error upgrading page ${sr}:`,rr)}finally{At(rr=>{const cr=new Set(rr);return cr.delete(sr),cr})}return null},fr=(sr,yr)=>{const ir=document.createElement("canvas"),er=ir.getContext("2d");return ir.width=sr.width,ir.height=sr.height,er.fillStyle="white",er.fillRect(0,0,ir.width,ir.height),yr==="BW"&&(er.filter="grayscale(100%)"),er.drawImage(sr,0,0),er.filter="none",ir},Dr=(sr,yr)=>{const ir=document.createElement("canvas"),er=ir.getContext("2d"),rr=8;ir.width=sr.width*2+rr,ir.height=sr.height,er.fillStyle="white",er.fillRect(0,0,ir.width,ir.height);const cr=ir.width/2,gr=2;er.strokeStyle="#3B82F6",er.lineWidth=1,er.setLineDash([4,4]),er.strokeRect(gr,gr,cr-rr/2-gr,ir.height-gr*2),er.strokeRect(cr+rr/2,gr,cr-rr/2-gr,ir.height-gr*2),er.setLineDash([]);const Ar=cr-rr/2-gr*3,_r=ir.height-gr*4;return er.drawImage(sr,gr*2,gr*2,Ar,_r),er.drawImage(yr,cr+rr/2+gr,gr*2,Ar,_r),ir},Or=sr=>new Promise(yr=>{const ir=document.createElement("canvas"),er=ir.getContext("2d"),rr=new Image;rr.src=sr.originalThumbnail,rr.onload=()=>{ir.width=sr.width,ir.height=sr.height,er.drawImage(rr,0,0);let cr=ir;cr=fr(cr,Dt),yr({...sr,thumbnail:cr.toDataURL()})},rr.onerror=()=>{yr(sr)}}),Pt=async()=>{if(et!==0)if(St===2){const sr=[];for(let yr=1;yr<=et;yr+=2){const ir=yr,er=yr+1<=et?yr+1:null,rr=$.find(gr=>gr.pageNumber===ir),cr=er?$.find(gr=>gr.pageNumber===er):null;if(er)if(rr&&cr){const gr=`${ir}|${er}|${It}|${Dt}`;let Ar=Vt.current.get(gr);if(!Ar){const _r=await zt(ir,2),Fr=await zt(er,2);if(_r&&Fr){const jr=Dr(_r,Fr),Lr=await new Promise(zr=>{jr.toBlob(zr,"image/jpeg",.95)}),Br=URL.createObjectURL(Lr);Ar={pageNumber:`${ir}-${er}`,thumbnail:Br,originalThumbnail:Br,width:jr.width,height:jr.height,isSheet:!0,containsPages:[ir,er],isLoaded:!0,_blobURL:Br},Vt.current.set(gr,Ar)}}Ar&&sr.push(Ar)}else sr.push({pageNumber:`${ir}-${er}`,thumbnail:null,originalThumbnail:null,width:595,height:842,isSheet:!0,containsPages:[ir,er],isLoaded:!1});else if(rr){const gr=`${ir}|${It}|${Dt}`;let Ar=Vt.current.get(gr);if(!Ar){const _r=await zt(ir,2);if(_r){const Fr=await new Promise(Lr=>{_r.toBlob(Lr,"image/jpeg",.95)}),jr=URL.createObjectURL(Fr);Ar={pageNumber:ir,thumbnail:jr,originalThumbnail:jr,width:_r.width,height:_r.height,isSheet:!0,containsPages:[ir],isLoaded:!0,_blobURL:jr},Vt.current.set(gr,Ar)}}Ar&&sr.push(Ar)}else sr.push({pageNumber:ir,thumbnail:null,originalThumbnail:null,width:595,height:842,isSheet:!0,containsPages:[ir],isLoaded:!1})}_(sr)}else{const sr=[];for(let yr=1;yr<=et;yr++){const ir=$.find(er=>er.pageNumber===yr);if(ir){const er=await Or(ir);sr.push({...er,isLoaded:!0})}else sr.push({pageNumber:yr,thumbnail:null,originalThumbnail:null,width:595,height:842,isLoaded:!1})}_(sr)}},Xt=async()=>{if(!(!Bt||nt===0))try{rt(!0),console.log(` Reloading ${nt} pages with new page size:`,It);const sr=[];for(let er=1;er<=nt;er++)sr.push(Cr(Bt,er,Ft));const ir=(await Promise.all(sr)).filter(er=>er!==null);_(ir),console.log(` Successfully reloaded ${ir.length} pages with new page size`)}catch(sr){console.error(" Error reloading pages with new size:",sr)}finally{rt(!1)}},xr=async()=>{if(Bt)try{rt(!0);const sr=!Ft;wt(sr);const yr=[];for(let rr=1;rr<=nt;rr++)yr.push(Cr(Bt,rr,sr));const er=(await Promise.all(yr)).filter(rr=>rr!==null);_(er)}catch(sr){console.error(" Error toggling fit to page:",sr)}finally{rt(!1)}},wr=sr=>sr.isSheet&&sr.containsPages?sr.containsPages.every(yr=>e.includes(yr)):e.includes(sr.pageNumber),Pr=sr=>{const yr=j.find(ir=>ir.pageNumber===sr);if(yr!=null&&yr.isSheet&&yr.containsPages){const ir=yr.containsPages,er=ir.every(cr=>e.includes(cr));let rr;if(er)rr=e.filter(cr=>!ir.includes(cr));else{const cr=ir.filter(gr=>!e.includes(gr));rr=[...e,...cr].sort((gr,Ar)=>gr-Ar)}a(rr)}else{const ir=e.includes(sr)?e.filter(er=>er!==sr):[...e,sr].sort((er,rr)=>er-rr);a(ir)}},Sr=()=>{const sr=Array.from({length:et},(yr,ir)=>ir+1);a(sr)},Ot=()=>{a([])},kt=async sr=>{if(!(!sr||!Bt)){if(sr.isSheet&&sr.containsPages&&St===2){vt(sr);const yr=sr.containsPages[0],ir=sr.containsPages[1];try{if(ir&&yr>=1&&yr<=et&&ir>=1&&ir<=et){const er=await Bt.getPage(yr),rr=await Bt.getPage(ir),cr=er.getViewport({scale:5}),gr=rr.getViewport({scale:5}),Ar=document.createElement("canvas"),_r=Ar.getContext("2d",{alpha:!1,willReadFrequently:!1});Ar.width=cr.width,Ar.height=cr.height,_r.fillStyle="white",_r.fillRect(0,0,Ar.width,Ar.height),_r.imageSmoothingEnabled=!0,_r.imageSmoothingQuality="high";const Fr=document.createElement("canvas"),jr=Fr.getContext("2d",{alpha:!1,willReadFrequently:!1});Fr.width=gr.width,Fr.height=gr.height,jr.fillStyle="white",jr.fillRect(0,0,Fr.width,Fr.height),jr.imageSmoothingEnabled=!0,jr.imageSmoothingQuality="high",await er.render({canvasContext:_r,viewport:cr}).promise,await rr.render({canvasContext:jr,viewport:gr}).promise;const Lr=fr(Ar,Dt),Br=fr(Fr,Dt),zr=Kt(Lr,Br);vt({...sr,thumbnail:zr.toDataURL("image/jpeg",.7),isHighQuality:!0});return}else if(yr>=1&&yr<=et){const er=await Bt.getPage(yr),rr=er.getViewport({scale:5}),cr=document.createElement("canvas"),gr=cr.getContext("2d",{alpha:!1,willReadFrequently:!1});cr.width=rr.width,cr.height=rr.height,gr.fillStyle="white",gr.fillRect(0,0,cr.width,cr.height),gr.imageSmoothingEnabled=!0,gr.imageSmoothingQuality="high",await er.render({canvasContext:gr,viewport:rr}).promise;const Ar=fr(cr,Dt);vt({...sr,thumbnail:Ar.toDataURL("image/jpeg",.7),isHighQuality:!0});return}}catch(er){console.error("Error creating preview:",er)}return}if(!sr.isSheet){const yr=sr.pageNumber,ir=mt.get(yr);if(ir&&ir.quality===QUALITY_TIERS.APPROPRIATE)vt({...ir.page,isHighQuality:!1});else{vt({...sr,isHighQuality:!1});try{const er=await Yt(yr,QUALITY_TIERS.APPROPRIATE);er&&vt({...er,isHighQuality:!1})}catch(er){console.error("Error loading APPROPRIATE quality for preview:",er)}}setTimeout(async()=>{try{console.log(` Upgrading preview to BEST quality for page ${yr}`);const er=await Yt(yr,QUALITY_TIERS.BEST);er&&vt(rr=>rr&&rr.pageNumber===yr?{...er,isHighQuality:!0}:rr)}catch(er){console.error("Error upgrading to BEST quality:",er)}},100)}}};React.useEffect(()=>{if(!Bt||nt>=et)return;const sr=new IntersectionObserver(yr=>{yr.forEach(ir=>{ir.isIntersecting&&nt<et&&!at&&(console.log(" Scroll trigger reached - loading more pages"),Mr())})},{root:null,rootMargin:"400px",threshold:.01});return vr.current=sr,pr.current&&sr.observe(pr.current),()=>{sr.disconnect()}},[Bt,nt,et,at]),React.useEffect(()=>{if(!Bt||j.length===0)return;const sr=new IntersectionObserver(ir=>{ir.forEach(er=>{if(er.isIntersecting){const rr=parseInt(er.target.dataset.pageNumber);rr&&!isNaN(rr)&&setTimeout(()=>{er.isIntersecting&&Yt(rr,QUALITY_TIERS.APPROPRIATE)},100)}})},{root:null,rootMargin:"100px",threshold:.1});return ar.current=sr,document.querySelectorAll("[data-page-number]").forEach(ir=>sr.observe(ir)),()=>{sr.disconnect()}},[Bt,j.length,Ft]);const zt=async(sr,yr)=>{try{if(!Bt)return console.error("PDF document not loaded"),null;const ir=await Bt.getPage(sr),er=getPageSize(It),rr=document.createElement("canvas"),cr=rr.getContext("2d",{alpha:!1,willReadFrequently:!1});rr.width=er.width*yr,rr.height=er.height*yr,cr.fillStyle="white",cr.fillRect(0,0,rr.width,rr.height),cr.imageSmoothingEnabled=!0,cr.imageSmoothingQuality="high";const gr=ir.getViewport({scale:1}),Ar=Math.min(rr.width/gr.width,rr.height/gr.height),_r=ir.getViewport({scale:Ar}),Fr=(rr.width-_r.width)/2,jr=(rr.height-_r.height)/2;if(cr.save(),cr.translate(Fr,jr),await ir.render({canvasContext:cr,viewport:_r}).promise,cr.restore(),Dt==="BW"){const Lr=cr.getImageData(0,0,rr.width,rr.height),Br=Lr.data;for(let zr=0;zr<Br.length;zr+=4){const Wr=Br[zr]*.299+Br[zr+1]*.587+Br[zr+2]*.114;Br[zr]=Wr,Br[zr+1]=Wr,Br[zr+2]=Wr}cr.putImageData(Lr,0,0)}return rr}catch(ir){return console.error(`Error rendering page ${sr}:`,ir),null}},Kt=(sr,yr)=>{const ir=document.createElement("canvas"),er=ir.getContext("2d"),rr=Math.floor(sr.width*.015);ir.width=sr.width*2+rr,ir.height=sr.height,er.fillStyle="white",er.fillRect(0,0,ir.width,ir.height);const cr=ir.width/2,gr=Math.floor(sr.width*.004);er.strokeStyle="#3B82F6",er.lineWidth=Math.max(2,Math.floor(sr.width*.0025));const Ar=Math.max(6,Math.floor(sr.width*.007));er.setLineDash([Ar,Ar]),er.strokeRect(gr,gr,cr-rr/2-gr,ir.height-gr*2),er.strokeRect(cr+rr/2,gr,cr-rr/2-gr,ir.height-gr*2),er.setLineDash([]);const _r=cr-rr/2-gr*3,Fr=ir.height-gr*4;return er.drawImage(sr,gr*2,gr*2,_r,Fr),er.drawImage(yr,cr+rr/2+gr,gr*2,_r,Fr),ir},nr=()=>{vt(null),Lt(1)},ur=sr=>{sr.preventDefault();const yr=parseInt(Et);yr&&yr>=1&&yr<=et&&Ur(yr)},mr=j.filter(sr=>Et?sr.pageNumber.toString().includes(Et):!0);return!s||s.type!=="application/pdf"?null:ft?jsxRuntimeExports.jsx("div",{className:"border-2 border-red-300 rounded-lg p-6 bg-red-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"w-8 h-8 mx-auto mb-2 text-red-600"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 font-medium",children:"Error loading PDF"}),jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ft})]})}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm sm:text-base font-medium text-gray-900",children:["Selected Pages (",e.length,"/",et,")"]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:Sr,className:"text-xs sm:text-sm bg-blue-100 text-blue-700 px-2 sm:px-3 py-1 rounded hover:bg-blue-200 transition-colors",children:"Select All"}),jsxRuntimeExports.jsx("button",{onClick:Ot,className:"text-xs sm:text-sm bg-gray-100 text-gray-700 px-2 sm:px-3 py-1 rounded hover:bg-gray-200 transition-colors",children:"Clear"}),jsxRuntimeExports.jsx("button",{onClick:xr,className:`text-xs sm:text-sm px-2 sm:px-3 py-1 rounded transition-colors ${Ft?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Ft?"Fit: ON":"Fit: OFF"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4",children:[jsxRuntimeExports.jsxs("form",{onSubmit:ur,className:"flex gap-2 w-full sm:w-auto",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1 sm:flex-initial",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-2 sm:left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Page number...",value:Et,onChange:sr=>pt(sr.target.value),className:"pl-8 sm:pl-10 pr-2 sm:pr-4 py-1.5 sm:py-2 border border-gray-300 rounded-lg text-xs sm:text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full sm:w-36"})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-blue-600 text-white rounded-lg text-xs sm:text-sm hover:bg-blue-700 transition-colors",children:"Go"})]}),Ft&&jsxRuntimeExports.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:" Fit Enabled"})]}),b==="single"?(()=>{(St===1?$:j).filter(er=>Et?er.pageNumber.toString().includes(Et):!0)[tr];const ir=et>0;return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>qt(!Ht),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium text-gray-700",children:Ht?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Minimize2,{className:"w-4 h-4"}),"Compact View"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Maximize2,{className:"w-4 h-4"}),"Full View"]})})}),jsxRuntimeExports.jsx("div",{className:`border rounded-lg bg-gray-50 ${Ht?"p-4":"p-3"}`,children:jsxRuntimeExports.jsx("div",{className:`${Ht?"":"max-h-[400px] overflow-y-auto"}`,children:ir||st?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:jsxRuntimeExports.jsx(Loader,{className:"w-8 h-8 animate-spin text-blue-600"})}),children:jsxRuntimeExports.jsx(PDFEditor$1,{file:s,initialPageIndex:0,onSave:er=>{Zt(rr=>rr+1)},onCancel:()=>{},directPageEdit:!1,pageSize:It,onPageSizeChange:er=>yt(er),colorMode:Dt,pagesPerSheet:St,selectedPages:e,onPageSelect:Pr})}):jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"No pages available"})})})})]})})():jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-2 sm:p-4 bg-gray-50 h-80 overflow-y-auto",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-4",children:mr.map(sr=>jsxRuntimeExports.jsxs("div",{id:`page-${sr.pageNumber}`,"data-page-number":sr.pageNumber,className:`relative border-2 rounded-lg p-1 sm:p-2 transition-all cursor-pointer ${wr(sr)?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[jsxRuntimeExports.jsx("div",{className:"absolute top-1 left-1 z-10",children:jsxRuntimeExports.jsx("button",{onClick:()=>Pr(sr.pageNumber),className:"bg-white rounded shadow-sm p-1",children:wr(sr)?jsxRuntimeExports.jsx(SquareCheck,{className:"w-4 h-4 text-blue-600"}):jsxRuntimeExports.jsx(Square,{className:"w-4 h-4 text-gray-400"})})}),jsxRuntimeExports.jsx("div",{className:"absolute top-1 right-1 z-10",children:jsxRuntimeExports.jsx("button",{onClick:()=>kt(sr),className:"bg-white rounded shadow-sm p-1 hover:bg-gray-50",title:"Preview",children:jsxRuntimeExports.jsx(Eye,{className:"w-3 h-3 text-gray-600"})})}),jsxRuntimeExports.jsx("div",{className:"w-full aspect-[3/4] bg-gray-100 rounded flex items-center justify-center overflow-hidden relative",onClick:()=>Pr(sr.pageNumber),children:sr.thumbnail?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:sr.thumbnail,alt:`Page ${sr.pageNumber}`,className:`max-w-full max-h-full object-contain transition-opacity duration-300 ${sr.quality===QUALITY_TIERS.BEST?"opacity-100":"opacity-95"}`,style:{imageRendering:sr.quality===QUALITY_TIERS.BEST?"crisp-edges":"auto"}}),_t.has(sr.pageNumber)&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"}),sr.quality===QUALITY_TIERS.BEST&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-1 right-1 bg-green-500 text-white text-[8px] px-1 py-0.5 rounded font-bold",children:"BEST"}),sr.quality===QUALITY_TIERS.APPROPRIATE&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-1 right-1 bg-blue-500 text-white text-[8px] px-1 py-0.5 rounded font-bold",children:"OK"})]}):sr.isLoaded===!1?jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Loader,{className:"w-6 h-6 text-gray-400 mx-auto mb-1 animate-spin"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Not loaded"})]}):jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500",children:"Failed to load"})]})}),jsxRuntimeExports.jsxs("div",{className:"text-center mt-1 sm:mt-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-700",children:sr.pageNumber}),sr.isFittedToPage&&jsxRuntimeExports.jsx("div",{className:"text-xs text-green-600 mt-0.5",children:""})]})]},sr.pageNumber))}),nt<et&&jsxRuntimeExports.jsxs("div",{className:"text-center mt-6",children:[jsxRuntimeExports.jsx("div",{ref:pr,className:"h-px w-full"}),at&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600 py-4",children:[jsxRuntimeExports.jsx(Loader,{className:"w-5 h-5 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Loading more pages..."})]})]})]}),dt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-5 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold",children:["Page ",dt.pageNumber]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-blue-100",children:"PDF Preview"})]})]}),jsxRuntimeExports.jsx("button",{onClick:nr,className:"w-8 h-8 rounded-lg bg-white/20 hover:bg-white/30 transition-colors flex items-center justify-center",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"bg-blue-50 border-b border-blue-100 px-5 py-2 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg px-3 py-1.5 shadow-sm border border-blue-200",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Zoom:"}),jsxRuntimeExports.jsx("button",{onClick:()=>Lt(Math.max(.5,Tt-.25)),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Zoom Out",children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})})}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-bold text-blue-600 min-w-[3rem] text-center",children:[Math.round(Tt*100),"%"]}),jsxRuntimeExports.jsx("button",{onClick:()=>Lt(Math.min(3,Tt+.25)),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Zoom In",children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})}),jsxRuntimeExports.jsx("button",{onClick:()=>Lt(1),className:"ml-1 px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors font-medium text-gray-700",title:"Reset Zoom",children:"Reset"})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-6 bg-gray-50 overflow-auto relative",style:{WebkitOverflowScrolling:"touch"},children:dt.thumbnail?jsxRuntimeExports.jsxs("div",{className:"w-full h-full flex items-center justify-center",children:[jsxRuntimeExports.jsx("div",{style:{transform:`scale(${Tt})`,transformOrigin:"center",transition:"transform 0.2s ease-out",display:"inline-block"},children:jsxRuntimeExports.jsx("img",{src:dt.thumbnail,alt:`Page ${dt.pageNumber} Preview`,className:"h-auto rounded-lg shadow-lg",style:{maxHeight:"60vh",imageRendering:dt.isHighQuality?"-webkit-optimize-contrast":"auto",display:"block"}})}),dt.isHighQuality&&jsxRuntimeExports.jsxs("div",{className:"absolute top-8 right-8 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-3 py-1.5 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in z-10",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold",children:"ULTRA HD"})]}),!dt.isHighQuality&&jsxRuntimeExports.jsxs("div",{className:"absolute top-8 right-8 bg-blue-500 text-white px-3 py-1.5 rounded-lg shadow-lg flex items-center gap-2 z-10",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"Enhancing..."})]})]}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Preview not available"})]})})}),jsxRuntimeExports.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Pr(dt.pageNumber),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${wr(dt)?"bg-green-100 text-green-700 hover:bg-green-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:wr(dt)?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(SquareCheck,{className:"w-4 h-4"}),"Selected for Printing"]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Square,{className:"w-4 h-4"}),"Select for Printing"]})}),g&&jsxRuntimeExports.jsxs("button",{onClick:()=>{g(dt.pageNumber-1),nr()},className:"flex-1 py-3 px-4 rounded-lg font-medium bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700 transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4"}),"Edit This Page"]}),jsxRuntimeExports.jsx("button",{onClick:nr,className:"py-3 px-6 rounded-lg font-medium bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors",children:"Close"})]})]})}),e.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 sm:p-3",children:[jsxRuntimeExports.jsxs("p",{className:"text-blue-800 text-xs sm:text-sm mb-2",children:[jsxRuntimeExports.jsx("strong",{children:"Selected:"})," ",e.length," page",e.length!==1?"s":""]}),jsxRuntimeExports.jsx("div",{className:`${bt?"h-auto":"h-10 sm:h-12"} overflow-y-auto bg-white rounded border border-blue-200 p-1.5 sm:p-2 transition-all duration-300`,children:jsxRuntimeExports.jsx("p",{className:"text-blue-600 text-xs leading-relaxed break-all",children:e.join(", ")})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-1 sm:gap-0 mt-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>Ct(!bt),className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded hover:bg-blue-200 transition-colors",children:bt?"Less":"More"})}),e.length!==et&&jsxRuntimeExports.jsx("p",{className:"text-blue-600 text-xs mt-2",children:"Only selected pages will print"})]})]})};var pdf={exports:{}};(function(module,exports){(function(e,a){module.exports=e.pdfjsLib=a()})(globalThis,()=>(()=>{var __webpack_modules__=[,(s,e)=>{var Ur;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=yt,e.bytesToString=Zt,e.createValidAbsoluteUrl=Mt,e.getModificationDate=Er,e.getUuid=Tr,e.getVerbosityLevel=jt,e.info=Ft,e.isArrayBuffer=Vt,e.isArrayEqual=br,e.isNodeJS=void 0,e.normalizeUnicode=Rr,e.objectFromMap=dr,e.objectSize=hr,e.setVerbosityLevel=Bt,e.shadow=St,e.string32=lr,e.stringToBytes=tr,e.stringToPDFString=ar,e.stringToUTF8String=vr,e.unreachable=It,e.utf8StringToString=pr,e.warn=wt;const a=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=a;const o=[1,0,0,1,0,0];e.IDENTITY_MATRIX=o;const d=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=d;const h=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=h;const g=1.35;e.LINE_FACTOR=g;const b=.35;e.LINE_DESCENT_FACTOR=b;const j=b/g;e.BASELINE_FACTOR=j;const _={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=_;const $={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=$;const _e="pdfjs_internal_editor_";e.AnnotationEditorPrefix=_e;const et={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=et;const tt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=tt;const nt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=nt;const it={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=it;const st={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=st;const rt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=rt;const at={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=at;const ht={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=ht;const ft={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=ft;const ot={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=ot;const ut={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=ut;const ct={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=ct;const dt={O:"PageOpen",C:"PageClose"};e.PageActionEventType=dt;const vt={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=vt;const Et={NONE:0,BINARY:1};e.CMapCompressionType=Et;const pt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=pt;const bt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=bt;let Ct=vt.WARNINGS;function Bt(Cr){Number.isInteger(Cr)&&(Ct=Cr)}function jt(){return Ct}function Ft(Cr){Ct>=vt.INFOS&&console.log(`Info: ${Cr}`)}function wt(Cr){Ct>=vt.WARNINGS&&console.log(`Warning: ${Cr}`)}function It(Cr){throw new Error(Cr)}function yt(Cr,or){Cr||It(or)}function Dt(Cr){switch(Cr==null?void 0:Cr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Mt(Cr,or=null,Yt=null){if(!Cr)return null;try{if(Yt&&typeof Cr=="string"){if(Yt.addDefaultProtocol&&Cr.startsWith("www.")){const Dr=Cr.match(/\./g);(Dr==null?void 0:Dr.length)>=2&&(Cr=`http://${Cr}`)}if(Yt.tryConvertEncoding)try{Cr=vr(Cr)}catch{}}const fr=or?new URL(Cr,or):new URL(Cr);if(Dt(fr))return fr}catch{}return null}function St(Cr,or,Yt,fr=!1){return Object.defineProperty(Cr,or,{value:Yt,enumerable:!fr,configurable:!0,writable:!1}),Yt}const gt=function(){function or(Yt,fr){this.constructor===or&&It("Cannot initialize BaseException."),this.message=Yt,this.name=fr}return or.prototype=new Error,or.constructor=or,or}();e.BaseException=gt;class mt extends gt{constructor(or,Yt){super(or,"PasswordException"),this.code=Yt}}e.PasswordException=mt;class xt extends gt{constructor(or,Yt){super(or,"UnknownErrorException"),this.details=Yt}}e.UnknownErrorException=xt;class _t extends gt{constructor(or){super(or,"InvalidPDFException")}}e.InvalidPDFException=_t;class At extends gt{constructor(or){super(or,"MissingPDFException")}}e.MissingPDFException=At;class Tt extends gt{constructor(or,Yt){super(or,"UnexpectedResponseException"),this.status=Yt}}e.UnexpectedResponseException=Tt;class Lt extends gt{constructor(or){super(or,"FormatError")}}e.FormatError=Lt;class Ut extends gt{constructor(or){super(or,"AbortException")}}e.AbortException=Ut;function Zt(Cr){(typeof Cr!="object"||(Cr==null?void 0:Cr.length)===void 0)&&It("Invalid argument for bytesToString");const or=Cr.length,Yt=8192;if(or<Yt)return String.fromCharCode.apply(null,Cr);const fr=[];for(let Dr=0;Dr<or;Dr+=Yt){const Or=Math.min(Dr+Yt,or),Pt=Cr.subarray(Dr,Or);fr.push(String.fromCharCode.apply(null,Pt))}return fr.join("")}function tr(Cr){typeof Cr!="string"&&It("Invalid argument for stringToBytes");const or=Cr.length,Yt=new Uint8Array(or);for(let fr=0;fr<or;++fr)Yt[fr]=Cr.charCodeAt(fr)&255;return Yt}function lr(Cr){return String.fromCharCode(Cr>>24&255,Cr>>16&255,Cr>>8&255,Cr&255)}function hr(Cr){return Object.keys(Cr).length}function dr(Cr){const or=Object.create(null);for(const[Yt,fr]of Cr)or[Yt]=fr;return or}function Gt(){const Cr=new Uint8Array(4);return Cr[0]=1,new Uint32Array(Cr.buffer,0,1)[0]===1}function Jt(){try{return new Function(""),!0}catch{return!1}}class Rt{static get isLittleEndian(){return St(this,"isLittleEndian",Gt())}static get isEvalSupported(){return St(this,"isEvalSupported",Jt())}static get isOffscreenCanvasSupported(){return St(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?St(this,"platform",{isWin:!1,isMac:!1}):St(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var or,Yt;return St(this,"isCSSRoundSupported",(Yt=(or=globalThis.CSS)==null?void 0:or.supports)==null?void 0:Yt.call(or,"width: round(1.5px, 1px)"))}}e.FeatureTest=Rt;const Nt=[...Array(256).keys()].map(Cr=>Cr.toString(16).padStart(2,"0"));class Ht{static makeHexColor(or,Yt,fr){return`#${Nt[or]}${Nt[Yt]}${Nt[fr]}`}static scaleMinMax(or,Yt){let fr;or[0]?(or[0]<0&&(fr=Yt[0],Yt[0]=Yt[1],Yt[1]=fr),Yt[0]*=or[0],Yt[1]*=or[0],or[3]<0&&(fr=Yt[2],Yt[2]=Yt[3],Yt[3]=fr),Yt[2]*=or[3],Yt[3]*=or[3]):(fr=Yt[0],Yt[0]=Yt[2],Yt[2]=fr,fr=Yt[1],Yt[1]=Yt[3],Yt[3]=fr,or[1]<0&&(fr=Yt[2],Yt[2]=Yt[3],Yt[3]=fr),Yt[2]*=or[1],Yt[3]*=or[1],or[2]<0&&(fr=Yt[0],Yt[0]=Yt[1],Yt[1]=fr),Yt[0]*=or[2],Yt[1]*=or[2]),Yt[0]+=or[4],Yt[1]+=or[4],Yt[2]+=or[5],Yt[3]+=or[5]}static transform(or,Yt){return[or[0]*Yt[0]+or[2]*Yt[1],or[1]*Yt[0]+or[3]*Yt[1],or[0]*Yt[2]+or[2]*Yt[3],or[1]*Yt[2]+or[3]*Yt[3],or[0]*Yt[4]+or[2]*Yt[5]+or[4],or[1]*Yt[4]+or[3]*Yt[5]+or[5]]}static applyTransform(or,Yt){const fr=or[0]*Yt[0]+or[1]*Yt[2]+Yt[4],Dr=or[0]*Yt[1]+or[1]*Yt[3]+Yt[5];return[fr,Dr]}static applyInverseTransform(or,Yt){const fr=Yt[0]*Yt[3]-Yt[1]*Yt[2],Dr=(or[0]*Yt[3]-or[1]*Yt[2]+Yt[2]*Yt[5]-Yt[4]*Yt[3])/fr,Or=(-or[0]*Yt[1]+or[1]*Yt[0]+Yt[4]*Yt[1]-Yt[5]*Yt[0])/fr;return[Dr,Or]}static getAxialAlignedBoundingBox(or,Yt){const fr=this.applyTransform(or,Yt),Dr=this.applyTransform(or.slice(2,4),Yt),Or=this.applyTransform([or[0],or[3]],Yt),Pt=this.applyTransform([or[2],or[1]],Yt);return[Math.min(fr[0],Dr[0],Or[0],Pt[0]),Math.min(fr[1],Dr[1],Or[1],Pt[1]),Math.max(fr[0],Dr[0],Or[0],Pt[0]),Math.max(fr[1],Dr[1],Or[1],Pt[1])]}static inverseTransform(or){const Yt=or[0]*or[3]-or[1]*or[2];return[or[3]/Yt,-or[1]/Yt,-or[2]/Yt,or[0]/Yt,(or[2]*or[5]-or[4]*or[3])/Yt,(or[4]*or[1]-or[5]*or[0])/Yt]}static singularValueDecompose2dScale(or){const Yt=[or[0],or[2],or[1],or[3]],fr=or[0]*Yt[0]+or[1]*Yt[2],Dr=or[0]*Yt[1]+or[1]*Yt[3],Or=or[2]*Yt[0]+or[3]*Yt[2],Pt=or[2]*Yt[1]+or[3]*Yt[3],Xt=(fr+Pt)/2,xr=Math.sqrt((fr+Pt)**2-4*(fr*Pt-Or*Dr))/2,wr=Xt+xr||1,Pr=Xt-xr||1;return[Math.sqrt(wr),Math.sqrt(Pr)]}static normalizeRect(or){const Yt=or.slice(0);return or[0]>or[2]&&(Yt[0]=or[2],Yt[2]=or[0]),or[1]>or[3]&&(Yt[1]=or[3],Yt[3]=or[1]),Yt}static intersect(or,Yt){const fr=Math.max(Math.min(or[0],or[2]),Math.min(Yt[0],Yt[2])),Dr=Math.min(Math.max(or[0],or[2]),Math.max(Yt[0],Yt[2]));if(fr>Dr)return null;const Or=Math.max(Math.min(or[1],or[3]),Math.min(Yt[1],Yt[3])),Pt=Math.min(Math.max(or[1],or[3]),Math.max(Yt[1],Yt[3]));return Or>Pt?null:[fr,Or,Dr,Pt]}static bezierBoundingBox(or,Yt,fr,Dr,Or,Pt,Xt,xr){const wr=[],Pr=[[],[]];let Sr,Ot,kt,zt,Kt,nr,ur,mr;for(let er=0;er<2;++er){if(er===0?(Ot=6*or-12*fr+6*Or,Sr=-3*or+9*fr-9*Or+3*Xt,kt=3*fr-3*or):(Ot=6*Yt-12*Dr+6*Pt,Sr=-3*Yt+9*Dr-9*Pt+3*xr,kt=3*Dr-3*Yt),Math.abs(Sr)<1e-12){if(Math.abs(Ot)<1e-12)continue;zt=-kt/Ot,0<zt&&zt<1&&wr.push(zt);continue}ur=Ot*Ot-4*kt*Sr,mr=Math.sqrt(ur),!(ur<0)&&(Kt=(-Ot+mr)/(2*Sr),0<Kt&&Kt<1&&wr.push(Kt),nr=(-Ot-mr)/(2*Sr),0<nr&&nr<1&&wr.push(nr))}let sr=wr.length,yr;const ir=sr;for(;sr--;)zt=wr[sr],yr=1-zt,Pr[0][sr]=yr*yr*yr*or+3*yr*yr*zt*fr+3*yr*zt*zt*Or+zt*zt*zt*Xt,Pr[1][sr]=yr*yr*yr*Yt+3*yr*yr*zt*Dr+3*yr*zt*zt*Pt+zt*zt*zt*xr;return Pr[0][ir]=or,Pr[1][ir]=Yt,Pr[0][ir+1]=Xt,Pr[1][ir+1]=xr,Pr[0].length=Pr[1].length=ir+2,[Math.min(...Pr[0]),Math.min(...Pr[1]),Math.max(...Pr[0]),Math.max(...Pr[1])]}}e.Util=Ht;const qt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ar(Cr){if(Cr[0]>=""){let Yt;if(Cr[0]===""&&Cr[1]===""?Yt="utf-16be":Cr[0]===""&&Cr[1]===""?Yt="utf-16le":Cr[0]===""&&Cr[1]===""&&Cr[2]===""&&(Yt="utf-8"),Yt)try{const fr=new TextDecoder(Yt,{fatal:!0}),Dr=tr(Cr);return fr.decode(Dr)}catch(fr){wt(`stringToPDFString: "${fr}".`)}}const or=[];for(let Yt=0,fr=Cr.length;Yt<fr;Yt++){const Dr=qt[Cr.charCodeAt(Yt)];or.push(Dr?String.fromCharCode(Dr):Cr.charAt(Yt))}return or.join("")}function vr(Cr){return decodeURIComponent(escape(Cr))}function pr(Cr){return unescape(encodeURIComponent(Cr))}function Vt(Cr){return typeof Cr=="object"&&(Cr==null?void 0:Cr.byteLength)!==void 0}function br(Cr,or){if(Cr.length!==or.length)return!1;for(let Yt=0,fr=Cr.length;Yt<fr;Yt++)if(Cr[Yt]!==or[Yt])return!1;return!0}function Er(Cr=new Date){return[Cr.getUTCFullYear().toString(),(Cr.getUTCMonth()+1).toString().padStart(2,"0"),Cr.getUTCDate().toString().padStart(2,"0"),Cr.getUTCHours().toString().padStart(2,"0"),Cr.getUTCMinutes().toString().padStart(2,"0"),Cr.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ir{constructor(){$t(this,Ur,!1);this.promise=new Promise((or,Yt)=>{this.resolve=fr=>{Qt(this,Ur,!0),or(fr)},this.reject=fr=>{Qt(this,Ur,!0),Yt(fr)}})}get settled(){return lt(this,Ur)}}Ur=new WeakMap,e.PromiseCapability=Ir;let kr=null,Nr=null;function Rr(Cr){return kr||(kr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Nr=new Map([["","t"]])),Cr.replaceAll(kr,(or,Yt,fr)=>Yt?Yt.normalize("NFKC"):Nr.get(fr))}function Tr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Cr=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Cr);else for(let or=0;or<32;or++)Cr[or]=Math.floor(Math.random()*255);return Zt(Cr)}const Mr="pdfjs_internal_id_";e.AnnotationPrefix=Mr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var s,a,o,d,pn,Zn,b,j,_,$,_e,et,tt,nt,it,Jn,rt,at,Ks,ft,ot;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ct){if(typeof ct=="string"||ct instanceof URL?ct={url:ct}:(0,_util.isArrayBuffer)(ct)&&(ct={data:ct}),typeof ct!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ct.url&&!ct.data&&!ct.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const dt=new PDFDocumentLoadingTask,{docId:vt}=dt,Et=ct.url?getUrlProp(ct.url):null,pt=ct.data?getDataProp(ct.data):null,bt=ct.httpHeaders||null,Ct=ct.withCredentials===!0,Bt=ct.password??null,jt=ct.range instanceof PDFDataRangeTransport?ct.range:null,Ft=Number.isInteger(ct.rangeChunkSize)&&ct.rangeChunkSize>0?ct.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let wt=ct.worker instanceof PDFWorker?ct.worker:null;const It=ct.verbosity,yt=typeof ct.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ct.docBaseUrl)?ct.docBaseUrl:null,Dt=typeof ct.cMapUrl=="string"?ct.cMapUrl:null,Mt=ct.cMapPacked!==!1,St=ct.CMapReaderFactory||DefaultCMapReaderFactory,gt=typeof ct.standardFontDataUrl=="string"?ct.standardFontDataUrl:null,mt=ct.StandardFontDataFactory||DefaultStandardFontDataFactory,xt=ct.stopAtErrors!==!0,_t=Number.isInteger(ct.maxImageSize)&&ct.maxImageSize>-1?ct.maxImageSize:-1,At=ct.isEvalSupported!==!1,Tt=typeof ct.isOffscreenCanvasSupported=="boolean"?ct.isOffscreenCanvasSupported:!_util.isNodeJS,Lt=Number.isInteger(ct.canvasMaxAreaInBytes)?ct.canvasMaxAreaInBytes:-1,Ut=typeof ct.disableFontFace=="boolean"?ct.disableFontFace:_util.isNodeJS,Zt=ct.fontExtraProperties===!0,tr=ct.enableXfa===!0,lr=ct.ownerDocument||globalThis.document,hr=ct.disableRange===!0,dr=ct.disableStream===!0,Gt=ct.disableAutoFetch===!0,Jt=ct.pdfBug===!0,Rt=jt?jt.length:ct.length??NaN,Nt=typeof ct.useSystemFonts=="boolean"?ct.useSystemFonts:!_util.isNodeJS&&!Ut,Ht=typeof ct.useWorkerFetch=="boolean"?ct.useWorkerFetch:St===_display_utils.DOMCMapReaderFactory&&mt===_display_utils.DOMStandardFontDataFactory&&Dt&&gt&&(0,_display_utils.isValidFetchUrl)(Dt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(gt,document.baseURI),qt=ct.canvasFactory||new DefaultCanvasFactory({ownerDocument:lr}),ar=ct.filterFactory||new DefaultFilterFactory({docId:vt,ownerDocument:lr}),vr=null;(0,_util.setVerbosityLevel)(It);const pr={canvasFactory:qt,filterFactory:ar};if(Ht||(pr.cMapReaderFactory=new St({baseUrl:Dt,isCompressed:Mt}),pr.standardFontDataFactory=new mt({baseUrl:gt})),!wt){const Er={verbosity:It,port:_worker_options.GlobalWorkerOptions.workerPort};wt=Er.port?PDFWorker.fromPort(Er):new PDFWorker(Er),dt._worker=wt}const Vt={docId:vt,apiVersion:"3.11.174",data:pt,password:Bt,disableAutoFetch:Gt,rangeChunkSize:Ft,length:Rt,docBaseUrl:yt,enableXfa:tr,evaluatorOptions:{maxImageSize:_t,disableFontFace:Ut,ignoreErrors:xt,isEvalSupported:At,isOffscreenCanvasSupported:Tt,canvasMaxAreaInBytes:Lt,fontExtraProperties:Zt,useSystemFonts:Nt,cMapUrl:Ht?Dt:null,standardFontDataUrl:Ht?gt:null}},br={ignoreErrors:xt,isEvalSupported:At,disableFontFace:Ut,fontExtraProperties:Zt,enableXfa:tr,ownerDocument:lr,disableAutoFetch:Gt,pdfBug:Jt,styleElement:vr};return wt.promise.then(function(){if(dt.destroyed)throw new Error("Loading aborted");const Er=_fetchDocument(wt,Vt),Ir=new Promise(function(kr){let Nr;jt?Nr=new _transport_stream.PDFDataTransportStream({length:Rt,initialData:jt.initialData,progressiveDone:jt.progressiveDone,contentDispositionFilename:jt.contentDispositionFilename,disableRange:hr,disableStream:dr},jt):pt||(Nr=(Tr=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Tr):(0,_display_utils.isValidFetchUrl)(Tr.url)?new _displayFetch_stream.PDFFetchStream(Tr):new _displayNetwork.PDFNetworkStream(Tr))({url:Et,length:Rt,httpHeaders:bt,withCredentials:Ct,rangeChunkSize:Ft,disableRange:hr,disableStream:dr})),kr(Nr)});return Promise.all([Er,Ir]).then(function([kr,Nr]){if(dt.destroyed)throw new Error("Loading aborted");const Rr=new _message_handler.MessageHandler(vt,kr,wt.port),Tr=new WorkerTransport(Rr,dt,Nr,br,pr);dt._transport=Tr,Rr.send("Ready",null)})}).catch(dt._capability.reject),dt}async function _fetchDocument(ct,dt){if(ct.destroyed)throw new Error("Worker was destroyed");const vt=await ct.messageHandler.sendWithPromise("GetDocRequest",dt,dt.data?[dt.data.buffer]:null);if(ct.destroyed)throw new Error("Worker was destroyed");return vt}function getUrlProp(ct){if(ct instanceof URL)return ct.href;try{return new URL(ct,window.location).href}catch{if(_util.isNodeJS&&typeof ct=="string")return ct}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ct){if(_util.isNodeJS&&typeof Buffer<"u"&&ct instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ct instanceof Uint8Array&&ct.byteLength===ct.buffer.byteLength)return ct;if(typeof ct=="string")return(0,_util.stringToBytes)(ct);if(typeof ct=="object"&&!isNaN(ct==null?void 0:ct.length)||(0,_util.isArrayBuffer)(ct))return new Uint8Array(ct);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${rn(e,s)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var dt,vt,Et;this.destroyed=!0;try{(dt=this._worker)!=null&&dt.port&&(this._worker._pendingDestroy=!0),await((vt=this._transport)==null?void 0:vt.destroy())}catch(pt){throw(Et=this._worker)!=null&&Et.port&&delete this._worker._pendingDestroy,pt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};s=new WeakMap,$t(e,s,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(dt,vt,Et=!1,pt=null){this.length=dt,this.initialData=vt,this.progressiveDone=Et,this.contentDispositionFilename=pt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(dt){this._rangeListeners.push(dt)}addProgressListener(dt){this._progressListeners.push(dt)}addProgressiveReadListener(dt){this._progressiveReadListeners.push(dt)}addProgressiveDoneListener(dt){this._progressiveDoneListeners.push(dt)}onDataRange(dt,vt){for(const Et of this._rangeListeners)Et(dt,vt)}onDataProgress(dt,vt){this._readyCapability.promise.then(()=>{for(const Et of this._progressListeners)Et(dt,vt)})}onDataProgressiveRead(dt){this._readyCapability.promise.then(()=>{for(const vt of this._progressiveReadListeners)vt(dt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const dt of this._progressiveDoneListeners)dt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(dt,vt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(dt,vt){this._pdfInfo=dt,this._transport=vt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Et=>{if(!Et)return Et;const pt=[];for(const bt in Et)pt.push(...Et[bt]);return pt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(dt){return this._transport.getPage(dt)}getPageIndex(dt){return this._transport.getPageIndex(dt)}getDestinations(){return this._transport.getDestinations()}getDestination(dt){return this._transport.getDestination(dt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(dt=!1){return this._transport.startCleanup(dt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(dt,vt,Et,pt=!1){$t(this,d);$t(this,a,null);$t(this,o,!1);this._pageIndex=dt,this._pageInfo=vt,this._transport=Et,this._stats=pt?new _display_utils.StatTimer:null,this._pdfBug=pt,this.commonObjs=Et.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:dt,rotation:vt=this.rotate,offsetX:Et=0,offsetY:pt=0,dontFlip:bt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:dt,rotation:vt,offsetX:Et,offsetY:pt,dontFlip:bt})}getAnnotations({intent:dt="display"}={}){const vt=this._transport.getRenderingIntent(dt);return this._transport.getAnnotations(this._pageIndex,vt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var dt;return((dt=this._transport._htmlForXfa)==null?void 0:dt.children[this._pageIndex])||null}render({canvasContext:dt,viewport:vt,intent:Et="display",annotationMode:pt=_util.AnnotationMode.ENABLE,transform:bt=null,background:Ct=null,optionalContentConfigPromise:Bt=null,annotationCanvasMap:jt=null,pageColors:Ft=null,printAnnotationStorage:wt=null}){var mt,xt;(mt=this._stats)==null||mt.time("Overall");const It=this._transport.getRenderingIntent(Et,pt,wt);Qt(this,o,!1),Wt(this,d,Zn).call(this),Bt||(Bt=this._transport.getOptionalContentConfig());let yt=this._intentStates.get(It.cacheKey);yt||(yt=Object.create(null),this._intentStates.set(It.cacheKey,yt)),yt.streamReaderCancelTimeout&&(clearTimeout(yt.streamReaderCancelTimeout),yt.streamReaderCancelTimeout=null);const Dt=!!(It.renderingIntent&_util.RenderingIntentFlag.PRINT);yt.displayReadyCapability||(yt.displayReadyCapability=new _util.PromiseCapability,yt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(xt=this._stats)==null||xt.time("Page Request"),this._pumpOperatorList(It));const Mt=_t=>{var At,Tt;yt.renderTasks.delete(St),(this._maybeCleanupAfterRender||Dt)&&Qt(this,o,!0),Wt(this,d,pn).call(this,!Dt),_t?(St.capability.reject(_t),this._abortOperatorList({intentState:yt,reason:_t instanceof Error?_t:new Error(_t)})):St.capability.resolve(),(At=this._stats)==null||At.timeEnd("Rendering"),(Tt=this._stats)==null||Tt.timeEnd("Overall")},St=new InternalRenderTask({callback:Mt,params:{canvasContext:dt,viewport:vt,transform:bt,background:Ct},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:jt,operatorList:yt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Dt,pdfBug:this._pdfBug,pageColors:Ft});(yt.renderTasks||(yt.renderTasks=new Set)).add(St);const gt=St.task;return Promise.all([yt.displayReadyCapability.promise,Bt]).then(([_t,At])=>{var Tt;if(this.destroyed){Mt();return}(Tt=this._stats)==null||Tt.time("Rendering"),St.initializeGraphics({transparency:_t,optionalContentConfig:At}),St.operatorListChanged()}).catch(Mt),gt}getOperatorList({intent:dt="display",annotationMode:vt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Et=null}={}){var jt;function pt(){Ct.operatorList.lastChunk&&(Ct.opListReadCapability.resolve(Ct.operatorList),Ct.renderTasks.delete(Bt))}const bt=this._transport.getRenderingIntent(dt,vt,Et,!0);let Ct=this._intentStates.get(bt.cacheKey);Ct||(Ct=Object.create(null),this._intentStates.set(bt.cacheKey,Ct));let Bt;return Ct.opListReadCapability||(Bt=Object.create(null),Bt.operatorListChanged=pt,Ct.opListReadCapability=new _util.PromiseCapability,(Ct.renderTasks||(Ct.renderTasks=new Set)).add(Bt),Ct.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(jt=this._stats)==null||jt.time("Page Request"),this._pumpOperatorList(bt)),Ct.opListReadCapability.promise}streamTextContent({includeMarkedContent:dt=!1,disableNormalization:vt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:dt===!0,disableNormalization:vt===!0},{highWaterMark:100,size(pt){return pt.items.length}})}getTextContent(dt={}){if(this._transport._htmlForXfa)return this.getXfa().then(Et=>_xfa_text.XfaText.textContent(Et));const vt=this.streamTextContent(dt);return new Promise(function(Et,pt){function bt(){Ct.read().then(function({value:jt,done:Ft}){if(Ft){Et(Bt);return}Object.assign(Bt.styles,jt.styles),Bt.items.push(...jt.items),bt()},pt)}const Ct=vt.getReader(),Bt={items:[],styles:Object.create(null)};bt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const dt=[];for(const vt of this._intentStates.values())if(this._abortOperatorList({intentState:vt,reason:new Error("Page was destroyed."),force:!0}),!vt.opListReadCapability)for(const Et of vt.renderTasks)dt.push(Et.completed),Et.cancel();return this.objs.clear(),Qt(this,o,!1),Wt(this,d,Zn).call(this),Promise.all(dt)}cleanup(dt=!1){Qt(this,o,!0);const vt=Wt(this,d,pn).call(this,!1);return dt&&vt&&this._stats&&(this._stats=new _display_utils.StatTimer),vt}_startRenderPage(dt,vt){var pt,bt;const Et=this._intentStates.get(vt);Et&&((pt=this._stats)==null||pt.timeEnd("Page Request"),(bt=Et.displayReadyCapability)==null||bt.resolve(dt))}_renderPageChunk(dt,vt){for(let Et=0,pt=dt.length;Et<pt;Et++)vt.operatorList.fnArray.push(dt.fnArray[Et]),vt.operatorList.argsArray.push(dt.argsArray[Et]);vt.operatorList.lastChunk=dt.lastChunk,vt.operatorList.separateAnnots=dt.separateAnnots;for(const Et of vt.renderTasks)Et.operatorListChanged();dt.lastChunk&&Wt(this,d,pn).call(this,!0)}_pumpOperatorList({renderingIntent:dt,cacheKey:vt,annotationStorageSerializable:Et}){const{map:pt,transfers:bt}=Et,Bt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:dt,cacheKey:vt,annotationStorage:pt},bt).getReader(),jt=this._intentStates.get(vt);jt.streamReader=Bt;const Ft=()=>{Bt.read().then(({value:wt,done:It})=>{if(It){jt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(wt,jt),Ft())},wt=>{if(jt.streamReader=null,!this._transport.destroyed){if(jt.operatorList){jt.operatorList.lastChunk=!0;for(const It of jt.renderTasks)It.operatorListChanged();Wt(this,d,pn).call(this,!0)}if(jt.displayReadyCapability)jt.displayReadyCapability.reject(wt);else if(jt.opListReadCapability)jt.opListReadCapability.reject(wt);else throw wt}})};Ft()}_abortOperatorList({intentState:dt,reason:vt,force:Et=!1}){if(dt.streamReader){if(dt.streamReaderCancelTimeout&&(clearTimeout(dt.streamReaderCancelTimeout),dt.streamReaderCancelTimeout=null),!Et){if(dt.renderTasks.size>0)return;if(vt instanceof _display_utils.RenderingCancelledException){let pt=RENDERING_CANCELLED_TIMEOUT;vt.extraDelay>0&&vt.extraDelay<1e3&&(pt+=vt.extraDelay),dt.streamReaderCancelTimeout=setTimeout(()=>{dt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:dt,reason:vt,force:!0})},pt);return}}if(dt.streamReader.cancel(new _util.AbortException(vt.message)).catch(()=>{}),dt.streamReader=null,!this._transport.destroyed){for(const[pt,bt]of this._intentStates)if(bt===dt){this._intentStates.delete(pt);break}this.cleanup()}}}get stats(){return this._stats}}a=new WeakMap,o=new WeakMap,d=new WeakSet,pn=function(dt=!1){if(Wt(this,d,Zn).call(this),!lt(this,o)||this.destroyed)return!1;if(dt)return Qt(this,a,setTimeout(()=>{Qt(this,a,null),Wt(this,d,pn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:vt,operatorList:Et}of this._intentStates.values())if(vt.size>0||!Et.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Qt(this,o,!1),!0},Zn=function(){lt(this,a)&&(clearTimeout(lt(this,a)),Qt(this,a,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){$t(this,b,new Set);$t(this,j,Promise.resolve())}postMessage(dt,vt){const Et={data:structuredClone(dt,vt?{transfer:vt}:null)};lt(this,j).then(()=>{for(const pt of lt(this,b))pt.call(this,Et)})}addEventListener(dt,vt){lt(this,b).add(vt)}removeEventListener(dt,vt){lt(this,b).delete(vt)}terminate(){lt(this,b).clear()}}b=new WeakMap,j=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ct=(_=document==null?void 0:document.currentScript)==null?void 0:_.src;ct&&(PDFWorkerUtil.fallbackWorkerSrc=ct.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ct,dt){let vt;try{if(vt=new URL(ct),!vt.origin||vt.origin==="null")return!1}catch{return!1}const Et=new URL(dt,vt);return vt.origin===Et.origin},PDFWorkerUtil.createCDNWrapper=function(ct){const dt=`importScripts("${ct}");`;return URL.createObjectURL(new Blob([dt]))}}const _PDFWorker=class _PDFWorker{constructor({name:ct=null,port:dt=null,verbosity:vt=(0,_util.getVerbosityLevel)()}={}){var Et;if(this.name=ct,this.destroyed=!1,this.verbosity=vt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,dt){if((Et=lt(_PDFWorker,$))!=null&&Et.has(dt))throw new Error("Cannot use more than one PDFWorker per port.");(lt(_PDFWorker,$)||Qt(_PDFWorker,$,new WeakMap)).set(dt,this),this._initializeFromPort(dt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ct){this._port=ct,this._messageHandler=new _message_handler.MessageHandler("main","worker",ct),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ct}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ct)||(ct=PDFWorkerUtil.createCDNWrapper(new URL(ct,window.location).href));const dt=new Worker(ct),vt=new _message_handler.MessageHandler("main","worker",dt),Et=()=>{dt.removeEventListener("error",pt),vt.destroy(),dt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},pt=()=>{this._webWorker||Et()};dt.addEventListener("error",pt),vt.on("test",Ct=>{if(dt.removeEventListener("error",pt),this.destroyed){Et();return}Ct?(this._messageHandler=vt,this._port=dt,this._webWorker=dt,this._readyCapability.resolve(),vt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),vt.destroy(),dt.terminate())}),vt.on("ready",Ct=>{if(dt.removeEventListener("error",pt),this.destroyed){Et();return}try{bt()}catch{this._setupFakeWorker()}});const bt=()=>{const Ct=new Uint8Array;vt.send("test",Ct,[Ct.buffer])};bt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ct=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const dt=new LoopbackPort;this._port=dt;const vt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Et=new _message_handler.MessageHandler(vt+"_worker",vt,dt);ct.setup(Et,dt);const pt=new _message_handler.MessageHandler(vt,vt+"_worker",dt);this._messageHandler=pt,this._readyCapability.resolve(),pt.send("configure",{verbosity:this.verbosity})}).catch(ct=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ct.message}".`))})}destroy(){var ct;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ct=lt(_PDFWorker,$))==null||ct.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ct){var vt;if(!(ct!=null&&ct.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const dt=(vt=lt(this,$))==null?void 0:vt.get(ct.port);if(dt){if(dt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return dt}return new _PDFWorker(ct)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ct;try{return((ct=globalThis.pdfjsWorker)==null?void 0:ct.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};$=new WeakMap,$t(_PDFWorker,$);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(dt,vt,Et,pt,bt){$t(this,it);$t(this,_e,new Map);$t(this,et,new Map);$t(this,tt,new Map);$t(this,nt,null);this.messageHandler=dt,this.loadingTask=vt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:pt.ownerDocument,styleElement:pt.styleElement}),this._params=pt,this.canvasFactory=bt.canvasFactory,this.filterFactory=bt.filterFactory,this.cMapReaderFactory=bt.cMapReaderFactory,this.standardFontDataFactory=bt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Et,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(dt,vt=_util.AnnotationMode.ENABLE,Et=null,pt=!1){let bt=_util.RenderingIntentFlag.DISPLAY,Ct=_annotation_storage.SerializableEmpty;switch(dt){case"any":bt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":bt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${dt}`)}switch(vt){case _util.AnnotationMode.DISABLE:bt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:bt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:bt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ct=(bt&_util.RenderingIntentFlag.PRINT&&Et instanceof _annotation_storage.PrintAnnotationStorage?Et:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${vt}`)}return pt&&(bt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:bt,cacheKey:`${bt}_${Ct.hash}`,annotationStorageSerializable:Ct}}destroy(){var Et;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Et=lt(this,nt))==null||Et.reject(new Error("Worker was destroyed during onPassword callback"));const dt=[];for(const pt of lt(this,et).values())dt.push(pt._destroy());lt(this,et).clear(),lt(this,tt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const vt=this.messageHandler.sendWithPromise("Terminate",null);return dt.push(vt),Promise.all(dt).then(()=>{var pt;this.commonObjs.clear(),this.fontLoader.clear(),lt(this,_e).clear(),this.filterFactory.destroy(),(pt=this._networkStream)==null||pt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:dt,loadingTask:vt}=this;dt.on("GetReader",(Et,pt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=bt=>{this._lastProgress={loaded:bt.loaded,total:bt.total}},pt.onPull=()=>{this._fullReader.read().then(function({value:bt,done:Ct}){if(Ct){pt.close();return}(0,_util.assert)(bt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),pt.enqueue(new Uint8Array(bt),1,[bt])}).catch(bt=>{pt.error(bt)})},pt.onCancel=bt=>{this._fullReader.cancel(bt),pt.ready.catch(Ct=>{if(!this.destroyed)throw Ct})}}),dt.on("ReaderHeadersReady",Et=>{const pt=new _util.PromiseCapability,bt=this._fullReader;return bt.headersReady.then(()=>{var Ct;(!bt.isStreamingSupported||!bt.isRangeSupported)&&(this._lastProgress&&((Ct=vt.onProgress)==null||Ct.call(vt,this._lastProgress)),bt.onProgress=Bt=>{var jt;(jt=vt.onProgress)==null||jt.call(vt,{loaded:Bt.loaded,total:Bt.total})}),pt.resolve({isStreamingSupported:bt.isStreamingSupported,isRangeSupported:bt.isRangeSupported,contentLength:bt.contentLength})},pt.reject),pt.promise}),dt.on("GetRangeReader",(Et,pt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const bt=this._networkStream.getRangeReader(Et.begin,Et.end);if(!bt){pt.close();return}pt.onPull=()=>{bt.read().then(function({value:Ct,done:Bt}){if(Bt){pt.close();return}(0,_util.assert)(Ct instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),pt.enqueue(new Uint8Array(Ct),1,[Ct])}).catch(Ct=>{pt.error(Ct)})},pt.onCancel=Ct=>{bt.cancel(Ct),pt.ready.catch(Bt=>{if(!this.destroyed)throw Bt})}}),dt.on("GetDoc",({pdfInfo:Et})=>{this._numPages=Et.numPages,this._htmlForXfa=Et.htmlForXfa,delete Et.htmlForXfa,vt._capability.resolve(new PDFDocumentProxy(Et,this))}),dt.on("DocException",function(Et){let pt;switch(Et.name){case"PasswordException":pt=new _util.PasswordException(Et.message,Et.code);break;case"InvalidPDFException":pt=new _util.InvalidPDFException(Et.message);break;case"MissingPDFException":pt=new _util.MissingPDFException(Et.message);break;case"UnexpectedResponseException":pt=new _util.UnexpectedResponseException(Et.message,Et.status);break;case"UnknownErrorException":pt=new _util.UnknownErrorException(Et.message,Et.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}vt._capability.reject(pt)}),dt.on("PasswordRequest",Et=>{if(Qt(this,nt,new _util.PromiseCapability),vt.onPassword){const pt=bt=>{bt instanceof Error?lt(this,nt).reject(bt):lt(this,nt).resolve({password:bt})};try{vt.onPassword(pt,Et.code)}catch(bt){lt(this,nt).reject(bt)}}else lt(this,nt).reject(new _util.PasswordException(Et.message,Et.code));return lt(this,nt).promise}),dt.on("DataLoaded",Et=>{var pt;(pt=vt.onProgress)==null||pt.call(vt,{loaded:Et.length,total:Et.length}),this.downloadInfoCapability.resolve(Et)}),dt.on("StartRenderPage",Et=>{if(this.destroyed)return;lt(this,et).get(Et.pageIndex)._startRenderPage(Et.transparency,Et.cacheKey)}),dt.on("commonobj",([Et,pt,bt])=>{var Ct;if(!this.destroyed&&!this.commonObjs.has(Et))switch(pt){case"Font":const Bt=this._params;if("error"in bt){const wt=bt.error;(0,_util.warn)(`Error during font loading: ${wt}`),this.commonObjs.resolve(Et,wt);break}const jt=Bt.pdfBug&&((Ct=globalThis.FontInspector)!=null&&Ct.enabled)?(wt,It)=>globalThis.FontInspector.fontAdded(wt,It):null,Ft=new _font_loader.FontFaceObject(bt,{isEvalSupported:Bt.isEvalSupported,disableFontFace:Bt.disableFontFace,ignoreErrors:Bt.ignoreErrors,inspectFont:jt});this.fontLoader.bind(Ft).catch(wt=>dt.sendWithPromise("FontFallback",{id:Et})).finally(()=>{!Bt.fontExtraProperties&&Ft.data&&(Ft.data=null),this.commonObjs.resolve(Et,Ft)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Et,bt);break;default:throw new Error(`Got unknown common object type ${pt}`)}}),dt.on("obj",([Et,pt,bt,Ct])=>{var jt;if(this.destroyed)return;const Bt=lt(this,et).get(pt);if(!Bt.objs.has(Et))switch(bt){case"Image":if(Bt.objs.resolve(Et,Ct),Ct){let Ft;if(Ct.bitmap){const{width:wt,height:It}=Ct;Ft=wt*It*4}else Ft=((jt=Ct.data)==null?void 0:jt.length)||0;Ft>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Bt._maybeCleanupAfterRender=!0)}break;case"Pattern":Bt.objs.resolve(Et,Ct);break;default:throw new Error(`Got unknown object type ${bt}`)}}),dt.on("DocProgress",Et=>{var pt;this.destroyed||(pt=vt.onProgress)==null||pt.call(vt,{loaded:Et.loaded,total:Et.total})}),dt.on("FetchBuiltInCMap",Et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Et):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),dt.on("FetchStandardFontData",Et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Et):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Et;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:dt,transfers:vt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:dt,filename:((Et=this._fullReader)==null?void 0:Et.filename)??null},vt).finally(()=>{this.annotationStorage.resetModified()})}getPage(dt){if(!Number.isInteger(dt)||dt<=0||dt>this._numPages)return Promise.reject(new Error("Invalid page request."));const vt=dt-1,Et=lt(this,tt).get(vt);if(Et)return Et;const pt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:vt}).then(bt=>{if(this.destroyed)throw new Error("Transport destroyed");const Ct=new PDFPageProxy(vt,bt,this,this._params.pdfBug);return lt(this,et).set(vt,Ct),Ct});return lt(this,tt).set(vt,pt),pt}getPageIndex(dt){return typeof dt!="object"||dt===null||!Number.isInteger(dt.num)||dt.num<0||!Number.isInteger(dt.gen)||dt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:dt.num,gen:dt.gen})}getAnnotations(dt,vt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:dt,intent:vt})}getFieldObjects(){return Wt(this,it,Jn).call(this,"GetFieldObjects")}hasJSActions(){return Wt(this,it,Jn).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(dt){return typeof dt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:dt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Wt(this,it,Jn).call(this,"GetDocJSActions")}getPageJSActions(dt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:dt})}getStructTree(dt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:dt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(dt=>new _optional_content_config.OptionalContentConfig(dt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const dt="GetMetadata",vt=lt(this,_e).get(dt);if(vt)return vt;const Et=this.messageHandler.sendWithPromise(dt,null).then(pt=>{var bt,Ct;return{info:pt[0],metadata:pt[1]?new _metadata.Metadata(pt[1]):null,contentDispositionFilename:((bt=this._fullReader)==null?void 0:bt.filename)??null,contentLength:((Ct=this._fullReader)==null?void 0:Ct.contentLength)??null}});return lt(this,_e).set(dt,Et),Et}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(dt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const vt of lt(this,et).values())if(!vt.cleanup())throw new Error(`startCleanup: Page ${vt.pageNumber} is currently rendering.`);this.commonObjs.clear(),dt||this.fontLoader.clear(),lt(this,_e).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:dt,enableXfa:vt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:dt,enableXfa:vt})}}_e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakSet,Jn=function(dt,vt=null){const Et=lt(this,_e).get(dt);if(Et)return Et;const pt=this.messageHandler.sendWithPromise(dt,vt);return lt(this,_e).set(dt,pt),pt};class PDFObjects{constructor(){$t(this,at);$t(this,rt,Object.create(null))}get(dt,vt=null){if(vt){const pt=Wt(this,at,Ks).call(this,dt);return pt.capability.promise.then(()=>vt(pt.data)),null}const Et=lt(this,rt)[dt];if(!(Et!=null&&Et.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${dt}.`);return Et.data}has(dt){const vt=lt(this,rt)[dt];return(vt==null?void 0:vt.capability.settled)||!1}resolve(dt,vt=null){const Et=Wt(this,at,Ks).call(this,dt);Et.data=vt,Et.capability.resolve()}clear(){var dt;for(const vt in lt(this,rt)){const{data:Et}=lt(this,rt)[vt];(dt=Et==null?void 0:Et.bitmap)==null||dt.close()}Qt(this,rt,Object.create(null))}}rt=new WeakMap,at=new WeakSet,Ks=function(dt){var vt;return(vt=lt(this,rt))[dt]||(vt[dt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(dt){$t(this,ft,null);Qt(this,ft,dt),this.onContinue=null}get promise(){return lt(this,ft).capability.promise}cancel(dt=0){lt(this,ft).cancel(null,dt)}get separateAnnots(){const{separateAnnots:dt}=lt(this,ft).operatorList;if(!dt)return!1;const{annotationCanvasMap:vt}=lt(this,ft);return dt.form||dt.canvas&&(vt==null?void 0:vt.size)>0}}ft=new WeakMap,exports.RenderTask=RenderTask;const ut=class ut{constructor({callback:dt,params:vt,objs:Et,commonObjs:pt,annotationCanvasMap:bt,operatorList:Ct,pageIndex:Bt,canvasFactory:jt,filterFactory:Ft,useRequestAnimationFrame:wt=!1,pdfBug:It=!1,pageColors:yt=null}){this.callback=dt,this.params=vt,this.objs=Et,this.commonObjs=pt,this.annotationCanvasMap=bt,this.operatorListIdx=null,this.operatorList=Ct,this._pageIndex=Bt,this.canvasFactory=jt,this.filterFactory=Ft,this._pdfBug=It,this.pageColors=yt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=wt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=vt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:dt=!1,optionalContentConfig:vt}){var Bt,jt;if(this.cancelled)return;if(this._canvas){if(lt(ut,ot).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");lt(ut,ot).add(this._canvas)}this._pdfBug&&((Bt=globalThis.StepperManager)!=null&&Bt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Et,viewport:pt,transform:bt,background:Ct}=this.params;this.gfx=new _canvas.CanvasGraphics(Et,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:vt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:bt,viewport:pt,transparency:dt,background:Ct}),this.operatorListIdx=0,this.graphicsReady=!0,(jt=this.graphicsReadyCallback)==null||jt.call(this)}cancel(dt=null,vt=0){var Et;this.running=!1,this.cancelled=!0,(Et=this.gfx)==null||Et.endDrawing(),lt(ut,ot).delete(this._canvas),this.callback(dt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,vt))}operatorListChanged(){var dt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(dt=this.stepper)==null||dt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),lt(ut,ot).delete(this._canvas),this.callback())))}};ot=new WeakMap,$t(ut,ot,new WeakSet);let InternalRenderTask=ut;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(s,e,a)=>{var _,$,_e,Al,tt;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var o=a(1),d=a(4),h=a(8);const g=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=g;class b{constructor(){$t(this,_e);$t(this,_,!1);$t(this,$,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(it,st){const rt=lt(this,$).get(it);return rt===void 0?st:Object.assign(st,rt)}getRawValue(it){return lt(this,$).get(it)}remove(it){if(lt(this,$).delete(it),lt(this,$).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const st of lt(this,$).values())if(st instanceof d.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(it,st){const rt=lt(this,$).get(it);let at=!1;if(rt!==void 0)for(const[ht,ft]of Object.entries(st))rt[ht]!==ft&&(at=!0,rt[ht]=ft);else at=!0,lt(this,$).set(it,st);at&&Wt(this,_e,Al).call(this),st instanceof d.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(st.constructor._type)}has(it){return lt(this,$).has(it)}getAll(){return lt(this,$).size>0?(0,o.objectFromMap)(lt(this,$)):null}setAll(it){for(const[st,rt]of Object.entries(it))this.setValue(st,rt)}get size(){return lt(this,$).size}resetModified(){lt(this,_)&&(Qt(this,_,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new j(this)}get serializable(){if(lt(this,$).size===0)return g;const it=new Map,st=new h.MurmurHash3_64,rt=[],at=Object.create(null);let ht=!1;for(const[ft,ot]of lt(this,$)){const ut=ot instanceof d.AnnotationEditor?ot.serialize(!1,at):ot;ut&&(it.set(ft,ut),st.update(`${ft}:${JSON.stringify(ut)}`),ht||(ht=!!ut.bitmap))}if(ht)for(const ft of it.values())ft.bitmap&&rt.push(ft.bitmap);return it.size>0?{map:it,hash:st.hexdigest(),transfers:rt}:g}}_=new WeakMap,$=new WeakMap,_e=new WeakSet,Al=function(){lt(this,_)||(Qt(this,_,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=b;class j extends b{constructor(st){super();$t(this,tt);const{map:rt,hash:at,transfers:ht}=st.serializable,ft=structuredClone(rt,ht?{transfer:ht}:null);Qt(this,tt,{map:ft,hash:at,transfers:ht})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return lt(this,tt)}}tt=new WeakMap,e.PrintAnnotationStorage=j},(s,e,a)=>{var j,_,$,_e,et,tt,nt,it,st,rt,at,ht,ft,ot,ut,Xs,Ys,vt,$s,Zs,Pl,Cl,Rl,Js,_l;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var o=a(5),d=a(1),h=a(6);const wt=class wt{constructor(yt){$t(this,ut);$t(this,j,"");$t(this,_,!1);$t(this,$,null);$t(this,_e,null);$t(this,et,null);$t(this,tt,!1);$t(this,nt,null);$t(this,it,this.focusin.bind(this));$t(this,st,this.focusout.bind(this));$t(this,rt,!1);$t(this,at,!1);$t(this,ht,!1);Hr(this,"_initialOptions",Object.create(null));Hr(this,"_uiManager",null);Hr(this,"_focusEventsAllowed",!0);Hr(this,"_l10nPromise",null);$t(this,ft,!1);$t(this,ot,wt._zIndex++);this.constructor===wt&&(0,d.unreachable)("Cannot initialize AnnotationEditor."),this.parent=yt.parent,this.id=yt.id,this.width=this.height=null,this.pageIndex=yt.parent.pageIndex,this.name=yt.name,this.div=null,this._uiManager=yt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=yt.isCentered,this._structTreeParentId=null;const{rotation:Dt,rawDims:{pageWidth:Mt,pageHeight:St,pageX:gt,pageY:mt}}=this.parent.viewport;this.rotation=Dt,this.pageRotation=(360+Dt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Mt,St],this.pageTranslation=[gt,mt];const[xt,_t]=this.parentDimensions;this.x=yt.x/xt,this.y=yt.y/_t,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,d.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(yt){const Dt=new b({id:yt.parent.getNextId(),parent:yt.parent,uiManager:yt._uiManager});Dt.annotationElementId=yt.annotationElementId,Dt.deleted=!0,Dt._uiManager.addToAnnotationStorage(Dt)}static initialize(yt,Dt=null){if(wt._l10nPromise||(wt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(St=>[St,yt.get(St)]))),Dt!=null&&Dt.strings)for(const St of Dt.strings)wt._l10nPromise.set(St,yt.get(St));if(wt._borderLineWidth!==-1)return;const Mt=getComputedStyle(document.documentElement);wt._borderLineWidth=parseFloat(Mt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(yt,Dt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(yt){return!1}static paste(yt,Dt){(0,d.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return lt(this,ft)}set _isDraggable(yt){var Dt;Qt(this,ft,yt),(Dt=this.div)==null||Dt.classList.toggle("draggable",yt)}center(){const[yt,Dt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Dt/(yt*2),this.y+=this.width*yt/(Dt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Dt/(yt*2),this.y-=this.width*yt/(Dt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(yt){this._uiManager.addCommands(yt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=lt(this,ot)}setParent(yt){yt!==null&&(this.pageIndex=yt.pageIndex,this.pageDimensions=yt.pageDimensions),this.parent=yt}focusin(yt){this._focusEventsAllowed&&(lt(this,rt)?Qt(this,rt,!1):this.parent.setSelected(this))}focusout(yt){var Mt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Dt=yt.relatedTarget;Dt!=null&&Dt.closest(`#${this.id}`)||(yt.preventDefault(),(Mt=this.parent)!=null&&Mt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(yt,Dt,Mt,St){const[gt,mt]=this.parentDimensions;[Mt,St]=this.screenToPageTranslation(Mt,St),this.x=(yt+Mt)/gt,this.y=(Dt+St)/mt,this.fixAndSetPosition()}translate(yt,Dt){Wt(this,ut,Xs).call(this,this.parentDimensions,yt,Dt)}translateInPage(yt,Dt){Wt(this,ut,Xs).call(this,this.pageDimensions,yt,Dt),this.div.scrollIntoView({block:"nearest"})}drag(yt,Dt){const[Mt,St]=this.parentDimensions;if(this.x+=yt/Mt,this.y+=Dt/St,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:At,y:Tt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,At,Tt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:gt,y:mt}=this;const[xt,_t]=Wt(this,ut,Ys).call(this);gt+=xt,mt+=_t,this.div.style.left=`${(100*gt).toFixed(2)}%`,this.div.style.top=`${(100*mt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[yt,Dt]=this.pageDimensions;let{x:Mt,y:St,width:gt,height:mt}=this;switch(gt*=yt,mt*=Dt,Mt*=yt,St*=Dt,this.rotation){case 0:Mt=Math.max(0,Math.min(yt-gt,Mt)),St=Math.max(0,Math.min(Dt-mt,St));break;case 90:Mt=Math.max(0,Math.min(yt-mt,Mt)),St=Math.min(Dt,Math.max(gt,St));break;case 180:Mt=Math.min(yt,Math.max(gt,Mt)),St=Math.min(Dt,Math.max(mt,St));break;case 270:Mt=Math.min(yt,Math.max(mt,Mt)),St=Math.max(0,Math.min(Dt-gt,St));break}this.x=Mt/=yt,this.y=St/=Dt;const[xt,_t]=Wt(this,ut,Ys).call(this);Mt+=xt,St+=_t;const{style:At}=this.div;At.left=`${(100*Mt).toFixed(2)}%`,At.top=`${(100*St).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(yt,Dt){var Mt;return Wt(Mt=wt,vt,$s).call(Mt,yt,Dt,this.parentRotation)}pageTranslationToScreen(yt,Dt){var Mt;return Wt(Mt=wt,vt,$s).call(Mt,yt,Dt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:yt,pageDimensions:[Dt,Mt]}=this,St=Dt*yt,gt=Mt*yt;return d.FeatureTest.isCSSRoundSupported?[Math.round(St),Math.round(gt)]:[St,gt]}setDims(yt,Dt){var gt;const[Mt,St]=this.parentDimensions;this.div.style.width=`${(100*yt/Mt).toFixed(2)}%`,lt(this,tt)||(this.div.style.height=`${(100*Dt/St).toFixed(2)}%`),(gt=lt(this,$))==null||gt.classList.toggle("small",yt<wt.SMALL_EDITOR_SIZE||Dt<wt.SMALL_EDITOR_SIZE)}fixDims(){const{style:yt}=this.div,{height:Dt,width:Mt}=yt,St=Mt.endsWith("%"),gt=!lt(this,tt)&&Dt.endsWith("%");if(St&&gt)return;const[mt,xt]=this.parentDimensions;St||(yt.width=`${(100*parseFloat(Mt)/mt).toFixed(2)}%`),!lt(this,tt)&&!gt&&(yt.height=`${(100*parseFloat(Dt)/xt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(lt(this,$))return;const yt=Qt(this,$,document.createElement("button"));yt.className="altText";const Dt=await wt._l10nPromise.get("editor_alt_text_button_label");yt.textContent=Dt,yt.setAttribute("aria-label",Dt),yt.tabIndex="0",yt.addEventListener("contextmenu",h.noContextMenu),yt.addEventListener("pointerdown",Mt=>Mt.stopPropagation()),yt.addEventListener("click",Mt=>{Mt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),yt.addEventListener("keydown",Mt=>{Mt.target===yt&&Mt.key==="Enter"&&(Mt.preventDefault(),this._uiManager.editAltText(this))}),Wt(this,ut,Js).call(this),this.div.append(yt),wt.SMALL_EDITOR_SIZE||(wt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(yt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:lt(this,j),decorative:lt(this,_)}}set altTextData({altText:yt,decorative:Dt}){lt(this,j)===yt&&lt(this,_)===Dt||(Qt(this,j,yt),Qt(this,_,Dt),Wt(this,ut,Js).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",lt(this,it)),this.div.addEventListener("focusout",lt(this,st));const[yt,Dt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Dt/yt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*yt/Dt).toFixed(2)}%`);const[Mt,St]=this.getInitialTranslation();return this.translate(Mt,St),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(yt){const{isMac:Dt}=d.FeatureTest.platform;if(yt.button!==0||yt.ctrlKey&&Dt){yt.preventDefault();return}Qt(this,rt,!0),Wt(this,ut,_l).call(this,yt)}moveInDOM(){var yt;(yt=this.parent)==null||yt.moveEditorInDOM(this)}_setParentAndPosition(yt,Dt,Mt){yt.changeParent(this),this.x=Dt,this.y=Mt,this.fixAndSetPosition()}getRect(yt,Dt){const Mt=this.parentScale,[St,gt]=this.pageDimensions,[mt,xt]=this.pageTranslation,_t=yt/Mt,At=Dt/Mt,Tt=this.x*St,Lt=this.y*gt,Ut=this.width*St,Zt=this.height*gt;switch(this.rotation){case 0:return[Tt+_t+mt,gt-Lt-At-Zt+xt,Tt+_t+Ut+mt,gt-Lt-At+xt];case 90:return[Tt+At+mt,gt-Lt+_t+xt,Tt+At+Zt+mt,gt-Lt+_t+Ut+xt];case 180:return[Tt-_t-Ut+mt,gt-Lt+At+xt,Tt-_t+mt,gt-Lt+At+Zt+xt];case 270:return[Tt-At-Zt+mt,gt-Lt-_t-Ut+xt,Tt-At+mt,gt-Lt-_t+xt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(yt,Dt){const[Mt,St,gt,mt]=yt,xt=gt-Mt,_t=mt-St;switch(this.rotation){case 0:return[Mt,Dt-mt,xt,_t];case 90:return[Mt,Dt-St,_t,xt];case 180:return[gt,Dt-St,xt,_t];case 270:return[gt,Dt-mt,_t,xt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Qt(this,ht,!0)}disableEditMode(){Qt(this,ht,!1)}isInEditMode(){return lt(this,ht)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var yt,Dt;(yt=this.div)==null||yt.addEventListener("focusin",lt(this,it)),(Dt=this.div)==null||Dt.addEventListener("focusout",lt(this,st))}serialize(yt=!1,Dt=null){(0,d.unreachable)("An editor must be serializable")}static deserialize(yt,Dt,Mt){const St=new this.prototype.constructor({parent:Dt,id:Dt.getNextId(),uiManager:Mt});St.rotation=yt.rotation;const[gt,mt]=St.pageDimensions,[xt,_t,At,Tt]=St.getRectInCurrentCoords(yt.rect,mt);return St.x=xt/gt,St.y=_t/mt,St.width=At/gt,St.height=Tt/mt,St}remove(){var yt;this.div.removeEventListener("focusin",lt(this,it)),this.div.removeEventListener("focusout",lt(this,st)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(yt=lt(this,$))==null||yt.remove(),Qt(this,$,null),Qt(this,_e,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Wt(this,ut,Pl).call(this),lt(this,nt).classList.remove("hidden"))}select(){var yt;this.makeResizable(),(yt=this.div)==null||yt.classList.add("selectedEditor")}unselect(){var yt,Dt,Mt;(yt=lt(this,nt))==null||yt.classList.add("hidden"),(Dt=this.div)==null||Dt.classList.remove("selectedEditor"),(Mt=this.div)!=null&&Mt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(yt,Dt){}disableEditing(){lt(this,$)&&(lt(this,$).hidden=!0)}enableEditing(){lt(this,$)&&(lt(this,$).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return lt(this,at)}set isEditing(yt){Qt(this,at,yt),this.parent&&(yt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(yt,Dt){Qt(this,tt,!0);const Mt=yt/Dt,{style:St}=this.div;St.aspectRatio=Mt,St.height="auto"}static get MIN_SIZE(){return 16}};j=new WeakMap,_=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,rt=new WeakMap,at=new WeakMap,ht=new WeakMap,ft=new WeakMap,ot=new WeakMap,ut=new WeakSet,Xs=function([yt,Dt],Mt,St){[Mt,St]=this.screenToPageTranslation(Mt,St),this.x+=Mt/yt,this.y+=St/Dt,this.fixAndSetPosition()},Ys=function(){const[yt,Dt]=this.parentDimensions,{_borderLineWidth:Mt}=wt,St=Mt/yt,gt=Mt/Dt;switch(this.rotation){case 90:return[-St,gt];case 180:return[St,gt];case 270:return[St,-gt];default:return[-St,-gt]}},vt=new WeakSet,$s=function(yt,Dt,Mt){switch(Mt){case 90:return[Dt,-yt];case 180:return[-yt,-Dt];case 270:return[-Dt,yt];default:return[yt,Dt]}},Zs=function(yt){switch(yt){case 90:{const[Dt,Mt]=this.pageDimensions;return[0,-Dt/Mt,Mt/Dt,0]}case 180:return[-1,0,0,-1];case 270:{const[Dt,Mt]=this.pageDimensions;return[0,Dt/Mt,-Mt/Dt,0]}default:return[1,0,0,1]}},Pl=function(){if(lt(this,nt))return;Qt(this,nt,document.createElement("div")),lt(this,nt).classList.add("resizers");const yt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||yt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Dt of yt){const Mt=document.createElement("div");lt(this,nt).append(Mt),Mt.classList.add("resizer",Dt),Mt.addEventListener("pointerdown",Wt(this,ut,Cl).bind(this,Dt)),Mt.addEventListener("contextmenu",h.noContextMenu)}this.div.prepend(lt(this,nt))},Cl=function(yt,Dt){Dt.preventDefault();const{isMac:Mt}=d.FeatureTest.platform;if(Dt.button!==0||Dt.ctrlKey&&Mt)return;const St=Wt(this,ut,Rl).bind(this,yt),gt=this._isDraggable;this._isDraggable=!1;const mt={passive:!0,capture:!0};window.addEventListener("pointermove",St,mt);const xt=this.x,_t=this.y,At=this.width,Tt=this.height,Lt=this.parent.div.style.cursor,Ut=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Dt.target).cursor;const Zt=()=>{this._isDraggable=gt,window.removeEventListener("pointerup",Zt),window.removeEventListener("blur",Zt),window.removeEventListener("pointermove",St,mt),this.parent.div.style.cursor=Lt,this.div.style.cursor=Ut;const tr=this.x,lr=this.y,hr=this.width,dr=this.height;tr===xt&&lr===_t&&hr===At&&dr===Tt||this.addCommands({cmd:()=>{this.width=hr,this.height=dr,this.x=tr,this.y=lr;const[Gt,Jt]=this.parentDimensions;this.setDims(Gt*hr,Jt*dr),this.fixAndSetPosition()},undo:()=>{this.width=At,this.height=Tt,this.x=xt,this.y=_t;const[Gt,Jt]=this.parentDimensions;this.setDims(Gt*At,Jt*Tt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Zt),window.addEventListener("blur",Zt)},Rl=function(yt,Dt){const[Mt,St]=this.parentDimensions,gt=this.x,mt=this.y,xt=this.width,_t=this.height,At=wt.MIN_SIZE/Mt,Tt=wt.MIN_SIZE/St,Lt=Rr=>Math.round(Rr*1e4)/1e4,Ut=Wt(this,ut,Zs).call(this,this.rotation),Zt=(Rr,Tr)=>[Ut[0]*Rr+Ut[2]*Tr,Ut[1]*Rr+Ut[3]*Tr],tr=Wt(this,ut,Zs).call(this,360-this.rotation),lr=(Rr,Tr)=>[tr[0]*Rr+tr[2]*Tr,tr[1]*Rr+tr[3]*Tr];let hr,dr,Gt=!1,Jt=!1;switch(yt){case"topLeft":Gt=!0,hr=(Rr,Tr)=>[0,0],dr=(Rr,Tr)=>[Rr,Tr];break;case"topMiddle":hr=(Rr,Tr)=>[Rr/2,0],dr=(Rr,Tr)=>[Rr/2,Tr];break;case"topRight":Gt=!0,hr=(Rr,Tr)=>[Rr,0],dr=(Rr,Tr)=>[0,Tr];break;case"middleRight":Jt=!0,hr=(Rr,Tr)=>[Rr,Tr/2],dr=(Rr,Tr)=>[0,Tr/2];break;case"bottomRight":Gt=!0,hr=(Rr,Tr)=>[Rr,Tr],dr=(Rr,Tr)=>[0,0];break;case"bottomMiddle":hr=(Rr,Tr)=>[Rr/2,Tr],dr=(Rr,Tr)=>[Rr/2,0];break;case"bottomLeft":Gt=!0,hr=(Rr,Tr)=>[0,Tr],dr=(Rr,Tr)=>[Rr,0];break;case"middleLeft":Jt=!0,hr=(Rr,Tr)=>[0,Tr/2],dr=(Rr,Tr)=>[Rr,Tr/2];break}const Rt=hr(xt,_t),Nt=dr(xt,_t);let Ht=Zt(...Nt);const qt=Lt(gt+Ht[0]),ar=Lt(mt+Ht[1]);let vr=1,pr=1,[Vt,br]=this.screenToPageTranslation(Dt.movementX,Dt.movementY);if([Vt,br]=lr(Vt/Mt,br/St),Gt){const Rr=Math.hypot(xt,_t);vr=pr=Math.max(Math.min(Math.hypot(Nt[0]-Rt[0]-Vt,Nt[1]-Rt[1]-br)/Rr,1/xt,1/_t),At/xt,Tt/_t)}else Jt?vr=Math.max(At,Math.min(1,Math.abs(Nt[0]-Rt[0]-Vt)))/xt:pr=Math.max(Tt,Math.min(1,Math.abs(Nt[1]-Rt[1]-br)))/_t;const Er=Lt(xt*vr),Ir=Lt(_t*pr);Ht=Zt(...dr(Er,Ir));const kr=qt-Ht[0],Nr=ar-Ht[1];this.width=Er,this.height=Ir,this.x=kr,this.y=Nr,this.setDims(Mt*Er,St*Ir),this.fixAndSetPosition()},Js=async function(){var Mt;const yt=lt(this,$);if(!yt)return;if(!lt(this,j)&&!lt(this,_)){yt.classList.remove("done"),(Mt=lt(this,_e))==null||Mt.remove();return}wt._l10nPromise.get("editor_alt_text_edit_button_label").then(St=>{yt.setAttribute("aria-label",St)});let Dt=lt(this,_e);if(!Dt){Qt(this,_e,Dt=document.createElement("span")),Dt.className="tooltip",Dt.setAttribute("role","tooltip");const St=Dt.id=`alt-text-tooltip-${this.id}`;yt.setAttribute("aria-describedby",St);const gt=100;yt.addEventListener("mouseenter",()=>{Qt(this,et,setTimeout(()=>{Qt(this,et,null),lt(this,_e).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},gt))}),yt.addEventListener("mouseleave",()=>{var mt;clearTimeout(lt(this,et)),Qt(this,et,null),(mt=lt(this,_e))==null||mt.classList.remove("show")})}yt.classList.add("done"),Dt.innerText=lt(this,_)?await wt._l10nPromise.get("editor_alt_text_decorative_tooltip"):lt(this,j),Dt.parentNode||yt.append(Dt)},_l=function(yt){if(!this._isDraggable)return;const Dt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Mt,St;Dt&&(Mt={passive:!0,capture:!0},St=mt=>{const[xt,_t]=this.screenToPageTranslation(mt.movementX,mt.movementY);this._uiManager.dragSelectedEditors(xt,_t)},window.addEventListener("pointermove",St,Mt));const gt=()=>{if(window.removeEventListener("pointerup",gt),window.removeEventListener("blur",gt),Dt&&window.removeEventListener("pointermove",St,Mt),Qt(this,rt,!1),!this._uiManager.endDragSession()){const{isMac:mt}=d.FeatureTest.platform;yt.ctrlKey&&!mt||yt.shiftKey||yt.metaKey&&mt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",gt),window.addEventListener("blur",gt)},$t(wt,vt),Hr(wt,"_borderLineWidth",-1),Hr(wt,"_colorManager",new o.ColorManager),Hr(wt,"_zIndex",1),Hr(wt,"SMALL_EDITOR_SIZE",0);let g=wt;e.AnnotationEditor=g;class b extends g{constructor(yt){super(yt),this.annotationElementId=yt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(s,e,a)=>{var tt,nt,it,st,rt,Qs,ft,ot,ut,ct,dt,Tl,pt,bt,Ct,Bt,jt,Ft,wt,It,yt,Dt,Mt,St,gt,mt,xt,_t,At,Tt,Lt,Ut,Zt,tr,lr,hr,dr,Gt,Jt,Rt,Nt,Ht,qt,ar,vr,pr,Vt,Fl,na,ga,Qn,xa,ba,tn,Rn,Dl,Ol,$a,_n,eo;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=h,e.opacityToHex=g;var o=a(1),d=a(6);function h(Or,Pt,Xt){for(const xr of Xt)Pt.addEventListener(xr,Or[xr].bind(Or))}function g(Or){return Math.round(Math.min(255,Math.max(1,255*Or))).toString(16).padStart(2,"0")}class b{constructor(){$t(this,tt,0)}getId(){return`${o.AnnotationEditorPrefix}${rn(this,tt)._++}`}}tt=new WeakMap;const ht=class ht{constructor(){$t(this,rt);$t(this,nt,(0,o.getUuid)());$t(this,it,0);$t(this,st,null)}static get _isSVGFittingCanvas(){const Pt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',xr=new OffscreenCanvas(1,3).getContext("2d"),wr=new Image;wr.src=Pt;const Pr=wr.decode().then(()=>(xr.drawImage(wr,0,0,1,1,0,0,1,3),new Uint32Array(xr.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",Pr)}async getFromFile(Pt){const{lastModified:Xt,name:xr,size:wr,type:Pr}=Pt;return Wt(this,rt,Qs).call(this,`${Xt}_${xr}_${wr}_${Pr}`,Pt)}async getFromUrl(Pt){return Wt(this,rt,Qs).call(this,Pt,Pt)}async getFromId(Pt){lt(this,st)||Qt(this,st,new Map);const Xt=lt(this,st).get(Pt);return Xt?Xt.bitmap?(Xt.refCounter+=1,Xt):Xt.file?this.getFromFile(Xt.file):this.getFromUrl(Xt.url):null}getSvgUrl(Pt){const Xt=lt(this,st).get(Pt);return Xt!=null&&Xt.isSvg?Xt.svgUrl:null}deleteId(Pt){lt(this,st)||Qt(this,st,new Map);const Xt=lt(this,st).get(Pt);Xt&&(Xt.refCounter-=1,Xt.refCounter===0&&(Xt.bitmap=null))}isValidId(Pt){return Pt.startsWith(`image_${lt(this,nt)}_`)}};nt=new WeakMap,it=new WeakMap,st=new WeakMap,rt=new WeakSet,Qs=async function(Pt,Xt){lt(this,st)||Qt(this,st,new Map);let xr=lt(this,st).get(Pt);if(xr===null)return null;if(xr!=null&&xr.bitmap)return xr.refCounter+=1,xr;try{xr||(xr={bitmap:null,id:`image_${lt(this,nt)}_${rn(this,it)._++}`,refCounter:0,isSvg:!1});let wr;if(typeof Xt=="string"){xr.url=Xt;const Pr=await fetch(Xt);if(!Pr.ok)throw new Error(Pr.statusText);wr=await Pr.blob()}else wr=xr.file=Xt;if(wr.type==="image/svg+xml"){const Pr=ht._isSVGFittingCanvas,Sr=new FileReader,Ot=new Image,kt=new Promise((zt,Kt)=>{Ot.onload=()=>{xr.bitmap=Ot,xr.isSvg=!0,zt()},Sr.onload=async()=>{const nr=xr.svgUrl=Sr.result;Ot.src=await Pr?`${nr}#svgView(preserveAspectRatio(none))`:nr},Ot.onerror=Sr.onerror=Kt});Sr.readAsDataURL(wr),await kt}else xr.bitmap=await createImageBitmap(wr);xr.refCounter=1}catch(wr){console.error(wr),xr=null}return lt(this,st).set(Pt,xr),xr&&lt(this,st).set(xr.id,xr),xr};let j=ht;class _{constructor(Pt=128){$t(this,ft,[]);$t(this,ot,!1);$t(this,ut);$t(this,ct,-1);Qt(this,ut,Pt)}add({cmd:Pt,undo:Xt,mustExec:xr,type:wr=NaN,overwriteIfSameType:Pr=!1,keepUndo:Sr=!1}){if(xr&&Pt(),lt(this,ot))return;const Ot={cmd:Pt,undo:Xt,type:wr};if(lt(this,ct)===-1){lt(this,ft).length>0&&(lt(this,ft).length=0),Qt(this,ct,0),lt(this,ft).push(Ot);return}if(Pr&&lt(this,ft)[lt(this,ct)].type===wr){Sr&&(Ot.undo=lt(this,ft)[lt(this,ct)].undo),lt(this,ft)[lt(this,ct)]=Ot;return}const kt=lt(this,ct)+1;kt===lt(this,ut)?lt(this,ft).splice(0,1):(Qt(this,ct,kt),kt<lt(this,ft).length&&lt(this,ft).splice(kt)),lt(this,ft).push(Ot)}undo(){lt(this,ct)!==-1&&(Qt(this,ot,!0),lt(this,ft)[lt(this,ct)].undo(),Qt(this,ot,!1),Qt(this,ct,lt(this,ct)-1))}redo(){lt(this,ct)<lt(this,ft).length-1&&(Qt(this,ct,lt(this,ct)+1),Qt(this,ot,!0),lt(this,ft)[lt(this,ct)].cmd(),Qt(this,ot,!1))}hasSomethingToUndo(){return lt(this,ct)!==-1}hasSomethingToRedo(){return lt(this,ct)<lt(this,ft).length-1}destroy(){Qt(this,ft,null)}}ft=new WeakMap,ot=new WeakMap,ut=new WeakMap,ct=new WeakMap,e.CommandManager=_;class ${constructor(Pt){$t(this,dt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Xt}=o.FeatureTest.platform;for(const[xr,wr,Pr={}]of Pt)for(const Sr of xr){const Ot=Sr.startsWith("mac+");Xt&&Ot?(this.callbacks.set(Sr.slice(4),{callback:wr,options:Pr}),this.allKeys.add(Sr.split("+").at(-1))):!Xt&&!Ot&&(this.callbacks.set(Sr,{callback:wr,options:Pr}),this.allKeys.add(Sr.split("+").at(-1)))}}exec(Pt,Xt){if(!this.allKeys.has(Xt.key))return;const xr=this.callbacks.get(Wt(this,dt,Tl).call(this,Xt));if(!xr)return;const{callback:wr,options:{bubbles:Pr=!1,args:Sr=[],checker:Ot=null}}=xr;Ot&&!Ot(Pt,Xt)||(wr.bind(Pt,...Sr)(),Pr||(Xt.stopPropagation(),Xt.preventDefault()))}}dt=new WeakSet,Tl=function(Pt){Pt.altKey&&this.buffer.push("alt"),Pt.ctrlKey&&this.buffer.push("ctrl"),Pt.metaKey&&this.buffer.push("meta"),Pt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Pt.key);const Xt=this.buffer.join("+");return this.buffer.length=0,Xt},e.KeyboardManager=$;const Et=class Et{get _colors(){const Pt=new Map([["CanvasText",null],["Canvas",null]]);return(0,d.getColorValues)(Pt),(0,o.shadow)(this,"_colors",Pt)}convert(Pt){const Xt=(0,d.getRGB)(Pt);if(!window.matchMedia("(forced-colors: active)").matches)return Xt;for(const[xr,wr]of this._colors)if(wr.every((Pr,Sr)=>Pr===Xt[Sr]))return Et._colorsMapping.get(xr);return Xt}getHexCode(Pt){const Xt=this._colors.get(Pt);return Xt?o.Util.makeHexColor(...Xt):Pt}};Hr(Et,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _e=Et;e.ColorManager=_e;const Dr=class Dr{constructor(Pt,Xt,xr,wr,Pr,Sr){$t(this,Vt);$t(this,pt,null);$t(this,bt,new Map);$t(this,Ct,new Map);$t(this,Bt,null);$t(this,jt,null);$t(this,Ft,new _);$t(this,wt,0);$t(this,It,new Set);$t(this,yt,null);$t(this,Dt,null);$t(this,Mt,new Set);$t(this,St,null);$t(this,gt,new b);$t(this,mt,!1);$t(this,xt,!1);$t(this,_t,null);$t(this,At,o.AnnotationEditorType.NONE);$t(this,Tt,new Set);$t(this,Lt,null);$t(this,Ut,this.blur.bind(this));$t(this,Zt,this.focus.bind(this));$t(this,tr,this.copy.bind(this));$t(this,lr,this.cut.bind(this));$t(this,hr,this.paste.bind(this));$t(this,dr,this.keydown.bind(this));$t(this,Gt,this.onEditingAction.bind(this));$t(this,Jt,this.onPageChanging.bind(this));$t(this,Rt,this.onScaleChanging.bind(this));$t(this,Nt,this.onRotationChanging.bind(this));$t(this,Ht,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});$t(this,qt,[0,0]);$t(this,ar,null);$t(this,vr,null);$t(this,pr,null);Qt(this,vr,Pt),Qt(this,pr,Xt),Qt(this,Bt,xr),this._eventBus=wr,this._eventBus._on("editingaction",lt(this,Gt)),this._eventBus._on("pagechanging",lt(this,Jt)),this._eventBus._on("scalechanging",lt(this,Rt)),this._eventBus._on("rotationchanging",lt(this,Nt)),Qt(this,jt,Pr.annotationStorage),Qt(this,St,Pr.filterFactory),Qt(this,Lt,Sr),this.viewParameters={realScale:d.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Pt=Dr.prototype,Xt=Pr=>{const{activeElement:Sr}=document;return Sr&&lt(Pr,vr).contains(Sr)&&Pr.hasSomethingToControl()},xr=this.TRANSLATE_SMALL,wr=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new $([[["ctrl+a","mac+meta+a"],Pt.selectAll],[["ctrl+z","mac+meta+z"],Pt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Pt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Pt.delete],[["Escape","mac+Escape"],Pt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Pt.translateSelectedEditors,{args:[-xr,0],checker:Xt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Pt.translateSelectedEditors,{args:[-wr,0],checker:Xt}],[["ArrowRight","mac+ArrowRight"],Pt.translateSelectedEditors,{args:[xr,0],checker:Xt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Pt.translateSelectedEditors,{args:[wr,0],checker:Xt}],[["ArrowUp","mac+ArrowUp"],Pt.translateSelectedEditors,{args:[0,-xr],checker:Xt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Pt.translateSelectedEditors,{args:[0,-wr],checker:Xt}],[["ArrowDown","mac+ArrowDown"],Pt.translateSelectedEditors,{args:[0,xr],checker:Xt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Pt.translateSelectedEditors,{args:[0,wr],checker:Xt}]]))}destroy(){Wt(this,Vt,Qn).call(this),Wt(this,Vt,na).call(this),this._eventBus._off("editingaction",lt(this,Gt)),this._eventBus._off("pagechanging",lt(this,Jt)),this._eventBus._off("scalechanging",lt(this,Rt)),this._eventBus._off("rotationchanging",lt(this,Nt));for(const Pt of lt(this,Ct).values())Pt.destroy();lt(this,Ct).clear(),lt(this,bt).clear(),lt(this,Mt).clear(),Qt(this,pt,null),lt(this,Tt).clear(),lt(this,Ft).destroy(),lt(this,Bt).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",lt(this,Lt)?lt(this,St).addHCMFilter(lt(this,Lt).foreground,lt(this,Lt).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(lt(this,vr)).direction)}editAltText(Pt){var Xt;(Xt=lt(this,Bt))==null||Xt.editAltText(this,Pt)}onPageChanging({pageNumber:Pt}){Qt(this,wt,Pt-1)}focusMainContainer(){lt(this,vr).focus()}findParent(Pt,Xt){for(const xr of lt(this,Ct).values()){const{x:wr,y:Pr,width:Sr,height:Ot}=xr.div.getBoundingClientRect();if(Pt>=wr&&Pt<=wr+Sr&&Xt>=Pr&&Xt<=Pr+Ot)return xr}return null}disableUserSelect(Pt=!1){lt(this,pr).classList.toggle("noUserSelect",Pt)}addShouldRescale(Pt){lt(this,Mt).add(Pt)}removeShouldRescale(Pt){lt(this,Mt).delete(Pt)}onScaleChanging({scale:Pt}){this.commitOrRemove(),this.viewParameters.realScale=Pt*d.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Xt of lt(this,Mt))Xt.onScaleChanging()}onRotationChanging({pagesRotation:Pt}){this.commitOrRemove(),this.viewParameters.rotation=Pt}addToAnnotationStorage(Pt){!Pt.isEmpty()&&lt(this,jt)&&!lt(this,jt).has(Pt.id)&&lt(this,jt).setValue(Pt.id,Pt)}blur(){if(!this.hasSelection)return;const{activeElement:Pt}=document;for(const Xt of lt(this,Tt))if(Xt.div.contains(Pt)){Qt(this,_t,[Xt,Pt]),Xt._focusEventsAllowed=!1;break}}focus(){if(!lt(this,_t))return;const[Pt,Xt]=lt(this,_t);Qt(this,_t,null),Xt.addEventListener("focusin",()=>{Pt._focusEventsAllowed=!0},{once:!0}),Xt.focus()}addEditListeners(){Wt(this,Vt,ga).call(this),Wt(this,Vt,xa).call(this)}removeEditListeners(){Wt(this,Vt,Qn).call(this),Wt(this,Vt,ba).call(this)}copy(Pt){var xr;if(Pt.preventDefault(),(xr=lt(this,pt))==null||xr.commitOrRemove(),!this.hasSelection)return;const Xt=[];for(const wr of lt(this,Tt)){const Pr=wr.serialize(!0);Pr&&Xt.push(Pr)}Xt.length!==0&&Pt.clipboardData.setData("application/pdfjs",JSON.stringify(Xt))}cut(Pt){this.copy(Pt),this.delete()}paste(Pt){Pt.preventDefault();const{clipboardData:Xt}=Pt;for(const Pr of Xt.items)for(const Sr of lt(this,Dt))if(Sr.isHandlingMimeForPasting(Pr.type)){Sr.paste(Pr,this.currentLayer);return}let xr=Xt.getData("application/pdfjs");if(!xr)return;try{xr=JSON.parse(xr)}catch(Pr){(0,o.warn)(`paste: "${Pr.message}".`);return}if(!Array.isArray(xr))return;this.unselectAll();const wr=this.currentLayer;try{const Pr=[];for(const kt of xr){const zt=wr.deserialize(kt);if(!zt)return;Pr.push(zt)}const Sr=()=>{for(const kt of Pr)Wt(this,Vt,$a).call(this,kt);Wt(this,Vt,eo).call(this,Pr)},Ot=()=>{for(const kt of Pr)kt.remove()};this.addCommands({cmd:Sr,undo:Ot,mustExec:!0})}catch(Pr){(0,o.warn)(`paste: "${Pr.message}".`)}}keydown(Pt){var Xt;(Xt=this.getActive())!=null&&Xt.shouldGetKeyboardEvents()||Dr._keyboardManager.exec(this,Pt)}onEditingAction(Pt){["undo","redo","delete","selectAll"].includes(Pt.name)&&this[Pt.name]()}setEditingState(Pt){Pt?(Wt(this,Vt,Fl).call(this),Wt(this,Vt,ga).call(this),Wt(this,Vt,xa).call(this),Wt(this,Vt,tn).call(this,{isEditing:lt(this,At)!==o.AnnotationEditorType.NONE,isEmpty:Wt(this,Vt,_n).call(this),hasSomethingToUndo:lt(this,Ft).hasSomethingToUndo(),hasSomethingToRedo:lt(this,Ft).hasSomethingToRedo(),hasSelectedEditor:!1})):(Wt(this,Vt,na).call(this),Wt(this,Vt,Qn).call(this),Wt(this,Vt,ba).call(this),Wt(this,Vt,tn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Pt){if(!lt(this,Dt)){Qt(this,Dt,Pt);for(const Xt of lt(this,Dt))Wt(this,Vt,Rn).call(this,Xt.defaultPropertiesToUpdate)}}getId(){return lt(this,gt).getId()}get currentLayer(){return lt(this,Ct).get(lt(this,wt))}getLayer(Pt){return lt(this,Ct).get(Pt)}get currentPageIndex(){return lt(this,wt)}addLayer(Pt){lt(this,Ct).set(Pt.pageIndex,Pt),lt(this,mt)?Pt.enable():Pt.disable()}removeLayer(Pt){lt(this,Ct).delete(Pt.pageIndex)}updateMode(Pt,Xt=null){if(lt(this,At)!==Pt){if(Qt(this,At,Pt),Pt===o.AnnotationEditorType.NONE){this.setEditingState(!1),Wt(this,Vt,Ol).call(this);return}this.setEditingState(!0),Wt(this,Vt,Dl).call(this),this.unselectAll();for(const xr of lt(this,Ct).values())xr.updateMode(Pt);if(Xt){for(const xr of lt(this,bt).values())if(xr.annotationElementId===Xt){this.setSelected(xr),xr.enterInEditMode();break}}}}updateToolbar(Pt){Pt!==lt(this,At)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Pt})}updateParams(Pt,Xt){if(lt(this,Dt)){if(Pt===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Pt);return}for(const xr of lt(this,Tt))xr.updateParams(Pt,Xt);for(const xr of lt(this,Dt))xr.updateDefaultParams(Pt,Xt)}}enableWaiting(Pt=!1){if(lt(this,xt)!==Pt){Qt(this,xt,Pt);for(const Xt of lt(this,Ct).values())Pt?Xt.disableClick():Xt.enableClick(),Xt.div.classList.toggle("waiting",Pt)}}getEditors(Pt){const Xt=[];for(const xr of lt(this,bt).values())xr.pageIndex===Pt&&Xt.push(xr);return Xt}getEditor(Pt){return lt(this,bt).get(Pt)}addEditor(Pt){lt(this,bt).set(Pt.id,Pt)}removeEditor(Pt){var Xt;lt(this,bt).delete(Pt.id),this.unselect(Pt),(!Pt.annotationElementId||!lt(this,It).has(Pt.annotationElementId))&&((Xt=lt(this,jt))==null||Xt.remove(Pt.id))}addDeletedAnnotationElement(Pt){lt(this,It).add(Pt.annotationElementId),Pt.deleted=!0}isDeletedAnnotationElement(Pt){return lt(this,It).has(Pt)}removeDeletedAnnotationElement(Pt){lt(this,It).delete(Pt.annotationElementId),Pt.deleted=!1}setActiveEditor(Pt){lt(this,pt)!==Pt&&(Qt(this,pt,Pt),Pt&&Wt(this,Vt,Rn).call(this,Pt.propertiesToUpdate))}toggleSelected(Pt){if(lt(this,Tt).has(Pt)){lt(this,Tt).delete(Pt),Pt.unselect(),Wt(this,Vt,tn).call(this,{hasSelectedEditor:this.hasSelection});return}lt(this,Tt).add(Pt),Pt.select(),Wt(this,Vt,Rn).call(this,Pt.propertiesToUpdate),Wt(this,Vt,tn).call(this,{hasSelectedEditor:!0})}setSelected(Pt){for(const Xt of lt(this,Tt))Xt!==Pt&&Xt.unselect();lt(this,Tt).clear(),lt(this,Tt).add(Pt),Pt.select(),Wt(this,Vt,Rn).call(this,Pt.propertiesToUpdate),Wt(this,Vt,tn).call(this,{hasSelectedEditor:!0})}isSelected(Pt){return lt(this,Tt).has(Pt)}unselect(Pt){Pt.unselect(),lt(this,Tt).delete(Pt),Wt(this,Vt,tn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return lt(this,Tt).size!==0}undo(){lt(this,Ft).undo(),Wt(this,Vt,tn).call(this,{hasSomethingToUndo:lt(this,Ft).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Wt(this,Vt,_n).call(this)})}redo(){lt(this,Ft).redo(),Wt(this,Vt,tn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:lt(this,Ft).hasSomethingToRedo(),isEmpty:Wt(this,Vt,_n).call(this)})}addCommands(Pt){lt(this,Ft).add(Pt),Wt(this,Vt,tn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Wt(this,Vt,_n).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Pt=[...lt(this,Tt)],Xt=()=>{for(const wr of Pt)wr.remove()},xr=()=>{for(const wr of Pt)Wt(this,Vt,$a).call(this,wr)};this.addCommands({cmd:Xt,undo:xr,mustExec:!0})}commitOrRemove(){var Pt;(Pt=lt(this,pt))==null||Pt.commitOrRemove()}hasSomethingToControl(){return lt(this,pt)||this.hasSelection}selectAll(){for(const Pt of lt(this,Tt))Pt.commit();Wt(this,Vt,eo).call(this,lt(this,bt).values())}unselectAll(){if(lt(this,pt)){lt(this,pt).commitOrRemove();return}if(this.hasSelection){for(const Pt of lt(this,Tt))Pt.unselect();lt(this,Tt).clear(),Wt(this,Vt,tn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Pt,Xt,xr=!1){if(xr||this.commitOrRemove(),!this.hasSelection)return;lt(this,qt)[0]+=Pt,lt(this,qt)[1]+=Xt;const[wr,Pr]=lt(this,qt),Sr=[...lt(this,Tt)],Ot=1e3;lt(this,ar)&&clearTimeout(lt(this,ar)),Qt(this,ar,setTimeout(()=>{Qt(this,ar,null),lt(this,qt)[0]=lt(this,qt)[1]=0,this.addCommands({cmd:()=>{for(const kt of Sr)lt(this,bt).has(kt.id)&&kt.translateInPage(wr,Pr)},undo:()=>{for(const kt of Sr)lt(this,bt).has(kt.id)&&kt.translateInPage(-wr,-Pr)},mustExec:!1})},Ot));for(const kt of Sr)kt.translateInPage(Pt,Xt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Qt(this,yt,new Map);for(const Pt of lt(this,Tt))lt(this,yt).set(Pt,{savedX:Pt.x,savedY:Pt.y,savedPageIndex:Pt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!lt(this,yt))return!1;this.disableUserSelect(!1);const Pt=lt(this,yt);Qt(this,yt,null);let Xt=!1;for(const[{x:wr,y:Pr,pageIndex:Sr},Ot]of Pt)Ot.newX=wr,Ot.newY=Pr,Ot.newPageIndex=Sr,Xt||(Xt=wr!==Ot.savedX||Pr!==Ot.savedY||Sr!==Ot.savedPageIndex);if(!Xt)return!1;const xr=(wr,Pr,Sr,Ot)=>{if(lt(this,bt).has(wr.id)){const kt=lt(this,Ct).get(Ot);kt?wr._setParentAndPosition(kt,Pr,Sr):(wr.pageIndex=Ot,wr.x=Pr,wr.y=Sr)}};return this.addCommands({cmd:()=>{for(const[wr,{newX:Pr,newY:Sr,newPageIndex:Ot}]of Pt)xr(wr,Pr,Sr,Ot)},undo:()=>{for(const[wr,{savedX:Pr,savedY:Sr,savedPageIndex:Ot}]of Pt)xr(wr,Pr,Sr,Ot)},mustExec:!0}),!0}dragSelectedEditors(Pt,Xt){if(lt(this,yt))for(const xr of lt(this,yt).keys())xr.drag(Pt,Xt)}rebuild(Pt){if(Pt.parent===null){const Xt=this.getLayer(Pt.pageIndex);Xt?(Xt.changeParent(Pt),Xt.addOrRebuild(Pt)):(this.addEditor(Pt),this.addToAnnotationStorage(Pt),Pt.rebuild())}else Pt.parent.addOrRebuild(Pt)}isActive(Pt){return lt(this,pt)===Pt}getActive(){return lt(this,pt)}getMode(){return lt(this,At)}get imageManager(){return(0,o.shadow)(this,"imageManager",new j)}};pt=new WeakMap,bt=new WeakMap,Ct=new WeakMap,Bt=new WeakMap,jt=new WeakMap,Ft=new WeakMap,wt=new WeakMap,It=new WeakMap,yt=new WeakMap,Dt=new WeakMap,Mt=new WeakMap,St=new WeakMap,gt=new WeakMap,mt=new WeakMap,xt=new WeakMap,_t=new WeakMap,At=new WeakMap,Tt=new WeakMap,Lt=new WeakMap,Ut=new WeakMap,Zt=new WeakMap,tr=new WeakMap,lr=new WeakMap,hr=new WeakMap,dr=new WeakMap,Gt=new WeakMap,Jt=new WeakMap,Rt=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,qt=new WeakMap,ar=new WeakMap,vr=new WeakMap,pr=new WeakMap,Vt=new WeakSet,Fl=function(){window.addEventListener("focus",lt(this,Zt)),window.addEventListener("blur",lt(this,Ut))},na=function(){window.removeEventListener("focus",lt(this,Zt)),window.removeEventListener("blur",lt(this,Ut))},ga=function(){window.addEventListener("keydown",lt(this,dr),{capture:!0})},Qn=function(){window.removeEventListener("keydown",lt(this,dr),{capture:!0})},xa=function(){document.addEventListener("copy",lt(this,tr)),document.addEventListener("cut",lt(this,lr)),document.addEventListener("paste",lt(this,hr))},ba=function(){document.removeEventListener("copy",lt(this,tr)),document.removeEventListener("cut",lt(this,lr)),document.removeEventListener("paste",lt(this,hr))},tn=function(Pt){Object.entries(Pt).some(([xr,wr])=>lt(this,Ht)[xr]!==wr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(lt(this,Ht),Pt)})},Rn=function(Pt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Pt})},Dl=function(){if(!lt(this,mt)){Qt(this,mt,!0);for(const Pt of lt(this,Ct).values())Pt.enable()}},Ol=function(){if(this.unselectAll(),lt(this,mt)){Qt(this,mt,!1);for(const Pt of lt(this,Ct).values())Pt.disable()}},$a=function(Pt){const Xt=lt(this,Ct).get(Pt.pageIndex);Xt?Xt.addOrRebuild(Pt):this.addEditor(Pt)},_n=function(){if(lt(this,bt).size===0)return!0;if(lt(this,bt).size===1)for(const Pt of lt(this,bt).values())return Pt.isEmpty();return!1},eo=function(Pt){lt(this,Tt).clear();for(const Xt of Pt)Xt.isEmpty()||(lt(this,Tt).add(Xt),Xt.select());Wt(this,Vt,tn).call(this,{hasSelectedEditor:!0})},Hr(Dr,"TRANSLATE_SMALL",1),Hr(Dr,"TRANSLATE_BIG",10);let et=Dr;e.AnnotationEditorUIManager=et},(s,e,a)=>{var wt,It,yt,Dt,Mt,St,gt,mt,xt,_t,At,Tt,gn,mn,to,_i,es,Tn,kn;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=ct,e.getColorValues=bt,e.getCurrentTransform=Ct,e.getCurrentTransformInverse=Bt,e.getFilenameFromUrl=rt,e.getPdfFilenameFromUrl=at,e.getRGB=pt,e.getXfaPageViewport=Et,e.isDataScheme=it,e.isPdfFile=st,e.isValidFetchUrl=ft,e.loadScript=ut,e.noContextMenu=ot,e.setLayerDimensions=jt;var o=a(7),d=a(1);const h="http://www.w3.org/2000/svg",Ft=class Ft{};Hr(Ft,"CSS",96),Hr(Ft,"PDF",72),Hr(Ft,"PDF_TO_CSS_UNITS",Ft.CSS/Ft.PDF);let g=Ft;e.PixelsPerInch=g;class b extends o.BaseFilterFactory{constructor({docId:Rt,ownerDocument:Nt=globalThis.document}={}){super();$t(this,Tt);$t(this,wt);$t(this,It);$t(this,yt);$t(this,Dt);$t(this,Mt);$t(this,St);$t(this,gt);$t(this,mt);$t(this,xt);$t(this,_t);$t(this,At,0);Qt(this,yt,Rt),Qt(this,Dt,Nt)}addFilter(Rt){if(!Rt)return"none";let Nt=lt(this,Tt,gn).get(Rt);if(Nt)return Nt;let Ht,qt,ar,vr;if(Rt.length===1){const Er=Rt[0],Ir=new Array(256);for(let kr=0;kr<256;kr++)Ir[kr]=Er[kr]/255;vr=Ht=qt=ar=Ir.join(",")}else{const[Er,Ir,kr]=Rt,Nr=new Array(256),Rr=new Array(256),Tr=new Array(256);for(let Mr=0;Mr<256;Mr++)Nr[Mr]=Er[Mr]/255,Rr[Mr]=Ir[Mr]/255,Tr[Mr]=kr[Mr]/255;Ht=Nr.join(","),qt=Rr.join(","),ar=Tr.join(","),vr=`${Ht}${qt}${ar}`}if(Nt=lt(this,Tt,gn).get(vr),Nt)return lt(this,Tt,gn).set(Rt,Nt),Nt;const pr=`g_${lt(this,yt)}_transfer_map_${rn(this,At)._++}`,Vt=`url(#${pr})`;lt(this,Tt,gn).set(Rt,Vt),lt(this,Tt,gn).set(vr,Vt);const br=Wt(this,Tt,_i).call(this,pr);return Wt(this,Tt,Tn).call(this,Ht,qt,ar,br),Vt}addHCMFilter(Rt,Nt){var Ir;const Ht=`${Rt}-${Nt}`;if(lt(this,St)===Ht)return lt(this,gt);if(Qt(this,St,Ht),Qt(this,gt,"none"),(Ir=lt(this,Mt))==null||Ir.remove(),!Rt||!Nt)return lt(this,gt);const qt=Wt(this,Tt,kn).call(this,Rt);Rt=d.Util.makeHexColor(...qt);const ar=Wt(this,Tt,kn).call(this,Nt);if(Nt=d.Util.makeHexColor(...ar),lt(this,Tt,mn).style.color="",Rt==="#000000"&&Nt==="#ffffff"||Rt===Nt)return lt(this,gt);const vr=new Array(256);for(let kr=0;kr<=255;kr++){const Nr=kr/255;vr[kr]=Nr<=.03928?Nr/12.92:((Nr+.055)/1.055)**2.4}const pr=vr.join(","),Vt=`g_${lt(this,yt)}_hcm_filter`,br=Qt(this,mt,Wt(this,Tt,_i).call(this,Vt));Wt(this,Tt,Tn).call(this,pr,pr,pr,br),Wt(this,Tt,to).call(this,br);const Er=(kr,Nr)=>{const Rr=qt[kr]/255,Tr=ar[kr]/255,Mr=new Array(Nr+1);for(let Ur=0;Ur<=Nr;Ur++)Mr[Ur]=Rr+Ur/Nr*(Tr-Rr);return Mr.join(",")};return Wt(this,Tt,Tn).call(this,Er(0,5),Er(1,5),Er(2,5),br),Qt(this,gt,`url(#${Vt})`),lt(this,gt)}addHighlightHCMFilter(Rt,Nt,Ht,qt){var Tr;const ar=`${Rt}-${Nt}-${Ht}-${qt}`;if(lt(this,xt)===ar)return lt(this,_t);if(Qt(this,xt,ar),Qt(this,_t,"none"),(Tr=lt(this,mt))==null||Tr.remove(),!Rt||!Nt)return lt(this,_t);const[vr,pr]=[Rt,Nt].map(Wt(this,Tt,kn).bind(this));let Vt=Math.round(.2126*vr[0]+.7152*vr[1]+.0722*vr[2]),br=Math.round(.2126*pr[0]+.7152*pr[1]+.0722*pr[2]),[Er,Ir]=[Ht,qt].map(Wt(this,Tt,kn).bind(this));br<Vt&&([Vt,br,Er,Ir]=[br,Vt,Ir,Er]),lt(this,Tt,mn).style.color="";const kr=(Mr,Ur,Cr)=>{const or=new Array(256),Yt=(br-Vt)/Cr,fr=Mr/255,Dr=(Ur-Mr)/(255*Cr);let Or=0;for(let Pt=0;Pt<=Cr;Pt++){const Xt=Math.round(Vt+Pt*Yt),xr=fr+Pt*Dr;for(let wr=Or;wr<=Xt;wr++)or[wr]=xr;Or=Xt+1}for(let Pt=Or;Pt<256;Pt++)or[Pt]=or[Or-1];return or.join(",")},Nr=`g_${lt(this,yt)}_hcm_highlight_filter`,Rr=Qt(this,mt,Wt(this,Tt,_i).call(this,Nr));return Wt(this,Tt,to).call(this,Rr),Wt(this,Tt,Tn).call(this,kr(Er[0],Ir[0],5),kr(Er[1],Ir[1],5),kr(Er[2],Ir[2],5),Rr),Qt(this,_t,`url(#${Nr})`),lt(this,_t)}destroy(Rt=!1){Rt&&(lt(this,gt)||lt(this,_t))||(lt(this,It)&&(lt(this,It).parentNode.parentNode.remove(),Qt(this,It,null)),lt(this,wt)&&(lt(this,wt).clear(),Qt(this,wt,null)),Qt(this,At,0))}}wt=new WeakMap,It=new WeakMap,yt=new WeakMap,Dt=new WeakMap,Mt=new WeakMap,St=new WeakMap,gt=new WeakMap,mt=new WeakMap,xt=new WeakMap,_t=new WeakMap,At=new WeakMap,Tt=new WeakSet,gn=function(){return lt(this,wt)||Qt(this,wt,new Map)},mn=function(){if(!lt(this,It)){const Rt=lt(this,Dt).createElement("div"),{style:Nt}=Rt;Nt.visibility="hidden",Nt.contain="strict",Nt.width=Nt.height=0,Nt.position="absolute",Nt.top=Nt.left=0,Nt.zIndex=-1;const Ht=lt(this,Dt).createElementNS(h,"svg");Ht.setAttribute("width",0),Ht.setAttribute("height",0),Qt(this,It,lt(this,Dt).createElementNS(h,"defs")),Rt.append(Ht),Ht.append(lt(this,It)),lt(this,Dt).body.append(Rt)}return lt(this,It)},to=function(Rt){const Nt=lt(this,Dt).createElementNS(h,"feColorMatrix");Nt.setAttribute("type","matrix"),Nt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Rt.append(Nt)},_i=function(Rt){const Nt=lt(this,Dt).createElementNS(h,"filter");return Nt.setAttribute("color-interpolation-filters","sRGB"),Nt.setAttribute("id",Rt),lt(this,Tt,mn).append(Nt),Nt},es=function(Rt,Nt,Ht){const qt=lt(this,Dt).createElementNS(h,Nt);qt.setAttribute("type","discrete"),qt.setAttribute("tableValues",Ht),Rt.append(qt)},Tn=function(Rt,Nt,Ht,qt){const ar=lt(this,Dt).createElementNS(h,"feComponentTransfer");qt.append(ar),Wt(this,Tt,es).call(this,ar,"feFuncR",Rt),Wt(this,Tt,es).call(this,ar,"feFuncG",Nt),Wt(this,Tt,es).call(this,ar,"feFuncB",Ht)},kn=function(Rt){return lt(this,Tt,mn).style.color=Rt,pt(getComputedStyle(lt(this,Tt,mn)).getPropertyValue("color"))},e.DOMFilterFactory=b;class j extends o.BaseCanvasFactory{constructor({ownerDocument:Jt=globalThis.document}={}){super(),this._document=Jt}_createCanvas(Jt,Rt){const Nt=this._document.createElement("canvas");return Nt.width=Jt,Nt.height=Rt,Nt}}e.DOMCanvasFactory=j;async function _(Gt,Jt=!1){if(ft(Gt,document.baseURI)){const Rt=await fetch(Gt);if(!Rt.ok)throw new Error(Rt.statusText);return Jt?new Uint8Array(await Rt.arrayBuffer()):(0,d.stringToBytes)(await Rt.text())}return new Promise((Rt,Nt)=>{const Ht=new XMLHttpRequest;Ht.open("GET",Gt,!0),Jt&&(Ht.responseType="arraybuffer"),Ht.onreadystatechange=()=>{if(Ht.readyState===XMLHttpRequest.DONE){if(Ht.status===200||Ht.status===0){let qt;if(Jt&&Ht.response?qt=new Uint8Array(Ht.response):!Jt&&Ht.responseText&&(qt=(0,d.stringToBytes)(Ht.responseText)),qt){Rt(qt);return}}Nt(new Error(Ht.statusText))}},Ht.send(null)})}class $ extends o.BaseCMapReaderFactory{_fetchData(Jt,Rt){return _(Jt,this.isCompressed).then(Nt=>({cMapData:Nt,compressionType:Rt}))}}e.DOMCMapReaderFactory=$;class _e extends o.BaseStandardFontDataFactory{_fetchData(Jt){return _(Jt,!0)}}e.DOMStandardFontDataFactory=_e;class et extends o.BaseSVGFactory{_createSVG(Jt){return document.createElementNS(h,Jt)}}e.DOMSVGFactory=et;class tt{constructor({viewBox:Jt,scale:Rt,rotation:Nt,offsetX:Ht=0,offsetY:qt=0,dontFlip:ar=!1}){this.viewBox=Jt,this.scale=Rt,this.rotation=Nt,this.offsetX=Ht,this.offsetY=qt;const vr=(Jt[2]+Jt[0])/2,pr=(Jt[3]+Jt[1])/2;let Vt,br,Er,Ir;switch(Nt%=360,Nt<0&&(Nt+=360),Nt){case 180:Vt=-1,br=0,Er=0,Ir=1;break;case 90:Vt=0,br=1,Er=1,Ir=0;break;case 270:Vt=0,br=-1,Er=-1,Ir=0;break;case 0:Vt=1,br=0,Er=0,Ir=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ar&&(Er=-Er,Ir=-Ir);let kr,Nr,Rr,Tr;Vt===0?(kr=Math.abs(pr-Jt[1])*Rt+Ht,Nr=Math.abs(vr-Jt[0])*Rt+qt,Rr=(Jt[3]-Jt[1])*Rt,Tr=(Jt[2]-Jt[0])*Rt):(kr=Math.abs(vr-Jt[0])*Rt+Ht,Nr=Math.abs(pr-Jt[1])*Rt+qt,Rr=(Jt[2]-Jt[0])*Rt,Tr=(Jt[3]-Jt[1])*Rt),this.transform=[Vt*Rt,br*Rt,Er*Rt,Ir*Rt,kr-Vt*Rt*vr-Er*Rt*pr,Nr-br*Rt*vr-Ir*Rt*pr],this.width=Rr,this.height=Tr}get rawDims(){const{viewBox:Jt}=this;return(0,d.shadow)(this,"rawDims",{pageWidth:Jt[2]-Jt[0],pageHeight:Jt[3]-Jt[1],pageX:Jt[0],pageY:Jt[1]})}clone({scale:Jt=this.scale,rotation:Rt=this.rotation,offsetX:Nt=this.offsetX,offsetY:Ht=this.offsetY,dontFlip:qt=!1}={}){return new tt({viewBox:this.viewBox.slice(),scale:Jt,rotation:Rt,offsetX:Nt,offsetY:Ht,dontFlip:qt})}convertToViewportPoint(Jt,Rt){return d.Util.applyTransform([Jt,Rt],this.transform)}convertToViewportRectangle(Jt){const Rt=d.Util.applyTransform([Jt[0],Jt[1]],this.transform),Nt=d.Util.applyTransform([Jt[2],Jt[3]],this.transform);return[Rt[0],Rt[1],Nt[0],Nt[1]]}convertToPdfPoint(Jt,Rt){return d.Util.applyInverseTransform([Jt,Rt],this.transform)}}e.PageViewport=tt;class nt extends d.BaseException{constructor(Jt,Rt=0){super(Jt,"RenderingCancelledException"),this.extraDelay=Rt}}e.RenderingCancelledException=nt;function it(Gt){const Jt=Gt.length;let Rt=0;for(;Rt<Jt&&Gt[Rt].trim()==="";)Rt++;return Gt.substring(Rt,Rt+5).toLowerCase()==="data:"}function st(Gt){return typeof Gt=="string"&&/\.pdf$/i.test(Gt)}function rt(Gt,Jt=!1){return Jt||([Gt]=Gt.split(/[#?]/,1)),Gt.substring(Gt.lastIndexOf("/")+1)}function at(Gt,Jt="document.pdf"){if(typeof Gt!="string")return Jt;if(it(Gt))return(0,d.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Jt;const Rt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Nt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ht=Rt.exec(Gt);let qt=Nt.exec(Ht[1])||Nt.exec(Ht[2])||Nt.exec(Ht[3]);if(qt&&(qt=qt[0],qt.includes("%")))try{qt=Nt.exec(decodeURIComponent(qt))[0]}catch{}return qt||Jt}class ht{constructor(){Hr(this,"started",Object.create(null));Hr(this,"times",[])}time(Jt){Jt in this.started&&(0,d.warn)(`Timer is already running for ${Jt}`),this.started[Jt]=Date.now()}timeEnd(Jt){Jt in this.started||(0,d.warn)(`Timer has not been started for ${Jt}`),this.times.push({name:Jt,start:this.started[Jt],end:Date.now()}),delete this.started[Jt]}toString(){const Jt=[];let Rt=0;for(const{name:Nt}of this.times)Rt=Math.max(Nt.length,Rt);for(const{name:Nt,start:Ht,end:qt}of this.times)Jt.push(`${Nt.padEnd(Rt)} ${qt-Ht}ms
`);return Jt.join("")}}e.StatTimer=ht;function ft(Gt,Jt){try{const{protocol:Rt}=Jt?new URL(Gt,Jt):new URL(Gt);return Rt==="http:"||Rt==="https:"}catch{return!1}}function ot(Gt){Gt.preventDefault()}function ut(Gt,Jt=!1){return new Promise((Rt,Nt)=>{const Ht=document.createElement("script");Ht.src=Gt,Ht.onload=function(qt){Jt&&Ht.remove(),Rt(qt)},Ht.onerror=function(){Nt(new Error(`Cannot load script at: ${Ht.src}`))},(document.head||document.documentElement).append(Ht)})}function ct(Gt){console.log("Deprecated API usage: "+Gt)}let dt;class vt{static toDateObject(Jt){if(!Jt||typeof Jt!="string")return null;dt||(dt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Rt=dt.exec(Jt);if(!Rt)return null;const Nt=parseInt(Rt[1],10);let Ht=parseInt(Rt[2],10);Ht=Ht>=1&&Ht<=12?Ht-1:0;let qt=parseInt(Rt[3],10);qt=qt>=1&&qt<=31?qt:1;let ar=parseInt(Rt[4],10);ar=ar>=0&&ar<=23?ar:0;let vr=parseInt(Rt[5],10);vr=vr>=0&&vr<=59?vr:0;let pr=parseInt(Rt[6],10);pr=pr>=0&&pr<=59?pr:0;const Vt=Rt[7]||"Z";let br=parseInt(Rt[8],10);br=br>=0&&br<=23?br:0;let Er=parseInt(Rt[9],10)||0;return Er=Er>=0&&Er<=59?Er:0,Vt==="-"?(ar+=br,vr+=Er):Vt==="+"&&(ar-=br,vr-=Er),new Date(Date.UTC(Nt,Ht,qt,ar,vr,pr))}}e.PDFDateString=vt;function Et(Gt,{scale:Jt=1,rotation:Rt=0}){const{width:Nt,height:Ht}=Gt.attributes.style,qt=[0,0,parseInt(Nt),parseInt(Ht)];return new tt({viewBox:qt,scale:Jt,rotation:Rt})}function pt(Gt){if(Gt.startsWith("#")){const Jt=parseInt(Gt.slice(1),16);return[(Jt&16711680)>>16,(Jt&65280)>>8,Jt&255]}return Gt.startsWith("rgb(")?Gt.slice(4,-1).split(",").map(Jt=>parseInt(Jt)):Gt.startsWith("rgba(")?Gt.slice(5,-1).split(",").map(Jt=>parseInt(Jt)).slice(0,3):((0,d.warn)(`Not a valid color format: "${Gt}"`),[0,0,0])}function bt(Gt){const Jt=document.createElement("span");Jt.style.visibility="hidden",document.body.append(Jt);for(const Rt of Gt.keys()){Jt.style.color=Rt;const Nt=window.getComputedStyle(Jt).color;Gt.set(Rt,pt(Nt))}Jt.remove()}function Ct(Gt){const{a:Jt,b:Rt,c:Nt,d:Ht,e:qt,f:ar}=Gt.getTransform();return[Jt,Rt,Nt,Ht,qt,ar]}function Bt(Gt){const{a:Jt,b:Rt,c:Nt,d:Ht,e:qt,f:ar}=Gt.getTransform().invertSelf();return[Jt,Rt,Nt,Ht,qt,ar]}function jt(Gt,Jt,Rt=!1,Nt=!0){if(Jt instanceof tt){const{pageWidth:Ht,pageHeight:qt}=Jt.rawDims,{style:ar}=Gt,vr=d.FeatureTest.isCSSRoundSupported,pr=`var(--scale-factor) * ${Ht}px`,Vt=`var(--scale-factor) * ${qt}px`,br=vr?`round(${pr}, 1px)`:`calc(${pr})`,Er=vr?`round(${Vt}, 1px)`:`calc(${Vt})`;!Rt||Jt.rotation%180===0?(ar.width=br,ar.height=Er):(ar.width=Er,ar.height=br)}Nt&&Gt.setAttribute("data-main-rotation",Jt.rotation)}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var o=a(1);class d{constructor(){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,_e){return"none"}addHighlightHCMFilter($,_e,et,tt){return"none"}destroy($=!1){}}e.BaseFilterFactory=d;class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create($,_e){if($<=0||_e<=0)throw new Error("Invalid canvas size");const et=this._createCanvas($,_e);return{canvas:et,context:et.getContext("2d")}}reset($,_e,et){if(!$.canvas)throw new Error("Canvas is not specified");if(_e<=0||et<=0)throw new Error("Invalid canvas size");$.canvas.width=_e,$.canvas.height=et}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,_e){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=h;class g{constructor({baseUrl:$=null,isCompressed:_e=!0}){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=_e}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const _e=this.baseUrl+$+(this.isCompressed?".bcmap":""),et=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(_e,et).catch(tt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_e}`)})}_fetchData($,_e){(0,o.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=g;class b{constructor({baseUrl:$=null}){this.constructor===b&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const _e=`${this.baseUrl}${$}`;return this._fetchData(_e).catch(et=>{throw new Error(`Unable to load font data at: ${_e}`)})}_fetchData($){(0,o.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=b;class j{constructor(){this.constructor===j&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create($,_e,et=!1){if($<=0||_e<=0)throw new Error("Invalid SVG dimensions");const tt=this._createSVG("svg:svg");return tt.setAttribute("version","1.1"),et||(tt.setAttribute("width",`${$}px`),tt.setAttribute("height",`${_e}px`)),tt.setAttribute("preserveAspectRatio","none"),tt.setAttribute("viewBox",`0 0 ${$} ${_e}`),tt}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){(0,o.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=j},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var o=a(1);const d=3285377520,h=4294901760,g=65535;class b{constructor(_){this.h1=_?_&4294967295:d,this.h2=_?_&4294967295:d}update(_){let $,_e;if(typeof _=="string"){$=new Uint8Array(_.length*2),_e=0;for(let ct=0,dt=_.length;ct<dt;ct++){const vt=_.charCodeAt(ct);vt<=255?$[_e++]=vt:($[_e++]=vt>>>8,$[_e++]=vt&255)}}else if((0,o.isArrayBuffer)(_))$=_.slice(),_e=$.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const et=_e>>2,tt=_e-et*4,nt=new Uint32Array($.buffer,0,et);let it=0,st=0,rt=this.h1,at=this.h2;const ht=3432918353,ft=461845907,ot=ht&g,ut=ft&g;for(let ct=0;ct<et;ct++)ct&1?(it=nt[ct],it=it*ht&h|it*ot&g,it=it<<15|it>>>17,it=it*ft&h|it*ut&g,rt^=it,rt=rt<<13|rt>>>19,rt=rt*5+3864292196):(st=nt[ct],st=st*ht&h|st*ot&g,st=st<<15|st>>>17,st=st*ft&h|st*ut&g,at^=st,at=at<<13|at>>>19,at=at*5+3864292196);switch(it=0,tt){case 3:it^=$[et*4+2]<<16;case 2:it^=$[et*4+1]<<8;case 1:it^=$[et*4],it=it*ht&h|it*ot&g,it=it<<15|it>>>17,it=it*ft&h|it*ut&g,et&1?rt^=it:at^=it}this.h1=rt,this.h2=at}hexdigest(){let _=this.h1,$=this.h2;return _^=$>>>1,_=_*3981806797&h|_*36045&g,$=$*4283543511&h|(($<<16|_>>>16)*2950163797&h)>>>16,_^=$>>>1,_=_*444984403&h|_*60499&g,$=$*3301882366&h|(($<<16|_>>>16)*3120437893&h)>>>16,_^=$>>>1,(_>>>0).toString(16).padStart(8,"0")+($>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=b},(s,e,a)=>{var g;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var o=a(1);class d{constructor({ownerDocument:j=globalThis.document,styleElement:_=null}){$t(this,g,new Set);this._document=j,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(j){this.nativeFontFaces.add(j),this._document.fonts.add(j)}removeNativeFontFace(j){this.nativeFontFaces.delete(j),this._document.fonts.delete(j)}insertRule(j){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _=this.styleElement.sheet;_.insertRule(j,_.cssRules.length)}clear(){for(const j of this.nativeFontFaces)this._document.fonts.delete(j);this.nativeFontFaces.clear(),lt(this,g).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(j){if(!(!j||lt(this,g).has(j.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:_,src:$,style:_e}=j,et=new FontFace(_,$,_e);this.addNativeFontFace(et);try{await et.load(),lt(this,g).add(_)}catch{(0,o.warn)(`Cannot load system font: ${j.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(et)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(j){if(j.attached||j.missingFile&&!j.systemFontInfo)return;if(j.attached=!0,j.systemFontInfo){await this.loadSystemFont(j.systemFontInfo);return}if(this.isFontLoadingAPISupported){const $=j.createNativeFontFace();if($){this.addNativeFontFace($);try{await $.loaded}catch(_e){throw(0,o.warn)(`Failed to load font '${$.family}': '${_e}'.`),j.disableFontFace=!0,_e}}return}const _=j.createFontFaceRule();if(_){if(this.insertRule(_),this.isSyncFontLoadingSupported)return;await new Promise($=>{const _e=this._queueLoadingCallback($);this._prepareFontLoadEvent(j,_e)})}}get isFontLoadingAPISupported(){var _;const j=!!((_=this._document)!=null&&_.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",j)}get isSyncFontLoadingSupported(){let j=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(j=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",j)}_queueLoadingCallback(j){function _(){for((0,o.assert)(!_e.done,"completeRequest() cannot be called twice."),_e.done=!0;$.length>0&&$[0].done;){const et=$.shift();setTimeout(et.callback,0)}}const{loadingRequests:$}=this,_e={done:!1,complete:_,callback:j};return $.push(_e),_e}get _loadTestFont(){const j=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",j)}_prepareFontLoadEvent(j,_){function $(pt,bt){return pt.charCodeAt(bt)<<24|pt.charCodeAt(bt+1)<<16|pt.charCodeAt(bt+2)<<8|pt.charCodeAt(bt+3)&255}function _e(pt,bt,Ct,Bt){const jt=pt.substring(0,bt),Ft=pt.substring(bt+Ct);return jt+Bt+Ft}let et,tt;const nt=this._document.createElement("canvas");nt.width=1,nt.height=1;const it=nt.getContext("2d");let st=0;function rt(pt,bt){if(++st>30){(0,o.warn)("Load test font never loaded."),bt();return}if(it.font="30px "+pt,it.fillText(".",0,20),it.getImageData(0,0,1,1).data[3]>0){bt();return}setTimeout(rt.bind(null,pt,bt))}const at=`lt${Date.now()}${this.loadTestFontId++}`;let ht=this._loadTestFont;ht=_e(ht,976,at.length,at);const ot=16,ut=1482184792;let ct=$(ht,ot);for(et=0,tt=at.length-3;et<tt;et+=4)ct=ct-ut+$(at,et)|0;et<at.length&&(ct=ct-ut+$(at+"XXX",et)|0),ht=_e(ht,ot,4,(0,o.string32)(ct));const dt=`url(data:font/opentype;base64,${btoa(ht)});`,vt=`@font-face {font-family:"${at}";src:${dt}}`;this.insertRule(vt);const Et=this._document.createElement("div");Et.style.visibility="hidden",Et.style.width=Et.style.height="10px",Et.style.position="absolute",Et.style.top=Et.style.left="0px";for(const pt of[j.loadedName,at]){const bt=this._document.createElement("span");bt.textContent="Hi",bt.style.fontFamily=pt,Et.append(bt)}this._document.body.append(Et),rt(at,()=>{Et.remove(),_.complete()})}}g=new WeakMap,e.FontLoader=d;class h{constructor(j,{isEvalSupported:_=!0,disableFontFace:$=!1,ignoreErrors:_e=!1,inspectFont:et=null}){this.compiledGlyphs=Object.create(null);for(const tt in j)this[tt]=j[tt];this.isEvalSupported=_!==!1,this.disableFontFace=$===!0,this.ignoreErrors=_e===!0,this._inspectFont=et}createNativeFontFace(){var _;if(!this.data||this.disableFontFace)return null;let j;if(!this.cssFontInfo)j=new FontFace(this.loadedName,this.data,{});else{const $={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&($.style=`oblique ${this.cssFontInfo.italicAngle}deg`),j=new FontFace(this.cssFontInfo.fontFamily,this.data,$)}return(_=this._inspectFont)==null||_.call(this,this),j}createFontFaceRule(){var _e;if(!this.data||this.disableFontFace)return null;const j=(0,o.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(j)});`;let $;if(!this.cssFontInfo)$=`@font-face {font-family:"${this.loadedName}";src:${_}}`;else{let et=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(et+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),$=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${et}src:${_}}`}return(_e=this._inspectFont)==null||_e.call(this,this,_),$}getPathGenerator(j,_){if(this.compiledGlyphs[_]!==void 0)return this.compiledGlyphs[_];let $;try{$=j.get(this.loadedName+"_path_"+_)}catch(_e){if(!this.ignoreErrors)throw _e;return(0,o.warn)(`getPathGenerator - ignoring character: "${_e}".`),this.compiledGlyphs[_]=function(et,tt){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const _e=[];for(const et of $){const tt=et.args!==void 0?et.args.join(","):"";_e.push("c.",et.cmd,"(",tt,`);
`)}return this.compiledGlyphs[_]=new Function("c","size",_e.join(""))}return this.compiledGlyphs[_]=function(_e,et){for(const tt of $)tt.cmd==="scale"&&(tt.args=[et,-et]),_e[tt.cmd].apply(_e,tt.args)}}}e.FontFaceObject=h},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var o=a(7);a(1);const d=function(_){return new Promise(($,_e)=>{require$$5.readFile(_,(tt,nt)=>{if(tt||!nt){_e(new Error(tt));return}$(new Uint8Array(nt))})})};class h extends o.BaseFilterFactory{}e.NodeFilterFactory=h;class g extends o.BaseCanvasFactory{_createCanvas($,_e){return require$$5.createCanvas($,_e)}}e.NodeCanvasFactory=g;class b extends o.BaseCMapReaderFactory{_fetchData($,_e){return d($).then(et=>({cMapData:et,compressionType:_e}))}}e.NodeCMapReaderFactory=b;class j extends o.BaseStandardFontDataFactory{_fetchData($){return d($)}}e.NodeStandardFontDataFactory=j},(s,e,a)=>{var It,ro,no;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var o=a(1),d=a(6),h=a(12),g=a(13);const b=16,j=100,_=4096,$=15,_e=10,et=1e3,tt=16;function nt(St,gt){if(St._removeMirroring)throw new Error("Context is already forwarding operations.");St.__originalSave=St.save,St.__originalRestore=St.restore,St.__originalRotate=St.rotate,St.__originalScale=St.scale,St.__originalTranslate=St.translate,St.__originalTransform=St.transform,St.__originalSetTransform=St.setTransform,St.__originalResetTransform=St.resetTransform,St.__originalClip=St.clip,St.__originalMoveTo=St.moveTo,St.__originalLineTo=St.lineTo,St.__originalBezierCurveTo=St.bezierCurveTo,St.__originalRect=St.rect,St.__originalClosePath=St.closePath,St.__originalBeginPath=St.beginPath,St._removeMirroring=()=>{St.save=St.__originalSave,St.restore=St.__originalRestore,St.rotate=St.__originalRotate,St.scale=St.__originalScale,St.translate=St.__originalTranslate,St.transform=St.__originalTransform,St.setTransform=St.__originalSetTransform,St.resetTransform=St.__originalResetTransform,St.clip=St.__originalClip,St.moveTo=St.__originalMoveTo,St.lineTo=St.__originalLineTo,St.bezierCurveTo=St.__originalBezierCurveTo,St.rect=St.__originalRect,St.closePath=St.__originalClosePath,St.beginPath=St.__originalBeginPath,delete St._removeMirroring},St.save=function(){gt.save(),this.__originalSave()},St.restore=function(){gt.restore(),this.__originalRestore()},St.translate=function(xt,_t){gt.translate(xt,_t),this.__originalTranslate(xt,_t)},St.scale=function(xt,_t){gt.scale(xt,_t),this.__originalScale(xt,_t)},St.transform=function(xt,_t,At,Tt,Lt,Ut){gt.transform(xt,_t,At,Tt,Lt,Ut),this.__originalTransform(xt,_t,At,Tt,Lt,Ut)},St.setTransform=function(xt,_t,At,Tt,Lt,Ut){gt.setTransform(xt,_t,At,Tt,Lt,Ut),this.__originalSetTransform(xt,_t,At,Tt,Lt,Ut)},St.resetTransform=function(){gt.resetTransform(),this.__originalResetTransform()},St.rotate=function(xt){gt.rotate(xt),this.__originalRotate(xt)},St.clip=function(xt){gt.clip(xt),this.__originalClip(xt)},St.moveTo=function(mt,xt){gt.moveTo(mt,xt),this.__originalMoveTo(mt,xt)},St.lineTo=function(mt,xt){gt.lineTo(mt,xt),this.__originalLineTo(mt,xt)},St.bezierCurveTo=function(mt,xt,_t,At,Tt,Lt){gt.bezierCurveTo(mt,xt,_t,At,Tt,Lt),this.__originalBezierCurveTo(mt,xt,_t,At,Tt,Lt)},St.rect=function(mt,xt,_t,At){gt.rect(mt,xt,_t,At),this.__originalRect(mt,xt,_t,At)},St.closePath=function(){gt.closePath(),this.__originalClosePath()},St.beginPath=function(){gt.beginPath(),this.__originalBeginPath()}}class it{constructor(gt){this.canvasFactory=gt,this.cache=Object.create(null)}getCanvas(gt,mt,xt){let _t;return this.cache[gt]!==void 0?(_t=this.cache[gt],this.canvasFactory.reset(_t,mt,xt)):(_t=this.canvasFactory.create(mt,xt),this.cache[gt]=_t),_t}delete(gt){delete this.cache[gt]}clear(){for(const gt in this.cache){const mt=this.cache[gt];this.canvasFactory.destroy(mt),delete this.cache[gt]}}}function st(St,gt,mt,xt,_t,At,Tt,Lt,Ut,Zt){const[tr,lr,hr,dr,Gt,Jt]=(0,d.getCurrentTransform)(St);if(lr===0&&hr===0){const Ht=Tt*tr+Gt,qt=Math.round(Ht),ar=Lt*dr+Jt,vr=Math.round(ar),pr=(Tt+Ut)*tr+Gt,Vt=Math.abs(Math.round(pr)-qt)||1,br=(Lt+Zt)*dr+Jt,Er=Math.abs(Math.round(br)-vr)||1;return St.setTransform(Math.sign(tr),0,0,Math.sign(dr),qt,vr),St.drawImage(gt,mt,xt,_t,At,0,0,Vt,Er),St.setTransform(tr,lr,hr,dr,Gt,Jt),[Vt,Er]}if(tr===0&&dr===0){const Ht=Lt*hr+Gt,qt=Math.round(Ht),ar=Tt*lr+Jt,vr=Math.round(ar),pr=(Lt+Zt)*hr+Gt,Vt=Math.abs(Math.round(pr)-qt)||1,br=(Tt+Ut)*lr+Jt,Er=Math.abs(Math.round(br)-vr)||1;return St.setTransform(0,Math.sign(lr),Math.sign(hr),0,qt,vr),St.drawImage(gt,mt,xt,_t,At,0,0,Er,Vt),St.setTransform(tr,lr,hr,dr,Gt,Jt),[Er,Vt]}St.drawImage(gt,mt,xt,_t,At,Tt,Lt,Ut,Zt);const Rt=Math.hypot(tr,lr),Nt=Math.hypot(hr,dr);return[Rt*Ut,Nt*Zt]}function rt(St){const{width:gt,height:mt}=St;if(gt>et||mt>et)return null;const xt=1e3,_t=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),At=gt+1;let Tt=new Uint8Array(At*(mt+1)),Lt,Ut,Zt;const tr=gt+7&-8;let lr=new Uint8Array(tr*mt),hr=0;for(const Nt of St.data){let Ht=128;for(;Ht>0;)lr[hr++]=Nt&Ht?0:255,Ht>>=1}let dr=0;for(hr=0,lr[hr]!==0&&(Tt[0]=1,++dr),Ut=1;Ut<gt;Ut++)lr[hr]!==lr[hr+1]&&(Tt[Ut]=lr[hr]?2:1,++dr),hr++;for(lr[hr]!==0&&(Tt[Ut]=2,++dr),Lt=1;Lt<mt;Lt++){hr=Lt*tr,Zt=Lt*At,lr[hr-tr]!==lr[hr]&&(Tt[Zt]=lr[hr]?1:8,++dr);let Nt=(lr[hr]?4:0)+(lr[hr-tr]?8:0);for(Ut=1;Ut<gt;Ut++)Nt=(Nt>>2)+(lr[hr+1]?4:0)+(lr[hr-tr+1]?8:0),_t[Nt]&&(Tt[Zt+Ut]=_t[Nt],++dr),hr++;if(lr[hr-tr]!==lr[hr]&&(Tt[Zt+Ut]=lr[hr]?2:4,++dr),dr>xt)return null}for(hr=tr*(mt-1),Zt=Lt*At,lr[hr]!==0&&(Tt[Zt]=8,++dr),Ut=1;Ut<gt;Ut++)lr[hr]!==lr[hr+1]&&(Tt[Zt+Ut]=lr[hr]?4:8,++dr),hr++;if(lr[hr]!==0&&(Tt[Zt+Ut]=4,++dr),dr>xt)return null;const Gt=new Int32Array([0,At,-1,0,-At,0,0,0,1]),Jt=new Path2D;for(Lt=0;dr&&Lt<=mt;Lt++){let Nt=Lt*At;const Ht=Nt+gt;for(;Nt<Ht&&!Tt[Nt];)Nt++;if(Nt===Ht)continue;Jt.moveTo(Nt%At,Lt);const qt=Nt;let ar=Tt[Nt];do{const vr=Gt[ar];do Nt+=vr;while(!Tt[Nt]);const pr=Tt[Nt];pr!==5&&pr!==10?(ar=pr,Tt[Nt]=0):(ar=pr&51*ar>>4,Tt[Nt]&=ar>>2|ar<<2),Jt.lineTo(Nt%At,Nt/At|0),Tt[Nt]||--dr}while(qt!==Nt);--Lt}return lr=null,Tt=null,function(Nt){Nt.save(),Nt.scale(1/gt,-1/mt),Nt.translate(0,-mt),Nt.fill(Jt),Nt.beginPath(),Nt.restore()}}class at{constructor(gt,mt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,gt,mt])}clone(){const gt=Object.create(this);return gt.clipBox=this.clipBox.slice(),gt}setCurrentPoint(gt,mt){this.x=gt,this.y=mt}updatePathMinMax(gt,mt,xt){[mt,xt]=o.Util.applyTransform([mt,xt],gt),this.minX=Math.min(this.minX,mt),this.minY=Math.min(this.minY,xt),this.maxX=Math.max(this.maxX,mt),this.maxY=Math.max(this.maxY,xt)}updateRectMinMax(gt,mt){const xt=o.Util.applyTransform(mt,gt),_t=o.Util.applyTransform(mt.slice(2),gt);this.minX=Math.min(this.minX,xt[0],_t[0]),this.minY=Math.min(this.minY,xt[1],_t[1]),this.maxX=Math.max(this.maxX,xt[0],_t[0]),this.maxY=Math.max(this.maxY,xt[1],_t[1])}updateScalingPathMinMax(gt,mt){o.Util.scaleMinMax(gt,mt),this.minX=Math.min(this.minX,mt[0]),this.maxX=Math.max(this.maxX,mt[1]),this.minY=Math.min(this.minY,mt[2]),this.maxY=Math.max(this.maxY,mt[3])}updateCurvePathMinMax(gt,mt,xt,_t,At,Tt,Lt,Ut,Zt,tr){const lr=o.Util.bezierBoundingBox(mt,xt,_t,At,Tt,Lt,Ut,Zt);if(tr){tr[0]=Math.min(tr[0],lr[0],lr[2]),tr[1]=Math.max(tr[1],lr[0],lr[2]),tr[2]=Math.min(tr[2],lr[1],lr[3]),tr[3]=Math.max(tr[3],lr[1],lr[3]);return}this.updateRectMinMax(gt,lr)}getPathBoundingBox(gt=h.PathType.FILL,mt=null){const xt=[this.minX,this.minY,this.maxX,this.maxY];if(gt===h.PathType.STROKE){mt||(0,o.unreachable)("Stroke bounding box must include transform.");const _t=o.Util.singularValueDecompose2dScale(mt),At=_t[0]*this.lineWidth/2,Tt=_t[1]*this.lineWidth/2;xt[0]-=At,xt[1]-=Tt,xt[2]+=At,xt[3]+=Tt}return xt}updateClipFromPath(){const gt=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(gt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(gt){this.clipBox=gt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(gt=h.PathType.FILL,mt=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(gt,mt))}}function ht(St,gt){if(typeof ImageData<"u"&&gt instanceof ImageData){St.putImageData(gt,0,0);return}const mt=gt.height,xt=gt.width,_t=mt%tt,At=(mt-_t)/tt,Tt=_t===0?At:At+1,Lt=St.createImageData(xt,tt);let Ut=0,Zt;const tr=gt.data,lr=Lt.data;let hr,dr,Gt,Jt;if(gt.kind===o.ImageKind.GRAYSCALE_1BPP){const Rt=tr.byteLength,Nt=new Uint32Array(lr.buffer,0,lr.byteLength>>2),Ht=Nt.length,qt=xt+7>>3,ar=4294967295,vr=o.FeatureTest.isLittleEndian?4278190080:255;for(hr=0;hr<Tt;hr++){for(Gt=hr<At?tt:_t,Zt=0,dr=0;dr<Gt;dr++){const pr=Rt-Ut;let Vt=0;const br=pr>qt?xt:pr*8-7,Er=br&-8;let Ir=0,kr=0;for(;Vt<Er;Vt+=8)kr=tr[Ut++],Nt[Zt++]=kr&128?ar:vr,Nt[Zt++]=kr&64?ar:vr,Nt[Zt++]=kr&32?ar:vr,Nt[Zt++]=kr&16?ar:vr,Nt[Zt++]=kr&8?ar:vr,Nt[Zt++]=kr&4?ar:vr,Nt[Zt++]=kr&2?ar:vr,Nt[Zt++]=kr&1?ar:vr;for(;Vt<br;Vt++)Ir===0&&(kr=tr[Ut++],Ir=128),Nt[Zt++]=kr&Ir?ar:vr,Ir>>=1}for(;Zt<Ht;)Nt[Zt++]=0;St.putImageData(Lt,0,hr*tt)}}else if(gt.kind===o.ImageKind.RGBA_32BPP){for(dr=0,Jt=xt*tt*4,hr=0;hr<At;hr++)lr.set(tr.subarray(Ut,Ut+Jt)),Ut+=Jt,St.putImageData(Lt,0,dr),dr+=tt;hr<Tt&&(Jt=xt*_t*4,lr.set(tr.subarray(Ut,Ut+Jt)),St.putImageData(Lt,0,dr))}else if(gt.kind===o.ImageKind.RGB_24BPP)for(Gt=tt,Jt=xt*Gt,hr=0;hr<Tt;hr++){for(hr>=At&&(Gt=_t,Jt=xt*Gt),Zt=0,dr=Jt;dr--;)lr[Zt++]=tr[Ut++],lr[Zt++]=tr[Ut++],lr[Zt++]=tr[Ut++],lr[Zt++]=255;St.putImageData(Lt,0,hr*tt)}else throw new Error(`bad image kind: ${gt.kind}`)}function ft(St,gt){if(gt.bitmap){St.drawImage(gt.bitmap,0,0);return}const mt=gt.height,xt=gt.width,_t=mt%tt,At=(mt-_t)/tt,Tt=_t===0?At:At+1,Lt=St.createImageData(xt,tt);let Ut=0;const Zt=gt.data,tr=Lt.data;for(let lr=0;lr<Tt;lr++){const hr=lr<At?tt:_t;({srcPos:Ut}=(0,g.convertBlackAndWhiteToRGBA)({src:Zt,srcPos:Ut,dest:tr,width:xt,height:hr,nonBlackColor:0})),St.putImageData(Lt,0,lr*tt)}}function ot(St,gt){const mt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const xt of mt)St[xt]!==void 0&&(gt[xt]=St[xt]);St.setLineDash!==void 0&&(gt.setLineDash(St.getLineDash()),gt.lineDashOffset=St.lineDashOffset)}function ut(St){if(St.strokeStyle=St.fillStyle="#000000",St.fillRule="nonzero",St.globalAlpha=1,St.lineWidth=1,St.lineCap="butt",St.lineJoin="miter",St.miterLimit=10,St.globalCompositeOperation="source-over",St.font="10px sans-serif",St.setLineDash!==void 0&&(St.setLineDash([]),St.lineDashOffset=0),!o.isNodeJS){const{filter:gt}=St;gt!=="none"&&gt!==""&&(St.filter="none")}}function ct(St,gt,mt,xt){const _t=St.length;for(let At=3;At<_t;At+=4){const Tt=St[At];if(Tt===0)St[At-3]=gt,St[At-2]=mt,St[At-1]=xt;else if(Tt<255){const Lt=255-Tt;St[At-3]=St[At-3]*Tt+gt*Lt>>8,St[At-2]=St[At-2]*Tt+mt*Lt>>8,St[At-1]=St[At-1]*Tt+xt*Lt>>8}}}function dt(St,gt,mt){const xt=St.length,_t=1/255;for(let At=3;At<xt;At+=4){const Tt=mt?mt[St[At]]:St[At];gt[At]=gt[At]*Tt*_t|0}}function vt(St,gt,mt){const xt=St.length;for(let _t=3;_t<xt;_t+=4){const At=St[_t-3]*77+St[_t-2]*152+St[_t-1]*28;gt[_t]=mt?gt[_t]*mt[At>>8]>>8:gt[_t]*At>>16}}function Et(St,gt,mt,xt,_t,At,Tt,Lt,Ut,Zt,tr){const lr=!!At,hr=lr?At[0]:0,dr=lr?At[1]:0,Gt=lr?At[2]:0,Jt=_t==="Luminosity"?vt:dt,Nt=Math.min(xt,Math.ceil(1048576/mt));for(let Ht=0;Ht<xt;Ht+=Nt){const qt=Math.min(Nt,xt-Ht),ar=St.getImageData(Lt-Zt,Ht+(Ut-tr),mt,qt),vr=gt.getImageData(Lt,Ht+Ut,mt,qt);lr&&ct(ar.data,hr,dr,Gt),Jt(ar.data,vr.data,Tt),gt.putImageData(vr,Lt,Ht+Ut)}}function pt(St,gt,mt,xt){const _t=xt[0],At=xt[1],Tt=xt[2]-_t,Lt=xt[3]-At;Tt===0||Lt===0||(Et(gt.context,mt,Tt,Lt,gt.subtype,gt.backdrop,gt.transferMap,_t,At,gt.offsetX,gt.offsetY),St.save(),St.globalAlpha=1,St.globalCompositeOperation="source-over",St.setTransform(1,0,0,1,0,0),St.drawImage(mt.canvas,0,0),St.restore())}function bt(St,gt){const mt=o.Util.singularValueDecompose2dScale(St);mt[0]=Math.fround(mt[0]),mt[1]=Math.fround(mt[1]);const xt=Math.fround((globalThis.devicePixelRatio||1)*d.PixelsPerInch.PDF_TO_CSS_UNITS);return gt!==void 0?gt:mt[0]<=xt||mt[1]<=xt}const Ct=["butt","round","square"],Bt=["miter","round","bevel"],jt={},Ft={},Mt=class Mt{constructor(gt,mt,xt,_t,At,{optionalContentConfig:Tt,markedContentStack:Lt=null},Ut,Zt){$t(this,It);this.ctx=gt,this.current=new at(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=mt,this.objs=xt,this.canvasFactory=_t,this.filterFactory=At,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Lt||[],this.optionalContentConfig=Tt,this.cachedCanvases=new it(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Ut,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Zt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(gt,mt=null){return typeof gt=="string"?gt.startsWith("g_")?this.commonObjs.get(gt):this.objs.get(gt):mt}beginDrawing({transform:gt,viewport:mt,transparency:xt=!1,background:_t=null}){const At=this.ctx.canvas.width,Tt=this.ctx.canvas.height,Lt=this.ctx.fillStyle;if(this.ctx.fillStyle=_t||"#ffffff",this.ctx.fillRect(0,0,At,Tt),this.ctx.fillStyle=Lt,xt){const Ut=this.cachedCanvases.getCanvas("transparent",At,Tt);this.compositeCtx=this.ctx,this.transparentCanvas=Ut.canvas,this.ctx=Ut.context,this.ctx.save(),this.ctx.transform(...(0,d.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ut(this.ctx),gt&&(this.ctx.transform(...gt),this.outputScaleX=gt[0],this.outputScaleY=gt[0]),this.ctx.transform(...mt.transform),this.viewportScale=mt.scale,this.baseTransform=(0,d.getCurrentTransform)(this.ctx)}executeOperatorList(gt,mt,xt,_t){const At=gt.argsArray,Tt=gt.fnArray;let Lt=mt||0;const Ut=At.length;if(Ut===Lt)return Lt;const Zt=Ut-Lt>_e&&typeof xt=="function",tr=Zt?Date.now()+$:0;let lr=0;const hr=this.commonObjs,dr=this.objs;let Gt;for(;;){if(_t!==void 0&&Lt===_t.nextBreakPoint)return _t.breakIt(Lt,xt),Lt;if(Gt=Tt[Lt],Gt!==o.OPS.dependency)this[Gt].apply(this,At[Lt]);else for(const Jt of At[Lt]){const Rt=Jt.startsWith("g_")?hr:dr;if(!Rt.has(Jt))return Rt.get(Jt,xt),Lt}if(Lt++,Lt===Ut)return Lt;if(Zt&&++lr>_e){if(Date.now()>tr)return xt(),Lt;lr=0}}}endDrawing(){Wt(this,It,ro).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const gt of this._cachedBitmapsMap.values()){for(const mt of gt.values())typeof HTMLCanvasElement<"u"&&mt instanceof HTMLCanvasElement&&(mt.width=mt.height=0);gt.clear()}this._cachedBitmapsMap.clear(),Wt(this,It,no).call(this)}_scaleImage(gt,mt){const xt=gt.width,_t=gt.height;let At=Math.max(Math.hypot(mt[0],mt[1]),1),Tt=Math.max(Math.hypot(mt[2],mt[3]),1),Lt=xt,Ut=_t,Zt="prescale1",tr,lr;for(;At>2&&Lt>1||Tt>2&&Ut>1;){let hr=Lt,dr=Ut;At>2&&Lt>1&&(hr=Lt>=16384?Math.floor(Lt/2)-1||1:Math.ceil(Lt/2),At/=Lt/hr),Tt>2&&Ut>1&&(dr=Ut>=16384?Math.floor(Ut/2)-1||1:Math.ceil(Ut)/2,Tt/=Ut/dr),tr=this.cachedCanvases.getCanvas(Zt,hr,dr),lr=tr.context,lr.clearRect(0,0,hr,dr),lr.drawImage(gt,0,0,Lt,Ut,0,0,hr,dr),gt=tr.canvas,Lt=hr,Ut=dr,Zt=Zt==="prescale1"?"prescale2":"prescale1"}return{img:gt,paintWidth:Lt,paintHeight:Ut}}_createMaskCanvas(gt){const mt=this.ctx,{width:xt,height:_t}=gt,At=this.current.fillColor,Tt=this.current.patternFill,Lt=(0,d.getCurrentTransform)(mt);let Ut,Zt,tr,lr;if((gt.bitmap||gt.data)&&gt.count>1){const Vt=gt.bitmap||gt.data.buffer;Zt=JSON.stringify(Tt?Lt:[Lt.slice(0,4),At]),Ut=this._cachedBitmapsMap.get(Vt),Ut||(Ut=new Map,this._cachedBitmapsMap.set(Vt,Ut));const br=Ut.get(Zt);if(br&&!Tt){const Er=Math.round(Math.min(Lt[0],Lt[2])+Lt[4]),Ir=Math.round(Math.min(Lt[1],Lt[3])+Lt[5]);return{canvas:br,offsetX:Er,offsetY:Ir}}tr=br}tr||(lr=this.cachedCanvases.getCanvas("maskCanvas",xt,_t),ft(lr.context,gt));let hr=o.Util.transform(Lt,[1/xt,0,0,-1/_t,0,0]);hr=o.Util.transform(hr,[1,0,0,1,0,-_t]);const dr=o.Util.applyTransform([0,0],hr),Gt=o.Util.applyTransform([xt,_t],hr),Jt=o.Util.normalizeRect([dr[0],dr[1],Gt[0],Gt[1]]),Rt=Math.round(Jt[2]-Jt[0])||1,Nt=Math.round(Jt[3]-Jt[1])||1,Ht=this.cachedCanvases.getCanvas("fillCanvas",Rt,Nt),qt=Ht.context,ar=Math.min(dr[0],Gt[0]),vr=Math.min(dr[1],Gt[1]);qt.translate(-ar,-vr),qt.transform(...hr),tr||(tr=this._scaleImage(lr.canvas,(0,d.getCurrentTransformInverse)(qt)),tr=tr.img,Ut&&Tt&&Ut.set(Zt,tr)),qt.imageSmoothingEnabled=bt((0,d.getCurrentTransform)(qt),gt.interpolate),st(qt,tr,0,0,tr.width,tr.height,0,0,xt,_t),qt.globalCompositeOperation="source-in";const pr=o.Util.transform((0,d.getCurrentTransformInverse)(qt),[1,0,0,1,-ar,-vr]);return qt.fillStyle=Tt?At.getPattern(mt,this,pr,h.PathType.FILL):At,qt.fillRect(0,0,xt,_t),Ut&&!Tt&&(this.cachedCanvases.delete("fillCanvas"),Ut.set(Zt,Ht.canvas)),{canvas:Ht.canvas,offsetX:Math.round(ar),offsetY:Math.round(vr)}}setLineWidth(gt){gt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=gt,this.ctx.lineWidth=gt}setLineCap(gt){this.ctx.lineCap=Ct[gt]}setLineJoin(gt){this.ctx.lineJoin=Bt[gt]}setMiterLimit(gt){this.ctx.miterLimit=gt}setDash(gt,mt){const xt=this.ctx;xt.setLineDash!==void 0&&(xt.setLineDash(gt),xt.lineDashOffset=mt)}setRenderingIntent(gt){}setFlatness(gt){}setGState(gt){for(const[mt,xt]of gt)switch(mt){case"LW":this.setLineWidth(xt);break;case"LC":this.setLineCap(xt);break;case"LJ":this.setLineJoin(xt);break;case"ML":this.setMiterLimit(xt);break;case"D":this.setDash(xt[0],xt[1]);break;case"RI":this.setRenderingIntent(xt);break;case"FL":this.setFlatness(xt);break;case"Font":this.setFont(xt[0],xt[1]);break;case"CA":this.current.strokeAlpha=xt;break;case"ca":this.current.fillAlpha=xt,this.ctx.globalAlpha=xt;break;case"BM":this.ctx.globalCompositeOperation=xt;break;case"SMask":this.current.activeSMask=xt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(xt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const gt=this.inSMaskMode;this.current.activeSMask&&!gt?this.beginSMaskMode():!this.current.activeSMask&&gt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const gt=this.ctx.canvas.width,mt=this.ctx.canvas.height,xt="smaskGroupAt"+this.groupLevel,_t=this.cachedCanvases.getCanvas(xt,gt,mt);this.suspendedCtx=this.ctx,this.ctx=_t.context;const At=this.ctx;At.setTransform(...(0,d.getCurrentTransform)(this.suspendedCtx)),ot(this.suspendedCtx,At),nt(At,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ot(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(gt){if(!this.current.activeSMask)return;gt?(gt[0]=Math.floor(gt[0]),gt[1]=Math.floor(gt[1]),gt[2]=Math.ceil(gt[2]),gt[3]=Math.ceil(gt[3])):gt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const mt=this.current.activeSMask,xt=this.suspendedCtx;pt(xt,mt,this.ctx,gt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ot(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const gt=this.current;this.stateStack.push(gt),this.current=gt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ot(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(gt,mt,xt,_t,At,Tt){this.ctx.transform(gt,mt,xt,_t,At,Tt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(gt,mt,xt){const _t=this.ctx,At=this.current;let Tt=At.x,Lt=At.y,Ut,Zt;const tr=(0,d.getCurrentTransform)(_t),lr=tr[0]===0&&tr[3]===0||tr[1]===0&&tr[2]===0,hr=lr?xt.slice(0):null;for(let dr=0,Gt=0,Jt=gt.length;dr<Jt;dr++)switch(gt[dr]|0){case o.OPS.rectangle:Tt=mt[Gt++],Lt=mt[Gt++];const Rt=mt[Gt++],Nt=mt[Gt++],Ht=Tt+Rt,qt=Lt+Nt;_t.moveTo(Tt,Lt),Rt===0||Nt===0?_t.lineTo(Ht,qt):(_t.lineTo(Ht,Lt),_t.lineTo(Ht,qt),_t.lineTo(Tt,qt)),lr||At.updateRectMinMax(tr,[Tt,Lt,Ht,qt]),_t.closePath();break;case o.OPS.moveTo:Tt=mt[Gt++],Lt=mt[Gt++],_t.moveTo(Tt,Lt),lr||At.updatePathMinMax(tr,Tt,Lt);break;case o.OPS.lineTo:Tt=mt[Gt++],Lt=mt[Gt++],_t.lineTo(Tt,Lt),lr||At.updatePathMinMax(tr,Tt,Lt);break;case o.OPS.curveTo:Ut=Tt,Zt=Lt,Tt=mt[Gt+4],Lt=mt[Gt+5],_t.bezierCurveTo(mt[Gt],mt[Gt+1],mt[Gt+2],mt[Gt+3],Tt,Lt),At.updateCurvePathMinMax(tr,Ut,Zt,mt[Gt],mt[Gt+1],mt[Gt+2],mt[Gt+3],Tt,Lt,hr),Gt+=6;break;case o.OPS.curveTo2:Ut=Tt,Zt=Lt,_t.bezierCurveTo(Tt,Lt,mt[Gt],mt[Gt+1],mt[Gt+2],mt[Gt+3]),At.updateCurvePathMinMax(tr,Ut,Zt,Tt,Lt,mt[Gt],mt[Gt+1],mt[Gt+2],mt[Gt+3],hr),Tt=mt[Gt+2],Lt=mt[Gt+3],Gt+=4;break;case o.OPS.curveTo3:Ut=Tt,Zt=Lt,Tt=mt[Gt+2],Lt=mt[Gt+3],_t.bezierCurveTo(mt[Gt],mt[Gt+1],Tt,Lt,Tt,Lt),At.updateCurvePathMinMax(tr,Ut,Zt,mt[Gt],mt[Gt+1],Tt,Lt,Tt,Lt,hr),Gt+=4;break;case o.OPS.closePath:_t.closePath();break}lr&&At.updateScalingPathMinMax(tr,hr),At.setCurrentPoint(Tt,Lt)}closePath(){this.ctx.closePath()}stroke(gt=!0){const mt=this.ctx,xt=this.current.strokeColor;mt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof xt=="object"&&(xt!=null&&xt.getPattern)?(mt.save(),mt.strokeStyle=xt.getPattern(mt,this,(0,d.getCurrentTransformInverse)(mt),h.PathType.STROKE),this.rescaleAndStroke(!1),mt.restore()):this.rescaleAndStroke(!0)),gt&&this.consumePath(this.current.getClippedPathBoundingBox()),mt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(gt=!0){const mt=this.ctx,xt=this.current.fillColor,_t=this.current.patternFill;let At=!1;_t&&(mt.save(),mt.fillStyle=xt.getPattern(mt,this,(0,d.getCurrentTransformInverse)(mt),h.PathType.FILL),At=!0);const Tt=this.current.getClippedPathBoundingBox();this.contentVisible&&Tt!==null&&(this.pendingEOFill?(mt.fill("evenodd"),this.pendingEOFill=!1):mt.fill()),At&&mt.restore(),gt&&this.consumePath(Tt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=jt}eoClip(){this.pendingClip=Ft}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const gt=this.pendingTextPaths,mt=this.ctx;if(gt===void 0){mt.beginPath();return}mt.save(),mt.beginPath();for(const xt of gt)mt.setTransform(...xt.transform),mt.translate(xt.x,xt.y),xt.addToPath(mt,xt.fontSize);mt.restore(),mt.clip(),mt.beginPath(),delete this.pendingTextPaths}setCharSpacing(gt){this.current.charSpacing=gt}setWordSpacing(gt){this.current.wordSpacing=gt}setHScale(gt){this.current.textHScale=gt/100}setLeading(gt){this.current.leading=-gt}setFont(gt,mt){var tr;const xt=this.commonObjs.get(gt),_t=this.current;if(!xt)throw new Error(`Can't find font for ${gt}`);if(_t.fontMatrix=xt.fontMatrix||o.FONT_IDENTITY_MATRIX,(_t.fontMatrix[0]===0||_t.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+gt),mt<0?(mt=-mt,_t.fontDirection=-1):_t.fontDirection=1,this.current.font=xt,this.current.fontSize=mt,xt.isType3Font)return;const At=xt.loadedName||"sans-serif",Tt=((tr=xt.systemFontInfo)==null?void 0:tr.css)||`"${At}", ${xt.fallbackName}`;let Lt="normal";xt.black?Lt="900":xt.bold&&(Lt="bold");const Ut=xt.italic?"italic":"normal";let Zt=mt;mt<b?Zt=b:mt>j&&(Zt=j),this.current.fontSizeScale=mt/Zt,this.ctx.font=`${Ut} ${Lt} ${Zt}px ${Tt}`}setTextRenderingMode(gt){this.current.textRenderingMode=gt}setTextRise(gt){this.current.textRise=gt}moveText(gt,mt){this.current.x=this.current.lineX+=gt,this.current.y=this.current.lineY+=mt}setLeadingMoveText(gt,mt){this.setLeading(-mt),this.moveText(gt,mt)}setTextMatrix(gt,mt,xt,_t,At,Tt){this.current.textMatrix=[gt,mt,xt,_t,At,Tt],this.current.textMatrixScale=Math.hypot(gt,mt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(gt,mt,xt,_t){const At=this.ctx,Tt=this.current,Lt=Tt.font,Ut=Tt.textRenderingMode,Zt=Tt.fontSize/Tt.fontSizeScale,tr=Ut&o.TextRenderingMode.FILL_STROKE_MASK,lr=!!(Ut&o.TextRenderingMode.ADD_TO_PATH_FLAG),hr=Tt.patternFill&&!Lt.missingFile;let dr;(Lt.disableFontFace||lr||hr)&&(dr=Lt.getPathGenerator(this.commonObjs,gt)),Lt.disableFontFace||hr?(At.save(),At.translate(mt,xt),At.beginPath(),dr(At,Zt),_t&&At.setTransform(..._t),(tr===o.TextRenderingMode.FILL||tr===o.TextRenderingMode.FILL_STROKE)&&At.fill(),(tr===o.TextRenderingMode.STROKE||tr===o.TextRenderingMode.FILL_STROKE)&&At.stroke(),At.restore()):((tr===o.TextRenderingMode.FILL||tr===o.TextRenderingMode.FILL_STROKE)&&At.fillText(gt,mt,xt),(tr===o.TextRenderingMode.STROKE||tr===o.TextRenderingMode.FILL_STROKE)&&At.strokeText(gt,mt,xt)),lr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,d.getCurrentTransform)(At),x:mt,y:xt,fontSize:Zt,addToPath:dr})}get isFontSubpixelAAEnabled(){const{context:gt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);gt.scale(1.5,1),gt.fillText("I",0,10);const mt=gt.getImageData(0,0,10,10).data;let xt=!1;for(let _t=3;_t<mt.length;_t+=4)if(mt[_t]>0&&mt[_t]<255){xt=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",xt)}showText(gt){const mt=this.current,xt=mt.font;if(xt.isType3Font)return this.showType3Text(gt);const _t=mt.fontSize;if(_t===0)return;const At=this.ctx,Tt=mt.fontSizeScale,Lt=mt.charSpacing,Ut=mt.wordSpacing,Zt=mt.fontDirection,tr=mt.textHScale*Zt,lr=gt.length,hr=xt.vertical,dr=hr?1:-1,Gt=xt.defaultVMetrics,Jt=_t*mt.fontMatrix[0],Rt=mt.textRenderingMode===o.TextRenderingMode.FILL&&!xt.disableFontFace&&!mt.patternFill;At.save(),At.transform(...mt.textMatrix),At.translate(mt.x,mt.y+mt.textRise),Zt>0?At.scale(tr,-1):At.scale(tr,1);let Nt;if(mt.patternFill){At.save();const pr=mt.fillColor.getPattern(At,this,(0,d.getCurrentTransformInverse)(At),h.PathType.FILL);Nt=(0,d.getCurrentTransform)(At),At.restore(),At.fillStyle=pr}let Ht=mt.lineWidth;const qt=mt.textMatrixScale;if(qt===0||Ht===0){const pr=mt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(pr===o.TextRenderingMode.STROKE||pr===o.TextRenderingMode.FILL_STROKE)&&(Ht=this.getSinglePixelWidth())}else Ht/=qt;if(Tt!==1&&(At.scale(Tt,Tt),Ht/=Tt),At.lineWidth=Ht,xt.isInvalidPDFjsFont){const pr=[];let Vt=0;for(const br of gt)pr.push(br.unicode),Vt+=br.width;At.fillText(pr.join(""),0,0),mt.x+=Vt*Jt*tr,At.restore(),this.compose();return}let ar=0,vr;for(vr=0;vr<lr;++vr){const pr=gt[vr];if(typeof pr=="number"){ar+=dr*pr*_t/1e3;continue}let Vt=!1;const br=(pr.isSpace?Ut:0)+Lt,Er=pr.fontChar,Ir=pr.accent;let kr,Nr,Rr=pr.width;if(hr){const Mr=pr.vmetric||Gt,Ur=-(pr.vmetric?Mr[1]:Rr*.5)*Jt,Cr=Mr[2]*Jt;Rr=Mr?-Mr[0]:Rr,kr=Ur/Tt,Nr=(ar+Cr)/Tt}else kr=ar/Tt,Nr=0;if(xt.remeasure&&Rr>0){const Mr=At.measureText(Er).width*1e3/_t*Tt;if(Rr<Mr&&this.isFontSubpixelAAEnabled){const Ur=Rr/Mr;Vt=!0,At.save(),At.scale(Ur,1),kr/=Ur}else Rr!==Mr&&(kr+=(Rr-Mr)/2e3*_t/Tt)}if(this.contentVisible&&(pr.isInFont||xt.missingFile)){if(Rt&&!Ir)At.fillText(Er,kr,Nr);else if(this.paintChar(Er,kr,Nr,Nt),Ir){const Mr=kr+_t*Ir.offset.x/Tt,Ur=Nr-_t*Ir.offset.y/Tt;this.paintChar(Ir.fontChar,Mr,Ur,Nt)}}const Tr=hr?Rr*Jt-br*Zt:Rr*Jt+br*Zt;ar+=Tr,Vt&&At.restore()}hr?mt.y-=ar:mt.x+=ar*tr,At.restore(),this.compose()}showType3Text(gt){const mt=this.ctx,xt=this.current,_t=xt.font,At=xt.fontSize,Tt=xt.fontDirection,Lt=_t.vertical?1:-1,Ut=xt.charSpacing,Zt=xt.wordSpacing,tr=xt.textHScale*Tt,lr=xt.fontMatrix||o.FONT_IDENTITY_MATRIX,hr=gt.length,dr=xt.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Gt,Jt,Rt,Nt;if(!(dr||At===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,mt.save(),mt.transform(...xt.textMatrix),mt.translate(xt.x,xt.y),mt.scale(tr,Tt),Gt=0;Gt<hr;++Gt){if(Jt=gt[Gt],typeof Jt=="number"){Nt=Lt*Jt*At/1e3,this.ctx.translate(Nt,0),xt.x+=Nt*tr;continue}const Ht=(Jt.isSpace?Zt:0)+Ut,qt=_t.charProcOperatorList[Jt.operatorListId];if(!qt){(0,o.warn)(`Type3 character "${Jt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Jt,this.save(),mt.scale(At,At),mt.transform(...lr),this.executeOperatorList(qt),this.restore()),Rt=o.Util.applyTransform([Jt.width,0],lr)[0]*At+Ht,mt.translate(Rt,0),xt.x+=Rt*tr}mt.restore(),this.processingType3=null}}setCharWidth(gt,mt){}setCharWidthAndBounds(gt,mt,xt,_t,At,Tt){this.ctx.rect(xt,_t,At-xt,Tt-_t),this.ctx.clip(),this.endPath()}getColorN_Pattern(gt){let mt;if(gt[0]==="TilingPattern"){const xt=gt[1],_t=this.baseTransform||(0,d.getCurrentTransform)(this.ctx),At={createCanvasGraphics:Tt=>new Mt(Tt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};mt=new h.TilingPattern(gt,xt,this.ctx,At,_t)}else mt=this._getPattern(gt[1],gt[2]);return mt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(gt,mt,xt){const _t=o.Util.makeHexColor(gt,mt,xt);this.ctx.strokeStyle=_t,this.current.strokeColor=_t}setFillRGBColor(gt,mt,xt){const _t=o.Util.makeHexColor(gt,mt,xt);this.ctx.fillStyle=_t,this.current.fillColor=_t,this.current.patternFill=!1}_getPattern(gt,mt=null){let xt;return this.cachedPatterns.has(gt)?xt=this.cachedPatterns.get(gt):(xt=(0,h.getShadingPattern)(this.getObject(gt)),this.cachedPatterns.set(gt,xt)),mt&&(xt.matrix=mt),xt}shadingFill(gt){if(!this.contentVisible)return;const mt=this.ctx;this.save();const xt=this._getPattern(gt);mt.fillStyle=xt.getPattern(mt,this,(0,d.getCurrentTransformInverse)(mt),h.PathType.SHADING);const _t=(0,d.getCurrentTransformInverse)(mt);if(_t){const{width:At,height:Tt}=mt.canvas,[Lt,Ut,Zt,tr]=o.Util.getAxialAlignedBoundingBox([0,0,At,Tt],_t);this.ctx.fillRect(Lt,Ut,Zt-Lt,tr-Ut)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(gt,mt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(gt)&&gt.length===6&&this.transform(...gt),this.baseTransform=(0,d.getCurrentTransform)(this.ctx),mt)){const xt=mt[2]-mt[0],_t=mt[3]-mt[1];this.ctx.rect(mt[0],mt[1],xt,_t),this.current.updateRectMinMax((0,d.getCurrentTransform)(this.ctx),mt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(gt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const mt=this.ctx;gt.isolated||(0,o.info)("TODO: Support non-isolated groups."),gt.knockout&&(0,o.warn)("Knockout groups not supported.");const xt=(0,d.getCurrentTransform)(mt);if(gt.matrix&&mt.transform(...gt.matrix),!gt.bbox)throw new Error("Bounding box is required.");let _t=o.Util.getAxialAlignedBoundingBox(gt.bbox,(0,d.getCurrentTransform)(mt));const At=[0,0,mt.canvas.width,mt.canvas.height];_t=o.Util.intersect(_t,At)||[0,0,0,0];const Tt=Math.floor(_t[0]),Lt=Math.floor(_t[1]);let Ut=Math.max(Math.ceil(_t[2])-Tt,1),Zt=Math.max(Math.ceil(_t[3])-Lt,1),tr=1,lr=1;Ut>_&&(tr=Ut/_,Ut=_),Zt>_&&(lr=Zt/_,Zt=_),this.current.startNewPathAndClipBox([0,0,Ut,Zt]);let hr="groupAt"+this.groupLevel;gt.smask&&(hr+="_smask_"+this.smaskCounter++%2);const dr=this.cachedCanvases.getCanvas(hr,Ut,Zt),Gt=dr.context;Gt.scale(1/tr,1/lr),Gt.translate(-Tt,-Lt),Gt.transform(...xt),gt.smask?this.smaskStack.push({canvas:dr.canvas,context:Gt,offsetX:Tt,offsetY:Lt,scaleX:tr,scaleY:lr,subtype:gt.smask.subtype,backdrop:gt.smask.backdrop,transferMap:gt.smask.transferMap||null,startTransformInverse:null}):(mt.setTransform(1,0,0,1,0,0),mt.translate(Tt,Lt),mt.scale(tr,lr),mt.save()),ot(mt,Gt),this.ctx=Gt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(mt),this.groupLevel++}endGroup(gt){if(!this.contentVisible)return;this.groupLevel--;const mt=this.ctx,xt=this.groupStack.pop();if(this.ctx=xt,this.ctx.imageSmoothingEnabled=!1,gt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const _t=(0,d.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(..._t);const At=o.Util.getAxialAlignedBoundingBox([0,0,mt.canvas.width,mt.canvas.height],_t);this.ctx.drawImage(mt.canvas,0,0),this.ctx.restore(),this.compose(At)}}beginAnnotation(gt,mt,xt,_t,At){if(Wt(this,It,ro).call(this),ut(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(mt)&&mt.length===4){const Tt=mt[2]-mt[0],Lt=mt[3]-mt[1];if(At&&this.annotationCanvasMap){xt=xt.slice(),xt[4]-=mt[0],xt[5]-=mt[1],mt=mt.slice(),mt[0]=mt[1]=0,mt[2]=Tt,mt[3]=Lt;const[Ut,Zt]=o.Util.singularValueDecompose2dScale((0,d.getCurrentTransform)(this.ctx)),{viewportScale:tr}=this,lr=Math.ceil(Tt*this.outputScaleX*tr),hr=Math.ceil(Lt*this.outputScaleY*tr);this.annotationCanvas=this.canvasFactory.create(lr,hr);const{canvas:dr,context:Gt}=this.annotationCanvas;this.annotationCanvasMap.set(gt,dr),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Gt,this.ctx.save(),this.ctx.setTransform(Ut,0,0,-Zt,0,Lt*Zt),ut(this.ctx)}else ut(this.ctx),this.ctx.rect(mt[0],mt[1],Tt,Lt),this.ctx.clip(),this.endPath()}this.current=new at(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...xt),this.transform(..._t)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Wt(this,It,no).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(gt){if(!this.contentVisible)return;const mt=gt.count;gt=this.getObject(gt.data,gt),gt.count=mt;const xt=this.ctx,_t=this.processingType3;if(_t&&(_t.compiled===void 0&&(_t.compiled=rt(gt)),_t.compiled)){_t.compiled(xt);return}const At=this._createMaskCanvas(gt),Tt=At.canvas;xt.save(),xt.setTransform(1,0,0,1,0,0),xt.drawImage(Tt,At.offsetX,At.offsetY),xt.restore(),this.compose()}paintImageMaskXObjectRepeat(gt,mt,xt=0,_t=0,At,Tt){if(!this.contentVisible)return;gt=this.getObject(gt.data,gt);const Lt=this.ctx;Lt.save();const Ut=(0,d.getCurrentTransform)(Lt);Lt.transform(mt,xt,_t,At,0,0);const Zt=this._createMaskCanvas(gt);Lt.setTransform(1,0,0,1,Zt.offsetX-Ut[4],Zt.offsetY-Ut[5]);for(let tr=0,lr=Tt.length;tr<lr;tr+=2){const hr=o.Util.transform(Ut,[mt,xt,_t,At,Tt[tr],Tt[tr+1]]),[dr,Gt]=o.Util.applyTransform([0,0],hr);Lt.drawImage(Zt.canvas,dr,Gt)}Lt.restore(),this.compose()}paintImageMaskXObjectGroup(gt){if(!this.contentVisible)return;const mt=this.ctx,xt=this.current.fillColor,_t=this.current.patternFill;for(const At of gt){const{data:Tt,width:Lt,height:Ut,transform:Zt}=At,tr=this.cachedCanvases.getCanvas("maskCanvas",Lt,Ut),lr=tr.context;lr.save();const hr=this.getObject(Tt,At);ft(lr,hr),lr.globalCompositeOperation="source-in",lr.fillStyle=_t?xt.getPattern(lr,this,(0,d.getCurrentTransformInverse)(mt),h.PathType.FILL):xt,lr.fillRect(0,0,Lt,Ut),lr.restore(),mt.save(),mt.transform(...Zt),mt.scale(1,-1),st(mt,tr.canvas,0,0,Lt,Ut,0,-1,1,1),mt.restore()}this.compose()}paintImageXObject(gt){if(!this.contentVisible)return;const mt=this.getObject(gt);if(!mt){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(mt)}paintImageXObjectRepeat(gt,mt,xt,_t){if(!this.contentVisible)return;const At=this.getObject(gt);if(!At){(0,o.warn)("Dependent image isn't ready yet");return}const Tt=At.width,Lt=At.height,Ut=[];for(let Zt=0,tr=_t.length;Zt<tr;Zt+=2)Ut.push({transform:[mt,0,0,xt,_t[Zt],_t[Zt+1]],x:0,y:0,w:Tt,h:Lt});this.paintInlineImageXObjectGroup(At,Ut)}applyTransferMapsToCanvas(gt){return this.current.transferMaps!=="none"&&(gt.filter=this.current.transferMaps,gt.drawImage(gt.canvas,0,0),gt.filter="none"),gt.canvas}applyTransferMapsToBitmap(gt){if(this.current.transferMaps==="none")return gt.bitmap;const{bitmap:mt,width:xt,height:_t}=gt,At=this.cachedCanvases.getCanvas("inlineImage",xt,_t),Tt=At.context;return Tt.filter=this.current.transferMaps,Tt.drawImage(mt,0,0),Tt.filter="none",At.canvas}paintInlineImageXObject(gt){if(!this.contentVisible)return;const mt=gt.width,xt=gt.height,_t=this.ctx;if(this.save(),!o.isNodeJS){const{filter:Lt}=_t;Lt!=="none"&&Lt!==""&&(_t.filter="none")}_t.scale(1/mt,-1/xt);let At;if(gt.bitmap)At=this.applyTransferMapsToBitmap(gt);else if(typeof HTMLElement=="function"&&gt instanceof HTMLElement||!gt.data)At=gt;else{const Ut=this.cachedCanvases.getCanvas("inlineImage",mt,xt).context;ht(Ut,gt),At=this.applyTransferMapsToCanvas(Ut)}const Tt=this._scaleImage(At,(0,d.getCurrentTransformInverse)(_t));_t.imageSmoothingEnabled=bt((0,d.getCurrentTransform)(_t),gt.interpolate),st(_t,Tt.img,0,0,Tt.paintWidth,Tt.paintHeight,0,-xt,mt,xt),this.compose(),this.restore()}paintInlineImageXObjectGroup(gt,mt){if(!this.contentVisible)return;const xt=this.ctx;let _t;if(gt.bitmap)_t=gt.bitmap;else{const At=gt.width,Tt=gt.height,Ut=this.cachedCanvases.getCanvas("inlineImage",At,Tt).context;ht(Ut,gt),_t=this.applyTransferMapsToCanvas(Ut)}for(const At of mt)xt.save(),xt.transform(...At.transform),xt.scale(1,-1),st(xt,_t,At.x,At.y,At.w,At.h,0,-1,1,1),xt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(gt){}markPointProps(gt,mt){}beginMarkedContent(gt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(gt,mt){gt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(mt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(gt){const mt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(gt);const xt=this.ctx;this.pendingClip&&(mt||(this.pendingClip===Ft?xt.clip("evenodd"):xt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),xt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const gt=(0,d.getCurrentTransform)(this.ctx);if(gt[1]===0&&gt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(gt[0]),Math.abs(gt[3]));else{const mt=Math.abs(gt[0]*gt[3]-gt[2]*gt[1]),xt=Math.hypot(gt[0],gt[2]),_t=Math.hypot(gt[1],gt[3]);this._cachedGetSinglePixelWidth=Math.max(xt,_t)/mt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:gt}=this.current,{a:mt,b:xt,c:_t,d:At}=this.ctx.getTransform();let Tt,Lt;if(xt===0&&_t===0){const Ut=Math.abs(mt),Zt=Math.abs(At);if(Ut===Zt)if(gt===0)Tt=Lt=1/Ut;else{const tr=Ut*gt;Tt=Lt=tr<1?1/tr:1}else if(gt===0)Tt=1/Ut,Lt=1/Zt;else{const tr=Ut*gt,lr=Zt*gt;Tt=tr<1?1/tr:1,Lt=lr<1?1/lr:1}}else{const Ut=Math.abs(mt*At-xt*_t),Zt=Math.hypot(mt,xt),tr=Math.hypot(_t,At);if(gt===0)Tt=tr/Ut,Lt=Zt/Ut;else{const lr=gt*Ut;Tt=tr>lr?tr/lr:1,Lt=Zt>lr?Zt/lr:1}}this._cachedScaleForStroking[0]=Tt,this._cachedScaleForStroking[1]=Lt}return this._cachedScaleForStroking}rescaleAndStroke(gt){const{ctx:mt}=this,{lineWidth:xt}=this.current,[_t,At]=this.getScaleForStroking();if(mt.lineWidth=xt||1,_t===1&&At===1){mt.stroke();return}const Tt=mt.getLineDash();if(gt&&mt.save(),mt.scale(_t,At),Tt.length>0){const Lt=Math.max(_t,At);mt.setLineDash(Tt.map(Ut=>Ut/Lt)),mt.lineDashOffset/=Lt}mt.stroke(),gt&&mt.restore()}isContentVisible(){for(let gt=this.markedContentStack.length-1;gt>=0;gt--)if(!this.markedContentStack[gt].visible)return!1;return!0}};It=new WeakSet,ro=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},no=function(){if(this.pageColors){const gt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(gt!=="none"){const mt=this.ctx.filter;this.ctx.filter=gt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=mt}}};let wt=Mt;e.CanvasGraphics=wt;for(const St in o.OPS)wt.prototype[St]!==void 0&&(wt.prototype[o.OPS[St]]=wt.prototype[St])},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=tt;var o=a(1),d=a(6);const h={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=h;function g(rt,at){if(!at)return;const ht=at[2]-at[0],ft=at[3]-at[1],ot=new Path2D;ot.rect(at[0],at[1],ht,ft),rt.clip(ot)}class b{constructor(){this.constructor===b&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class j extends b{constructor(at){super(),this._type=at[1],this._bbox=at[2],this._colorStops=at[3],this._p0=at[4],this._p1=at[5],this._r0=at[6],this._r1=at[7],this.matrix=null}_createGradient(at){let ht;this._type==="axial"?ht=at.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ht=at.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ft of this._colorStops)ht.addColorStop(ft[0],ft[1]);return ht}getPattern(at,ht,ft,ot){let ut;if(ot===h.STROKE||ot===h.FILL){const ct=ht.current.getClippedPathBoundingBox(ot,(0,d.getCurrentTransform)(at))||[0,0,0,0],dt=Math.ceil(ct[2]-ct[0])||1,vt=Math.ceil(ct[3]-ct[1])||1,Et=ht.cachedCanvases.getCanvas("pattern",dt,vt,!0),pt=Et.context;pt.clearRect(0,0,pt.canvas.width,pt.canvas.height),pt.beginPath(),pt.rect(0,0,pt.canvas.width,pt.canvas.height),pt.translate(-ct[0],-ct[1]),ft=o.Util.transform(ft,[1,0,0,1,ct[0],ct[1]]),pt.transform(...ht.baseTransform),this.matrix&&pt.transform(...this.matrix),g(pt,this._bbox),pt.fillStyle=this._createGradient(pt),pt.fill(),ut=at.createPattern(Et.canvas,"no-repeat");const bt=new DOMMatrix(ft);ut.setTransform(bt)}else g(at,this._bbox),ut=this._createGradient(at);return ut}}function _(rt,at,ht,ft,ot,ut,ct,dt){const vt=at.coords,Et=at.colors,pt=rt.data,bt=rt.width*4;let Ct;vt[ht+1]>vt[ft+1]&&(Ct=ht,ht=ft,ft=Ct,Ct=ut,ut=ct,ct=Ct),vt[ft+1]>vt[ot+1]&&(Ct=ft,ft=ot,ot=Ct,Ct=ct,ct=dt,dt=Ct),vt[ht+1]>vt[ft+1]&&(Ct=ht,ht=ft,ft=Ct,Ct=ut,ut=ct,ct=Ct);const Bt=(vt[ht]+at.offsetX)*at.scaleX,jt=(vt[ht+1]+at.offsetY)*at.scaleY,Ft=(vt[ft]+at.offsetX)*at.scaleX,wt=(vt[ft+1]+at.offsetY)*at.scaleY,It=(vt[ot]+at.offsetX)*at.scaleX,yt=(vt[ot+1]+at.offsetY)*at.scaleY;if(jt>=yt)return;const Dt=Et[ut],Mt=Et[ut+1],St=Et[ut+2],gt=Et[ct],mt=Et[ct+1],xt=Et[ct+2],_t=Et[dt],At=Et[dt+1],Tt=Et[dt+2],Lt=Math.round(jt),Ut=Math.round(yt);let Zt,tr,lr,hr,dr,Gt,Jt,Rt;for(let Nt=Lt;Nt<=Ut;Nt++){if(Nt<wt){const pr=Nt<jt?0:(jt-Nt)/(jt-wt);Zt=Bt-(Bt-Ft)*pr,tr=Dt-(Dt-gt)*pr,lr=Mt-(Mt-mt)*pr,hr=St-(St-xt)*pr}else{let pr;Nt>yt?pr=1:wt===yt?pr=0:pr=(wt-Nt)/(wt-yt),Zt=Ft-(Ft-It)*pr,tr=gt-(gt-_t)*pr,lr=mt-(mt-At)*pr,hr=xt-(xt-Tt)*pr}let Ht;Nt<jt?Ht=0:Nt>yt?Ht=1:Ht=(jt-Nt)/(jt-yt),dr=Bt-(Bt-It)*Ht,Gt=Dt-(Dt-_t)*Ht,Jt=Mt-(Mt-At)*Ht,Rt=St-(St-Tt)*Ht;const qt=Math.round(Math.min(Zt,dr)),ar=Math.round(Math.max(Zt,dr));let vr=bt*Nt+qt*4;for(let pr=qt;pr<=ar;pr++)Ht=(Zt-pr)/(Zt-dr),Ht<0?Ht=0:Ht>1&&(Ht=1),pt[vr++]=tr-(tr-Gt)*Ht|0,pt[vr++]=lr-(lr-Jt)*Ht|0,pt[vr++]=hr-(hr-Rt)*Ht|0,pt[vr++]=255}}function $(rt,at,ht){const ft=at.coords,ot=at.colors;let ut,ct;switch(at.type){case"lattice":const dt=at.verticesPerRow,vt=Math.floor(ft.length/dt)-1,Et=dt-1;for(ut=0;ut<vt;ut++){let pt=ut*dt;for(let bt=0;bt<Et;bt++,pt++)_(rt,ht,ft[pt],ft[pt+1],ft[pt+dt],ot[pt],ot[pt+1],ot[pt+dt]),_(rt,ht,ft[pt+dt+1],ft[pt+1],ft[pt+dt],ot[pt+dt+1],ot[pt+1],ot[pt+dt])}break;case"triangles":for(ut=0,ct=ft.length;ut<ct;ut+=3)_(rt,ht,ft[ut],ft[ut+1],ft[ut+2],ot[ut],ot[ut+1],ot[ut+2]);break;default:throw new Error("illegal figure")}}class _e extends b{constructor(at){super(),this._coords=at[2],this._colors=at[3],this._figures=at[4],this._bounds=at[5],this._bbox=at[7],this._background=at[8],this.matrix=null}_createMeshCanvas(at,ht,ft){const dt=Math.floor(this._bounds[0]),vt=Math.floor(this._bounds[1]),Et=Math.ceil(this._bounds[2])-dt,pt=Math.ceil(this._bounds[3])-vt,bt=Math.min(Math.ceil(Math.abs(Et*at[0]*1.1)),3e3),Ct=Math.min(Math.ceil(Math.abs(pt*at[1]*1.1)),3e3),Bt=Et/bt,jt=pt/Ct,Ft={coords:this._coords,colors:this._colors,offsetX:-dt,offsetY:-vt,scaleX:1/Bt,scaleY:1/jt},wt=bt+2*2,It=Ct+2*2,yt=ft.getCanvas("mesh",wt,It,!1),Dt=yt.context,Mt=Dt.createImageData(bt,Ct);if(ht){const gt=Mt.data;for(let mt=0,xt=gt.length;mt<xt;mt+=4)gt[mt]=ht[0],gt[mt+1]=ht[1],gt[mt+2]=ht[2],gt[mt+3]=255}for(const gt of this._figures)$(Mt,gt,Ft);return Dt.putImageData(Mt,2,2),{canvas:yt.canvas,offsetX:dt-2*Bt,offsetY:vt-2*jt,scaleX:Bt,scaleY:jt}}getPattern(at,ht,ft,ot){g(at,this._bbox);let ut;if(ot===h.SHADING)ut=o.Util.singularValueDecompose2dScale((0,d.getCurrentTransform)(at));else if(ut=o.Util.singularValueDecompose2dScale(ht.baseTransform),this.matrix){const dt=o.Util.singularValueDecompose2dScale(this.matrix);ut=[ut[0]*dt[0],ut[1]*dt[1]]}const ct=this._createMeshCanvas(ut,ot===h.SHADING?null:this._background,ht.cachedCanvases);return ot!==h.SHADING&&(at.setTransform(...ht.baseTransform),this.matrix&&at.transform(...this.matrix)),at.translate(ct.offsetX,ct.offsetY),at.scale(ct.scaleX,ct.scaleY),at.createPattern(ct.canvas,"no-repeat")}}class et extends b{getPattern(){return"hotpink"}}function tt(rt){switch(rt[0]){case"RadialAxial":return new j(rt);case"Mesh":return new _e(rt);case"Dummy":return new et}throw new Error(`Unknown IR type: ${rt[0]}`)}const nt={COLORED:1,UNCOLORED:2},st=class st{constructor(at,ht,ft,ot,ut){this.operatorList=at[2],this.matrix=at[3]||[1,0,0,1,0,0],this.bbox=at[4],this.xstep=at[5],this.ystep=at[6],this.paintType=at[7],this.tilingType=at[8],this.color=ht,this.ctx=ft,this.canvasGraphicsFactory=ot,this.baseTransform=ut}createPatternCanvas(at){const ht=this.operatorList,ft=this.bbox,ot=this.xstep,ut=this.ystep,ct=this.paintType,dt=this.tilingType,vt=this.color,Et=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+dt);const pt=ft[0],bt=ft[1],Ct=ft[2],Bt=ft[3],jt=o.Util.singularValueDecompose2dScale(this.matrix),Ft=o.Util.singularValueDecompose2dScale(this.baseTransform),wt=[jt[0]*Ft[0],jt[1]*Ft[1]],It=this.getSizeAndScale(ot,this.ctx.canvas.width,wt[0]),yt=this.getSizeAndScale(ut,this.ctx.canvas.height,wt[1]),Dt=at.cachedCanvases.getCanvas("pattern",It.size,yt.size,!0),Mt=Dt.context,St=Et.createCanvasGraphics(Mt);St.groupLevel=at.groupLevel,this.setFillAndStrokeStyleToContext(St,ct,vt);let gt=pt,mt=bt,xt=Ct,_t=Bt;return pt<0&&(gt=0,xt+=Math.abs(pt)),bt<0&&(mt=0,_t+=Math.abs(bt)),Mt.translate(-(It.scale*gt),-(yt.scale*mt)),St.transform(It.scale,0,0,yt.scale,0,0),Mt.save(),this.clipBbox(St,gt,mt,xt,_t),St.baseTransform=(0,d.getCurrentTransform)(St.ctx),St.executeOperatorList(ht),St.endDrawing(),{canvas:Dt.canvas,scaleX:It.scale,scaleY:yt.scale,offsetX:gt,offsetY:mt}}getSizeAndScale(at,ht,ft){at=Math.abs(at);const ot=Math.max(st.MAX_PATTERN_SIZE,ht);let ut=Math.ceil(at*ft);return ut>=ot?ut=ot:ft=ut/at,{scale:ft,size:ut}}clipBbox(at,ht,ft,ot,ut){const ct=ot-ht,dt=ut-ft;at.ctx.rect(ht,ft,ct,dt),at.current.updateRectMinMax((0,d.getCurrentTransform)(at.ctx),[ht,ft,ot,ut]),at.clip(),at.endPath()}setFillAndStrokeStyleToContext(at,ht,ft){const ot=at.ctx,ut=at.current;switch(ht){case nt.COLORED:const ct=this.ctx;ot.fillStyle=ct.fillStyle,ot.strokeStyle=ct.strokeStyle,ut.fillColor=ct.fillStyle,ut.strokeColor=ct.strokeStyle;break;case nt.UNCOLORED:const dt=o.Util.makeHexColor(ft[0],ft[1],ft[2]);ot.fillStyle=dt,ot.strokeStyle=dt,ut.fillColor=dt,ut.strokeColor=dt;break;default:throw new o.FormatError(`Unsupported paint type: ${ht}`)}}getPattern(at,ht,ft,ot){let ut=ft;ot!==h.SHADING&&(ut=o.Util.transform(ut,ht.baseTransform),this.matrix&&(ut=o.Util.transform(ut,this.matrix)));const ct=this.createPatternCanvas(ht);let dt=new DOMMatrix(ut);dt=dt.translate(ct.offsetX,ct.offsetY),dt=dt.scale(1/ct.scaleX,1/ct.scaleY);const vt=at.createPattern(ct.canvas,"repeat");return vt.setTransform(dt),vt}};Hr(st,"MAX_PATTERN_SIZE",3e3);let it=st;e.TilingPattern=it},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=h,e.convertToRGBA=d,e.grayToRGBA=b;var o=a(1);function d(j){switch(j.kind){case o.ImageKind.GRAYSCALE_1BPP:return h(j);case o.ImageKind.RGB_24BPP:return g(j)}return null}function h({src:j,srcPos:_=0,dest:$,width:_e,height:et,nonBlackColor:tt=4294967295,inverseDecode:nt=!1}){const it=o.FeatureTest.isLittleEndian?4278190080:255,[st,rt]=nt?[tt,it]:[it,tt],at=_e>>3,ht=_e&7,ft=j.length;$=new Uint32Array($.buffer);let ot=0;for(let ut=0;ut<et;ut++){for(const dt=_+at;_<dt;_++){const vt=_<ft?j[_]:255;$[ot++]=vt&128?rt:st,$[ot++]=vt&64?rt:st,$[ot++]=vt&32?rt:st,$[ot++]=vt&16?rt:st,$[ot++]=vt&8?rt:st,$[ot++]=vt&4?rt:st,$[ot++]=vt&2?rt:st,$[ot++]=vt&1?rt:st}if(ht===0)continue;const ct=_<ft?j[_++]:255;for(let dt=0;dt<ht;dt++)$[ot++]=ct&1<<7-dt?rt:st}return{srcPos:_,destPos:ot}}function g({src:j,srcPos:_=0,dest:$,destPos:_e=0,width:et,height:tt}){let nt=0;const it=j.length>>2,st=new Uint32Array(j.buffer,_,it);if(o.FeatureTest.isLittleEndian){for(;nt<it-2;nt+=3,_e+=4){const rt=st[nt],at=st[nt+1],ht=st[nt+2];$[_e]=rt|4278190080,$[_e+1]=rt>>>24|at<<8|4278190080,$[_e+2]=at>>>16|ht<<16|4278190080,$[_e+3]=ht>>>8|4278190080}for(let rt=nt*4,at=j.length;rt<at;rt+=3)$[_e++]=j[rt]|j[rt+1]<<8|j[rt+2]<<16|4278190080}else{for(;nt<it-2;nt+=3,_e+=4){const rt=st[nt],at=st[nt+1],ht=st[nt+2];$[_e]=rt|255,$[_e+1]=rt<<24|at>>>8|255,$[_e+2]=at<<16|ht>>>16|255,$[_e+3]=ht<<8|255}for(let rt=nt*4,at=j.length;rt<at;rt+=3)$[_e++]=j[rt]<<24|j[rt+1]<<16|j[rt+2]<<8|255}return{srcPos:_,destPos:_e}}function b(j,_){if(o.FeatureTest.isLittleEndian)for(let $=0,_e=j.length;$<_e;$++)_[$]=j[$]*65793|4278190080;else for(let $=0,_e=j.length;$<_e;$++)_[$]=j[$]*16843008|255}},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const a=Object.create(null);e.GlobalWorkerOptions=a,a.workerPort=null,a.workerSrc=""},(s,e,a)=>{var j,Il,Nl,ts;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var o=a(1);const d={DATA:1,ERROR:2},h={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function g(et){switch(et instanceof Error||typeof et=="object"&&et!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),et.name){case"AbortException":return new o.AbortException(et.message);case"MissingPDFException":return new o.MissingPDFException(et.message);case"PasswordException":return new o.PasswordException(et.message,et.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(et.message,et.status);case"UnknownErrorException":return new o.UnknownErrorException(et.message,et.details);default:return new o.UnknownErrorException(et.message,et.toString())}}class b{constructor(tt,nt,it){$t(this,j);this.sourceName=tt,this.targetName=nt,this.comObj=it,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=st=>{const rt=st.data;if(rt.targetName!==this.sourceName)return;if(rt.stream){Wt(this,j,Nl).call(this,rt);return}if(rt.callback){const ht=rt.callbackId,ft=this.callbackCapabilities[ht];if(!ft)throw new Error(`Cannot resolve callback ${ht}`);if(delete this.callbackCapabilities[ht],rt.callback===d.DATA)ft.resolve(rt.data);else if(rt.callback===d.ERROR)ft.reject(g(rt.reason));else throw new Error("Unexpected callback case");return}const at=this.actionHandler[rt.action];if(!at)throw new Error(`Unknown action from worker: ${rt.action}`);if(rt.callbackId){const ht=this.sourceName,ft=rt.sourceName;new Promise(function(ot){ot(at(rt.data))}).then(function(ot){it.postMessage({sourceName:ht,targetName:ft,callback:d.DATA,callbackId:rt.callbackId,data:ot})},function(ot){it.postMessage({sourceName:ht,targetName:ft,callback:d.ERROR,callbackId:rt.callbackId,reason:g(ot)})});return}if(rt.streamId){Wt(this,j,Il).call(this,rt);return}at(rt.data)},it.addEventListener("message",this._onComObjOnMessage)}on(tt,nt){const it=this.actionHandler;if(it[tt])throw new Error(`There is already an actionName called "${tt}"`);it[tt]=nt}send(tt,nt,it){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:tt,data:nt},it)}sendWithPromise(tt,nt,it){const st=this.callbackId++,rt=new o.PromiseCapability;this.callbackCapabilities[st]=rt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:tt,callbackId:st,data:nt},it)}catch(at){rt.reject(at)}return rt.promise}sendWithStream(tt,nt,it,st){const rt=this.streamId++,at=this.sourceName,ht=this.targetName,ft=this.comObj;return new ReadableStream({start:ot=>{const ut=new o.PromiseCapability;return this.streamControllers[rt]={controller:ot,startCall:ut,pullCall:null,cancelCall:null,isClosed:!1},ft.postMessage({sourceName:at,targetName:ht,action:tt,streamId:rt,data:nt,desiredSize:ot.desiredSize},st),ut.promise},pull:ot=>{const ut=new o.PromiseCapability;return this.streamControllers[rt].pullCall=ut,ft.postMessage({sourceName:at,targetName:ht,stream:h.PULL,streamId:rt,desiredSize:ot.desiredSize}),ut.promise},cancel:ot=>{(0,o.assert)(ot instanceof Error,"cancel must have a valid reason");const ut=new o.PromiseCapability;return this.streamControllers[rt].cancelCall=ut,this.streamControllers[rt].isClosed=!0,ft.postMessage({sourceName:at,targetName:ht,stream:h.CANCEL,streamId:rt,reason:g(ot)}),ut.promise}},it)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}j=new WeakSet,Il=function(tt){const nt=tt.streamId,it=this.sourceName,st=tt.sourceName,rt=this.comObj,at=this,ht=this.actionHandler[tt.action],ft={enqueue(ot,ut=1,ct){if(this.isCancelled)return;const dt=this.desiredSize;this.desiredSize-=ut,dt>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),rt.postMessage({sourceName:it,targetName:st,stream:h.ENQUEUE,streamId:nt,chunk:ot},ct)},close(){this.isCancelled||(this.isCancelled=!0,rt.postMessage({sourceName:it,targetName:st,stream:h.CLOSE,streamId:nt}),delete at.streamSinks[nt])},error(ot){(0,o.assert)(ot instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,rt.postMessage({sourceName:it,targetName:st,stream:h.ERROR,streamId:nt,reason:g(ot)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:tt.desiredSize,ready:null};ft.sinkCapability.resolve(),ft.ready=ft.sinkCapability.promise,this.streamSinks[nt]=ft,new Promise(function(ot){ot(ht(tt.data,ft))}).then(function(){rt.postMessage({sourceName:it,targetName:st,stream:h.START_COMPLETE,streamId:nt,success:!0})},function(ot){rt.postMessage({sourceName:it,targetName:st,stream:h.START_COMPLETE,streamId:nt,reason:g(ot)})})},Nl=function(tt){const nt=tt.streamId,it=this.sourceName,st=tt.sourceName,rt=this.comObj,at=this.streamControllers[nt],ht=this.streamSinks[nt];switch(tt.stream){case h.START_COMPLETE:tt.success?at.startCall.resolve():at.startCall.reject(g(tt.reason));break;case h.PULL_COMPLETE:tt.success?at.pullCall.resolve():at.pullCall.reject(g(tt.reason));break;case h.PULL:if(!ht){rt.postMessage({sourceName:it,targetName:st,stream:h.PULL_COMPLETE,streamId:nt,success:!0});break}ht.desiredSize<=0&&tt.desiredSize>0&&ht.sinkCapability.resolve(),ht.desiredSize=tt.desiredSize,new Promise(function(ft){var ot;ft((ot=ht.onPull)==null?void 0:ot.call(ht))}).then(function(){rt.postMessage({sourceName:it,targetName:st,stream:h.PULL_COMPLETE,streamId:nt,success:!0})},function(ft){rt.postMessage({sourceName:it,targetName:st,stream:h.PULL_COMPLETE,streamId:nt,reason:g(ft)})});break;case h.ENQUEUE:if((0,o.assert)(at,"enqueue should have stream controller"),at.isClosed)break;at.controller.enqueue(tt.chunk);break;case h.CLOSE:if((0,o.assert)(at,"close should have stream controller"),at.isClosed)break;at.isClosed=!0,at.controller.close(),Wt(this,j,ts).call(this,at,nt);break;case h.ERROR:(0,o.assert)(at,"error should have stream controller"),at.controller.error(g(tt.reason)),Wt(this,j,ts).call(this,at,nt);break;case h.CANCEL_COMPLETE:tt.success?at.cancelCall.resolve():at.cancelCall.reject(g(tt.reason)),Wt(this,j,ts).call(this,at,nt);break;case h.CANCEL:if(!ht)break;new Promise(function(ft){var ot;ft((ot=ht.onCancel)==null?void 0:ot.call(ht,g(tt.reason)))}).then(function(){rt.postMessage({sourceName:it,targetName:st,stream:h.CANCEL_COMPLETE,streamId:nt,success:!0})},function(ft){rt.postMessage({sourceName:it,targetName:st,stream:h.CANCEL_COMPLETE,streamId:nt,reason:g(ft)})}),ht.sinkCapability.reject(g(tt.reason)),ht.isCancelled=!0,delete this.streamSinks[nt];break;default:throw new Error("Unexpected stream case")}},ts=async function(tt,nt){var it,st,rt;await Promise.allSettled([(it=tt.startCall)==null?void 0:it.promise,(st=tt.pullCall)==null?void 0:st.promise,(rt=tt.cancelCall)==null?void 0:rt.promise]),delete this.streamControllers[nt]},e.MessageHandler=b},(s,e,a)=>{var h,g;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var o=a(1);class d{constructor({parsedData:j,rawData:_}){$t(this,h);$t(this,g);Qt(this,h,j),Qt(this,g,_)}getRaw(){return lt(this,g)}get(j){return lt(this,h).get(j)??null}getAll(){return(0,o.objectFromMap)(lt(this,h))}has(j){return lt(this,h).has(j)}}h=new WeakMap,g=new WeakMap,e.Metadata=d},(s,e,a)=>{var j,_,$,_e,et,tt,io;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var o=a(1),d=a(8);const h=Symbol("INTERNAL");class g{constructor(st,rt){$t(this,j,!0);this.name=st,this.intent=rt}get visible(){return lt(this,j)}_setVisible(st,rt){st!==h&&(0,o.unreachable)("Internal method `_setVisible` called."),Qt(this,j,rt)}}j=new WeakMap;class b{constructor(st){$t(this,tt);$t(this,_,null);$t(this,$,new Map);$t(this,_e,null);$t(this,et,null);if(this.name=null,this.creator=null,st!==null){this.name=st.name,this.creator=st.creator,Qt(this,et,st.order);for(const rt of st.groups)lt(this,$).set(rt.id,new g(rt.name,rt.intent));if(st.baseState==="OFF")for(const rt of lt(this,$).values())rt._setVisible(h,!1);for(const rt of st.on)lt(this,$).get(rt)._setVisible(h,!0);for(const rt of st.off)lt(this,$).get(rt)._setVisible(h,!1);Qt(this,_e,this.getHash())}}isVisible(st){if(lt(this,$).size===0)return!0;if(!st)return(0,o.warn)("Optional content group not defined."),!0;if(st.type==="OCG")return lt(this,$).has(st.id)?lt(this,$).get(st.id).visible:((0,o.warn)(`Optional content group not found: ${st.id}`),!0);if(st.type==="OCMD"){if(st.expression)return Wt(this,tt,io).call(this,st.expression);if(!st.policy||st.policy==="AnyOn"){for(const rt of st.ids){if(!lt(this,$).has(rt))return(0,o.warn)(`Optional content group not found: ${rt}`),!0;if(lt(this,$).get(rt).visible)return!0}return!1}else if(st.policy==="AllOn"){for(const rt of st.ids){if(!lt(this,$).has(rt))return(0,o.warn)(`Optional content group not found: ${rt}`),!0;if(!lt(this,$).get(rt).visible)return!1}return!0}else if(st.policy==="AnyOff"){for(const rt of st.ids){if(!lt(this,$).has(rt))return(0,o.warn)(`Optional content group not found: ${rt}`),!0;if(!lt(this,$).get(rt).visible)return!0}return!1}else if(st.policy==="AllOff"){for(const rt of st.ids){if(!lt(this,$).has(rt))return(0,o.warn)(`Optional content group not found: ${rt}`),!0;if(lt(this,$).get(rt).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${st.policy}.`),!0}return(0,o.warn)(`Unknown group type ${st.type}.`),!0}setVisibility(st,rt=!0){if(!lt(this,$).has(st)){(0,o.warn)(`Optional content group not found: ${st}`);return}lt(this,$).get(st)._setVisible(h,!!rt),Qt(this,_,null)}get hasInitialVisibility(){return lt(this,_e)===null||this.getHash()===lt(this,_e)}getOrder(){return lt(this,$).size?lt(this,et)?lt(this,et).slice():[...lt(this,$).keys()]:null}getGroups(){return lt(this,$).size>0?(0,o.objectFromMap)(lt(this,$)):null}getGroup(st){return lt(this,$).get(st)||null}getHash(){if(lt(this,_)!==null)return lt(this,_);const st=new d.MurmurHash3_64;for(const[rt,at]of lt(this,$))st.update(`${rt}:${at.visible}`);return Qt(this,_,st.hexdigest())}}_=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakSet,io=function(st){const rt=st.length;if(rt<2)return!0;const at=st[0];for(let ht=1;ht<rt;ht++){const ft=st[ht];let ot;if(Array.isArray(ft))ot=Wt(this,tt,io).call(this,ft);else if(lt(this,$).has(ft))ot=lt(this,$).get(ft).visible;else return(0,o.warn)(`Optional content group not found: ${ft}`),!0;switch(at){case"And":if(!ot)return!1;break;case"Or":if(ot)return!0;break;case"Not":return!ot;default:return!0}}return at==="And"},e.OptionalContentConfig=b},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var o=a(1),d=a(6);class h{constructor({length:_,initialData:$,progressiveDone:_e=!1,contentDispositionFilename:et=null,disableRange:tt=!1,disableStream:nt=!1},it){if((0,o.assert)(it,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_e,this._contentDispositionFilename=et,($==null?void 0:$.length)>0){const st=$ instanceof Uint8Array&&$.byteLength===$.buffer.byteLength?$.buffer:new Uint8Array($).buffer;this._queuedChunks.push(st)}this._pdfDataRangeTransport=it,this._isStreamingSupported=!nt,this._isRangeSupported=!tt,this._contentLength=_,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((st,rt)=>{this._onReceiveData({begin:st,chunk:rt})}),this._pdfDataRangeTransport.addProgressListener((st,rt)=>{this._onProgress({loaded:st,total:rt})}),this._pdfDataRangeTransport.addProgressiveReadListener(st=>{this._onReceiveData({chunk:st})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:_,chunk:$}){const _e=$ instanceof Uint8Array&&$.byteLength===$.buffer.byteLength?$.buffer:new Uint8Array($).buffer;if(_===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_e):this._queuedChunks.push(_e);else{const et=this._rangeReaders.some(function(tt){return tt._begin!==_?!1:(tt._enqueue(_e),!0)});(0,o.assert)(et,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _;return((_=this._fullRequestReader)==null?void 0:_._loaded)??0}_onProgress(_){var $,_e,et,tt;_.total===void 0?(_e=($=this._rangeReaders[0])==null?void 0:$.onProgress)==null||_e.call($,{loaded:_.loaded}):(tt=(et=this._fullRequestReader)==null?void 0:et.onProgress)==null||tt.call(et,{loaded:_.loaded,total:_.total})}_onProgressiveDone(){var _;(_=this._fullRequestReader)==null||_.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_){const $=this._rangeReaders.indexOf(_);$>=0&&this._rangeReaders.splice($,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _=this._queuedChunks;return this._queuedChunks=null,new g(this,_,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_,$){if($<=this._progressiveDataLength)return null;const _e=new b(this,_,$);return this._pdfDataRangeTransport.requestDataRange(_,$),this._rangeReaders.push(_e),_e}cancelAllRequests(_){var $;($=this._fullRequestReader)==null||$.cancel(_);for(const _e of this._rangeReaders.slice(0))_e.cancel(_);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=h;class g{constructor(_,$,_e=!1,et=null){this._stream=_,this._done=_e||!1,this._filename=(0,d.isPdfFile)(et)?et:null,this._queuedChunks=$||[],this._loaded=0;for(const tt of this._queuedChunks)this._loaded+=tt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_._fullRequestReader=this,this.onProgress=null}_enqueue(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=new o.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class b{constructor(_,$,_e){this._stream=_,this._begin=$,this._end=_e,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_){if(!this._done){if(this._requests.length===0)this._queuedChunk=_;else{this._requests.shift().resolve({value:_,done:!1});for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const $=this._queuedChunk;return this._queuedChunk=null,{value:$,done:!1}}if(this._done)return{value:void 0,done:!0};const _=new o.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var o=a(1),d=a(20);function h(_e,et,tt){return{method:"GET",headers:_e,signal:tt.signal,mode:"cors",credentials:et?"include":"same-origin",redirect:"follow"}}function g(_e){const et=new Headers;for(const tt in _e){const nt=_e[tt];nt!==void 0&&et.append(tt,nt)}return et}function b(_e){return _e instanceof Uint8Array?_e.buffer:_e instanceof ArrayBuffer?_e:((0,o.warn)(`getArrayBuffer - unexpected data format: ${_e}`),new Uint8Array(_e).buffer)}class j{constructor(et){this.source=et,this.isHttp=/^https?:/i.test(et.url),this.httpHeaders=this.isHttp&&et.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var et;return((et=this._fullRequestReader)==null?void 0:et._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _(this),this._fullRequestReader}getRangeReader(et,tt){if(tt<=this._progressiveDataLength)return null;const nt=new $(this,et,tt);return this._rangeRequestReaders.push(nt),nt}cancelAllRequests(et){var tt;(tt=this._fullRequestReader)==null||tt.cancel(et);for(const nt of this._rangeRequestReaders.slice(0))nt.cancel(et)}}e.PDFFetchStream=j;class _{constructor(et){this._stream=et,this._reader=null,this._loaded=0,this._filename=null;const tt=et.source;this._withCredentials=tt.withCredentials||!1,this._contentLength=tt.length,this._headersCapability=new o.PromiseCapability,this._disableRange=tt.disableRange||!1,this._rangeChunkSize=tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!tt.disableStream,this._isRangeSupported=!tt.disableRange,this._headers=g(this._stream.httpHeaders);const nt=tt.url;fetch(nt,h(this._headers,this._withCredentials,this._abortController)).then(it=>{if(!(0,d.validateResponseStatus)(it.status))throw(0,d.createResponseStatusError)(it.status,nt);this._reader=it.body.getReader(),this._headersCapability.resolve();const st=ht=>it.headers.get(ht),{allowRangeRequests:rt,suggestedLength:at}=(0,d.validateRangeRequestCapabilities)({getResponseHeader:st,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=rt,this._contentLength=at||this._contentLength,this._filename=(0,d.extractFilenameFromHeader)(st),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var nt;await this._headersCapability.promise;const{value:et,done:tt}=await this._reader.read();return tt?{value:et,done:tt}:(this._loaded+=et.byteLength,(nt=this.onProgress)==null||nt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:b(et),done:!1})}cancel(et){var tt;(tt=this._reader)==null||tt.cancel(et),this._abortController.abort()}}class ${constructor(et,tt,nt){this._stream=et,this._reader=null,this._loaded=0;const it=et.source;this._withCredentials=it.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!it.disableStream,this._abortController=new AbortController,this._headers=g(this._stream.httpHeaders),this._headers.append("Range",`bytes=${tt}-${nt-1}`);const st=it.url;fetch(st,h(this._headers,this._withCredentials,this._abortController)).then(rt=>{if(!(0,d.validateResponseStatus)(rt.status))throw(0,d.createResponseStatusError)(rt.status,st);this._readCapability.resolve(),this._reader=rt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var nt;await this._readCapability.promise;const{value:et,done:tt}=await this._reader.read();return tt?{value:et,done:tt}:(this._loaded+=et.byteLength,(nt=this.onProgress)==null||nt.call(this,{loaded:this._loaded}),{value:b(et),done:!1})}cancel(et){var tt;(tt=this._reader)==null||tt.cancel(et),this._abortController.abort()}}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=j,e.extractFilenameFromHeader=b,e.validateRangeRequestCapabilities=g,e.validateResponseStatus=_;var o=a(1),d=a(21),h=a(6);function g({getResponseHeader:$,isHttp:_e,rangeChunkSize:et,disableRange:tt}){const nt={allowRangeRequests:!1,suggestedLength:void 0},it=parseInt($("Content-Length"),10);return!Number.isInteger(it)||(nt.suggestedLength=it,it<=2*et)||tt||!_e||$("Accept-Ranges")!=="bytes"||($("Content-Encoding")||"identity")!=="identity"||(nt.allowRangeRequests=!0),nt}function b($){const _e=$("Content-Disposition");if(_e){let et=(0,d.getFilenameFromContentDispositionHeader)(_e);if(et.includes("%"))try{et=decodeURIComponent(et)}catch{}if((0,h.isPdfFile)(et))return et}return null}function j($,_e){return $===404||$===0&&_e.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+_e+'".'):new o.UnexpectedResponseException(`Unexpected server response (${$}) while retrieving PDF "${_e}".`,$)}function _($){return $===200||$===206}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=d;var o=a(1);function d(h){let g=!0,b=j("filename\\*","i").exec(h);if(b){b=b[1];let it=et(b);return it=unescape(it),it=tt(it),it=nt(it),$(it)}if(b=_e(h),b){const it=nt(b);return $(it)}if(b=j("filename","i").exec(h),b){b=b[1];let it=et(b);return it=nt(it),$(it)}function j(it,st){return new RegExp("(?:^|;)\\s*"+it+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',st)}function _(it,st){if(it){if(!/^[\x00-\xFF]+$/.test(st))return st;try{const rt=new TextDecoder(it,{fatal:!0}),at=(0,o.stringToBytes)(st);st=rt.decode(at),g=!1}catch{}}return st}function $(it){return g&&/[\x80-\xff]/.test(it)&&(it=_("utf-8",it),g&&(it=_("iso-8859-1",it))),it}function _e(it){const st=[];let rt;const at=j("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(rt=at.exec(it))!==null;){let[,ft,ot,ut]=rt;if(ft=parseInt(ft,10),ft in st){if(ft===0)break;continue}st[ft]=[ot,ut]}const ht=[];for(let ft=0;ft<st.length&&ft in st;++ft){let[ot,ut]=st[ft];ut=et(ut),ot&&(ut=unescape(ut),ft===0&&(ut=tt(ut))),ht.push(ut)}return ht.join("")}function et(it){if(it.startsWith('"')){const st=it.slice(1).split('\\"');for(let rt=0;rt<st.length;++rt){const at=st[rt].indexOf('"');at!==-1&&(st[rt]=st[rt].slice(0,at),st.length=rt+1),st[rt]=st[rt].replaceAll(/\\(.)/g,"$1")}it=st.join('"')}return it}function tt(it){const st=it.indexOf("'");if(st===-1)return it;const rt=it.slice(0,st),ht=it.slice(st+1).replace(/^[^']*'/,"");return _(rt,ht)}function nt(it){return!it.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(it)?it:it.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(st,rt,at,ht){if(at==="q"||at==="Q")return ht=ht.replaceAll("_"," "),ht=ht.replaceAll(/=([0-9a-fA-F]{2})/g,function(ft,ot){return String.fromCharCode(parseInt(ot,16))}),_(rt,ht);try{ht=atob(ht)}catch{}return _(rt,ht)})}return""}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var o=a(1),d=a(20);const h=200,g=206;function b(et){const tt=et.response;return typeof tt!="string"?tt:(0,o.stringToBytes)(tt).buffer}class j{constructor(tt,nt={}){this.url=tt,this.isHttp=/^https?:/i.test(tt),this.httpHeaders=this.isHttp&&nt.httpHeaders||Object.create(null),this.withCredentials=nt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(tt,nt,it){const st={begin:tt,end:nt};for(const rt in it)st[rt]=it[rt];return this.request(st)}requestFull(tt){return this.request(tt)}request(tt){const nt=new XMLHttpRequest,it=this.currXhrId++,st=this.pendingRequests[it]={xhr:nt};nt.open("GET",this.url),nt.withCredentials=this.withCredentials;for(const rt in this.httpHeaders){const at=this.httpHeaders[rt];at!==void 0&&nt.setRequestHeader(rt,at)}return this.isHttp&&"begin"in tt&&"end"in tt?(nt.setRequestHeader("Range",`bytes=${tt.begin}-${tt.end-1}`),st.expectedStatus=g):st.expectedStatus=h,nt.responseType="arraybuffer",tt.onError&&(nt.onerror=function(rt){tt.onError(nt.status)}),nt.onreadystatechange=this.onStateChange.bind(this,it),nt.onprogress=this.onProgress.bind(this,it),st.onHeadersReceived=tt.onHeadersReceived,st.onDone=tt.onDone,st.onError=tt.onError,st.onProgress=tt.onProgress,nt.send(null),it}onProgress(tt,nt){var st;const it=this.pendingRequests[tt];it&&((st=it.onProgress)==null||st.call(it,nt))}onStateChange(tt,nt){var ft,ot,ut;const it=this.pendingRequests[tt];if(!it)return;const st=it.xhr;if(st.readyState>=2&&it.onHeadersReceived&&(it.onHeadersReceived(),delete it.onHeadersReceived),st.readyState!==4||!(tt in this.pendingRequests))return;if(delete this.pendingRequests[tt],st.status===0&&this.isHttp){(ft=it.onError)==null||ft.call(it,st.status);return}const rt=st.status||h;if(!(rt===h&&it.expectedStatus===g)&&rt!==it.expectedStatus){(ot=it.onError)==null||ot.call(it,st.status);return}const ht=b(st);if(rt===g){const ct=st.getResponseHeader("Content-Range"),dt=/bytes (\d+)-(\d+)\/(\d+)/.exec(ct);it.onDone({begin:parseInt(dt[1],10),chunk:ht})}else ht?it.onDone({begin:0,chunk:ht}):(ut=it.onError)==null||ut.call(it,st.status)}getRequestXhr(tt){return this.pendingRequests[tt].xhr}isPendingRequest(tt){return tt in this.pendingRequests}abortRequest(tt){const nt=this.pendingRequests[tt].xhr;delete this.pendingRequests[tt],nt.abort()}}class _{constructor(tt){this._source=tt,this._manager=new j(tt.url,{httpHeaders:tt.httpHeaders,withCredentials:tt.withCredentials}),this._rangeChunkSize=tt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(tt){const nt=this._rangeRequestReaders.indexOf(tt);nt>=0&&this._rangeRequestReaders.splice(nt,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $(this._manager,this._source),this._fullRequestReader}getRangeReader(tt,nt){const it=new _e(this._manager,tt,nt);return it.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(it),it}cancelAllRequests(tt){var nt;(nt=this._fullRequestReader)==null||nt.cancel(tt);for(const it of this._rangeRequestReaders.slice(0))it.cancel(tt)}}e.PDFNetworkStream=_;class ${constructor(tt,nt){this._manager=tt;const it={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=nt.url,this._fullRequestId=tt.requestFull(it),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=nt.disableRange||!1,this._contentLength=nt.length,this._rangeChunkSize=nt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const tt=this._fullRequestId,nt=this._manager.getRequestXhr(tt),it=at=>nt.getResponseHeader(at),{allowRangeRequests:st,suggestedLength:rt}=(0,d.validateRangeRequestCapabilities)({getResponseHeader:it,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});st&&(this._isRangeSupported=!0),this._contentLength=rt||this._contentLength,this._filename=(0,d.extractFilenameFromHeader)(it),this._isRangeSupported&&this._manager.abortRequest(tt),this._headersReceivedCapability.resolve()}_onDone(tt){if(tt&&(this._requests.length>0?this._requests.shift().resolve({value:tt.chunk,done:!1}):this._cachedChunks.push(tt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(tt){this._storedError=(0,d.createResponseStatusError)(tt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const nt of this._requests)nt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(tt){var nt;(nt=this.onProgress)==null||nt.call(this,{loaded:tt.loaded,total:tt.lengthComputable?tt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const tt=new o.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0,this._headersReceivedCapability.reject(tt);for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _e{constructor(tt,nt,it){this._manager=tt;const st={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=tt.url,this._requestId=tt.requestRange(nt,it,st),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var tt;(tt=this.onClosed)==null||tt.call(this,this)}_onDone(tt){const nt=tt.chunk;this._requests.length>0?this._requests.shift().resolve({value:nt,done:!1}):this._queuedChunk=nt,this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(tt){this._storedError=(0,d.createResponseStatusError)(tt,this._url);for(const nt of this._requests)nt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(tt){var nt;this.isStreamingSupported||(nt=this.onProgress)==null||nt.call(this,{loaded:tt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const nt=this._queuedChunk;return this._queuedChunk=null,{value:nt,done:!1}}if(this._done)return{value:void 0,done:!0};const tt=new o.PromiseCapability;return this._requests.push(tt),tt.promise}cancel(tt){this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var o=a(1),d=a(20);const h=/^file:\/\/\/[a-zA-Z]:\//;function g(it){const st=require$$5,rt=st.parse(it);return rt.protocol==="file:"||rt.host?rt:/^[a-z]:[/\\]/i.test(it)?st.parse(`file:///${it}`):(rt.host||(rt.protocol="file:"),rt)}class b{constructor(st){this.source=st,this.url=g(st.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&st.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new tt(this):new _e(this),this._fullRequestReader}getRangeReader(st,rt){if(rt<=this._progressiveDataLength)return null;const at=this.isFsUrl?new nt(this,st,rt):new et(this,st,rt);return this._rangeRequestReaders.push(at),at}cancelAllRequests(st){var rt;(rt=this._fullRequestReader)==null||rt.cancel(st);for(const at of this._rangeRequestReaders.slice(0))at.cancel(st)}}e.PDFNodeStream=b;class j{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null;const rt=st.source;this._contentLength=rt.length,this._loaded=0,this._filename=null,this._disableRange=rt.disableRange||!1,this._rangeChunkSize=rt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!rt.disableStream,this._isRangeSupported=!rt.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var at;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=st.length,(at=this.onProgress)==null||at.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",rt=>{this._error(rt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const rt=st.source;this._isStreamingSupported=!rt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var at;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=st.length,(at=this.onProgress)==null||at.call(this,{loaded:this._loaded}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",rt=>{this._error(rt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function $(it,st){return{protocol:it.protocol,auth:it.auth,host:it.hostname,port:it.port,path:it.path,method:"GET",headers:st}}class _e extends j{constructor(st){super(st);const rt=at=>{if(at.statusCode===404){const ut=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ut,this._headersCapability.reject(ut);return}this._headersCapability.resolve(),this._setReadableStream(at);const ht=ut=>this._readableStream.headers[ut.toLowerCase()],{allowRangeRequests:ft,suggestedLength:ot}=(0,d.validateRangeRequestCapabilities)({getResponseHeader:ht,isHttp:st.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ft,this._contentLength=ot||this._contentLength,this._filename=(0,d.extractFilenameFromHeader)(ht)};if(this._request=null,this._url.protocol==="http:"){const at=require$$5;this._request=at.request($(this._url,st.httpHeaders),rt)}else{const at=require$$5;this._request=at.request($(this._url,st.httpHeaders),rt)}this._request.on("error",at=>{this._storedError=at,this._headersCapability.reject(at)}),this._request.end()}}class et extends _{constructor(st,rt,at){super(st),this._httpHeaders={};for(const ft in st.httpHeaders){const ot=st.httpHeaders[ft];ot!==void 0&&(this._httpHeaders[ft]=ot)}this._httpHeaders.Range=`bytes=${rt}-${at-1}`;const ht=ft=>{if(ft.statusCode===404){const ot=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ot;return}this._setReadableStream(ft)};if(this._request=null,this._url.protocol==="http:"){const ft=require$$5;this._request=ft.request($(this._url,this._httpHeaders),ht)}else{const ft=require$$5;this._request=ft.request($(this._url,this._httpHeaders),ht)}this._request.on("error",ft=>{this._storedError=ft}),this._request.end()}}class tt extends j{constructor(st){super(st);let rt=decodeURIComponent(this._url.path);h.test(this._url.href)&&(rt=rt.replace(/^\//,""));const at=require$$5;at.lstat(rt,(ht,ft)=>{if(ht){ht.code==="ENOENT"&&(ht=new o.MissingPDFException(`Missing PDF "${rt}".`)),this._storedError=ht,this._headersCapability.reject(ht);return}this._contentLength=ft.size,this._setReadableStream(at.createReadStream(rt)),this._headersCapability.resolve()})}}class nt extends _{constructor(st,rt,at){super(st);let ht=decodeURIComponent(this._url.path);h.test(this._url.href)&&(ht=ht.replace(/^\//,""));const ft=require$$5;this._setReadableStream(ft.createReadStream(ht,{start:rt,end:at-1}))}}},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var o=a(6),d=a(1);const h={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},g="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/1999/xlink",j=["butt","round","square"],_=["miter","round","bevel"],$=function(ft,ot="",ut=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ut)return URL.createObjectURL(new Blob([ft],{type:ot}));const ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let dt=`data:${ot};base64,`;for(let vt=0,Et=ft.length;vt<Et;vt+=3){const pt=ft[vt]&255,bt=ft[vt+1]&255,Ct=ft[vt+2]&255,Bt=pt>>2,jt=(pt&3)<<4|bt>>4,Ft=vt+1<Et?(bt&15)<<2|Ct>>6:64,wt=vt+2<Et?Ct&63:64;dt+=ct[Bt]+ct[jt]+ct[Ft]+ct[wt]}return dt},_e=function(){const ft=new Uint8Array([137,80,78,71,13,10,26,10]),ot=12,ut=new Int32Array(256);for(let Ct=0;Ct<256;Ct++){let Bt=Ct;for(let jt=0;jt<8;jt++)Bt=Bt&1?3988292384^Bt>>1&2147483647:Bt>>1&2147483647;ut[Ct]=Bt}function ct(Ct,Bt,jt){let Ft=-1;for(let wt=Bt;wt<jt;wt++){const It=(Ft^Ct[wt])&255,yt=ut[It];Ft=Ft>>>8^yt}return Ft^-1}function dt(Ct,Bt,jt,Ft){let wt=Ft;const It=Bt.length;jt[wt]=It>>24&255,jt[wt+1]=It>>16&255,jt[wt+2]=It>>8&255,jt[wt+3]=It&255,wt+=4,jt[wt]=Ct.charCodeAt(0)&255,jt[wt+1]=Ct.charCodeAt(1)&255,jt[wt+2]=Ct.charCodeAt(2)&255,jt[wt+3]=Ct.charCodeAt(3)&255,wt+=4,jt.set(Bt,wt),wt+=Bt.length;const yt=ct(jt,Ft+4,wt);jt[wt]=yt>>24&255,jt[wt+1]=yt>>16&255,jt[wt+2]=yt>>8&255,jt[wt+3]=yt&255}function vt(Ct,Bt,jt){let Ft=1,wt=0;for(let It=Bt;It<jt;++It)Ft=(Ft+(Ct[It]&255))%65521,wt=(wt+Ft)%65521;return wt<<16|Ft}function Et(Ct){if(!d.isNodeJS)return pt(Ct);try{const Bt=parseInt(process.versions.node)>=8?Ct:Buffer.from(Ct),jt=require$$5.deflateSync(Bt,{level:9});return jt instanceof Uint8Array?jt:new Uint8Array(jt)}catch(Bt){(0,d.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Bt)}return pt(Ct)}function pt(Ct){let Bt=Ct.length;const jt=65535,Ft=Math.ceil(Bt/jt),wt=new Uint8Array(2+Bt+Ft*5+4);let It=0;wt[It++]=120,wt[It++]=156;let yt=0;for(;Bt>jt;)wt[It++]=0,wt[It++]=255,wt[It++]=255,wt[It++]=0,wt[It++]=0,wt.set(Ct.subarray(yt,yt+jt),It),It+=jt,yt+=jt,Bt-=jt;wt[It++]=1,wt[It++]=Bt&255,wt[It++]=Bt>>8&255,wt[It++]=~Bt&65535&255,wt[It++]=(~Bt&65535)>>8&255,wt.set(Ct.subarray(yt),It),It+=Ct.length-yt;const Dt=vt(Ct,0,Ct.length);return wt[It++]=Dt>>24&255,wt[It++]=Dt>>16&255,wt[It++]=Dt>>8&255,wt[It++]=Dt&255,wt}function bt(Ct,Bt,jt,Ft){const wt=Ct.width,It=Ct.height;let yt,Dt,Mt;const St=Ct.data;switch(Bt){case d.ImageKind.GRAYSCALE_1BPP:Dt=0,yt=1,Mt=wt+7>>3;break;case d.ImageKind.RGB_24BPP:Dt=2,yt=8,Mt=wt*3;break;case d.ImageKind.RGBA_32BPP:Dt=6,yt=8,Mt=wt*4;break;default:throw new Error("invalid format")}const gt=new Uint8Array((1+Mt)*It);let mt=0,xt=0;for(let Zt=0;Zt<It;++Zt)gt[mt++]=0,gt.set(St.subarray(xt,xt+Mt),mt),xt+=Mt,mt+=Mt;if(Bt===d.ImageKind.GRAYSCALE_1BPP&&Ft){mt=0;for(let Zt=0;Zt<It;Zt++){mt++;for(let tr=0;tr<Mt;tr++)gt[mt++]^=255}}const _t=new Uint8Array([wt>>24&255,wt>>16&255,wt>>8&255,wt&255,It>>24&255,It>>16&255,It>>8&255,It&255,yt,Dt,0,0,0]),At=Et(gt),Tt=ft.length+ot*3+_t.length+At.length,Lt=new Uint8Array(Tt);let Ut=0;return Lt.set(ft,Ut),Ut+=ft.length,dt("IHDR",_t,Lt,Ut),Ut+=ot+_t.length,dt("IDATA",At,Lt,Ut),Ut+=ot+At.length,dt("IEND",new Uint8Array(0),Lt,Ut),$(Lt,"image/png",jt)}return function(Bt,jt,Ft){const wt=Bt.kind===void 0?d.ImageKind.GRAYSCALE_1BPP:Bt.kind;return bt(Bt,wt,jt,Ft)}}();class et{constructor(){this.fontSizeScale=1,this.fontWeight=h.fontWeight,this.fontSize=0,this.textMatrix=d.IDENTITY_MATRIX,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=d.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=h.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ot,ut){this.x=ot,this.y=ut}}function tt(ft){let ot=[];const ut=[];for(const ct of ft){if(ct.fn==="save"){ot.push({fnId:92,fn:"group",items:[]}),ut.push(ot),ot=ot.at(-1).items;continue}ct.fn==="restore"?ot=ut.pop():ot.push(ct)}return ot}function nt(ft){if(Number.isInteger(ft))return ft.toString();const ot=ft.toFixed(10);let ut=ot.length-1;if(ot[ut]!=="0")return ot;do ut--;while(ot[ut]==="0");return ot.substring(0,ot[ut]==="."?ut:ut+1)}function it(ft){if(ft[4]===0&&ft[5]===0){if(ft[1]===0&&ft[2]===0)return ft[0]===1&&ft[3]===1?"":`scale(${nt(ft[0])} ${nt(ft[3])})`;if(ft[0]===ft[3]&&ft[1]===-ft[2]){const ot=Math.acos(ft[0])*180/Math.PI;return`rotate(${nt(ot)})`}}else if(ft[0]===1&&ft[1]===0&&ft[2]===0&&ft[3]===1)return`translate(${nt(ft[4])} ${nt(ft[5])})`;return`matrix(${nt(ft[0])} ${nt(ft[1])} ${nt(ft[2])} ${nt(ft[3])} ${nt(ft[4])} ${nt(ft[5])})`}let st=0,rt=0,at=0;class ht{constructor(ot,ut,ct=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new et,this.transformMatrix=d.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ot,this.objs=ut,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ct,this._operatorIdMapping=[];for(const dt in d.OPS)this._operatorIdMapping[d.OPS[dt]]=dt}getObject(ot,ut=null){return typeof ot=="string"?ot.startsWith("g_")?this.commonObjs.get(ot):this.objs.get(ot):ut}save(){this.transformStack.push(this.transformMatrix);const ot=this.current;this.extraStack.push(ot),this.current=ot.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ot){this.save(),this.executeOpTree(ot),this.restore()}loadDependencies(ot){const ut=ot.fnArray,ct=ot.argsArray;for(let dt=0,vt=ut.length;dt<vt;dt++)if(ut[dt]===d.OPS.dependency)for(const Et of ct[dt]){const pt=Et.startsWith("g_")?this.commonObjs:this.objs,bt=new Promise(Ct=>{pt.get(Et,Ct)});this.current.dependencies.push(bt)}return Promise.all(this.current.dependencies)}transform(ot,ut,ct,dt,vt,Et){const pt=[ot,ut,ct,dt,vt,Et];this.transformMatrix=d.Util.transform(this.transformMatrix,pt),this.tgrp=null}getSVG(ot,ut){this.viewport=ut;const ct=this._initialize(ut);return this.loadDependencies(ot).then(()=>(this.transformMatrix=d.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ot)),ct))}convertOpList(ot){const ut=this._operatorIdMapping,ct=ot.argsArray,dt=ot.fnArray,vt=[];for(let Et=0,pt=dt.length;Et<pt;Et++){const bt=dt[Et];vt.push({fnId:bt,fn:ut[bt],args:ct[Et]})}return tt(vt)}executeOpTree(ot){for(const ut of ot){const ct=ut.fn,dt=ut.fnId,vt=ut.args;switch(dt|0){case d.OPS.beginText:this.beginText();break;case d.OPS.dependency:break;case d.OPS.setLeading:this.setLeading(vt);break;case d.OPS.setLeadingMoveText:this.setLeadingMoveText(vt[0],vt[1]);break;case d.OPS.setFont:this.setFont(vt);break;case d.OPS.showText:this.showText(vt[0]);break;case d.OPS.showSpacedText:this.showText(vt[0]);break;case d.OPS.endText:this.endText();break;case d.OPS.moveText:this.moveText(vt[0],vt[1]);break;case d.OPS.setCharSpacing:this.setCharSpacing(vt[0]);break;case d.OPS.setWordSpacing:this.setWordSpacing(vt[0]);break;case d.OPS.setHScale:this.setHScale(vt[0]);break;case d.OPS.setTextMatrix:this.setTextMatrix(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5]);break;case d.OPS.setTextRise:this.setTextRise(vt[0]);break;case d.OPS.setTextRenderingMode:this.setTextRenderingMode(vt[0]);break;case d.OPS.setLineWidth:this.setLineWidth(vt[0]);break;case d.OPS.setLineJoin:this.setLineJoin(vt[0]);break;case d.OPS.setLineCap:this.setLineCap(vt[0]);break;case d.OPS.setMiterLimit:this.setMiterLimit(vt[0]);break;case d.OPS.setFillRGBColor:this.setFillRGBColor(vt[0],vt[1],vt[2]);break;case d.OPS.setStrokeRGBColor:this.setStrokeRGBColor(vt[0],vt[1],vt[2]);break;case d.OPS.setStrokeColorN:this.setStrokeColorN(vt);break;case d.OPS.setFillColorN:this.setFillColorN(vt);break;case d.OPS.shadingFill:this.shadingFill(vt[0]);break;case d.OPS.setDash:this.setDash(vt[0],vt[1]);break;case d.OPS.setRenderingIntent:this.setRenderingIntent(vt[0]);break;case d.OPS.setFlatness:this.setFlatness(vt[0]);break;case d.OPS.setGState:this.setGState(vt[0]);break;case d.OPS.fill:this.fill();break;case d.OPS.eoFill:this.eoFill();break;case d.OPS.stroke:this.stroke();break;case d.OPS.fillStroke:this.fillStroke();break;case d.OPS.eoFillStroke:this.eoFillStroke();break;case d.OPS.clip:this.clip("nonzero");break;case d.OPS.eoClip:this.clip("evenodd");break;case d.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case d.OPS.paintImageXObject:this.paintImageXObject(vt[0]);break;case d.OPS.paintInlineImageXObject:this.paintInlineImageXObject(vt[0]);break;case d.OPS.paintImageMaskXObject:this.paintImageMaskXObject(vt[0]);break;case d.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(vt[0],vt[1]);break;case d.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case d.OPS.closePath:this.closePath();break;case d.OPS.closeStroke:this.closeStroke();break;case d.OPS.closeFillStroke:this.closeFillStroke();break;case d.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case d.OPS.nextLine:this.nextLine();break;case d.OPS.transform:this.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5]);break;case d.OPS.constructPath:this.constructPath(vt[0],vt[1]);break;case d.OPS.endPath:this.endPath();break;case 92:this.group(ut.items);break;default:(0,d.warn)(`Unimplemented operator ${ct}`);break}}}setWordSpacing(ot){this.current.wordSpacing=ot}setCharSpacing(ot){this.current.charSpacing=ot}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ot,ut,ct,dt,vt,Et){const pt=this.current;pt.textMatrix=pt.lineMatrix=[ot,ut,ct,dt,vt,Et],pt.textMatrixScale=Math.hypot(ot,ut),pt.x=pt.lineX=0,pt.y=pt.lineY=0,pt.xcoords=[],pt.ycoords=[],pt.tspan=this.svgFactory.createElement("svg:tspan"),pt.tspan.setAttributeNS(null,"font-family",pt.fontFamily),pt.tspan.setAttributeNS(null,"font-size",`${nt(pt.fontSize)}px`),pt.tspan.setAttributeNS(null,"y",nt(-pt.y)),pt.txtElement=this.svgFactory.createElement("svg:text"),pt.txtElement.append(pt.tspan)}beginText(){const ot=this.current;ot.x=ot.lineX=0,ot.y=ot.lineY=0,ot.textMatrix=d.IDENTITY_MATRIX,ot.lineMatrix=d.IDENTITY_MATRIX,ot.textMatrixScale=1,ot.tspan=this.svgFactory.createElement("svg:tspan"),ot.txtElement=this.svgFactory.createElement("svg:text"),ot.txtgrp=this.svgFactory.createElement("svg:g"),ot.xcoords=[],ot.ycoords=[]}moveText(ot,ut){const ct=this.current;ct.x=ct.lineX+=ot,ct.y=ct.lineY+=ut,ct.xcoords=[],ct.ycoords=[],ct.tspan=this.svgFactory.createElement("svg:tspan"),ct.tspan.setAttributeNS(null,"font-family",ct.fontFamily),ct.tspan.setAttributeNS(null,"font-size",`${nt(ct.fontSize)}px`),ct.tspan.setAttributeNS(null,"y",nt(-ct.y))}showText(ot){const ut=this.current,ct=ut.font,dt=ut.fontSize;if(dt===0)return;const vt=ut.fontSizeScale,Et=ut.charSpacing,pt=ut.wordSpacing,bt=ut.fontDirection,Ct=ut.textHScale*bt,Bt=ct.vertical,jt=Bt?1:-1,Ft=ct.defaultVMetrics,wt=dt*ut.fontMatrix[0];let It=0;for(const Mt of ot){if(Mt===null){It+=bt*pt;continue}else if(typeof Mt=="number"){It+=jt*Mt*dt/1e3;continue}const St=(Mt.isSpace?pt:0)+Et,gt=Mt.fontChar;let mt,xt,_t=Mt.width;if(Bt){let Tt;const Lt=Mt.vmetric||Ft;Tt=Mt.vmetric?Lt[1]:_t*.5,Tt=-Tt*wt;const Ut=Lt[2]*wt;_t=Lt?-Lt[0]:_t,mt=Tt/vt,xt=(It+Ut)/vt}else mt=It/vt,xt=0;(Mt.isInFont||ct.missingFile)&&(ut.xcoords.push(ut.x+mt),Bt&&ut.ycoords.push(-ut.y+xt),ut.tspan.textContent+=gt);const At=Bt?_t*wt-St*bt:_t*wt+St*bt;It+=At}ut.tspan.setAttributeNS(null,"x",ut.xcoords.map(nt).join(" ")),Bt?ut.tspan.setAttributeNS(null,"y",ut.ycoords.map(nt).join(" ")):ut.tspan.setAttributeNS(null,"y",nt(-ut.y)),Bt?ut.y-=It:ut.x+=It*Ct,ut.tspan.setAttributeNS(null,"font-family",ut.fontFamily),ut.tspan.setAttributeNS(null,"font-size",`${nt(ut.fontSize)}px`),ut.fontStyle!==h.fontStyle&&ut.tspan.setAttributeNS(null,"font-style",ut.fontStyle),ut.fontWeight!==h.fontWeight&&ut.tspan.setAttributeNS(null,"font-weight",ut.fontWeight);const yt=ut.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;if(yt===d.TextRenderingMode.FILL||yt===d.TextRenderingMode.FILL_STROKE?(ut.fillColor!==h.fillColor&&ut.tspan.setAttributeNS(null,"fill",ut.fillColor),ut.fillAlpha<1&&ut.tspan.setAttributeNS(null,"fill-opacity",ut.fillAlpha)):ut.textRenderingMode===d.TextRenderingMode.ADD_TO_PATH?ut.tspan.setAttributeNS(null,"fill","transparent"):ut.tspan.setAttributeNS(null,"fill","none"),yt===d.TextRenderingMode.STROKE||yt===d.TextRenderingMode.FILL_STROKE){const Mt=1/(ut.textMatrixScale||1);this._setStrokeAttributes(ut.tspan,Mt)}let Dt=ut.textMatrix;ut.textRise!==0&&(Dt=Dt.slice(),Dt[5]+=ut.textRise),ut.txtElement.setAttributeNS(null,"transform",`${it(Dt)} scale(${nt(Ct)}, -1)`),ut.txtElement.setAttributeNS(g,"xml:space","preserve"),ut.txtElement.append(ut.tspan),ut.txtgrp.append(ut.txtElement),this._ensureTransformGroup().append(ut.txtElement)}setLeadingMoveText(ot,ut){this.setLeading(-ut),this.moveText(ot,ut)}addFontStyle(ot){if(!ot.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ut=$(ot.data,ot.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ot.loadedName}"; src: url(${ut}); }
`}setFont(ot){const ut=this.current,ct=this.commonObjs.get(ot[0]);let dt=ot[1];ut.font=ct,this.embedFonts&&!ct.missingFile&&!this.embeddedFonts[ct.loadedName]&&(this.addFontStyle(ct),this.embeddedFonts[ct.loadedName]=ct),ut.fontMatrix=ct.fontMatrix||d.FONT_IDENTITY_MATRIX;let vt="normal";ct.black?vt="900":ct.bold&&(vt="bold");const Et=ct.italic?"italic":"normal";dt<0?(dt=-dt,ut.fontDirection=-1):ut.fontDirection=1,ut.fontSize=dt,ut.fontFamily=ct.loadedName,ut.fontWeight=vt,ut.fontStyle=Et,ut.tspan=this.svgFactory.createElement("svg:tspan"),ut.tspan.setAttributeNS(null,"y",nt(-ut.y)),ut.xcoords=[],ut.ycoords=[]}endText(){var ut;const ot=this.current;ot.textRenderingMode&d.TextRenderingMode.ADD_TO_PATH_FLAG&&((ut=ot.txtElement)!=null&&ut.hasChildNodes())&&(ot.element=ot.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ot){ot>0&&(this.current.lineWidth=ot)}setLineCap(ot){this.current.lineCap=j[ot]}setLineJoin(ot){this.current.lineJoin=_[ot]}setMiterLimit(ot){this.current.miterLimit=ot}setStrokeAlpha(ot){this.current.strokeAlpha=ot}setStrokeRGBColor(ot,ut,ct){this.current.strokeColor=d.Util.makeHexColor(ot,ut,ct)}setFillAlpha(ot){this.current.fillAlpha=ot}setFillRGBColor(ot,ut,ct){this.current.fillColor=d.Util.makeHexColor(ot,ut,ct),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ot){this.current.strokeColor=this._makeColorN_Pattern(ot)}setFillColorN(ot){this.current.fillColor=this._makeColorN_Pattern(ot)}shadingFill(ot){const{width:ut,height:ct}=this.viewport,dt=d.Util.inverseTransform(this.transformMatrix),[vt,Et,pt,bt]=d.Util.getAxialAlignedBoundingBox([0,0,ut,ct],dt),Ct=this.svgFactory.createElement("svg:rect");Ct.setAttributeNS(null,"x",vt),Ct.setAttributeNS(null,"y",Et),Ct.setAttributeNS(null,"width",pt-vt),Ct.setAttributeNS(null,"height",bt-Et),Ct.setAttributeNS(null,"fill",this._makeShadingPattern(ot)),this.current.fillAlpha<1&&Ct.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ct)}_makeColorN_Pattern(ot){return ot[0]==="TilingPattern"?this._makeTilingPattern(ot):this._makeShadingPattern(ot)}_makeTilingPattern(ot){const ut=ot[1],ct=ot[2],dt=ot[3]||d.IDENTITY_MATRIX,[vt,Et,pt,bt]=ot[4],Ct=ot[5],Bt=ot[6],jt=ot[7],Ft=`shading${at++}`,[wt,It,yt,Dt]=d.Util.normalizeRect([...d.Util.applyTransform([vt,Et],dt),...d.Util.applyTransform([pt,bt],dt)]),[Mt,St]=d.Util.singularValueDecompose2dScale(dt),gt=Ct*Mt,mt=Bt*St,xt=this.svgFactory.createElement("svg:pattern");xt.setAttributeNS(null,"id",Ft),xt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),xt.setAttributeNS(null,"width",gt),xt.setAttributeNS(null,"height",mt),xt.setAttributeNS(null,"x",`${wt}`),xt.setAttributeNS(null,"y",`${It}`);const _t=this.svg,At=this.transformMatrix,Tt=this.current.fillColor,Lt=this.current.strokeColor,Ut=this.svgFactory.create(yt-wt,Dt-It);if(this.svg=Ut,this.transformMatrix=dt,jt===2){const Zt=d.Util.makeHexColor(...ut);this.current.fillColor=Zt,this.current.strokeColor=Zt}return this.executeOpTree(this.convertOpList(ct)),this.svg=_t,this.transformMatrix=At,this.current.fillColor=Tt,this.current.strokeColor=Lt,xt.append(Ut.childNodes[0]),this.defs.append(xt),`url(#${Ft})`}_makeShadingPattern(ot){switch(typeof ot=="string"&&(ot=this.objs.get(ot)),ot[0]){case"RadialAxial":const ut=`shading${at++}`,ct=ot[3];let dt;switch(ot[1]){case"axial":const vt=ot[4],Et=ot[5];dt=this.svgFactory.createElement("svg:linearGradient"),dt.setAttributeNS(null,"id",ut),dt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),dt.setAttributeNS(null,"x1",vt[0]),dt.setAttributeNS(null,"y1",vt[1]),dt.setAttributeNS(null,"x2",Et[0]),dt.setAttributeNS(null,"y2",Et[1]);break;case"radial":const pt=ot[4],bt=ot[5],Ct=ot[6],Bt=ot[7];dt=this.svgFactory.createElement("svg:radialGradient"),dt.setAttributeNS(null,"id",ut),dt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),dt.setAttributeNS(null,"cx",bt[0]),dt.setAttributeNS(null,"cy",bt[1]),dt.setAttributeNS(null,"r",Bt),dt.setAttributeNS(null,"fx",pt[0]),dt.setAttributeNS(null,"fy",pt[1]),dt.setAttributeNS(null,"fr",Ct);break;default:throw new Error(`Unknown RadialAxial type: ${ot[1]}`)}for(const vt of ct){const Et=this.svgFactory.createElement("svg:stop");Et.setAttributeNS(null,"offset",vt[0]),Et.setAttributeNS(null,"stop-color",vt[1]),dt.append(Et)}return this.defs.append(dt),`url(#${ut})`;case"Mesh":return(0,d.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ot[0]}`)}}setDash(ot,ut){this.current.dashArray=ot,this.current.dashPhase=ut}constructPath(ot,ut){const ct=this.current;let dt=ct.x,vt=ct.y,Et=[],pt=0;for(const bt of ot)switch(bt|0){case d.OPS.rectangle:dt=ut[pt++],vt=ut[pt++];const Ct=ut[pt++],Bt=ut[pt++],jt=dt+Ct,Ft=vt+Bt;Et.push("M",nt(dt),nt(vt),"L",nt(jt),nt(vt),"L",nt(jt),nt(Ft),"L",nt(dt),nt(Ft),"Z");break;case d.OPS.moveTo:dt=ut[pt++],vt=ut[pt++],Et.push("M",nt(dt),nt(vt));break;case d.OPS.lineTo:dt=ut[pt++],vt=ut[pt++],Et.push("L",nt(dt),nt(vt));break;case d.OPS.curveTo:dt=ut[pt+4],vt=ut[pt+5],Et.push("C",nt(ut[pt]),nt(ut[pt+1]),nt(ut[pt+2]),nt(ut[pt+3]),nt(dt),nt(vt)),pt+=6;break;case d.OPS.curveTo2:Et.push("C",nt(dt),nt(vt),nt(ut[pt]),nt(ut[pt+1]),nt(ut[pt+2]),nt(ut[pt+3])),dt=ut[pt+2],vt=ut[pt+3],pt+=4;break;case d.OPS.curveTo3:dt=ut[pt+2],vt=ut[pt+3],Et.push("C",nt(ut[pt]),nt(ut[pt+1]),nt(dt),nt(vt),nt(dt),nt(vt)),pt+=4;break;case d.OPS.closePath:Et.push("Z");break}Et=Et.join(" "),ct.path&&ot.length>0&&ot[0]!==d.OPS.rectangle&&ot[0]!==d.OPS.moveTo?Et=ct.path.getAttributeNS(null,"d")+Et:(ct.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ct.path)),ct.path.setAttributeNS(null,"d",Et),ct.path.setAttributeNS(null,"fill","none"),ct.element=ct.path,ct.setCurrentPoint(dt,vt)}endPath(){const ot=this.current;if(ot.path=null,!this.pendingClip)return;if(!ot.element){this.pendingClip=null;return}const ut=`clippath${st++}`,ct=this.svgFactory.createElement("svg:clipPath");ct.setAttributeNS(null,"id",ut),ct.setAttributeNS(null,"transform",it(this.transformMatrix));const dt=ot.element.cloneNode(!0);if(this.pendingClip==="evenodd"?dt.setAttributeNS(null,"clip-rule","evenodd"):dt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ct.append(dt),this.defs.append(ct),ot.activeClipUrl){ot.clipGroup=null;for(const vt of this.extraStack)vt.clipGroup=null;ct.setAttributeNS(null,"clip-path",ot.activeClipUrl)}ot.activeClipUrl=`url(#${ut})`,this.tgrp=null}clip(ot){this.pendingClip=ot}closePath(){const ot=this.current;if(ot.path){const ut=`${ot.path.getAttributeNS(null,"d")}Z`;ot.path.setAttributeNS(null,"d",ut)}}setLeading(ot){this.current.leading=-ot}setTextRise(ot){this.current.textRise=ot}setTextRenderingMode(ot){this.current.textRenderingMode=ot}setHScale(ot){this.current.textHScale=ot/100}setRenderingIntent(ot){}setFlatness(ot){}setGState(ot){for(const[ut,ct]of ot)switch(ut){case"LW":this.setLineWidth(ct);break;case"LC":this.setLineCap(ct);break;case"LJ":this.setLineJoin(ct);break;case"ML":this.setMiterLimit(ct);break;case"D":this.setDash(ct[0],ct[1]);break;case"RI":this.setRenderingIntent(ct);break;case"FL":this.setFlatness(ct);break;case"Font":this.setFont(ct);break;case"CA":this.setStrokeAlpha(ct);break;case"ca":this.setFillAlpha(ct);break;default:(0,d.warn)(`Unimplemented graphic state operator ${ut}`);break}}fill(){const ot=this.current;ot.element&&(ot.element.setAttributeNS(null,"fill",ot.fillColor),ot.element.setAttributeNS(null,"fill-opacity",ot.fillAlpha),this.endPath())}stroke(){const ot=this.current;ot.element&&(this._setStrokeAttributes(ot.element),ot.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ot,ut=1){const ct=this.current;let dt=ct.dashArray;ut!==1&&dt.length>0&&(dt=dt.map(function(vt){return ut*vt})),ot.setAttributeNS(null,"stroke",ct.strokeColor),ot.setAttributeNS(null,"stroke-opacity",ct.strokeAlpha),ot.setAttributeNS(null,"stroke-miterlimit",nt(ct.miterLimit)),ot.setAttributeNS(null,"stroke-linecap",ct.lineCap),ot.setAttributeNS(null,"stroke-linejoin",ct.lineJoin),ot.setAttributeNS(null,"stroke-width",nt(ut*ct.lineWidth)+"px"),ot.setAttributeNS(null,"stroke-dasharray",dt.map(nt).join(" ")),ot.setAttributeNS(null,"stroke-dashoffset",nt(ut*ct.dashPhase)+"px")}eoFill(){var ot;(ot=this.current.element)==null||ot.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ot;(ot=this.current.element)==null||ot.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ot=this.svgFactory.createElement("svg:rect");ot.setAttributeNS(null,"x","0"),ot.setAttributeNS(null,"y","0"),ot.setAttributeNS(null,"width","1px"),ot.setAttributeNS(null,"height","1px"),ot.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ot)}paintImageXObject(ot){const ut=this.getObject(ot);if(!ut){(0,d.warn)(`Dependent image with object ID ${ot} is not ready yet`);return}this.paintInlineImageXObject(ut)}paintInlineImageXObject(ot,ut){const ct=ot.width,dt=ot.height,vt=_e(ot,this.forceDataSchema,!!ut),Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y","0"),Et.setAttributeNS(null,"width",nt(ct)),Et.setAttributeNS(null,"height",nt(dt)),this.current.element=Et,this.clip("nonzero");const pt=this.svgFactory.createElement("svg:image");pt.setAttributeNS(b,"xlink:href",vt),pt.setAttributeNS(null,"x","0"),pt.setAttributeNS(null,"y",nt(-dt)),pt.setAttributeNS(null,"width",nt(ct)+"px"),pt.setAttributeNS(null,"height",nt(dt)+"px"),pt.setAttributeNS(null,"transform",`scale(${nt(1/ct)} ${nt(-1/dt)})`),ut?ut.append(pt):this._ensureTransformGroup().append(pt)}paintImageMaskXObject(ot){const ut=this.getObject(ot.data,ot);if(ut.bitmap){(0,d.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ct=this.current,dt=ut.width,vt=ut.height,Et=ct.fillColor;ct.maskId=`mask${rt++}`;const pt=this.svgFactory.createElement("svg:mask");pt.setAttributeNS(null,"id",ct.maskId);const bt=this.svgFactory.createElement("svg:rect");bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y","0"),bt.setAttributeNS(null,"width",nt(dt)),bt.setAttributeNS(null,"height",nt(vt)),bt.setAttributeNS(null,"fill",Et),bt.setAttributeNS(null,"mask",`url(#${ct.maskId})`),this.defs.append(pt),this._ensureTransformGroup().append(bt),this.paintInlineImageXObject(ut,pt)}paintFormXObjectBegin(ot,ut){if(Array.isArray(ot)&&ot.length===6&&this.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]),ut){const ct=ut[2]-ut[0],dt=ut[3]-ut[1],vt=this.svgFactory.createElement("svg:rect");vt.setAttributeNS(null,"x",ut[0]),vt.setAttributeNS(null,"y",ut[1]),vt.setAttributeNS(null,"width",nt(ct)),vt.setAttributeNS(null,"height",nt(dt)),this.current.element=vt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ot){const ut=this.svgFactory.create(ot.width,ot.height),ct=this.svgFactory.createElement("svg:defs");ut.append(ct),this.defs=ct;const dt=this.svgFactory.createElement("svg:g");return dt.setAttributeNS(null,"transform",it(ot.transform)),ut.append(dt),this.svg=dt,ut}_ensureClipGroup(){if(!this.current.clipGroup){const ot=this.svgFactory.createElement("svg:g");ot.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ot),this.current.clipGroup=ot}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",it(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=ht},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class a{static textContent(d){const h=[],g={items:h,styles:Object.create(null)};function b(j){var _e;if(!j)return;let _=null;const $=j.name;if($==="#text")_=j.value;else if(a.shouldBuildText($))(_e=j==null?void 0:j.attributes)!=null&&_e.textContent?_=j.attributes.textContent:j.value&&(_=j.value);else return;if(_!==null&&h.push({str:_}),!!j.children)for(const et of j.children)b(et)}return b(d),g}static shouldBuildText(d){return!(d==="textarea"||d==="input"||d==="option"||d==="select")}}e.XfaText=a},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=it,e.updateTextLayer=st;var o=a(1),d=a(6);const h=1e5,g=30,b=.8,j=new Map;function _(rt,at){let ht;if(at&&o.FeatureTest.isOffscreenCanvasSupported)ht=new OffscreenCanvas(rt,rt).getContext("2d",{alpha:!1});else{const ft=document.createElement("canvas");ft.width=ft.height=rt,ht=ft.getContext("2d",{alpha:!1})}return ht}function $(rt,at){const ht=j.get(rt);if(ht)return ht;const ft=_(g,at);ft.font=`${g}px ${rt}`;const ot=ft.measureText("");let ut=ot.fontBoundingBoxAscent,ct=Math.abs(ot.fontBoundingBoxDescent);if(ut){const vt=ut/(ut+ct);return j.set(rt,vt),ft.canvas.width=ft.canvas.height=0,vt}ft.strokeStyle="red",ft.clearRect(0,0,g,g),ft.strokeText("g",0,0);let dt=ft.getImageData(0,0,g,g).data;ct=0;for(let vt=dt.length-1-3;vt>=0;vt-=4)if(dt[vt]>0){ct=Math.ceil(vt/4/g);break}ft.clearRect(0,0,g,g),ft.strokeText("A",0,g),dt=ft.getImageData(0,0,g,g).data,ut=0;for(let vt=0,Et=dt.length;vt<Et;vt+=4)if(dt[vt]>0){ut=g-Math.floor(vt/4/g);break}if(ft.canvas.width=ft.canvas.height=0,ut){const vt=ut/(ut+ct);return j.set(rt,vt),vt}return j.set(rt,b),b}function _e(rt,at,ht){const ft=document.createElement("span"),ot={angle:0,canvasWidth:0,hasText:at.str!=="",hasEOL:at.hasEOL,fontSize:0};rt._textDivs.push(ft);const ut=o.Util.transform(rt._transform,at.transform);let ct=Math.atan2(ut[1],ut[0]);const dt=ht[at.fontName];dt.vertical&&(ct+=Math.PI/2);const vt=Math.hypot(ut[2],ut[3]),Et=vt*$(dt.fontFamily,rt._isOffscreenCanvasSupported);let pt,bt;ct===0?(pt=ut[4],bt=ut[5]-Et):(pt=ut[4]+Et*Math.sin(ct),bt=ut[5]-Et*Math.cos(ct));const Ct="calc(var(--scale-factor)*",Bt=ft.style;rt._container===rt._rootContainer?(Bt.left=`${(100*pt/rt._pageWidth).toFixed(2)}%`,Bt.top=`${(100*bt/rt._pageHeight).toFixed(2)}%`):(Bt.left=`${Ct}${pt.toFixed(2)}px)`,Bt.top=`${Ct}${bt.toFixed(2)}px)`),Bt.fontSize=`${Ct}${vt.toFixed(2)}px)`,Bt.fontFamily=dt.fontFamily,ot.fontSize=vt,ft.setAttribute("role","presentation"),ft.textContent=at.str,ft.dir=at.dir,rt._fontInspectorEnabled&&(ft.dataset.fontName=at.fontName),ct!==0&&(ot.angle=ct*(180/Math.PI));let jt=!1;if(at.str.length>1)jt=!0;else if(at.str!==" "&&at.transform[0]!==at.transform[3]){const Ft=Math.abs(at.transform[0]),wt=Math.abs(at.transform[3]);Ft!==wt&&Math.max(Ft,wt)/Math.min(Ft,wt)>1.5&&(jt=!0)}jt&&(ot.canvasWidth=dt.vertical?at.height:at.width),rt._textDivProperties.set(ft,ot),rt._isReadableStream&&rt._layoutText(ft)}function et(rt){const{div:at,scale:ht,properties:ft,ctx:ot,prevFontSize:ut,prevFontFamily:ct}=rt,{style:dt}=at;let vt="";if(ft.canvasWidth!==0&&ft.hasText){const{fontFamily:Et}=dt,{canvasWidth:pt,fontSize:bt}=ft;(ut!==bt||ct!==Et)&&(ot.font=`${bt*ht}px ${Et}`,rt.prevFontSize=bt,rt.prevFontFamily=Et);const{width:Ct}=ot.measureText(at.textContent);Ct>0&&(vt=`scaleX(${pt*ht/Ct})`)}ft.angle!==0&&(vt=`rotate(${ft.angle}deg) ${vt}`),vt.length>0&&(dt.transform=vt)}function tt(rt){if(rt._canceled)return;const at=rt._textDivs,ht=rt._capability;if(at.length>h){ht.resolve();return}if(!rt._isReadableStream)for(const ot of at)rt._layoutText(ot);ht.resolve()}class nt{constructor({textContentSource:at,container:ht,viewport:ft,textDivs:ot,textDivProperties:ut,textContentItemsStr:ct,isOffscreenCanvasSupported:dt}){var Ct;this._textContentSource=at,this._isReadableStream=at instanceof ReadableStream,this._container=this._rootContainer=ht,this._textDivs=ot||[],this._textContentItemsStr=ct||[],this._isOffscreenCanvasSupported=dt,this._fontInspectorEnabled=!!((Ct=globalThis.FontInspector)!=null&&Ct.enabled),this._reader=null,this._textDivProperties=ut||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ft.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_(0,dt)};const{pageWidth:vt,pageHeight:Et,pageX:pt,pageY:bt}=ft.rawDims;this._transform=[1,0,0,-1,-pt,bt+Et],this._pageWidth=vt,this._pageHeight=Et,(0,d.setLayerDimensions)(ht,ft),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(at,ht){for(const ft of at){if(ft.str===void 0){if(ft.type==="beginMarkedContentProps"||ft.type==="beginMarkedContent"){const ot=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ft.id!==null&&this._container.setAttribute("id",`${ft.id}`),ot.append(this._container)}else ft.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ft.str),_e(this,ft,ht)}}_layoutText(at){const ht=this._layoutTextParams.properties=this._textDivProperties.get(at);if(this._layoutTextParams.div=at,et(this._layoutTextParams),ht.hasText&&this._container.append(at),ht.hasEOL){const ft=document.createElement("br");ft.setAttribute("role","presentation"),this._container.append(ft)}}_render(){const at=new o.PromiseCapability;let ht=Object.create(null);if(this._isReadableStream){const ft=()=>{this._reader.read().then(({value:ot,done:ut})=>{if(ut){at.resolve();return}Object.assign(ht,ot.styles),this._processItems(ot.items,ht),ft()},at.reject)};this._reader=this._textContentSource.getReader(),ft()}else if(this._textContentSource){const{items:ft,styles:ot}=this._textContentSource;this._processItems(ft,ot),at.resolve()}else throw new Error('No "textContentSource" parameter specified.');at.promise.then(()=>{ht=null,tt(this)},this._capability.reject)}}e.TextLayerRenderTask=nt;function it(rt){!rt.textContentSource&&(rt.textContent||rt.textContentStream)&&((0,d.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),rt.textContentSource=rt.textContent||rt.textContentStream);const{container:at,viewport:ht}=rt,ft=getComputedStyle(at),ot=ft.getPropertyValue("visibility"),ut=parseFloat(ft.getPropertyValue("--scale-factor"));ot==="visible"&&(!ut||Math.abs(ut-ht.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const ct=new nt(rt);return ct._render(),ct}function st({container:rt,viewport:at,textDivs:ht,textDivProperties:ft,isOffscreenCanvasSupported:ot,mustRotate:ut=!0,mustRescale:ct=!0}){if(ut&&(0,d.setLayerDimensions)(rt,{rotation:at.rotation}),ct){const dt=_(0,ot),Et={prevFontSize:null,prevFontFamily:null,div:null,scale:at.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:dt};for(const pt of ht)Et.properties=ft.get(pt),Et.div=pt,et(Et)}}},(s,e,a)=>{var $,_e,et,tt,nt,it,st,rt,at,ht,ft,so,rs,ao,oo;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var o=a(1),d=a(4),h=a(28),g=a(33),b=a(6),j=a(34);const vt=class vt{constructor({uiManager:pt,pageIndex:bt,div:Ct,accessibilityManager:Bt,annotationLayer:jt,viewport:Ft,l10n:wt}){$t(this,ft);$t(this,$);$t(this,_e,!1);$t(this,et,null);$t(this,tt,this.pointerup.bind(this));$t(this,nt,this.pointerdown.bind(this));$t(this,it,new Map);$t(this,st,!1);$t(this,rt,!1);$t(this,at,!1);$t(this,ht);const It=[h.FreeTextEditor,g.InkEditor,j.StampEditor];if(!vt._initialized){vt._initialized=!0;for(const yt of It)yt.initialize(wt)}pt.registerEditorTypes(It),Qt(this,ht,pt),this.pageIndex=bt,this.div=Ct,Qt(this,$,Bt),Qt(this,et,jt),this.viewport=Ft,lt(this,ht).addLayer(this)}get isEmpty(){return lt(this,it).size===0}updateToolbar(pt){lt(this,ht).updateToolbar(pt)}updateMode(pt=lt(this,ht).getMode()){Wt(this,ft,oo).call(this),pt===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),pt!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",pt===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",pt===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",pt===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(pt){if(!pt&&lt(this,ht).getMode()!==o.AnnotationEditorType.INK)return;if(!pt){for(const Ct of lt(this,it).values())if(Ct.isEmpty()){Ct.setInBackground();return}}Wt(this,ft,rs).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(pt){lt(this,ht).setEditingState(pt)}addCommands(pt){lt(this,ht).addCommands(pt)}enable(){this.div.style.pointerEvents="auto";const pt=new Set;for(const Ct of lt(this,it).values())Ct.enableEditing(),Ct.annotationElementId&&pt.add(Ct.annotationElementId);if(!lt(this,et))return;const bt=lt(this,et).getEditableAnnotations();for(const Ct of bt){if(Ct.hide(),lt(this,ht).isDeletedAnnotationElement(Ct.data.id)||pt.has(Ct.data.id))continue;const Bt=this.deserialize(Ct);Bt&&(this.addOrRebuild(Bt),Bt.enableEditing())}}disable(){var bt;Qt(this,at,!0),this.div.style.pointerEvents="none";const pt=new Set;for(const Ct of lt(this,it).values()){if(Ct.disableEditing(),!Ct.annotationElementId||Ct.serialize()!==null){pt.add(Ct.annotationElementId);continue}(bt=this.getEditableAnnotation(Ct.annotationElementId))==null||bt.show(),Ct.remove()}if(lt(this,et)){const Ct=lt(this,et).getEditableAnnotations();for(const Bt of Ct){const{id:jt}=Bt.data;pt.has(jt)||lt(this,ht).isDeletedAnnotationElement(jt)||Bt.show()}}Wt(this,ft,oo).call(this),this.isEmpty&&(this.div.hidden=!0),Qt(this,at,!1)}getEditableAnnotation(pt){var bt;return((bt=lt(this,et))==null?void 0:bt.getEditableAnnotation(pt))||null}setActiveEditor(pt){lt(this,ht).getActive()!==pt&&lt(this,ht).setActiveEditor(pt)}enableClick(){this.div.addEventListener("pointerdown",lt(this,nt)),this.div.addEventListener("pointerup",lt(this,tt))}disableClick(){this.div.removeEventListener("pointerdown",lt(this,nt)),this.div.removeEventListener("pointerup",lt(this,tt))}attach(pt){lt(this,it).set(pt.id,pt);const{annotationElementId:bt}=pt;bt&&lt(this,ht).isDeletedAnnotationElement(bt)&&lt(this,ht).removeDeletedAnnotationElement(pt)}detach(pt){var bt;lt(this,it).delete(pt.id),(bt=lt(this,$))==null||bt.removePointerInTextLayer(pt.contentDiv),!lt(this,at)&&pt.annotationElementId&&lt(this,ht).addDeletedAnnotationElement(pt)}remove(pt){this.detach(pt),lt(this,ht).removeEditor(pt),pt.div.contains(document.activeElement)&&setTimeout(()=>{lt(this,ht).focusMainContainer()},0),pt.div.remove(),pt.isAttachedToDOM=!1,lt(this,rt)||this.addInkEditorIfNeeded(!1)}changeParent(pt){var bt;pt.parent!==this&&(pt.annotationElementId&&(lt(this,ht).addDeletedAnnotationElement(pt.annotationElementId),d.AnnotationEditor.deleteAnnotationElement(pt),pt.annotationElementId=null),this.attach(pt),(bt=pt.parent)==null||bt.detach(pt),pt.setParent(this),pt.div&&pt.isAttachedToDOM&&(pt.div.remove(),this.div.append(pt.div)))}add(pt){if(this.changeParent(pt),lt(this,ht).addEditor(pt),this.attach(pt),!pt.isAttachedToDOM){const bt=pt.render();this.div.append(bt),pt.isAttachedToDOM=!0}pt.fixAndSetPosition(),pt.onceAdded(),lt(this,ht).addToAnnotationStorage(pt)}moveEditorInDOM(pt){var Ct;if(!pt.isAttachedToDOM)return;const{activeElement:bt}=document;pt.div.contains(bt)&&(pt._focusEventsAllowed=!1,setTimeout(()=>{pt.div.contains(document.activeElement)?pt._focusEventsAllowed=!0:(pt.div.addEventListener("focusin",()=>{pt._focusEventsAllowed=!0},{once:!0}),bt.focus())},0)),pt._structTreeParentId=(Ct=lt(this,$))==null?void 0:Ct.moveElementInDOM(this.div,pt.div,pt.contentDiv,!0)}addOrRebuild(pt){pt.needsToBeRebuilt()?pt.rebuild():this.add(pt)}addUndoableEditor(pt){const bt=()=>pt._uiManager.rebuild(pt),Ct=()=>{pt.remove()};this.addCommands({cmd:bt,undo:Ct,mustExec:!1})}getNextId(){return lt(this,ht).getId()}pasteEditor(pt,bt){lt(this,ht).updateToolbar(pt),lt(this,ht).updateMode(pt);const{offsetX:Ct,offsetY:Bt}=Wt(this,ft,ao).call(this),jt=this.getNextId(),Ft=Wt(this,ft,so).call(this,{parent:this,id:jt,x:Ct,y:Bt,uiManager:lt(this,ht),isCentered:!0,...bt});Ft&&this.add(Ft)}deserialize(pt){switch(pt.annotationType??pt.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return h.FreeTextEditor.deserialize(pt,this,lt(this,ht));case o.AnnotationEditorType.INK:return g.InkEditor.deserialize(pt,this,lt(this,ht));case o.AnnotationEditorType.STAMP:return j.StampEditor.deserialize(pt,this,lt(this,ht))}return null}addNewEditor(){Wt(this,ft,rs).call(this,Wt(this,ft,ao).call(this),!0)}setSelected(pt){lt(this,ht).setSelected(pt)}toggleSelected(pt){lt(this,ht).toggleSelected(pt)}isSelected(pt){return lt(this,ht).isSelected(pt)}unselect(pt){lt(this,ht).unselect(pt)}pointerup(pt){const{isMac:bt}=o.FeatureTest.platform;if(!(pt.button!==0||pt.ctrlKey&&bt)&&pt.target===this.div&&lt(this,st)){if(Qt(this,st,!1),!lt(this,_e)){Qt(this,_e,!0);return}if(lt(this,ht).getMode()===o.AnnotationEditorType.STAMP){lt(this,ht).unselectAll();return}Wt(this,ft,rs).call(this,pt,!1)}}pointerdown(pt){if(lt(this,st)){Qt(this,st,!1);return}const{isMac:bt}=o.FeatureTest.platform;if(pt.button!==0||pt.ctrlKey&&bt||pt.target!==this.div)return;Qt(this,st,!0);const Ct=lt(this,ht).getActive();Qt(this,_e,!Ct||Ct.isEmpty())}findNewParent(pt,bt,Ct){const Bt=lt(this,ht).findParent(bt,Ct);return Bt===null||Bt===this?!1:(Bt.changeParent(pt),!0)}destroy(){var pt,bt;((pt=lt(this,ht).getActive())==null?void 0:pt.parent)===this&&(lt(this,ht).commitOrRemove(),lt(this,ht).setActiveEditor(null));for(const Ct of lt(this,it).values())(bt=lt(this,$))==null||bt.removePointerInTextLayer(Ct.contentDiv),Ct.setParent(null),Ct.isAttachedToDOM=!1,Ct.div.remove();this.div=null,lt(this,it).clear(),lt(this,ht).removeLayer(this)}render({viewport:pt}){this.viewport=pt,(0,b.setLayerDimensions)(this.div,pt);for(const bt of lt(this,ht).getEditors(this.pageIndex))this.add(bt);this.updateMode()}update({viewport:pt}){lt(this,ht).commitOrRemove(),this.viewport=pt,(0,b.setLayerDimensions)(this.div,{rotation:pt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:pt,pageHeight:bt}=this.viewport.rawDims;return[pt,bt]}};$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,rt=new WeakMap,at=new WeakMap,ht=new WeakMap,ft=new WeakSet,so=function(pt){switch(lt(this,ht).getMode()){case o.AnnotationEditorType.FREETEXT:return new h.FreeTextEditor(pt);case o.AnnotationEditorType.INK:return new g.InkEditor(pt);case o.AnnotationEditorType.STAMP:return new j.StampEditor(pt)}return null},rs=function(pt,bt){const Ct=this.getNextId(),Bt=Wt(this,ft,so).call(this,{parent:this,id:Ct,x:pt.offsetX,y:pt.offsetY,uiManager:lt(this,ht),isCentered:bt});return Bt&&this.add(Bt),Bt},ao=function(){const{x:pt,y:bt,width:Ct,height:Bt}=this.div.getBoundingClientRect(),jt=Math.max(0,pt),Ft=Math.max(0,bt),wt=Math.min(window.innerWidth,pt+Ct),It=Math.min(window.innerHeight,bt+Bt),yt=(jt+wt)/2-pt,Dt=(Ft+It)/2-bt,[Mt,St]=this.viewport.rotation%180===0?[yt,Dt]:[Dt,yt];return{offsetX:Mt,offsetY:St}},oo=function(){Qt(this,rt,!0);for(const pt of lt(this,it).values())pt.isEmpty()&&pt.remove();Qt(this,rt,!1)},Hr(vt,"_initialized",!1);let _=vt;e.AnnotationEditorLayer=_},(s,e,a)=>{var j,_,$,_e,et,tt,nt,it,st,rt,Ml,Ll,Ul,Fn,lo,Bl,co;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var o=a(1),d=a(5),h=a(4),g=a(29);const vt=class vt extends h.AnnotationEditor{constructor(bt){super({...bt,name:"freeTextEditor"});$t(this,rt);$t(this,j,this.editorDivBlur.bind(this));$t(this,_,this.editorDivFocus.bind(this));$t(this,$,this.editorDivInput.bind(this));$t(this,_e,this.editorDivKeydown.bind(this));$t(this,et);$t(this,tt,"");$t(this,nt,`${this.id}-editor`);$t(this,it);$t(this,st,null);Qt(this,et,bt.color||vt._defaultColor||h.AnnotationEditor._defaultLineColor),Qt(this,it,bt.fontSize||vt._defaultFontSize)}static get _keyboardManager(){const bt=vt.prototype,Ct=Ft=>Ft.isEmpty(),Bt=d.AnnotationEditorUIManager.TRANSLATE_SMALL,jt=d.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new d.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],bt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],bt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],bt._translateEmpty,{args:[-Bt,0],checker:Ct}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],bt._translateEmpty,{args:[-jt,0],checker:Ct}],[["ArrowRight","mac+ArrowRight"],bt._translateEmpty,{args:[Bt,0],checker:Ct}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],bt._translateEmpty,{args:[jt,0],checker:Ct}],[["ArrowUp","mac+ArrowUp"],bt._translateEmpty,{args:[0,-Bt],checker:Ct}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],bt._translateEmpty,{args:[0,-jt],checker:Ct}],[["ArrowDown","mac+ArrowDown"],bt._translateEmpty,{args:[0,Bt],checker:Ct}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],bt._translateEmpty,{args:[0,jt],checker:Ct}]]))}static initialize(bt){h.AnnotationEditor.initialize(bt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Ct=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ct.getPropertyValue("--freetext-padding"))}static updateDefaultParams(bt,Ct){switch(bt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:vt._defaultFontSize=Ct;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:vt._defaultColor=Ct;break}}updateParams(bt,Ct){switch(bt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Wt(this,rt,Ml).call(this,Ct);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Wt(this,rt,Ll).call(this,Ct);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,vt._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,vt._defaultColor||h.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,lt(this,it)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,lt(this,et)]]}_translateEmpty(bt,Ct){this._uiManager.translateSelectedEditors(bt,Ct,!0)}getInitialTranslation(){const bt=this.parentScale;return[-vt._internalPadding*bt,-(vt._internalPadding+lt(this,it))*bt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",lt(this,_e)),this.editorDiv.addEventListener("focus",lt(this,_)),this.editorDiv.addEventListener("blur",lt(this,j)),this.editorDiv.addEventListener("input",lt(this,$)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",lt(this,nt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",lt(this,_e)),this.editorDiv.removeEventListener("focus",lt(this,_)),this.editorDiv.removeEventListener("blur",lt(this,j)),this.editorDiv.removeEventListener("input",lt(this,$)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(bt){this._focusEventsAllowed&&(super.focusin(bt),bt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var bt;if(this.width){Wt(this,rt,co).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(bt=this._initialOptions)!=null&&bt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const bt=lt(this,tt),Ct=Qt(this,tt,Wt(this,rt,Ul).call(this).trimEnd());if(bt===Ct)return;const Bt=jt=>{if(Qt(this,tt,jt),!jt){this.remove();return}Wt(this,rt,lo).call(this),this._uiManager.rebuild(this),Wt(this,rt,Fn).call(this)};this.addCommands({cmd:()=>{Bt(Ct)},undo:()=>{Bt(bt)},mustExec:!1}),Wt(this,rt,Fn).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(bt){this.enterInEditMode()}keydown(bt){bt.target===this.div&&bt.key==="Enter"&&(this.enterInEditMode(),bt.preventDefault())}editorDivKeydown(bt){vt._keyboardManager.exec(this,bt)}editorDivFocus(bt){this.isEditing=!0}editorDivBlur(bt){this.isEditing=!1}editorDivInput(bt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let bt,Ct;this.width&&(bt=this.x,Ct=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",lt(this,nt)),this.enableEditing(),h.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(jt=>{var Ft;return(Ft=this.editorDiv)==null?void 0:Ft.setAttribute("aria-label",jt)}),h.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(jt=>{var Ft;return(Ft=this.editorDiv)==null?void 0:Ft.setAttribute("default-content",jt)}),this.editorDiv.contentEditable=!0;const{style:Bt}=this.editorDiv;if(Bt.fontSize=`calc(${lt(this,it)}px * var(--scale-factor))`,Bt.color=lt(this,et),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,d.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[jt,Ft]=this.parentDimensions;if(this.annotationElementId){const{position:wt}=lt(this,st);let[It,yt]=this.getInitialTranslation();[It,yt]=this.pageTranslationToScreen(It,yt);const[Dt,Mt]=this.pageDimensions,[St,gt]=this.pageTranslation;let mt,xt;switch(this.rotation){case 0:mt=bt+(wt[0]-St)/Dt,xt=Ct+this.height-(wt[1]-gt)/Mt;break;case 90:mt=bt+(wt[0]-St)/Dt,xt=Ct-(wt[1]-gt)/Mt,[It,yt]=[yt,-It];break;case 180:mt=bt-this.width+(wt[0]-St)/Dt,xt=Ct-(wt[1]-gt)/Mt,[It,yt]=[-It,-yt];break;case 270:mt=bt+(wt[0]-St-this.height*Mt)/Dt,xt=Ct+(wt[1]-gt-this.width*Dt)/Mt,[It,yt]=[-yt,It];break}this.setAt(mt*jt,xt*Ft,It,yt)}else this.setAt(bt*jt,Ct*Ft,this.width*jt,this.height*Ft);Wt(this,rt,lo).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(bt,Ct,Bt){let jt=null;if(bt instanceof g.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:wt,fontColor:It},rect:yt,rotation:Dt,id:Mt},textContent:St,textPosition:gt,parent:{page:{pageNumber:mt}}}=bt;if(!St||St.length===0)return null;jt=bt={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(It),fontSize:wt,value:St.join(`
`),position:gt,pageIndex:mt-1,rect:yt,rotation:Dt,id:Mt,deleted:!1}}const Ft=super.deserialize(bt,Ct,Bt);return Qt(Ft,it,bt.fontSize),Qt(Ft,et,o.Util.makeHexColor(...bt.color)),Qt(Ft,tt,bt.value),Ft.annotationElementId=bt.id||null,Qt(Ft,st,jt),Ft}serialize(bt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Ct=vt._internalPadding*this.parentScale,Bt=this.getRect(Ct,Ct),jt=h.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:lt(this,et)),Ft={annotationType:o.AnnotationEditorType.FREETEXT,color:jt,fontSize:lt(this,it),value:lt(this,tt),pageIndex:this.pageIndex,rect:Bt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return bt?Ft:this.annotationElementId&&!Wt(this,rt,Bl).call(this,Ft)?null:(Ft.id=this.annotationElementId,Ft)}};j=new WeakMap,_=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,rt=new WeakSet,Ml=function(bt){const Ct=jt=>{this.editorDiv.style.fontSize=`calc(${jt}px * var(--scale-factor))`,this.translate(0,-(jt-lt(this,it))*this.parentScale),Qt(this,it,jt),Wt(this,rt,Fn).call(this)},Bt=lt(this,it);this.addCommands({cmd:()=>{Ct(bt)},undo:()=>{Ct(Bt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Ll=function(bt){const Ct=lt(this,et);this.addCommands({cmd:()=>{Qt(this,et,this.editorDiv.style.color=bt)},undo:()=>{Qt(this,et,this.editorDiv.style.color=Ct)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ul=function(){const bt=this.editorDiv.getElementsByTagName("div");if(bt.length===0)return this.editorDiv.innerText;const Ct=[];for(const Bt of bt)Ct.push(Bt.innerText.replace(/\r\n?|\n/,""));return Ct.join(`
`)},Fn=function(){const[bt,Ct]=this.parentDimensions;let Bt;if(this.isAttachedToDOM)Bt=this.div.getBoundingClientRect();else{const{currentLayer:jt,div:Ft}=this,wt=Ft.style.display;Ft.style.display="hidden",jt.div.append(this.div),Bt=Ft.getBoundingClientRect(),Ft.remove(),Ft.style.display=wt}this.rotation%180===this.parentRotation%180?(this.width=Bt.width/bt,this.height=Bt.height/Ct):(this.width=Bt.height/bt,this.height=Bt.width/Ct),this.fixAndSetPosition()},lo=function(){if(this.editorDiv.replaceChildren(),!!lt(this,tt))for(const bt of lt(this,tt).split(`
`)){const Ct=document.createElement("div");Ct.append(bt?document.createTextNode(bt):document.createElement("br")),this.editorDiv.append(Ct)}},Bl=function(bt){const{value:Ct,fontSize:Bt,color:jt,rect:Ft,pageIndex:wt}=lt(this,st);return bt.value!==Ct||bt.fontSize!==Bt||bt.rect.some((It,yt)=>Math.abs(It-Ft[yt])>=1)||bt.color.some((It,yt)=>It!==jt[yt])||bt.pageIndex!==wt},co=function(bt=!1){if(!this.annotationElementId)return;if(Wt(this,rt,Fn).call(this),!bt&&(this.width===0||this.height===0)){setTimeout(()=>Wt(this,rt,co).call(this,!0),0);return}const Ct=vt._internalPadding*this.parentScale;lt(this,st).rect=this.getRect(Ct,Ct)},Hr(vt,"_freeTextDefaultContent",""),Hr(vt,"_internalPadding",0),Hr(vt,"_defaultColor",null),Hr(vt,"_defaultFontSize",10),Hr(vt,"_type","freetext");let b=vt;e.FreeTextEditor=b},(s,e,a)=>{var xt,At,ln,zl,Ut,Zt,tr,lr,hr,dr,Gt,Jt,Rt,Nt,Ht,qt,ar,vr,pr,Vt,br,Er,Hl,ns,uo,ho,Tr,Mr,Ur,Cr,or,Yt,fr,fo,Or,Pt,Xt,xr,Wl,po;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var o=a(1),d=a(6),h=a(3),g=a(30),b=a(31),j=a(32);const _=1e3,$=9,_e=new WeakSet;function et(Sr){return{width:Sr[2]-Sr[0],height:Sr[3]-Sr[1]}}class tt{static create(Ot){switch(Ot.data.annotationType){case o.AnnotationType.LINK:return new it(Ot);case o.AnnotationType.TEXT:return new st(Ot);case o.AnnotationType.WIDGET:switch(Ot.data.fieldType){case"Tx":return new at(Ot);case"Btn":return Ot.data.radioButton?new ot(Ot):Ot.data.checkBox?new ft(Ot):new ut(Ot);case"Ch":return new ct(Ot);case"Sig":return new ht(Ot)}return new rt(Ot);case o.AnnotationType.POPUP:return new dt(Ot);case o.AnnotationType.FREETEXT:return new Et(Ot);case o.AnnotationType.LINE:return new pt(Ot);case o.AnnotationType.SQUARE:return new bt(Ot);case o.AnnotationType.CIRCLE:return new Ct(Ot);case o.AnnotationType.POLYLINE:return new Bt(Ot);case o.AnnotationType.CARET:return new Ft(Ot);case o.AnnotationType.INK:return new wt(Ot);case o.AnnotationType.POLYGON:return new jt(Ot);case o.AnnotationType.HIGHLIGHT:return new It(Ot);case o.AnnotationType.UNDERLINE:return new yt(Ot);case o.AnnotationType.SQUIGGLY:return new Dt(Ot);case o.AnnotationType.STRIKEOUT:return new Mt(Ot);case o.AnnotationType.STAMP:return new St(Ot);case o.AnnotationType.FILEATTACHMENT:return new gt(Ot);default:return new nt(Ot)}}}const _t=class _t{constructor(Ot,{isRenderable:kt=!1,ignoreBorder:zt=!1,createQuadrilaterals:Kt=!1}={}){$t(this,xt,!1);this.isRenderable=kt,this.data=Ot.data,this.layer=Ot.layer,this.linkService=Ot.linkService,this.downloadManager=Ot.downloadManager,this.imageResourcesPath=Ot.imageResourcesPath,this.renderForms=Ot.renderForms,this.svgFactory=Ot.svgFactory,this.annotationStorage=Ot.annotationStorage,this.enableScripting=Ot.enableScripting,this.hasJSActions=Ot.hasJSActions,this._fieldObjects=Ot.fieldObjects,this.parent=Ot.parent,kt&&(this.container=this._createContainer(zt)),Kt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ot,contentsObj:kt,richText:zt}){return!!(Ot!=null&&Ot.str||kt!=null&&kt.str||zt!=null&&zt.str)}get hasPopupData(){return _t._hasPopupData(this.data)}_createContainer(Ot){const{data:kt,parent:{page:zt,viewport:Kt}}=this,nr=document.createElement("section");nr.setAttribute("data-annotation-id",kt.id),this instanceof rt||(nr.tabIndex=_),nr.style.zIndex=this.parent.zIndex++,this.data.popupRef&&nr.setAttribute("aria-haspopup","dialog"),kt.noRotate&&nr.classList.add("norotate");const{pageWidth:ur,pageHeight:mr,pageX:sr,pageY:yr}=Kt.rawDims;if(!kt.rect||this instanceof dt){const{rotation:gr}=kt;return!kt.hasOwnCanvas&&gr!==0&&this.setRotation(gr,nr),nr}const{width:ir,height:er}=et(kt.rect),rr=o.Util.normalizeRect([kt.rect[0],zt.view[3]-kt.rect[1]+zt.view[1],kt.rect[2],zt.view[3]-kt.rect[3]+zt.view[1]]);if(!Ot&&kt.borderStyle.width>0){nr.style.borderWidth=`${kt.borderStyle.width}px`;const gr=kt.borderStyle.horizontalCornerRadius,Ar=kt.borderStyle.verticalCornerRadius;if(gr>0||Ar>0){const Fr=`calc(${gr}px * var(--scale-factor)) / calc(${Ar}px * var(--scale-factor))`;nr.style.borderRadius=Fr}else if(this instanceof ot){const Fr=`calc(${ir}px * var(--scale-factor)) / calc(${er}px * var(--scale-factor))`;nr.style.borderRadius=Fr}switch(kt.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:nr.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:nr.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:nr.style.borderBottomStyle="solid";break}const _r=kt.borderColor||null;_r?(Qt(this,xt,!0),nr.style.borderColor=o.Util.makeHexColor(_r[0]|0,_r[1]|0,_r[2]|0)):nr.style.borderWidth=0}nr.style.left=`${100*(rr[0]-sr)/ur}%`,nr.style.top=`${100*(rr[1]-yr)/mr}%`;const{rotation:cr}=kt;return kt.hasOwnCanvas||cr===0?(nr.style.width=`${100*ir/ur}%`,nr.style.height=`${100*er/mr}%`):this.setRotation(cr,nr),nr}setRotation(Ot,kt=this.container){if(!this.data.rect)return;const{pageWidth:zt,pageHeight:Kt}=this.parent.viewport.rawDims,{width:nr,height:ur}=et(this.data.rect);let mr,sr;Ot%180===0?(mr=100*nr/zt,sr=100*ur/Kt):(mr=100*ur/zt,sr=100*nr/Kt),kt.style.width=`${mr}%`,kt.style.height=`${sr}%`,kt.setAttribute("data-main-rotation",(360-Ot)%360)}get _commonActions(){const Ot=(kt,zt,Kt)=>{const nr=Kt.detail[kt],ur=nr[0],mr=nr.slice(1);Kt.target.style[zt]=g.ColorConverters[`${ur}_HTML`](mr),this.annotationStorage.setValue(this.data.id,{[zt]:g.ColorConverters[`${ur}_rgb`](mr)})};return(0,o.shadow)(this,"_commonActions",{display:kt=>{const{display:zt}=kt.detail,Kt=zt%2===1;this.container.style.visibility=Kt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Kt,noPrint:zt===1||zt===2})},print:kt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!kt.detail.print})},hidden:kt=>{const{hidden:zt}=kt.detail;this.container.style.visibility=zt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:zt,noView:zt})},focus:kt=>{setTimeout(()=>kt.target.focus({preventScroll:!1}),0)},userName:kt=>{kt.target.title=kt.detail.userName},readonly:kt=>{kt.target.disabled=kt.detail.readonly},required:kt=>{this._setRequired(kt.target,kt.detail.required)},bgColor:kt=>{Ot("bgColor","backgroundColor",kt)},fillColor:kt=>{Ot("fillColor","backgroundColor",kt)},fgColor:kt=>{Ot("fgColor","color",kt)},textColor:kt=>{Ot("textColor","color",kt)},borderColor:kt=>{Ot("borderColor","borderColor",kt)},strokeColor:kt=>{Ot("strokeColor","borderColor",kt)},rotation:kt=>{const zt=kt.detail.rotation;this.setRotation(zt),this.annotationStorage.setValue(this.data.id,{rotation:zt})}})}_dispatchEventFromSandbox(Ot,kt){const zt=this._commonActions;for(const Kt of Object.keys(kt.detail)){const nr=Ot[Kt]||zt[Kt];nr==null||nr(kt)}}_setDefaultPropertiesFromJS(Ot){if(!this.enableScripting)return;const kt=this.annotationStorage.getRawValue(this.data.id);if(!kt)return;const zt=this._commonActions;for(const[Kt,nr]of Object.entries(kt)){const ur=zt[Kt];if(ur){const mr={detail:{[Kt]:nr},target:Ot};ur(mr),delete kt[Kt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ot}=this.data;if(!Ot)return;const[kt,zt,Kt,nr]=this.data.rect;if(Ot.length===1){const[,{x:Ar,y:_r},{x:Fr,y:jr}]=Ot[0];if(Kt===Ar&&nr===_r&&kt===Fr&&zt===jr)return}const{style:ur}=this.container;let mr;if(lt(this,xt)){const{borderColor:Ar,borderWidth:_r}=ur;ur.borderWidth=0,mr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ar}" stroke-width="${_r}">`],this.container.classList.add("hasBorder")}const sr=Kt-kt,yr=nr-zt,{svgFactory:ir}=this,er=ir.createElement("svg");er.classList.add("quadrilateralsContainer"),er.setAttribute("width",0),er.setAttribute("height",0);const rr=ir.createElement("defs");er.append(rr);const cr=ir.createElement("clipPath"),gr=`clippath_${this.data.id}`;cr.setAttribute("id",gr),cr.setAttribute("clipPathUnits","objectBoundingBox"),rr.append(cr);for(const[,{x:Ar,y:_r},{x:Fr,y:jr}]of Ot){const Lr=ir.createElement("rect"),Br=(Fr-kt)/sr,zr=(nr-_r)/yr,Wr=(Ar-Fr)/sr,Vr=(_r-jr)/yr;Lr.setAttribute("x",Br),Lr.setAttribute("y",zr),Lr.setAttribute("width",Wr),Lr.setAttribute("height",Vr),cr.append(Lr),mr==null||mr.push(`<rect vector-effect="non-scaling-stroke" x="${Br}" y="${zr}" width="${Wr}" height="${Vr}"/>`)}lt(this,xt)&&(mr.push("</g></svg>')"),ur.backgroundImage=mr.join("")),this.container.append(er),this.container.style.clipPath=`url(#${gr})`}_createPopup(){const{container:Ot,data:kt}=this;Ot.setAttribute("aria-haspopup","dialog");const zt=new dt({data:{color:kt.color,titleObj:kt.titleObj,modificationDate:kt.modificationDate,contentsObj:kt.contentsObj,richText:kt.richText,parentRect:kt.rect,borderStyle:0,id:`popup_${kt.id}`,rotation:kt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(zt.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ot,kt=null){const zt=[];if(this._fieldObjects){const Kt=this._fieldObjects[Ot];if(Kt)for(const{page:nr,id:ur,exportValues:mr}of Kt){if(nr===-1||ur===kt)continue;const sr=typeof mr=="string"?mr:null,yr=document.querySelector(`[data-element-id="${ur}"]`);if(yr&&!_e.has(yr)){(0,o.warn)(`_getElementsByName - element not allowed: ${ur}`);continue}zt.push({id:ur,exportValue:sr,domElement:yr})}return zt}for(const Kt of document.getElementsByName(Ot)){const{exportValue:nr}=Kt,ur=Kt.getAttribute("data-element-id");ur!==kt&&_e.has(Kt)&&zt.push({id:ur,exportValue:nr,domElement:Kt})}return zt}show(){var Ot;this.container&&(this.container.hidden=!1),(Ot=this.popup)==null||Ot.maybeShow()}hide(){var Ot;this.container&&(this.container.hidden=!0),(Ot=this.popup)==null||Ot.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ot=this.getElementsToTriggerPopup();if(Array.isArray(Ot))for(const kt of Ot)kt.classList.add("highlightArea");else Ot.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ot,data:{id:kt}}=this;this.container.addEventListener("dblclick",()=>{var zt;(zt=this.linkService.eventBus)==null||zt.dispatch("switchannotationeditormode",{source:this,mode:Ot,editId:kt})})}};xt=new WeakMap;let nt=_t;class it extends nt{constructor(kt,zt=null){super(kt,{isRenderable:!0,ignoreBorder:!!(zt!=null&&zt.ignoreBorder),createQuadrilaterals:!0});$t(this,At);this.isTooltipOnly=kt.data.isTooltipOnly}render(){const{data:kt,linkService:zt}=this,Kt=document.createElement("a");Kt.setAttribute("data-element-id",kt.id);let nr=!1;return kt.url?(zt.addLinkAttributes(Kt,kt.url,kt.newWindow),nr=!0):kt.action?(this._bindNamedAction(Kt,kt.action),nr=!0):kt.attachment?(this._bindAttachment(Kt,kt.attachment),nr=!0):kt.setOCGState?(Wt(this,At,zl).call(this,Kt,kt.setOCGState),nr=!0):kt.dest?(this._bindLink(Kt,kt.dest),nr=!0):(kt.actions&&(kt.actions.Action||kt.actions["Mouse Up"]||kt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Kt,kt),nr=!0),kt.resetForm?(this._bindResetFormAction(Kt,kt.resetForm),nr=!0):this.isTooltipOnly&&!nr&&(this._bindLink(Kt,""),nr=!0)),this.container.classList.add("linkAnnotation"),nr&&this.container.append(Kt),this.container}_bindLink(kt,zt){kt.href=this.linkService.getDestinationHash(zt),kt.onclick=()=>(zt&&this.linkService.goToDestination(zt),!1),(zt||zt==="")&&Wt(this,At,ln).call(this)}_bindNamedAction(kt,zt){kt.href=this.linkService.getAnchorUrl(""),kt.onclick=()=>(this.linkService.executeNamedAction(zt),!1),Wt(this,At,ln).call(this)}_bindAttachment(kt,zt){kt.href=this.linkService.getAnchorUrl(""),kt.onclick=()=>{var Kt;return(Kt=this.downloadManager)==null||Kt.openOrDownloadData(this.container,zt.content,zt.filename),!1},Wt(this,At,ln).call(this)}_bindJSAction(kt,zt){kt.href=this.linkService.getAnchorUrl("");const Kt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const nr of Object.keys(zt.actions)){const ur=Kt.get(nr);ur&&(kt[ur]=()=>{var mr;return(mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:zt.id,name:nr}}),!1})}kt.onclick||(kt.onclick=()=>!1),Wt(this,At,ln).call(this)}_bindResetFormAction(kt,zt){const Kt=kt.onclick;if(Kt||(kt.href=this.linkService.getAnchorUrl("")),Wt(this,At,ln).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Kt||(kt.onclick=()=>!1);return}kt.onclick=()=>{var er;Kt==null||Kt();const{fields:nr,refs:ur,include:mr}=zt,sr=[];if(nr.length!==0||ur.length!==0){const rr=new Set(ur);for(const cr of nr){const gr=this._fieldObjects[cr]||[];for(const{id:Ar}of gr)rr.add(Ar)}for(const cr of Object.values(this._fieldObjects))for(const gr of cr)rr.has(gr.id)===mr&&sr.push(gr)}else for(const rr of Object.values(this._fieldObjects))sr.push(...rr);const yr=this.annotationStorage,ir=[];for(const rr of sr){const{id:cr}=rr;switch(ir.push(cr),rr.type){case"text":{const Ar=rr.defaultValue||"";yr.setValue(cr,{value:Ar});break}case"checkbox":case"radiobutton":{const Ar=rr.defaultValue===rr.exportValues;yr.setValue(cr,{value:Ar});break}case"combobox":case"listbox":{const Ar=rr.defaultValue||"";yr.setValue(cr,{value:Ar});break}default:continue}const gr=document.querySelector(`[data-element-id="${cr}"]`);if(gr){if(!_e.has(gr)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${cr}`);continue}}else continue;gr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((er=this.linkService.eventBus)==null||er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ir,name:"ResetForm"}})),!1}}}At=new WeakSet,ln=function(){this.container.setAttribute("data-internal-link","")},zl=function(kt,zt){kt.href=this.linkService.getAnchorUrl(""),kt.onclick=()=>(this.linkService.executeSetOCGState(zt),!1),Wt(this,At,ln).call(this)};class st extends nt{constructor(Ot){super(Ot,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ot=document.createElement("img");return Ot.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ot.alt="[{{type}} Annotation]",Ot.dataset.l10nId="text_annotation_type",Ot.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ot),this.container}}class rt extends nt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ot){var kt;this.data.hasOwnCanvas&&(((kt=Ot.previousSibling)==null?void 0:kt.nodeName)==="CANVAS"&&(Ot.previousSibling.hidden=!0),Ot.hidden=!1)}_getKeyModifier(Ot){const{isWin:kt,isMac:zt}=o.FeatureTest.platform;return kt&&Ot.ctrlKey||zt&&Ot.metaKey}_setEventListener(Ot,kt,zt,Kt,nr){zt.includes("mouse")?Ot.addEventListener(zt,ur=>{var mr;(mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Kt,value:nr(ur),shift:ur.shiftKey,modifier:this._getKeyModifier(ur)}})}):Ot.addEventListener(zt,ur=>{var mr;if(zt==="blur"){if(!kt.focused||!ur.relatedTarget)return;kt.focused=!1}else if(zt==="focus"){if(kt.focused)return;kt.focused=!0}nr&&((mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Kt,value:nr(ur)}}))})}_setEventListeners(Ot,kt,zt,Kt){var nr,ur,mr;for(const[sr,yr]of zt)(yr==="Action"||(nr=this.data.actions)!=null&&nr[yr])&&((yr==="Focus"||yr==="Blur")&&(kt||(kt={focused:!1})),this._setEventListener(Ot,kt,sr,yr,Kt),yr==="Focus"&&!((ur=this.data.actions)!=null&&ur.Blur)?this._setEventListener(Ot,kt,"blur","Blur",null):yr==="Blur"&&!((mr=this.data.actions)!=null&&mr.Focus)&&this._setEventListener(Ot,kt,"focus","Focus",null))}_setBackgroundColor(Ot){const kt=this.data.backgroundColor||null;Ot.style.backgroundColor=kt===null?"transparent":o.Util.makeHexColor(kt[0],kt[1],kt[2])}_setTextStyle(Ot){const kt=["left","center","right"],{fontColor:zt}=this.data.defaultAppearanceData,Kt=this.data.defaultAppearanceData.fontSize||$,nr=Ot.style;let ur;const mr=2,sr=yr=>Math.round(10*yr)/10;if(this.data.multiLine){const yr=Math.abs(this.data.rect[3]-this.data.rect[1]-mr),ir=Math.round(yr/(o.LINE_FACTOR*Kt))||1,er=yr/ir;ur=Math.min(Kt,sr(er/o.LINE_FACTOR))}else{const yr=Math.abs(this.data.rect[3]-this.data.rect[1]-mr);ur=Math.min(Kt,sr(yr/o.LINE_FACTOR))}nr.fontSize=`calc(${ur}px * var(--scale-factor))`,nr.color=o.Util.makeHexColor(zt[0],zt[1],zt[2]),this.data.textAlignment!==null&&(nr.textAlign=kt[this.data.textAlignment])}_setRequired(Ot,kt){kt?Ot.setAttribute("required",!0):Ot.removeAttribute("required"),Ot.setAttribute("aria-required",kt)}}class at extends rt{constructor(Ot){const kt=Ot.renderForms||!Ot.data.hasAppearance&&!!Ot.data.fieldValue;super(Ot,{isRenderable:kt})}setPropertyOnSiblings(Ot,kt,zt,Kt){const nr=this.annotationStorage;for(const ur of this._getElementsByName(Ot.name,Ot.id))ur.domElement&&(ur.domElement[kt]=zt),nr.setValue(ur.id,{[Kt]:zt})}render(){var Kt,nr;const Ot=this.annotationStorage,kt=this.data.id;this.container.classList.add("textWidgetAnnotation");let zt=null;if(this.renderForms){const ur=Ot.getValue(kt,{value:this.data.fieldValue});let mr=ur.value||"";const sr=Ot.getValue(kt,{charLimit:this.data.maxLen}).charLimit;sr&&mr.length>sr&&(mr=mr.slice(0,sr));let yr=ur.formattedValue||((Kt=this.data.textContent)==null?void 0:Kt.join(`
`))||null;yr&&this.data.comb&&(yr=yr.replaceAll(/\s+/g,""));const ir={userValue:mr,formattedValue:yr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(zt=document.createElement("textarea"),zt.textContent=yr??mr,this.data.doNotScroll&&(zt.style.overflowY="hidden")):(zt=document.createElement("input"),zt.type="text",zt.setAttribute("value",yr??mr),this.data.doNotScroll&&(zt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(zt.hidden=!0),_e.add(zt),zt.setAttribute("data-element-id",kt),zt.disabled=this.data.readOnly,zt.name=this.data.fieldName,zt.tabIndex=_,this._setRequired(zt,this.data.required),sr&&(zt.maxLength=sr),zt.addEventListener("input",rr=>{Ot.setValue(kt,{value:rr.target.value}),this.setPropertyOnSiblings(zt,"value",rr.target.value,"value"),ir.formattedValue=null}),zt.addEventListener("resetform",rr=>{const cr=this.data.defaultFieldValue??"";zt.value=ir.userValue=cr,ir.formattedValue=null});let er=rr=>{const{formattedValue:cr}=ir;cr!=null&&(rr.target.value=cr),rr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){zt.addEventListener("focus",cr=>{if(ir.focused)return;const{target:gr}=cr;ir.userValue&&(gr.value=ir.userValue),ir.lastCommittedValue=gr.value,ir.commitKey=1,ir.focused=!0}),zt.addEventListener("updatefromsandbox",cr=>{this.showElementAndHideCanvas(cr.target);const gr={value(Ar){ir.userValue=Ar.detail.value??"",Ot.setValue(kt,{value:ir.userValue.toString()}),Ar.target.value=ir.userValue},formattedValue(Ar){const{formattedValue:_r}=Ar.detail;ir.formattedValue=_r,_r!=null&&Ar.target!==document.activeElement&&(Ar.target.value=_r),Ot.setValue(kt,{formattedValue:_r})},selRange(Ar){Ar.target.setSelectionRange(...Ar.detail.selRange)},charLimit:Ar=>{var Lr;const{charLimit:_r}=Ar.detail,{target:Fr}=Ar;if(_r===0){Fr.removeAttribute("maxLength");return}Fr.setAttribute("maxLength",_r);let jr=ir.userValue;!jr||jr.length<=_r||(jr=jr.slice(0,_r),Fr.value=ir.userValue=jr,Ot.setValue(kt,{value:jr}),(Lr=this.linkService.eventBus)==null||Lr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:jr,willCommit:!0,commitKey:1,selStart:Fr.selectionStart,selEnd:Fr.selectionEnd}}))}};this._dispatchEventFromSandbox(gr,cr)}),zt.addEventListener("keydown",cr=>{var _r;ir.commitKey=1;let gr=-1;if(cr.key==="Escape"?gr=0:cr.key==="Enter"&&!this.data.multiLine?gr=2:cr.key==="Tab"&&(ir.commitKey=3),gr===-1)return;const{value:Ar}=cr.target;ir.lastCommittedValue!==Ar&&(ir.lastCommittedValue=Ar,ir.userValue=Ar,(_r=this.linkService.eventBus)==null||_r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:Ar,willCommit:!0,commitKey:gr,selStart:cr.target.selectionStart,selEnd:cr.target.selectionEnd}}))});const rr=er;er=null,zt.addEventListener("blur",cr=>{var Ar;if(!ir.focused||!cr.relatedTarget)return;ir.focused=!1;const{value:gr}=cr.target;ir.userValue=gr,ir.lastCommittedValue!==gr&&((Ar=this.linkService.eventBus)==null||Ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:gr,willCommit:!0,commitKey:ir.commitKey,selStart:cr.target.selectionStart,selEnd:cr.target.selectionEnd}})),rr(cr)}),(nr=this.data.actions)!=null&&nr.Keystroke&&zt.addEventListener("beforeinput",cr=>{var zr;ir.lastCommittedValue=null;const{data:gr,target:Ar}=cr,{value:_r,selectionStart:Fr,selectionEnd:jr}=Ar;let Lr=Fr,Br=jr;switch(cr.inputType){case"deleteWordBackward":{const Wr=_r.substring(0,Fr).match(/\w*[^\w]*$/);Wr&&(Lr-=Wr[0].length);break}case"deleteWordForward":{const Wr=_r.substring(Fr).match(/^[^\w]*\w*/);Wr&&(Br+=Wr[0].length);break}case"deleteContentBackward":Fr===jr&&(Lr-=1);break;case"deleteContentForward":Fr===jr&&(Br+=1);break}cr.preventDefault(),(zr=this.linkService.eventBus)==null||zr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:_r,change:gr||"",willCommit:!1,selStart:Lr,selEnd:Br}})}),this._setEventListeners(zt,ir,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],cr=>cr.target.value)}if(er&&zt.addEventListener("blur",er),this.data.comb){const cr=(this.data.rect[2]-this.data.rect[0])/sr;zt.classList.add("comb"),zt.style.letterSpacing=`calc(${cr}px * var(--scale-factor) - 1ch)`}}else zt=document.createElement("div"),zt.textContent=this.data.fieldValue,zt.style.verticalAlign="middle",zt.style.display="table-cell";return this._setTextStyle(zt),this._setBackgroundColor(zt),this._setDefaultPropertiesFromJS(zt),this.container.append(zt),this.container}}class ht extends rt{constructor(Ot){super(Ot,{isRenderable:!!Ot.data.hasOwnCanvas})}}class ft extends rt{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){const Ot=this.annotationStorage,kt=this.data,zt=kt.id;let Kt=Ot.getValue(zt,{value:kt.exportValue===kt.fieldValue}).value;typeof Kt=="string"&&(Kt=Kt!=="Off",Ot.setValue(zt,{value:Kt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const nr=document.createElement("input");return _e.add(nr),nr.setAttribute("data-element-id",zt),nr.disabled=kt.readOnly,this._setRequired(nr,this.data.required),nr.type="checkbox",nr.name=kt.fieldName,Kt&&nr.setAttribute("checked",!0),nr.setAttribute("exportValue",kt.exportValue),nr.tabIndex=_,nr.addEventListener("change",ur=>{const{name:mr,checked:sr}=ur.target;for(const yr of this._getElementsByName(mr,zt)){const ir=sr&&yr.exportValue===kt.exportValue;yr.domElement&&(yr.domElement.checked=ir),Ot.setValue(yr.id,{value:ir})}Ot.setValue(zt,{value:sr})}),nr.addEventListener("resetform",ur=>{const mr=kt.defaultFieldValue||"Off";ur.target.checked=mr===kt.exportValue}),this.enableScripting&&this.hasJSActions&&(nr.addEventListener("updatefromsandbox",ur=>{const mr={value(sr){sr.target.checked=sr.detail.value!=="Off",Ot.setValue(zt,{value:sr.target.checked})}};this._dispatchEventFromSandbox(mr,ur)}),this._setEventListeners(nr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ur=>ur.target.checked)),this._setBackgroundColor(nr),this._setDefaultPropertiesFromJS(nr),this.container.append(nr),this.container}}class ot extends rt{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ot=this.annotationStorage,kt=this.data,zt=kt.id;let Kt=Ot.getValue(zt,{value:kt.fieldValue===kt.buttonValue}).value;typeof Kt=="string"&&(Kt=Kt!==kt.buttonValue,Ot.setValue(zt,{value:Kt}));const nr=document.createElement("input");if(_e.add(nr),nr.setAttribute("data-element-id",zt),nr.disabled=kt.readOnly,this._setRequired(nr,this.data.required),nr.type="radio",nr.name=kt.fieldName,Kt&&nr.setAttribute("checked",!0),nr.tabIndex=_,nr.addEventListener("change",ur=>{const{name:mr,checked:sr}=ur.target;for(const yr of this._getElementsByName(mr,zt))Ot.setValue(yr.id,{value:!1});Ot.setValue(zt,{value:sr})}),nr.addEventListener("resetform",ur=>{const mr=kt.defaultFieldValue;ur.target.checked=mr!=null&&mr===kt.buttonValue}),this.enableScripting&&this.hasJSActions){const ur=kt.buttonValue;nr.addEventListener("updatefromsandbox",mr=>{const sr={value:yr=>{const ir=ur===yr.detail.value;for(const er of this._getElementsByName(yr.target.name)){const rr=ir&&er.id===zt;er.domElement&&(er.domElement.checked=rr),Ot.setValue(er.id,{value:rr})}}};this._dispatchEventFromSandbox(sr,mr)}),this._setEventListeners(nr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],mr=>mr.target.checked)}return this._setBackgroundColor(nr),this._setDefaultPropertiesFromJS(nr),this.container.append(nr),this.container}}class ut extends it{constructor(Ot){super(Ot,{ignoreBorder:Ot.data.hasAppearance})}render(){const Ot=super.render();Ot.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ot.title=this.data.alternativeText);const kt=Ot.lastChild;return this.enableScripting&&this.hasJSActions&&kt&&(this._setDefaultPropertiesFromJS(kt),kt.addEventListener("updatefromsandbox",zt=>{this._dispatchEventFromSandbox({},zt)})),Ot}}class ct extends rt{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ot=this.annotationStorage,kt=this.data.id,zt=Ot.getValue(kt,{value:this.data.fieldValue}),Kt=document.createElement("select");_e.add(Kt),Kt.setAttribute("data-element-id",kt),Kt.disabled=this.data.readOnly,this._setRequired(Kt,this.data.required),Kt.name=this.data.fieldName,Kt.tabIndex=_;let nr=this.data.combo&&this.data.options.length>0;this.data.combo||(Kt.size=this.data.options.length,this.data.multiSelect&&(Kt.multiple=!0)),Kt.addEventListener("resetform",ir=>{const er=this.data.defaultFieldValue;for(const rr of Kt.options)rr.selected=rr.value===er});for(const ir of this.data.options){const er=document.createElement("option");er.textContent=ir.displayValue,er.value=ir.exportValue,zt.value.includes(ir.exportValue)&&(er.setAttribute("selected",!0),nr=!1),Kt.append(er)}let ur=null;if(nr){const ir=document.createElement("option");ir.value=" ",ir.setAttribute("hidden",!0),ir.setAttribute("selected",!0),Kt.prepend(ir),ur=()=>{ir.remove(),Kt.removeEventListener("input",ur),ur=null},Kt.addEventListener("input",ur)}const mr=ir=>{const er=ir?"value":"textContent",{options:rr,multiple:cr}=Kt;return cr?Array.prototype.filter.call(rr,gr=>gr.selected).map(gr=>gr[er]):rr.selectedIndex===-1?null:rr[rr.selectedIndex][er]};let sr=mr(!1);const yr=ir=>{const er=ir.target.options;return Array.prototype.map.call(er,rr=>({displayValue:rr.textContent,exportValue:rr.value}))};return this.enableScripting&&this.hasJSActions?(Kt.addEventListener("updatefromsandbox",ir=>{const er={value(rr){ur==null||ur();const cr=rr.detail.value,gr=new Set(Array.isArray(cr)?cr:[cr]);for(const Ar of Kt.options)Ar.selected=gr.has(Ar.value);Ot.setValue(kt,{value:mr(!0)}),sr=mr(!1)},multipleSelection(rr){Kt.multiple=!0},remove(rr){const cr=Kt.options,gr=rr.detail.remove;cr[gr].selected=!1,Kt.remove(gr),cr.length>0&&Array.prototype.findIndex.call(cr,_r=>_r.selected)===-1&&(cr[0].selected=!0),Ot.setValue(kt,{value:mr(!0),items:yr(rr)}),sr=mr(!1)},clear(rr){for(;Kt.length!==0;)Kt.remove(0);Ot.setValue(kt,{value:null,items:[]}),sr=mr(!1)},insert(rr){const{index:cr,displayValue:gr,exportValue:Ar}=rr.detail.insert,_r=Kt.children[cr],Fr=document.createElement("option");Fr.textContent=gr,Fr.value=Ar,_r?_r.before(Fr):Kt.append(Fr),Ot.setValue(kt,{value:mr(!0),items:yr(rr)}),sr=mr(!1)},items(rr){const{items:cr}=rr.detail;for(;Kt.length!==0;)Kt.remove(0);for(const gr of cr){const{displayValue:Ar,exportValue:_r}=gr,Fr=document.createElement("option");Fr.textContent=Ar,Fr.value=_r,Kt.append(Fr)}Kt.options.length>0&&(Kt.options[0].selected=!0),Ot.setValue(kt,{value:mr(!0),items:yr(rr)}),sr=mr(!1)},indices(rr){const cr=new Set(rr.detail.indices);for(const gr of rr.target.options)gr.selected=cr.has(gr.index);Ot.setValue(kt,{value:mr(!0)}),sr=mr(!1)},editable(rr){rr.target.disabled=!rr.detail.editable}};this._dispatchEventFromSandbox(er,ir)}),Kt.addEventListener("input",ir=>{var rr;const er=mr(!0);Ot.setValue(kt,{value:er}),ir.preventDefault(),(rr=this.linkService.eventBus)==null||rr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:sr,changeEx:er,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Kt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ir=>ir.target.value)):Kt.addEventListener("input",function(ir){Ot.setValue(kt,{value:mr(!0)})}),this.data.combo&&this._setTextStyle(Kt),this._setBackgroundColor(Kt),this._setDefaultPropertiesFromJS(Kt),this.container.append(Kt),this.container}}class dt extends nt{constructor(Ot){const{data:kt,elements:zt}=Ot;super(Ot,{isRenderable:nt._hasPopupData(kt)}),this.elements=zt}render(){this.container.classList.add("popupAnnotation");const Ot=new vt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),kt=[];for(const zt of this.elements)zt.popup=Ot,kt.push(zt.data.id),zt.addHighlightArea();return this.container.setAttribute("aria-controls",kt.map(zt=>`${o.AnnotationPrefix}${zt}`).join(",")),this.container}}class vt{constructor({container:Ot,color:kt,elements:zt,titleObj:Kt,modificationDate:nr,contentsObj:ur,richText:mr,parent:sr,rect:yr,parentRect:ir,open:er}){$t(this,Er);$t(this,Ut,null);$t(this,Zt,Wt(this,Er,Hl).bind(this));$t(this,tr,Wt(this,Er,ho).bind(this));$t(this,lr,Wt(this,Er,uo).bind(this));$t(this,hr,Wt(this,Er,ns).bind(this));$t(this,dr,null);$t(this,Gt,null);$t(this,Jt,null);$t(this,Rt,null);$t(this,Nt,null);$t(this,Ht,null);$t(this,qt,!1);$t(this,ar,null);$t(this,vr,null);$t(this,pr,null);$t(this,Vt,null);$t(this,br,!1);var cr;Qt(this,Gt,Ot),Qt(this,Vt,Kt),Qt(this,Jt,ur),Qt(this,pr,mr),Qt(this,Nt,sr),Qt(this,dr,kt),Qt(this,vr,yr),Qt(this,Ht,ir),Qt(this,Rt,zt);const rr=d.PDFDateString.toDateObject(nr);rr&&Qt(this,Ut,sr.l10n.get("annotation_date_string",{date:rr.toLocaleDateString(),time:rr.toLocaleTimeString()})),this.trigger=zt.flatMap(gr=>gr.getElementsToTriggerPopup());for(const gr of this.trigger)gr.addEventListener("click",lt(this,hr)),gr.addEventListener("mouseenter",lt(this,lr)),gr.addEventListener("mouseleave",lt(this,tr)),gr.classList.add("popupTriggerArea");for(const gr of zt)(cr=gr.container)==null||cr.addEventListener("keydown",lt(this,Zt));lt(this,Gt).hidden=!0,er&&Wt(this,Er,ns).call(this)}render(){if(lt(this,ar))return;const{page:{view:Ot},viewport:{rawDims:{pageWidth:kt,pageHeight:zt,pageX:Kt,pageY:nr}}}=lt(this,Nt),ur=Qt(this,ar,document.createElement("div"));if(ur.className="popup",lt(this,dr)){const Lr=ur.style.outlineColor=o.Util.makeHexColor(...lt(this,dr));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?ur.style.backgroundColor=`color-mix(in srgb, ${Lr} 30%, white)`:ur.style.backgroundColor=o.Util.makeHexColor(...lt(this,dr).map(zr=>Math.floor(.7*(255-zr)+zr)))}const mr=document.createElement("span");mr.className="header";const sr=document.createElement("h1");if(mr.append(sr),{dir:sr.dir,str:sr.textContent}=lt(this,Vt),ur.append(mr),lt(this,Ut)){const Lr=document.createElement("span");Lr.classList.add("popupDate"),lt(this,Ut).then(Br=>{Lr.textContent=Br}),mr.append(Lr)}const yr=lt(this,Jt),ir=lt(this,pr);if(ir!=null&&ir.str&&(!(yr!=null&&yr.str)||yr.str===ir.str))j.XfaLayer.render({xfaHtml:ir.html,intent:"richText",div:ur}),ur.lastChild.classList.add("richText","popupContent");else{const Lr=this._formatContents(yr);ur.append(Lr)}let er=!!lt(this,Ht),rr=er?lt(this,Ht):lt(this,vr);for(const Lr of lt(this,Rt))if(!rr||o.Util.intersect(Lr.data.rect,rr)!==null){rr=Lr.data.rect,er=!0;break}const cr=o.Util.normalizeRect([rr[0],Ot[3]-rr[1]+Ot[1],rr[2],Ot[3]-rr[3]+Ot[1]]),Ar=er?rr[2]-rr[0]+5:0,_r=cr[0]+Ar,Fr=cr[1],{style:jr}=lt(this,Gt);jr.left=`${100*(_r-Kt)/kt}%`,jr.top=`${100*(Fr-nr)/zt}%`,lt(this,Gt).append(ur)}_formatContents({str:Ot,dir:kt}){const zt=document.createElement("p");zt.classList.add("popupContent"),zt.dir=kt;const Kt=Ot.split(/(?:\r\n?|\n)/);for(let nr=0,ur=Kt.length;nr<ur;++nr){const mr=Kt[nr];zt.append(document.createTextNode(mr)),nr<ur-1&&zt.append(document.createElement("br"))}return zt}forceHide(){Qt(this,br,this.isVisible),lt(this,br)&&(lt(this,Gt).hidden=!0)}maybeShow(){lt(this,br)&&(Qt(this,br,!1),lt(this,Gt).hidden=!1)}get isVisible(){return lt(this,Gt).hidden===!1}}Ut=new WeakMap,Zt=new WeakMap,tr=new WeakMap,lr=new WeakMap,hr=new WeakMap,dr=new WeakMap,Gt=new WeakMap,Jt=new WeakMap,Rt=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,qt=new WeakMap,ar=new WeakMap,vr=new WeakMap,pr=new WeakMap,Vt=new WeakMap,br=new WeakMap,Er=new WeakSet,Hl=function(Ot){Ot.altKey||Ot.shiftKey||Ot.ctrlKey||Ot.metaKey||(Ot.key==="Enter"||Ot.key==="Escape"&&lt(this,qt))&&Wt(this,Er,ns).call(this)},ns=function(){Qt(this,qt,!lt(this,qt)),lt(this,qt)?(Wt(this,Er,uo).call(this),lt(this,Gt).addEventListener("click",lt(this,hr)),lt(this,Gt).addEventListener("keydown",lt(this,Zt))):(Wt(this,Er,ho).call(this),lt(this,Gt).removeEventListener("click",lt(this,hr)),lt(this,Gt).removeEventListener("keydown",lt(this,Zt)))},uo=function(){lt(this,ar)||this.render(),this.isVisible?lt(this,qt)&&lt(this,Gt).classList.add("focused"):(lt(this,Gt).hidden=!1,lt(this,Gt).style.zIndex=parseInt(lt(this,Gt).style.zIndex)+1e3)},ho=function(){lt(this,Gt).classList.remove("focused"),!(lt(this,qt)||!this.isVisible)&&(lt(this,Gt).hidden=!0,lt(this,Gt).style.zIndex=parseInt(lt(this,Gt).style.zIndex)-1e3)};class Et extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ot.data.textContent,this.textPosition=Ot.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ot=document.createElement("div");Ot.classList.add("annotationTextContent"),Ot.setAttribute("role","comment");for(const kt of this.textContent){const zt=document.createElement("span");zt.textContent=kt,Ot.append(zt)}this.container.append(Ot)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=Et;class pt extends nt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0});$t(this,Tr,null)}render(){this.container.classList.add("lineAnnotation");const kt=this.data,{width:zt,height:Kt}=et(kt.rect),nr=this.svgFactory.create(zt,Kt,!0),ur=Qt(this,Tr,this.svgFactory.createElement("svg:line"));return ur.setAttribute("x1",kt.rect[2]-kt.lineCoordinates[0]),ur.setAttribute("y1",kt.rect[3]-kt.lineCoordinates[1]),ur.setAttribute("x2",kt.rect[2]-kt.lineCoordinates[2]),ur.setAttribute("y2",kt.rect[3]-kt.lineCoordinates[3]),ur.setAttribute("stroke-width",kt.borderStyle.width||1),ur.setAttribute("stroke","transparent"),ur.setAttribute("fill","transparent"),nr.append(ur),this.container.append(nr),!kt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Tr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tr=new WeakMap;class bt extends nt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0});$t(this,Mr,null)}render(){this.container.classList.add("squareAnnotation");const kt=this.data,{width:zt,height:Kt}=et(kt.rect),nr=this.svgFactory.create(zt,Kt,!0),ur=kt.borderStyle.width,mr=Qt(this,Mr,this.svgFactory.createElement("svg:rect"));return mr.setAttribute("x",ur/2),mr.setAttribute("y",ur/2),mr.setAttribute("width",zt-ur),mr.setAttribute("height",Kt-ur),mr.setAttribute("stroke-width",ur||1),mr.setAttribute("stroke","transparent"),mr.setAttribute("fill","transparent"),nr.append(mr),this.container.append(nr),!kt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Mr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mr=new WeakMap;class Ct extends nt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0});$t(this,Ur,null)}render(){this.container.classList.add("circleAnnotation");const kt=this.data,{width:zt,height:Kt}=et(kt.rect),nr=this.svgFactory.create(zt,Kt,!0),ur=kt.borderStyle.width,mr=Qt(this,Ur,this.svgFactory.createElement("svg:ellipse"));return mr.setAttribute("cx",zt/2),mr.setAttribute("cy",Kt/2),mr.setAttribute("rx",zt/2-ur/2),mr.setAttribute("ry",Kt/2-ur/2),mr.setAttribute("stroke-width",ur||1),mr.setAttribute("stroke","transparent"),mr.setAttribute("fill","transparent"),nr.append(mr),this.container.append(nr),!kt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Ur)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ur=new WeakMap;class Bt extends nt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0});$t(this,Cr,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const kt=this.data,{width:zt,height:Kt}=et(kt.rect),nr=this.svgFactory.create(zt,Kt,!0);let ur=[];for(const sr of kt.vertices){const yr=sr.x-kt.rect[0],ir=kt.rect[3]-sr.y;ur.push(yr+","+ir)}ur=ur.join(" ");const mr=Qt(this,Cr,this.svgFactory.createElement(this.svgElementName));return mr.setAttribute("points",ur),mr.setAttribute("stroke-width",kt.borderStyle.width||1),mr.setAttribute("stroke","transparent"),mr.setAttribute("fill","transparent"),nr.append(mr),this.container.append(nr),!kt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return lt(this,Cr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cr=new WeakMap;class jt extends Bt{constructor(Ot){super(Ot),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ft extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class wt extends nt{constructor(kt){super(kt,{isRenderable:!0,ignoreBorder:!0});$t(this,or,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const kt=this.data,{width:zt,height:Kt}=et(kt.rect),nr=this.svgFactory.create(zt,Kt,!0);for(const ur of kt.inkLists){let mr=[];for(const yr of ur){const ir=yr.x-kt.rect[0],er=kt.rect[3]-yr.y;mr.push(`${ir},${er}`)}mr=mr.join(" ");const sr=this.svgFactory.createElement(this.svgElementName);lt(this,or).push(sr),sr.setAttribute("points",mr),sr.setAttribute("stroke-width",kt.borderStyle.width||1),sr.setAttribute("stroke","transparent"),sr.setAttribute("fill","transparent"),!kt.popupRef&&this.hasPopupData&&this._createPopup(),nr.append(sr)}return this.container.append(nr),this.container}getElementsToTriggerPopup(){return lt(this,or)}addHighlightArea(){this.container.classList.add("highlightArea")}}or=new WeakMap,e.InkAnnotationElement=wt;class It extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class yt extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Dt extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Mt extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class St extends nt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=St;class gt extends nt{constructor(kt){var nr;super(kt,{isRenderable:!0});$t(this,fr);$t(this,Yt,null);const{filename:zt,content:Kt}=this.data.file;this.filename=(0,d.getFilenameFromUrl)(zt,!0),this.content=Kt,(nr=this.linkService.eventBus)==null||nr.dispatch("fileattachmentannotation",{source:this,filename:zt,content:Kt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:kt,data:zt}=this;let Kt;zt.hasAppearance||zt.fillAlpha===0?Kt=document.createElement("div"):(Kt=document.createElement("img"),Kt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(zt.name)?"paperclip":"pushpin"}.svg`,zt.fillAlpha&&zt.fillAlpha<1&&(Kt.style=`filter: opacity(${Math.round(zt.fillAlpha*100)}%);`)),Kt.addEventListener("dblclick",Wt(this,fr,fo).bind(this)),Qt(this,Yt,Kt);const{isMac:nr}=o.FeatureTest.platform;return kt.addEventListener("keydown",ur=>{ur.key==="Enter"&&(nr?ur.metaKey:ur.ctrlKey)&&Wt(this,fr,fo).call(this)}),!zt.popupRef&&this.hasPopupData?this._createPopup():Kt.classList.add("popupTriggerArea"),kt.append(Kt),kt}getElementsToTriggerPopup(){return lt(this,Yt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yt=new WeakMap,fr=new WeakSet,fo=function(){var kt;(kt=this.downloadManager)==null||kt.openOrDownloadData(this.container,this.content,this.filename)};class mt{constructor({div:Ot,accessibilityManager:kt,annotationCanvasMap:zt,l10n:Kt,page:nr,viewport:ur}){$t(this,xr);$t(this,Or,null);$t(this,Pt,null);$t(this,Xt,new Map);this.div=Ot,Qt(this,Or,kt),Qt(this,Pt,zt),this.l10n=Kt,this.page=nr,this.viewport=ur,this.zIndex=0,this.l10n||(this.l10n=b.NullL10n)}async render(Ot){const{annotations:kt}=Ot,zt=this.div;(0,d.setLayerDimensions)(zt,this.viewport);const Kt=new Map,nr={data:null,layer:zt,linkService:Ot.linkService,downloadManager:Ot.downloadManager,imageResourcesPath:Ot.imageResourcesPath||"",renderForms:Ot.renderForms!==!1,svgFactory:new d.DOMSVGFactory,annotationStorage:Ot.annotationStorage||new h.AnnotationStorage,enableScripting:Ot.enableScripting===!0,hasJSActions:Ot.hasJSActions,fieldObjects:Ot.fieldObjects,parent:this,elements:null};for(const ur of kt){if(ur.noHTML)continue;const mr=ur.annotationType===o.AnnotationType.POPUP;if(mr){const ir=Kt.get(ur.id);if(!ir)continue;nr.elements=ir}else{const{width:ir,height:er}=et(ur.rect);if(ir<=0||er<=0)continue}nr.data=ur;const sr=tt.create(nr);if(!sr.isRenderable)continue;if(!mr&&ur.popupRef){const ir=Kt.get(ur.popupRef);ir?ir.push(sr):Kt.set(ur.popupRef,[sr])}sr.annotationEditorType>0&&lt(this,Xt).set(sr.data.id,sr);const yr=sr.render();ur.hidden&&(yr.style.visibility="hidden"),Wt(this,xr,Wl).call(this,yr,ur.id)}Wt(this,xr,po).call(this),await this.l10n.translate(zt)}update({viewport:Ot}){const kt=this.div;this.viewport=Ot,(0,d.setLayerDimensions)(kt,{rotation:Ot.rotation}),Wt(this,xr,po).call(this),kt.hidden=!1}getEditableAnnotations(){return Array.from(lt(this,Xt).values())}getEditableAnnotation(Ot){return lt(this,Xt).get(Ot)}}Or=new WeakMap,Pt=new WeakMap,Xt=new WeakMap,xr=new WeakSet,Wl=function(Ot,kt){var Kt;const zt=Ot.firstChild||Ot;zt.id=`${o.AnnotationPrefix}${kt}`,this.div.append(Ot),(Kt=lt(this,Or))==null||Kt.moveElementInDOM(this.div,Ot,zt,!1)},po=function(){if(!lt(this,Pt))return;const Ot=this.div;for(const[kt,zt]of lt(this,Pt)){const Kt=Ot.querySelector(`[data-annotation-id="${kt}"]`);if(!Kt)continue;const{firstChild:nr}=Kt;nr?nr.nodeName==="CANVAS"?nr.replaceWith(zt):nr.before(zt):Kt.append(zt)}lt(this,Pt).clear()},e.AnnotationLayer=mt},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function a(h){return Math.floor(Math.max(0,Math.min(1,h))*255).toString(16).padStart(2,"0")}function o(h){return Math.max(0,Math.min(255,255*h))}class d{static CMYK_G([g,b,j,_]){return["G",1-Math.min(1,.3*g+.59*j+.11*b+_)]}static G_CMYK([g]){return["CMYK",0,0,0,1-g]}static G_RGB([g]){return["RGB",g,g,g]}static G_rgb([g]){return g=o(g),[g,g,g]}static G_HTML([g]){const b=a(g);return`#${b}${b}${b}`}static RGB_G([g,b,j]){return["G",.3*g+.59*b+.11*j]}static RGB_rgb(g){return g.map(o)}static RGB_HTML(g){return`#${g.map(a).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([g,b,j,_]){return["RGB",1-Math.min(1,g+_),1-Math.min(1,j+_),1-Math.min(1,b+_)]}static CMYK_rgb([g,b,j,_]){return[o(1-Math.min(1,g+_)),o(1-Math.min(1,j+_)),o(1-Math.min(1,b+_))]}static CMYK_HTML(g){const b=this.CMYK_RGB(g).slice(1);return this.RGB_HTML(b)}static RGB_CMYK([g,b,j]){const _=1-g,$=1-b,_e=1-j,et=Math.min(_,$,_e);return["CMYK",_,$,_e,et]}}e.ColorConverters=d},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=o;const a={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};a.print_progress_percent="{{progress}}%";function o(g,b){switch(g){case"find_match_count":g=`find_match_count[${b.total===1?"one":"other"}]`;break;case"find_match_count_limit":g=`find_match_count_limit[${b.limit===1?"one":"other"}]`;break}return a[g]||""}function d(g,b){return b?g.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(j,_)=>_ in b?b[_]:"{{"+_+"}}"):g}const h={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(g,b=null,j=o(g,b)){return d(j,b)},async translate(g){}};e.NullL10n=h},(s,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var o=a(25);class d{static setupStorage(g,b,j,_,$){const _e=_.getValue(b,{value:null});switch(j.name){case"textarea":if(_e.value!==null&&(g.textContent=_e.value),$==="print")break;g.addEventListener("input",et=>{_.setValue(b,{value:et.target.value})});break;case"input":if(j.attributes.type==="radio"||j.attributes.type==="checkbox"){if(_e.value===j.attributes.xfaOn?g.setAttribute("checked",!0):_e.value===j.attributes.xfaOff&&g.removeAttribute("checked"),$==="print")break;g.addEventListener("change",et=>{_.setValue(b,{value:et.target.checked?et.target.getAttribute("xfaOn"):et.target.getAttribute("xfaOff")})})}else{if(_e.value!==null&&g.setAttribute("value",_e.value),$==="print")break;g.addEventListener("input",et=>{_.setValue(b,{value:et.target.value})})}break;case"select":if(_e.value!==null){g.setAttribute("value",_e.value);for(const et of j.children)et.attributes.value===_e.value?et.attributes.selected=!0:et.attributes.hasOwnProperty("selected")&&delete et.attributes.selected}g.addEventListener("input",et=>{const tt=et.target.options,nt=tt.selectedIndex===-1?"":tt[tt.selectedIndex].value;_.setValue(b,{value:nt})});break}}static setAttributes({html:g,element:b,storage:j=null,intent:_,linkService:$}){const{attributes:_e}=b,et=g instanceof HTMLAnchorElement;_e.type==="radio"&&(_e.name=`${_e.name}-${_}`);for(const[tt,nt]of Object.entries(_e))if(nt!=null)switch(tt){case"class":nt.length&&g.setAttribute(tt,nt.join(" "));break;case"dataId":break;case"id":g.setAttribute("data-element-id",nt);break;case"style":Object.assign(g.style,nt);break;case"textContent":g.textContent=nt;break;default:(!et||tt!=="href"&&tt!=="newWindow")&&g.setAttribute(tt,nt)}et&&$.addLinkAttributes(g,_e.href,_e.newWindow),j&&_e.dataId&&this.setupStorage(g,_e.dataId,b,j)}static render(g){var it;const b=g.annotationStorage,j=g.linkService,_=g.xfaHtml,$=g.intent||"display",_e=document.createElement(_.name);_.attributes&&this.setAttributes({html:_e,element:_,intent:$,linkService:j});const et=[[_,-1,_e]],tt=g.div;if(tt.append(_e),g.viewport){const st=`matrix(${g.viewport.transform.join(",")})`;tt.style.transform=st}$!=="richText"&&tt.setAttribute("class","xfaLayer xfaFont");const nt=[];for(;et.length>0;){const[st,rt,at]=et.at(-1);if(rt+1===st.children.length){et.pop();continue}const ht=st.children[++et.at(-1)[1]];if(ht===null)continue;const{name:ft}=ht;if(ft==="#text"){const ut=document.createTextNode(ht.value);nt.push(ut),at.append(ut);continue}const ot=(it=ht==null?void 0:ht.attributes)!=null&&it.xmlns?document.createElementNS(ht.attributes.xmlns,ft):document.createElement(ft);if(at.append(ot),ht.attributes&&this.setAttributes({html:ot,element:ht,storage:b,intent:$,linkService:j}),ht.children&&ht.children.length>0)et.push([ht,-1,ot]);else if(ht.value){const ut=document.createTextNode(ht.value);o.XfaText.shouldBuildText(ft)&&nt.push(ut),ot.append(ut)}}for(const st of tt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))st.setAttribute("readOnly",!0);return{textDivs:nt}}static update(g){const b=`matrix(${g.viewport.transform.join(",")})`;g.div.style.transform=b,g.div.hidden=!1}}e.XfaLayer=d},(s,e,a)=>{var _,$,_e,et,tt,nt,it,st,rt,at,ht,ft,ot,ut,ct,Vl,Gl,Kl,Xl,go,Yl,mo,$l,Zl,Jl,Ql,_c,sn,vo,is,ss,vn,yo,as,At,eu,xo,tu,ru,bo,os,yn;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var o=a(1),d=a(4),h=a(29),g=a(6),b=a(5);const dr=class dr extends d.AnnotationEditor{constructor(Rt){super({...Rt,name:"inkEditor"});$t(this,ct);$t(this,_,0);$t(this,$,0);$t(this,_e,this.canvasPointermove.bind(this));$t(this,et,this.canvasPointerleave.bind(this));$t(this,tt,this.canvasPointerup.bind(this));$t(this,nt,this.canvasPointerdown.bind(this));$t(this,it,new Path2D);$t(this,st,!1);$t(this,rt,!1);$t(this,at,!1);$t(this,ht,null);$t(this,ft,0);$t(this,ot,0);$t(this,ut,null);this.color=Rt.color||null,this.thickness=Rt.thickness||null,this.opacity=Rt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Rt){d.AnnotationEditor.initialize(Rt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Rt,Nt){switch(Rt){case o.AnnotationEditorParamsType.INK_THICKNESS:dr._defaultThickness=Nt;break;case o.AnnotationEditorParamsType.INK_COLOR:dr._defaultColor=Nt;break;case o.AnnotationEditorParamsType.INK_OPACITY:dr._defaultOpacity=Nt/100;break}}updateParams(Rt,Nt){switch(Rt){case o.AnnotationEditorParamsType.INK_THICKNESS:Wt(this,ct,Vl).call(this,Nt);break;case o.AnnotationEditorParamsType.INK_COLOR:Wt(this,ct,Gl).call(this,Nt);break;case o.AnnotationEditorParamsType.INK_OPACITY:Wt(this,ct,Kl).call(this,Nt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,dr._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,dr._defaultColor||d.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(dr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||dr._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||dr._defaultColor||d.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??dr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Wt(this,ct,is).call(this),Wt(this,ct,ss).call(this)),this.isAttachedToDOM||(this.parent.add(this),Wt(this,ct,vn).call(this)),Wt(this,ct,yn).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,lt(this,ht).disconnect(),Qt(this,ht,null),super.remove())}setParent(Rt){!this.parent&&Rt?this._uiManager.removeShouldRescale(this):this.parent&&Rt===null&&this._uiManager.addShouldRescale(this),super.setParent(Rt)}onScaleChanging(){const[Rt,Nt]=this.parentDimensions,Ht=this.width*Rt,qt=this.height*Nt;this.setDimensions(Ht,qt)}enableEditMode(){lt(this,st)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",lt(this,nt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",lt(this,nt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){lt(this,st)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Qt(this,st,!0),this.div.classList.add("disabled"),Wt(this,ct,yn).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Rt){this._focusEventsAllowed&&(super.focusin(Rt),this.enableEditMode())}canvasPointerdown(Rt){Rt.button!==0||!this.isInEditMode()||lt(this,st)||(this.setInForeground(),Rt.preventDefault(),Rt.type!=="mouse"&&this.div.focus(),Wt(this,ct,Yl).call(this,Rt.offsetX,Rt.offsetY))}canvasPointermove(Rt){Rt.preventDefault(),Wt(this,ct,mo).call(this,Rt.offsetX,Rt.offsetY)}canvasPointerup(Rt){Rt.preventDefault(),Wt(this,ct,vo).call(this,Rt)}canvasPointerleave(Rt){Wt(this,ct,vo).call(this,Rt)}get isResizable(){return!this.isEmpty()&&lt(this,st)}render(){if(this.div)return this.div;let Rt,Nt;this.width&&(Rt=this.x,Nt=this.y),super.render(),d.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(pr=>{var Vt;return(Vt=this.div)==null?void 0:Vt.setAttribute("aria-label",pr)});const[Ht,qt,ar,vr]=Wt(this,ct,Xl).call(this);if(this.setAt(Ht,qt,0,0),this.setDims(ar,vr),Wt(this,ct,is).call(this),this.width){const[pr,Vt]=this.parentDimensions;this.setAspectRatio(this.width*pr,this.height*Vt),this.setAt(Rt*pr,Nt*Vt,this.width*pr,this.height*Vt),Qt(this,at,!0),Wt(this,ct,vn).call(this),this.setDims(this.width*pr,this.height*Vt),Wt(this,ct,sn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Wt(this,ct,ss).call(this),this.div}setDimensions(Rt,Nt){const Ht=Math.round(Rt),qt=Math.round(Nt);if(lt(this,ft)===Ht&&lt(this,ot)===qt)return;Qt(this,ft,Ht),Qt(this,ot,qt),this.canvas.style.visibility="hidden";const[ar,vr]=this.parentDimensions;this.width=Rt/ar,this.height=Nt/vr,this.fixAndSetPosition(),lt(this,st)&&Wt(this,ct,yo).call(this,Rt,Nt),Wt(this,ct,vn).call(this),Wt(this,ct,sn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Rt,Nt,Ht){var Tr,Mr,Ur;if(Rt instanceof h.InkAnnotationElement)return null;const qt=super.deserialize(Rt,Nt,Ht);qt.thickness=Rt.thickness,qt.color=o.Util.makeHexColor(...Rt.color),qt.opacity=Rt.opacity;const[ar,vr]=qt.pageDimensions,pr=qt.width*ar,Vt=qt.height*vr,br=qt.parentScale,Er=Rt.thickness/2;Qt(qt,st,!0),Qt(qt,ft,Math.round(pr)),Qt(qt,ot,Math.round(Vt));const{paths:Ir,rect:kr,rotation:Nr}=Rt;for(let{bezier:Cr}of Ir){Cr=Wt(Tr=dr,At,tu).call(Tr,Cr,kr,Nr);const or=[];qt.paths.push(or);let Yt=br*(Cr[0]-Er),fr=br*(Cr[1]-Er);for(let Or=2,Pt=Cr.length;Or<Pt;Or+=6){const Xt=br*(Cr[Or]-Er),xr=br*(Cr[Or+1]-Er),wr=br*(Cr[Or+2]-Er),Pr=br*(Cr[Or+3]-Er),Sr=br*(Cr[Or+4]-Er),Ot=br*(Cr[Or+5]-Er);or.push([[Yt,fr],[Xt,xr],[wr,Pr],[Sr,Ot]]),Yt=Sr,fr=Ot}const Dr=Wt(this,At,eu).call(this,or);qt.bezierPath2D.push(Dr)}const Rr=Wt(Mr=qt,ct,bo).call(Mr);return Qt(qt,$,Math.max(d.AnnotationEditor.MIN_SIZE,Rr[2]-Rr[0])),Qt(qt,_,Math.max(d.AnnotationEditor.MIN_SIZE,Rr[3]-Rr[1])),Wt(Ur=qt,ct,yo).call(Ur,pr,Vt),qt}serialize(){if(this.isEmpty())return null;const Rt=this.getRect(0,0),Nt=d.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:Nt,thickness:this.thickness,opacity:this.opacity,paths:Wt(this,ct,ru).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Rt),pageIndex:this.pageIndex,rect:Rt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};_=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,rt=new WeakMap,at=new WeakMap,ht=new WeakMap,ft=new WeakMap,ot=new WeakMap,ut=new WeakMap,ct=new WeakSet,Vl=function(Rt){const Nt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Rt,Wt(this,ct,yn).call(this)},undo:()=>{this.thickness=Nt,Wt(this,ct,yn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Gl=function(Rt){const Nt=this.color;this.addCommands({cmd:()=>{this.color=Rt,Wt(this,ct,sn).call(this)},undo:()=>{this.color=Nt,Wt(this,ct,sn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Kl=function(Rt){Rt/=100;const Nt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Rt,Wt(this,ct,sn).call(this)},undo:()=>{this.opacity=Nt,Wt(this,ct,sn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Xl=function(){const{parentRotation:Rt,parentDimensions:[Nt,Ht]}=this;switch(Rt){case 90:return[0,Ht,Ht,Nt];case 180:return[Nt,Ht,Nt,Ht];case 270:return[Nt,0,Ht,Nt];default:return[0,0,Nt,Ht]}},go=function(){const{ctx:Rt,color:Nt,opacity:Ht,thickness:qt,parentScale:ar,scaleFactor:vr}=this;Rt.lineWidth=qt*ar/vr,Rt.lineCap="round",Rt.lineJoin="round",Rt.miterLimit=10,Rt.strokeStyle=`${Nt}${(0,b.opacityToHex)(Ht)}`},Yl=function(Rt,Nt){this.canvas.addEventListener("contextmenu",g.noContextMenu),this.canvas.addEventListener("pointerleave",lt(this,et)),this.canvas.addEventListener("pointermove",lt(this,_e)),this.canvas.addEventListener("pointerup",lt(this,tt)),this.canvas.removeEventListener("pointerdown",lt(this,nt)),this.isEditing=!0,lt(this,at)||(Qt(this,at,!0),Wt(this,ct,vn).call(this),this.thickness||(this.thickness=dr._defaultThickness),this.color||(this.color=dr._defaultColor||d.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=dr._defaultOpacity)),this.currentPath.push([Rt,Nt]),Qt(this,rt,!1),Wt(this,ct,go).call(this),Qt(this,ut,()=>{Wt(this,ct,Jl).call(this),lt(this,ut)&&window.requestAnimationFrame(lt(this,ut))}),window.requestAnimationFrame(lt(this,ut))},mo=function(Rt,Nt){const[Ht,qt]=this.currentPath.at(-1);if(this.currentPath.length>1&&Rt===Ht&&Nt===qt)return;const ar=this.currentPath;let vr=lt(this,it);if(ar.push([Rt,Nt]),Qt(this,rt,!0),ar.length<=2){vr.moveTo(...ar[0]),vr.lineTo(Rt,Nt);return}ar.length===3&&(Qt(this,it,vr=new Path2D),vr.moveTo(...ar[0])),Wt(this,ct,Ql).call(this,vr,...ar.at(-3),...ar.at(-2),Rt,Nt)},$l=function(){if(this.currentPath.length===0)return;const Rt=this.currentPath.at(-1);lt(this,it).lineTo(...Rt)},Zl=function(Rt,Nt){Qt(this,ut,null),Rt=Math.min(Math.max(Rt,0),this.canvas.width),Nt=Math.min(Math.max(Nt,0),this.canvas.height),Wt(this,ct,mo).call(this,Rt,Nt),Wt(this,ct,$l).call(this);let Ht;if(this.currentPath.length!==1)Ht=Wt(this,ct,_c).call(this);else{const Vt=[Rt,Nt];Ht=[[Vt,Vt.slice(),Vt.slice(),Vt]]}const qt=lt(this,it),ar=this.currentPath;this.currentPath=[],Qt(this,it,new Path2D);const vr=()=>{this.allRawPaths.push(ar),this.paths.push(Ht),this.bezierPath2D.push(qt),this.rebuild()},pr=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Wt(this,ct,is).call(this),Wt(this,ct,ss).call(this)),Wt(this,ct,yn).call(this))};this.addCommands({cmd:vr,undo:pr,mustExec:!0})},Jl=function(){if(!lt(this,rt))return;Qt(this,rt,!1);const Rt=Math.ceil(this.thickness*this.parentScale),Nt=this.currentPath.slice(-3),Ht=Nt.map(vr=>vr[0]),qt=Nt.map(vr=>vr[1]);Math.min(...Ht)-Rt,Math.max(...Ht)+Rt,Math.min(...qt)-Rt,Math.max(...qt)+Rt;const{ctx:ar}=this;ar.save(),ar.clearRect(0,0,this.canvas.width,this.canvas.height);for(const vr of this.bezierPath2D)ar.stroke(vr);ar.stroke(lt(this,it)),ar.restore()},Ql=function(Rt,Nt,Ht,qt,ar,vr,pr){const Vt=(Nt+qt)/2,br=(Ht+ar)/2,Er=(qt+vr)/2,Ir=(ar+pr)/2;Rt.bezierCurveTo(Vt+2*(qt-Vt)/3,br+2*(ar-br)/3,Er+2*(qt-Er)/3,Ir+2*(ar-Ir)/3,Er,Ir)},_c=function(){const Rt=this.currentPath;if(Rt.length<=2)return[[Rt[0],Rt[0],Rt.at(-1),Rt.at(-1)]];const Nt=[];let Ht,[qt,ar]=Rt[0];for(Ht=1;Ht<Rt.length-2;Ht++){const[kr,Nr]=Rt[Ht],[Rr,Tr]=Rt[Ht+1],Mr=(kr+Rr)/2,Ur=(Nr+Tr)/2,Cr=[qt+2*(kr-qt)/3,ar+2*(Nr-ar)/3],or=[Mr+2*(kr-Mr)/3,Ur+2*(Nr-Ur)/3];Nt.push([[qt,ar],Cr,or,[Mr,Ur]]),[qt,ar]=[Mr,Ur]}const[vr,pr]=Rt[Ht],[Vt,br]=Rt[Ht+1],Er=[qt+2*(vr-qt)/3,ar+2*(pr-ar)/3],Ir=[Vt+2*(vr-Vt)/3,br+2*(pr-br)/3];return Nt.push([[qt,ar],Er,Ir,[Vt,br]]),Nt},sn=function(){if(this.isEmpty()){Wt(this,ct,as).call(this);return}Wt(this,ct,go).call(this);const{canvas:Rt,ctx:Nt}=this;Nt.setTransform(1,0,0,1,0,0),Nt.clearRect(0,0,Rt.width,Rt.height),Wt(this,ct,as).call(this);for(const Ht of this.bezierPath2D)Nt.stroke(Ht)},vo=function(Rt){this.canvas.removeEventListener("pointerleave",lt(this,et)),this.canvas.removeEventListener("pointermove",lt(this,_e)),this.canvas.removeEventListener("pointerup",lt(this,tt)),this.canvas.addEventListener("pointerdown",lt(this,nt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",g.noContextMenu)},10),Wt(this,ct,Zl).call(this,Rt.offsetX,Rt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},is=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",d.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Rt=>{var Nt;return(Nt=this.canvas)==null?void 0:Nt.setAttribute("aria-label",Rt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ss=function(){Qt(this,ht,new ResizeObserver(Rt=>{const Nt=Rt[0].contentRect;Nt.width&&Nt.height&&this.setDimensions(Nt.width,Nt.height)})),lt(this,ht).observe(this.div)},vn=function(){if(!lt(this,at))return;const[Rt,Nt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Rt),this.canvas.height=Math.ceil(this.height*Nt),Wt(this,ct,as).call(this)},yo=function(Rt,Nt){const Ht=Wt(this,ct,os).call(this),qt=(Rt-Ht)/lt(this,$),ar=(Nt-Ht)/lt(this,_);this.scaleFactor=Math.min(qt,ar)},as=function(){const Rt=Wt(this,ct,os).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Rt,this.translationY*this.scaleFactor+Rt)},At=new WeakSet,eu=function(Rt){const Nt=new Path2D;for(let Ht=0,qt=Rt.length;Ht<qt;Ht++){const[ar,vr,pr,Vt]=Rt[Ht];Ht===0&&Nt.moveTo(...ar),Nt.bezierCurveTo(vr[0],vr[1],pr[0],pr[1],Vt[0],Vt[1])}return Nt},xo=function(Rt,Nt,Ht){const[qt,ar,vr,pr]=Nt;switch(Ht){case 0:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2)Rt[Vt]+=qt,Rt[Vt+1]=pr-Rt[Vt+1];break;case 90:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2){const Er=Rt[Vt];Rt[Vt]=Rt[Vt+1]+qt,Rt[Vt+1]=Er+ar}break;case 180:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2)Rt[Vt]=vr-Rt[Vt],Rt[Vt+1]+=ar;break;case 270:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2){const Er=Rt[Vt];Rt[Vt]=vr-Rt[Vt+1],Rt[Vt+1]=pr-Er}break;default:throw new Error("Invalid rotation")}return Rt},tu=function(Rt,Nt,Ht){const[qt,ar,vr,pr]=Nt;switch(Ht){case 0:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2)Rt[Vt]-=qt,Rt[Vt+1]=pr-Rt[Vt+1];break;case 90:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2){const Er=Rt[Vt];Rt[Vt]=Rt[Vt+1]-ar,Rt[Vt+1]=Er-qt}break;case 180:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2)Rt[Vt]=vr-Rt[Vt],Rt[Vt+1]-=ar;break;case 270:for(let Vt=0,br=Rt.length;Vt<br;Vt+=2){const Er=Rt[Vt];Rt[Vt]=pr-Rt[Vt+1],Rt[Vt+1]=vr-Er}break;default:throw new Error("Invalid rotation")}return Rt},ru=function(Rt,Nt,Ht,qt){var br,Er;const ar=[],vr=this.thickness/2,pr=Rt*Nt+vr,Vt=Rt*Ht+vr;for(const Ir of this.paths){const kr=[],Nr=[];for(let Rr=0,Tr=Ir.length;Rr<Tr;Rr++){const[Mr,Ur,Cr,or]=Ir[Rr],Yt=Rt*Mr[0]+pr,fr=Rt*Mr[1]+Vt,Dr=Rt*Ur[0]+pr,Or=Rt*Ur[1]+Vt,Pt=Rt*Cr[0]+pr,Xt=Rt*Cr[1]+Vt,xr=Rt*or[0]+pr,wr=Rt*or[1]+Vt;Rr===0&&(kr.push(Yt,fr),Nr.push(Yt,fr)),kr.push(Dr,Or,Pt,Xt,xr,wr),Nr.push(Dr,Or),Rr===Tr-1&&Nr.push(xr,wr)}ar.push({bezier:Wt(br=dr,At,xo).call(br,kr,qt,this.rotation),points:Wt(Er=dr,At,xo).call(Er,Nr,qt,this.rotation)})}return ar},bo=function(){let Rt=1/0,Nt=-1/0,Ht=1/0,qt=-1/0;for(const ar of this.paths)for(const[vr,pr,Vt,br]of ar){const Er=o.Util.bezierBoundingBox(...vr,...pr,...Vt,...br);Rt=Math.min(Rt,Er[0]),Ht=Math.min(Ht,Er[1]),Nt=Math.max(Nt,Er[2]),qt=Math.max(qt,Er[3])}return[Rt,Ht,Nt,qt]},os=function(){return lt(this,st)?Math.ceil(this.thickness*this.parentScale):0},yn=function(Rt=!1){if(this.isEmpty())return;if(!lt(this,st)){Wt(this,ct,sn).call(this);return}const Nt=Wt(this,ct,bo).call(this),Ht=Wt(this,ct,os).call(this);Qt(this,$,Math.max(d.AnnotationEditor.MIN_SIZE,Nt[2]-Nt[0])),Qt(this,_,Math.max(d.AnnotationEditor.MIN_SIZE,Nt[3]-Nt[1]));const qt=Math.ceil(Ht+lt(this,$)*this.scaleFactor),ar=Math.ceil(Ht+lt(this,_)*this.scaleFactor),[vr,pr]=this.parentDimensions;this.width=qt/vr,this.height=ar/pr,this.setAspectRatio(qt,ar);const Vt=this.translationX,br=this.translationY;this.translationX=-Nt[0],this.translationY=-Nt[1],Wt(this,ct,vn).call(this),Wt(this,ct,sn).call(this),Qt(this,ft,qt),Qt(this,ot,ar),this.setDims(qt,ar);const Er=Rt?Ht/this.scaleFactor/2:0;this.translate(Vt-this.translationX-Er,br-this.translationY-Er)},$t(dr,At),Hr(dr,"_defaultColor",null),Hr(dr,"_defaultOpacity",1),Hr(dr,"_defaultThickness",1),Hr(dr,"_type","ink");let j=dr;e.InkEditor=j},(s,e,a)=>{var j,_,$,_e,et,tt,nt,it,st,rt,at,Dn,On,ls,Eo,nu,iu,So,cs,su;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var o=a(1),d=a(4),h=a(6),g=a(29);const bt=class bt extends d.AnnotationEditor{constructor(jt){super({...jt,name:"stampEditor"});$t(this,at);$t(this,j,null);$t(this,_,null);$t(this,$,null);$t(this,_e,null);$t(this,et,null);$t(this,tt,null);$t(this,nt,null);$t(this,it,null);$t(this,st,!1);$t(this,rt,!1);Qt(this,_e,jt.bitmapUrl),Qt(this,et,jt.bitmapFile)}static initialize(jt){d.AnnotationEditor.initialize(jt)}static get supportedTypes(){const jt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",jt.map(Ft=>`image/${Ft}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(jt){return this.supportedTypes.includes(jt)}static paste(jt,Ft){Ft.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:jt.getAsFile()})}remove(){var jt,Ft;lt(this,_)&&(Qt(this,j,null),this._uiManager.imageManager.deleteId(lt(this,_)),(jt=lt(this,tt))==null||jt.remove(),Qt(this,tt,null),(Ft=lt(this,nt))==null||Ft.disconnect(),Qt(this,nt,null)),super.remove()}rebuild(){if(!this.parent){lt(this,_)&&Wt(this,at,ls).call(this);return}super.rebuild(),this.div!==null&&(lt(this,_)&&Wt(this,at,ls).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(lt(this,$)||lt(this,j)||lt(this,_e)||lt(this,et))}get isResizable(){return!0}render(){if(this.div)return this.div;let jt,Ft;if(this.width&&(jt=this.x,Ft=this.y),super.render(),this.div.hidden=!0,lt(this,j)?Wt(this,at,Eo).call(this):Wt(this,at,ls).call(this),this.width){const[wt,It]=this.parentDimensions;this.setAt(jt*wt,Ft*It,this.width*wt,this.height*It)}return this.div}static deserialize(jt,Ft,wt){if(jt instanceof g.StampAnnotationElement)return null;const It=super.deserialize(jt,Ft,wt),{rect:yt,bitmapUrl:Dt,bitmapId:Mt,isSvg:St,accessibilityData:gt}=jt;Mt&&wt.imageManager.isValidId(Mt)?Qt(It,_,Mt):Qt(It,_e,Dt),Qt(It,st,St);const[mt,xt]=It.pageDimensions;return It.width=(yt[2]-yt[0])/mt,It.height=(yt[3]-yt[1])/xt,gt&&(It.altTextData=gt),It}serialize(jt=!1,Ft=null){if(this.isEmpty())return null;const wt={annotationType:o.AnnotationEditorType.STAMP,bitmapId:lt(this,_),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:lt(this,st),structTreeParentId:this._structTreeParentId};if(jt)return wt.bitmapUrl=Wt(this,at,cs).call(this,!0),wt.accessibilityData=this.altTextData,wt;const{decorative:It,altText:yt}=this.altTextData;if(!It&&yt&&(wt.accessibilityData={type:"Figure",alt:yt}),Ft===null)return wt;Ft.stamps||(Ft.stamps=new Map);const Dt=lt(this,st)?(wt.rect[2]-wt.rect[0])*(wt.rect[3]-wt.rect[1]):null;if(!Ft.stamps.has(lt(this,_)))Ft.stamps.set(lt(this,_),{area:Dt,serialized:wt}),wt.bitmap=Wt(this,at,cs).call(this,!1);else if(lt(this,st)){const Mt=Ft.stamps.get(lt(this,_));Dt>Mt.area&&(Mt.area=Dt,Mt.serialized.bitmap.close(),Mt.serialized.bitmap=Wt(this,at,cs).call(this,!1))}return wt}};j=new WeakMap,_=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,rt=new WeakMap,at=new WeakSet,Dn=function(jt,Ft=!1){if(!jt){this.remove();return}Qt(this,j,jt.bitmap),Ft||(Qt(this,_,jt.id),Qt(this,st,jt.isSvg)),Wt(this,at,Eo).call(this)},On=function(){Qt(this,$,null),this._uiManager.enableWaiting(!1),lt(this,tt)&&this.div.focus()},ls=function(){if(lt(this,_)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(lt(this,_)).then(Ft=>Wt(this,at,Dn).call(this,Ft,!0)).finally(()=>Wt(this,at,On).call(this));return}if(lt(this,_e)){const Ft=lt(this,_e);Qt(this,_e,null),this._uiManager.enableWaiting(!0),Qt(this,$,this._uiManager.imageManager.getFromUrl(Ft).then(wt=>Wt(this,at,Dn).call(this,wt)).finally(()=>Wt(this,at,On).call(this)));return}if(lt(this,et)){const Ft=lt(this,et);Qt(this,et,null),this._uiManager.enableWaiting(!0),Qt(this,$,this._uiManager.imageManager.getFromFile(Ft).then(wt=>Wt(this,at,Dn).call(this,wt)).finally(()=>Wt(this,at,On).call(this)));return}const jt=document.createElement("input");jt.type="file",jt.accept=bt.supportedTypesStr,Qt(this,$,new Promise(Ft=>{jt.addEventListener("change",async()=>{if(!jt.files||jt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const wt=await this._uiManager.imageManager.getFromFile(jt.files[0]);Wt(this,at,Dn).call(this,wt)}Ft()}),jt.addEventListener("cancel",()=>{this.remove(),Ft()})}).finally(()=>Wt(this,at,On).call(this))),jt.click()},Eo=function(){const{div:jt}=this;let{width:Ft,height:wt}=lt(this,j);const[It,yt]=this.pageDimensions,Dt=.75;if(this.width)Ft=this.width*It,wt=this.height*yt;else if(Ft>Dt*It||wt>Dt*yt){const mt=Math.min(Dt*It/Ft,Dt*yt/wt);Ft*=mt,wt*=mt}const[Mt,St]=this.parentDimensions;this.setDims(Ft*Mt/It,wt*St/yt),this._uiManager.enableWaiting(!1);const gt=Qt(this,tt,document.createElement("canvas"));jt.append(gt),jt.hidden=!1,Wt(this,at,So).call(this,Ft,wt),Wt(this,at,su).call(this),lt(this,rt)||(this.parent.addUndoableEditor(this),Qt(this,rt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},nu=function(jt,Ft){var Dt;const[wt,It]=this.parentDimensions;this.width=jt/wt,this.height=Ft/It,this.setDims(jt,Ft),(Dt=this._initialOptions)!=null&&Dt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,lt(this,it)!==null&&clearTimeout(lt(this,it)),Qt(this,it,setTimeout(()=>{Qt(this,it,null),Wt(this,at,So).call(this,jt,Ft)},200))},iu=function(jt,Ft){const{width:wt,height:It}=lt(this,j);let yt=wt,Dt=It,Mt=lt(this,j);for(;yt>2*jt||Dt>2*Ft;){const St=yt,gt=Dt;yt>2*jt&&(yt=yt>=16384?Math.floor(yt/2)-1:Math.ceil(yt/2)),Dt>2*Ft&&(Dt=Dt>=16384?Math.floor(Dt/2)-1:Math.ceil(Dt/2));const mt=new OffscreenCanvas(yt,Dt);mt.getContext("2d").drawImage(Mt,0,0,St,gt,0,0,yt,Dt),Mt=mt.transferToImageBitmap()}return Mt},So=function(jt,Ft){jt=Math.ceil(jt),Ft=Math.ceil(Ft);const wt=lt(this,tt);if(!wt||wt.width===jt&&wt.height===Ft)return;wt.width=jt,wt.height=Ft;const It=lt(this,st)?lt(this,j):Wt(this,at,iu).call(this,jt,Ft),yt=wt.getContext("2d");yt.filter=this._uiManager.hcmFilter,yt.drawImage(It,0,0,It.width,It.height,0,0,jt,Ft)},cs=function(jt){if(jt){if(lt(this,st)){const It=this._uiManager.imageManager.getSvgUrl(lt(this,_));if(It)return It}const Ft=document.createElement("canvas");return{width:Ft.width,height:Ft.height}=lt(this,j),Ft.getContext("2d").drawImage(lt(this,j),0,0),Ft.toDataURL()}if(lt(this,st)){const[Ft,wt]=this.pageDimensions,It=Math.round(this.width*Ft*h.PixelsPerInch.PDF_TO_CSS_UNITS),yt=Math.round(this.height*wt*h.PixelsPerInch.PDF_TO_CSS_UNITS),Dt=new OffscreenCanvas(It,yt);return Dt.getContext("2d").drawImage(lt(this,j),0,0,lt(this,j).width,lt(this,j).height,0,0,It,yt),Dt.transferToImageBitmap()}return structuredClone(lt(this,j))},su=function(){Qt(this,nt,new ResizeObserver(jt=>{const Ft=jt[0].contentRect;Ft.width&&Ft.height&&Wt(this,at,nu).call(this,Ft.width,Ft.height)})),lt(this,nt).observe(this.div)},Hr(bt,"_type","stamp");let b=bt;e.StampEditor=b}],__webpack_module_cache__={};function __w_pdfjs_require__(s){var e=__webpack_module_cache__[s];if(e!==void 0)return e.exports;var a=__webpack_module_cache__[s]={exports:{}};return __webpack_modules__[s](a,a.exports,__w_pdfjs_require__),a.exports}var __webpack_exports__={};return(()=>{var s=__webpack_exports__;Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(s,"AnnotationEditorLayer",{enumerable:!0,get:function(){return h.AnnotationEditorLayer}}),Object.defineProperty(s,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(s,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(s,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return g.AnnotationEditorUIManager}}),Object.defineProperty(s,"AnnotationLayer",{enumerable:!0,get:function(){return b.AnnotationLayer}}),Object.defineProperty(s,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(s,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(s,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(s,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(s,"GlobalWorkerOptions",{enumerable:!0,get:function(){return j.GlobalWorkerOptions}}),Object.defineProperty(s,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(s,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(s,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(s,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(s,"PDFDataRangeTransport",{enumerable:!0,get:function(){return a.PDFDataRangeTransport}}),Object.defineProperty(s,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(s,"PDFWorker",{enumerable:!0,get:function(){return a.PDFWorker}}),Object.defineProperty(s,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(s,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(s,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(s,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(s,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(s,"SVGGraphics",{enumerable:!0,get:function(){return a.SVGGraphics}}),Object.defineProperty(s,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(s,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(s,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(s,"XfaLayer",{enumerable:!0,get:function(){return _.XfaLayer}}),Object.defineProperty(s,"build",{enumerable:!0,get:function(){return a.build}}),Object.defineProperty(s,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(s,"getDocument",{enumerable:!0,get:function(){return a.getDocument}}),Object.defineProperty(s,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(s,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(s,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(s,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(s,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(s,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(s,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(s,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(s,"renderTextLayer",{enumerable:!0,get:function(){return d.renderTextLayer}}),Object.defineProperty(s,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(s,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(s,"updateTextLayer",{enumerable:!0,get:function(){return d.updateTextLayer}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return a.version}});var e=__w_pdfjs_require__(1),a=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),d=__w_pdfjs_require__(26),h=__w_pdfjs_require__(27),g=__w_pdfjs_require__(5),b=__w_pdfjs_require__(29),j=__w_pdfjs_require__(14),_=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;pdfExports.GlobalWorkerOptions.workerSrc=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${pdfExports.version}/build/pdf.worker.min.mjs`;const PDFPreview=({file:s})=>{const[e,a]=reactExports.useState(null),[o,d]=reactExports.useState(1),[h,g]=reactExports.useState([]),b=reactExports.useRef([]);reactExports.useEffect(()=>{if(!s)return;(async()=>{try{const tt=await s.arrayBuffer(),nt=await pdfExports.getDocument({data:tt}).promise;a(nt)}catch(tt){console.error("Error loading PDF for preview:",tt)}})()},[s]),reactExports.useEffect(()=>{if(!e)return;(async()=>{const tt=Math.min(4,e.numPages),nt=[];for(let it=1;it<=tt;it++)try{const st=await e.getPage(it),rt=st.getViewport({scale:2*o}),at=b.current[it-1];if(!at)continue;const ht=at.getContext("2d");at.width=rt.width,at.height=rt.height,await st.render({canvasContext:ht,viewport:rt}).promise,nt.push(it)}catch(st){console.error(`Error rendering page ${it}:`,st)}g(nt)})()},[e,o]);const j=()=>{d(et=>Math.min(et+.25,3))},_=()=>{d(et=>Math.max(et-.25,.5))},$=()=>{d(1)};if(!s||!e)return null;const _e=Math.min(4,e.numPages);return jsxRuntimeExports.jsxs("div",{className:"mt-8 border-t pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["PDF Preview (First ",_e," Pages)"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Development/Testing View - High Quality Render"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:_,className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",title:"Zoom Out",children:jsxRuntimeExports.jsx(ZoomOut,{className:"w-5 h-5 text-gray-700"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[60px] text-center",children:[Math.round(o*100),"%"]}),jsxRuntimeExports.jsx("button",{onClick:j,className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",title:"Zoom In",children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-5 h-5 text-gray-700"})}),jsxRuntimeExports.jsx("button",{onClick:$,className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors ml-2",title:"Reset Zoom",children:jsxRuntimeExports.jsx(RotateCcw,{className:"w-5 h-5 text-gray-700"})})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 bg-gray-50 p-4 rounded-lg overflow-x-auto",children:[...Array(_e)].map((et,tt)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsx("canvas",{ref:nt=>b.current[tt]=nt,className:"max-w-full h-auto",style:{display:h.includes(tt+1)?"block":"none"}}),!h.includes(tt+1)&&jsxRuntimeExports.jsx("div",{className:"w-full h-64 flex items-center justify-center bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Loading page ",tt+1,"..."]})]})})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-gray-600 mt-2",children:["Page ",tt+1]})]},tt))}),jsxRuntimeExports.jsxs("div",{className:"mt-3 text-xs text-gray-500 text-center",children:[jsxRuntimeExports.jsx("p",{children:" High quality render (2x scale)"}),jsxRuntimeExports.jsx("p",{children:" No pixel loss - Vector-based rendering"})]})]})},getTodayDayName=()=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date().getDay()],getTodayHours=s=>{if(!s)return"Hours not available";const e=getTodayDayName();return`Today: ${s[e]||"Closed"}`},isShopOpen=s=>{if(!s)return!1;const e=getTodayDayName(),a=s[e];if(!a||a.toLowerCase()==="closed")return!1;const o=a.match(/(\d{1,2}):(\d{2})\s*-\s*(\d{1,2}):(\d{2})/);if(!o)return!1;const d=new Date,h=d.getHours()*60+d.getMinutes(),g=parseInt(o[1])*60+parseInt(o[2]),b=parseInt(o[3])*60+parseInt(o[4]);return h>=g&&h<b},A4_PORTRAIT=PageSizes.A4,A4_LANDSCAPE=[PageSizes.A4[1],PageSizes.A4[0]],A4_TOLERANCE=5;function isA4Size(s,e,a=A4_TOLERANCE){const o=Math.abs(s-A4_PORTRAIT[0])<=a&&Math.abs(e-A4_PORTRAIT[1])<=a,d=Math.abs(s-A4_LANDSCAPE[0])<=a&&Math.abs(e-A4_LANDSCAPE[1])<=a;return o||d}function detectOptimalOrientation(s,e){return s>e?"landscape":"portrait"}function getA4Dimensions(s){return s==="portrait"?A4_PORTRAIT:A4_LANDSCAPE}async function normalizePdfToA4(s,e={}){const{onProgress:a,skipIfA4:o=!0,tolerance:d=A4_TOLERANCE}=e;try{a==null||a(0,"Loading PDF...");const h=await s.arrayBuffer(),g=await PDFDocument.load(h),b=g.getPageCount(),j=[];if(o){let rt=!0;for(let at=0;at<b;at++){const ht=g.getPage(at),{width:ft,height:ot}=ht.getSize();if(!isA4Size(ft,ot,d)){rt=!1;break}}if(rt)return console.log(" PDF already A4-sized, skipping normalization"),a==null||a(100,"PDF already A4-sized"),{normalizedFile:s,wasNormalized:!1,pageCount:b,orientations:Array(b).fill("portrait")}}a==null||a(10,`Normalizing ${b} pages to A4...`),console.log(` Starting normalization of ${b} pages...`);for(let rt=0;rt<b;rt++){const at=g.getPage(rt),ht=at.getRotation().angle,ft=ht===90||ht===270,ot=at.getCropBox(),ut=at.getMediaBox(),ct=ot||ut,dt=ct.x,vt=ct.y,Et=ct.width,pt=ct.height,bt=ft?pt:Et,Ct=ft?Et:pt,Bt=ft?pt:Et,jt=ft?Et:pt,Ft=detectOptimalOrientation(Bt,jt);j.push(Ft),console.log(` Page ${rt+1}: Original size ${Et.toFixed(1)} x ${pt.toFixed(1)} (visual: ${Bt.toFixed(1)} x ${jt.toFixed(1)})  ${Ft}`);const[wt,It]=getA4Dimensions(Ft),yt=ft?It:wt,Dt=ft?wt:It,Mt=yt/bt,St=Dt/Ct,gt=Math.min(Mt,St),mt=gt*.95,xt=bt*mt,_t=Ct*mt,At=(yt-xt)/2,Tt=(Dt-_t)/2;console.log(`   Scale: ${mt.toFixed(3)} (base: ${gt.toFixed(3)}  0.95 = 5% margin), Target: ${yt.toFixed(1)} x ${Dt.toFixed(1)}`),console.log(`   Content size after scale: ${xt.toFixed(1)} x ${_t.toFixed(1)}, Margins: ${At.toFixed(1)}, ${Tt.toFixed(1)}`),at.translateContent(-dt,-vt),at.scaleContent(mt,mt),at.translateContent(At,Tt),at.setMediaBox(0,0,yt,Dt),at.setCropBox(0,0,yt,Dt),console.log(`   Page ${rt+1} normalized to A4 ${Ft} (${yt.toFixed(1)} x ${Dt.toFixed(1)})`);try{at.setTrimBox(0,0,yt,Dt),at.setBleedBox(0,0,yt,Dt)}catch{}const Lt=10+(rt+1)/b*80;a==null||a(Lt,`Normalizing page ${rt+1}/${b} (${Ft})...`),rt%10===0&&rt>0&&await new Promise(Ut=>setTimeout(Ut,0))}a==null||a(90,"Finalizing PDF...");const _=await g.save({useObjectStreams:!0}),$=new Blob([new Uint8Array(_)],{type:"application/pdf"}),_e=Date.now(),tt=`${s.name.replace(/\.pdf$/i,"")}_normalized_${_e}.pdf`,nt=new File([$],tt,{type:"application/pdf",lastModified:_e}),it=(s.size/1024/1024).toFixed(2),st=(nt.size/1024/1024).toFixed(2);return console.log(` Normalization complete: ${b} pages`),console.log(` Orientations: ${j.join(", ")}`),console.log(` File size: ${it} MB  ${st} MB`),a==null||a(100,"Normalization complete!"),{normalizedFile:nt,wasNormalized:!0,pageCount:b,orientations:j}}catch(h){console.error("Error normalizing PDF to A4:",h);const g=h instanceof Error?h.message:"Unknown error";throw new Error(`Failed to normalize PDF: ${g}`)}}const PDFEditor=reactExports.lazy(()=>__vitePreload(()=>import("./PDFEditor-XAbRHtk9.js"),__vite__mapDeps([0,1]),import.meta.url)),ImageEditor=reactExports.lazy(()=>__vitePreload(()=>import("./ImageEditor-DGRGoXuD.js"),__vite__mapDeps([2,1]),import.meta.url)),OrderPage=()=>{var Kt,nr,ur,mr,sr,yr,ir;const{shopId:s}=useParams(),e=useNavigate(),[a,o]=reactExports.useState(null),[d,h]=reactExports.useState([]),[g,b]=reactExports.useState(["A4"]),[j,_]=reactExports.useState(DEFAULT_PAGE_SIZE),[$,_e]=reactExports.useState({file:null,files:[],filename:"",selectedPages:[],selectedImages:[],copies:1,paperSize:"A4",colorMode:"BW",printType:"Single",pagesPerSheet:1,customerName:"",customerEmail:"",customerPhone:""}),[et,tt]=reactExports.useState({cost:0}),[nt,it]=reactExports.useState(!1),[st,rt]=reactExports.useState(!1),[at,ht]=reactExports.useState(!0),[ft,ot]=reactExports.useState(null),[ut,ct]=reactExports.useState(!1),[dt,vt]=reactExports.useState(null),[Et,pt]=reactExports.useState(0),[bt,Ct]=reactExports.useState(!1),[Bt,jt]=reactExports.useState(null),[Ft,wt]=reactExports.useState(!1),[It,yt]=reactExports.useState(!1),[Dt,Mt]=reactExports.useState(0),[St,gt]=reactExports.useState(""),[mt,xt]=reactExports.useState(!1),[_t,At]=reactExports.useState(0),[Tt,Lt]=reactExports.useState(""),[Ut,Zt]=reactExports.useState({}),[tr,lr]=reactExports.useState(null),[hr,dr]=reactExports.useState(!1),[Gt,Jt]=reactExports.useState(null),Rt=reactExports.useRef(null),[Nt,Ht]=reactExports.useState(!1),[qt,ar]=reactExports.useState(0),[vr,pr]=reactExports.useState(0),[Vt,br]=reactExports.useState(null),[Er,Ir]=reactExports.useState(!1),[kr,Nr]=reactExports.useState(""),[Rr,Tr]=reactExports.useState(!1);reactExports.useEffect(()=>{Mr()},[s]),reactExports.useEffect(()=>{const er=rr=>{if(rr.detail&&rr.detail.editedPages){const cr=rr.detail.editedPages;console.log(" Received edited pages from PDFEditor:",Object.keys(cr).length,"pages"),Object.keys(cr).forEach(gr=>{const Ar=cr[gr].canvas?"":"";console.log(`  Page ${gr}: ${Ar} canvas available`)}),Zt(gr=>({...gr,...cr})),Sr(cr)}};return window.addEventListener("pdfEditorUpdate",er),()=>{window.removeEventListener("pdfEditorUpdate",er)}},[$.files,$.selectedImages,j,$.pagesPerSheet]),reactExports.useEffect(()=>{d.length>0&&Ur()},[$.copies,$.paperSize,$.colorMode,$.printType,d]);const Mr=async()=>{try{ht(!0),ot(null);const[er,rr]=await Promise.all([getShopInfo(s),getShopPricing(s)]);if(er.error)throw new Error("Failed to load shop: "+er.error.message);if(!er.data)throw new Error("Shop not found or inactive");if(o(er.data),rr.error&&console.warn(" Warning: Failed to load pricing:",rr.error),rr.data&&rr.data.length>0){h(rr.data);const cr=[...new Set(rr.data.map(gr=>gr.paper_size))];cr.length>0&&(b(cr),_e(gr=>({...gr,paperSize:cr[0]})))}else console.warn(" No pricing configurations found for this shop")}catch(er){console.error(" Error loading shop data:",er),ot(er.message)}finally{ht(!1)}},Ur=async()=>{if(!$.paperSize||!$.colorMode||!$.printType)return;const er=await calculateOrderCost(s,{paperSize:$.paperSize,colorMode:$.colorMode,printType:$.printType,copies:$.copies});tt(er)},Cr=async er=>{try{yt(!0),Mt(0);const rr=er.length;console.log(` Converting ${rr} image(s) to PDF...`);const cr=await PDFDocument.create(),gr=getPageSize($.paperSize||"A4");for(let Br=0;Br<rr;Br++){const zr=er[Br],Wr=Br+1;gt(`Converting image ${Wr} of ${rr}...`);const Vr=await new Promise((an,Nn)=>{const jn=new Image;jn.onload=()=>an(jn),jn.onerror=Nn;const us=new FileReader;us.onload=au=>{jn.src=au.target.result},us.onerror=Nn,us.readAsDataURL(zr)}),Gr=document.createElement("canvas");Gr.width=Vr.width,Gr.height=Vr.height,Gr.getContext("2d").drawImage(Vr,0,0);const Zr=Gr.toDataURL("image/jpeg",.98),Xr=await fetch(Zr).then(an=>an.arrayBuffer()),Kr=cr.addPage([gr.width,gr.height]),$r=await cr.embedJpg(Xr),Jr=$r.scale(1),Yr=Math.min(gr.width/Jr.width,gr.height/Jr.height)*.95,Qr=Jr.width*Yr,xn=Jr.height*Yr;Kr.drawImage($r,{x:(gr.width-Qr)/2,y:(gr.height-xn)/2,width:Qr,height:xn});const In=Math.round(Wr/rr*100);Mt(In),await new Promise(an=>setTimeout(an,50))}gt("Finalizing PDF...");const Ar=await cr.save(),_r=new File([Ar],rr===1?er[0].name.replace(/\.[^.]+$/,".pdf"):`${rr}_images.pdf`,{type:"application/pdf"}),Fr=er.reduce((Br,zr)=>Br+zr.size,0),jr=_r.size,Lr=((Fr-jr)/Fr*100).toFixed(1);return console.log(" Images converted to PDF successfully"),console.log(` Original size: ${(Fr/1024/1024).toFixed(2)} MB`),console.log(` Compressed PDF size: ${(jr/1024/1024).toFixed(2)} MB`),console.log(` File size reduced by ${Lr}% (saved ${((Fr-jr)/1024/1024).toFixed(2)} MB)`),gt("Conversion complete!"),await new Promise(Br=>setTimeout(Br,300)),{pdfFile:_r,pageCount:cr.getPageCount()}}catch(rr){throw console.error(" Error converting images to PDF:",rr),new Error("Failed to convert images to PDF: "+rr.message)}finally{yt(!1),Mt(0),gt("")}},or=async er=>{if(!er)return;const rr=er.length?Array.from(er):[er],cr=rr[0];if(console.log(" Files selected:",rr.length,"files"),console.log(" First file type:",cr.type,"Name:",cr.name),lr(null),Jt(null),Rt.current=null,Zt({}),ar(0),console.log(" Checking file type... isPDF?",cr.type==="application/pdf"),cr.type==="application/pdf")try{console.log(" Normalizing PDF to A4 with smart orientation...");const gr=await normalizePdfToA4(cr,{skipIfA4:!0,onProgress:(_r,Fr)=>{xt(!0),At(_r),Lt(Fr)}}),Ar=gr.normalizedFile;gr.wasNormalized?(console.log(` PDF normalized: ${gr.pageCount} pages`),console.log(` Orientations: ${gr.orientations.join(", ")}`),console.log(` Normalized file size: ${(Ar.size/1024/1024).toFixed(2)} MB`)):console.log(" PDF already A4-sized, skipped normalization"),console.log(` Setting orderData.file to normalized PDF (${Ar.name}, ${(Ar.size/1024/1024).toFixed(2)} MB)`),_e(_r=>({..._r,file:Ar,files:[],filename:cr.name,selectedPages:[],selectedImages:[]})),ct(!1),console.log(" Pre-generating PDF for instant submission..."),wr(Ar,[]),xt(!1),At(0),Lt("")}catch(gr){console.error(" Error normalizing PDF:",gr),alert("Failed to normalize PDF: "+((gr==null?void 0:gr.message)||"Unknown error")),xt(!1),At(0),Lt("")}else if(cr.type.startsWith("image/"))try{const gr=rr.filter(jr=>jr.type.startsWith("image/"));console.log(` Auto-converting ${gr.length} image(s) to PDF...`);const{pdfFile:Ar,pageCount:_r}=await Cr(gr),Fr=Array.from({length:_r},(jr,Lr)=>Lr+1);_e(jr=>({...jr,file:Ar,files:[],filename:Ar.name,selectedPages:Fr,selectedImages:[]})),ct(!1),console.log(` Images automatically converted to PDF (${_r} pages, all selected)`),console.log(" Pre-generating PDF for instant submission..."),wr(Ar,Fr)}catch(gr){console.error(" Error converting images:",gr),console.error("Error details:",gr==null?void 0:gr.message,gr==null?void 0:gr.stack);const Ar=(gr==null?void 0:gr.message)||"Unknown error occurred";alert("Failed to convert images to PDF: "+Ar),yt(!1),Mt(0),gt("")}},Yt=er=>{er.preventDefault(),er.stopPropagation(),er.type==="dragenter"||er.type==="dragover"?rt(!0):er.type==="dragleave"&&rt(!1)},fr=er=>{er.preventDefault(),er.stopPropagation(),rt(!1),er.dataTransfer.files&&er.dataTransfer.files.length>0&&or(er.dataTransfer.files)},Dr=er=>{_e(rr=>({...rr,selectedPages:er}))},Or=er=>{if($.file)try{jt(null);const rr=er!==void 0&&er>=0;Ct(rr);let cr=er!==void 0?er:0;$.pagesPerSheet===2&&(cr=Math.floor(cr/2),console.log(` N-up mode: Converting page ${er} to sheet ${cr}`)),pt(cr),$.file.type==="application/pdf"?vt("pdf"):$.file.type.startsWith("image/")&&vt("image"),ct(!0)}catch(rr){console.error(" Error opening editor:",rr),jt("Failed to open editor: "+rr.message)}},Pt=er=>{try{Array.isArray(er)?_e(rr=>({...rr,files:er,filename:`${er.length} images`,selectedImages:Array.from({length:er.length},(cr,gr)=>gr+1)})):_e(rr=>({...rr,file:er,filename:er.name,selectedPages:[]})),ct(!1),vt(null),jt(null),Ct(!1)}catch(rr){console.error(" Error saving edits:",rr),jt("Failed to save edits: "+rr.message)}},Xt=()=>{ct(!1),vt(null),jt(null),Ct(!1)},xr=async(er,rr)=>{try{if(!rr||rr.length===0)throw new Error("No pages selected");const cr=await er.arrayBuffer(),gr=await PDFDocument.load(cr),Ar=gr.getPageCount();if(rr.length===Ar&&rr.every((Lr,Br)=>Lr===Br+1))return console.log(" All pages selected, using original file"),er;console.log(` Processing ${rr.length} selected pages from ${Ar} total pages`);const _r=[];for(let Lr=1;Lr<=Ar;Lr++)rr.includes(Lr)||_r.push(Lr-1);_r.reverse().forEach(Lr=>{gr.removePage(Lr)});const Fr=await gr.save(),jr=new File([Fr],er.name,{type:"application/pdf"});return console.log(" PDF processed successfully"),jr}catch(cr){throw console.error(" Error processing PDF pages:",cr),new Error("Failed to process selected pages: "+cr.message)}},wr=async(er,rr=[])=>{const cr=performance.now();console.log(" [TIMING] Starting PDF preparation and background upload..."),dr(!0);try{er&&er.type==="application/pdf"&&(lr(er),console.log(` [TIMING] PDF prepared in ${((performance.now()-cr)/1e3).toFixed(3)}s`),console.log(" Original PDF ready - starting background upload..."),Pr(er))}catch(gr){console.error(" Error preparing PDF:",gr)}finally{dr(!1)}},Pr=async er=>{const rr=performance.now();console.log(" [TIMING] Starting background upload with CHUNKED protocol..."),console.log(` File size: ${(er.size/1024/1024).toFixed(2)} MB`),Ht(!0),ar(0),pr(0);try{Nr("Uploading in background...");let cr=null;const gr=await uploadFileChunked(er,s,(Fr,jr,Lr)=>{const Br=parseFloat(Lr);ar(Br),pr(Br),Nr(`Uploading... ${Lr}%`)},Fr=>{cr=Fr,br(Fr)});if(gr.error){console.error(" Background upload failed:",gr.error),Jt(null),Rt.current=null,br(null);return}const Ar=((performance.now()-rr)/1e3).toFixed(2);console.log(` [TIMING] Background upload completed in ${Ar}s`),console.log(" File pre-uploaded! Submit will be instant!"),console.log(" Pre-uploaded URL:",gr.data.publicUrl);const _r=gr.data.publicUrl;Jt(_r),Rt.current=_r,ar(100),pr(100),Nr(" Ready to submit!"),br(null)}catch(cr){cr.message&&cr.message.includes("aborted")?console.log(" Background upload was aborted (user submitted)"):console.error(" Background upload error:",cr),Nr(""),br(null)}finally{Ht(!1)}},Sr=async er=>{console.log(" Pre-generating PDF in background..."),dr(!0),Jt(null),Rt.current=null;try{let rr=null;$.files&&$.files.length>0&&$.selectedImages.length>0?rr=await kt($.files,$.selectedImages,j,$.pagesPerSheet,er):$.file&&$.file.type==="application/pdf"&&(rr=await Ot($.file,$.selectedPages,er)),rr&&(lr(rr),console.log(" PDF with edits pre-generated successfully!"),console.log(" Uploading edited PDF in background..."),Pr(rr))}catch(rr){console.error(" Error pre-generating PDF:",rr)}finally{dr(!1)}},Ot=async(er,rr,cr)=>{try{if(console.log(" Generating PDF with edits...",{hasEdits:Object.keys(cr).length,selectedPages:rr.length}),Object.keys(cr).length===0)return null;const gr=await er.arrayBuffer(),Ar=await PDFDocument.load(gr),_r=await PDFDocument.create(),Fr=Ar.getPageCount(),jr=rr.length>0?rr:Array.from({length:Fr},(zr,Wr)=>Wr+1);for(const zr of jr){const Wr=zr-1,Vr=cr[zr];if(Vr&&Vr.canvas){const Gr=Vr.canvas.toDataURL("image/jpeg",.85),qr=await fetch(Gr).then(Yr=>Yr.arrayBuffer()),Zr=await _r.embedJpg(qr),Xr=Ar.getPage(Wr),{width:Kr,height:$r}=Xr.getSize();_r.addPage([Kr,$r]).drawImage(Zr,{x:0,y:0,width:Kr,height:$r})}else{const[Gr]=await _r.copyPages(Ar,[Wr]);_r.addPage(Gr)}}const Lr=await _r.save(),Br=new File([Lr],er.name,{type:"application/pdf"});return console.log(" PDF with edits generated successfully"),Br}catch(gr){throw console.error(" Error generating edited PDF:",gr),gr}},kt=async(er,rr,cr,gr,Ar=null)=>{try{console.log(" Creating PDF from images...",{totalImages:er.length,selectedCount:rr.length,pageSize:cr,pagesPerSheet:gr,hasEditedPages:Object.keys(Ut).length>0});const _r=await PDFDocument.create(),Fr=getPageSize(cr),jr=rr.map(Gr=>er[Gr-1]).filter(Gr=>Gr!=null);console.log(" Processing",jr.length,"selected images");const Lr=Ar||Ut,Br=Object.keys(Lr).length>0;let zr=[];if(Br){console.log(" Using mix of edited and original canvases");const Gr=rr.map((qr,Zr)=>{const Xr=Lr[qr];if(Xr&&Xr.canvas)return Promise.resolve({dataUrl:Xr.canvas.toDataURL("image/jpeg",.85),isEdited:!0});{const Kr=jr[Zr];return Kr?new Promise(($r,Jr)=>{const Yr=new FileReader;Yr.onload=Qr=>$r({file:Kr,dataUrl:Qr.target.result,isEdited:!1}),Yr.onerror=Jr,Yr.readAsDataURL(Kr)}):(console.warn(` No file found for page ${qr}`),Promise.resolve(null))}});zr=(await Promise.all(Gr)).filter(qr=>qr!==null)}else{console.log(" Using original image files (no edits)");const Gr=jr.map(qr=>new Promise((Zr,Xr)=>{const Kr=new FileReader;Kr.onload=$r=>Zr({file:qr,dataUrl:$r.target.result,isEdited:!1}),Kr.onerror=Xr,Kr.readAsDataURL(qr)}));zr=await Promise.all(Gr)}if(gr===2)for(let Gr=0;Gr<zr.length;Gr+=2){const qr=_r.addPage([Fr.width,Fr.height]),Zr=Fr.width/2,Xr=[{x:0,width:Zr},{x:Zr,width:Zr}];for(let Kr=0;Kr<2&&Gr+Kr<zr.length;Kr++){const{dataUrl:$r}=zr[Gr+Kr],Jr=await fetch($r).then(Nn=>Nn.arrayBuffer());let Yr;$r.startsWith("data:image/jpeg")?Yr=await _r.embedJpg(Jr):$r.startsWith("data:image/png")?Yr=await _r.embedPng(Jr):Yr=await _r.embedJpg(Jr);const Qr=Yr.scale(1),xn=Math.min(Xr[Kr].width/Qr.width,Fr.height/Qr.height)*.95,In=Qr.width*xn,an=Qr.height*xn;qr.drawImage(Yr,{x:Xr[Kr].x+(Xr[Kr].width-In)/2,y:(Fr.height-an)/2,width:In,height:an})}}else for(const{dataUrl:Gr}of zr){const qr=_r.addPage([Fr.width,Fr.height]),Zr=await fetch(Gr).then(Qr=>Qr.arrayBuffer());let Xr;Gr.startsWith("data:image/png")?Xr=await _r.embedPng(Zr):Xr=await _r.embedJpg(Zr);const Kr=Xr.scale(1),$r=Math.min(Fr.width/Kr.width,Fr.height/Kr.height)*.95,Jr=Kr.width*$r,Yr=Kr.height*$r;qr.drawImage(Xr,{x:(Fr.width-Jr)/2,y:(Fr.height-Yr)/2,width:Jr,height:Yr})}const Wr=await _r.save(),Vr=new File([Wr],"images.pdf",{type:"application/pdf"});return console.log(" PDF created successfully from images"),Vr}catch(_r){throw console.error(" Error creating PDF from images:",_r),new Error("Failed to create PDF from images: "+_r.message)}},zt=async()=>{var cr;if(!$.customerName){alert("Please enter customer name");return}if($.file){if($.file.type==="application/pdf"&&$.selectedPages.length===0){alert("Please select at least one page to print");return}}else if($.files&&$.files.length>0){if($.selectedImages.length===0){alert("Please select at least one image to print");return}}else{alert("Please upload a file");return}Ir(!0),Nr("Preparing your order..."),it(!0);const er=performance.now(),rr=performance.now();console.log(" [TIMING] === ORDER SUBMISSION STARTED ===");try{let gr=null;if(Gt)console.log(" [TIMING] INSTANT SUBMIT! Using pre-uploaded file URL"),console.log(" Pre-uploaded URL:",Gt),gr=Gt,Nr("Finalizing order...");else if(Vt&&Nt){console.log(` [TIMING] Background upload in progress at ${vr}%... continuing`),Nr(`Uploading... ${Math.round(vr)}%`);try{gr=await new Promise((Vr,Gr)=>{const qr=setInterval(()=>{Rt.current&&(console.log(" Background upload completed while waiting!"),clearInterval(qr),Vr(Rt.current))},100);setTimeout(()=>{clearInterval(qr),Gr(new Error("Background upload timeout"))},12e4)}),Nr("Finalizing order...")}catch{console.log(" Background upload did not complete in time, starting new upload..."),Vt&&(Vt.abort(),br(null))}}if(!gr){console.log(" [TIMING] File not pre-uploaded, uploading now...");const Wr=vr>0?vr:0;console.log(` Starting visual progress from ${Wr}%`);let Vr=null;const Gr=Object.keys(Ut).length>0,qr=performance.now();if($.file)Gr&&tr?(console.log(" Using pre-generated PDF with edits"),Vr=tr):tr?(console.log(" Using pre-generated PDF"),Vr=tr):(Vr=$.file,console.log(" Using original file"));else if($.files&&$.files.length>0)if(tr)console.log(" Using pre-generated PDF"),Vr=tr;else{Nr("Creating PDF from images..."),console.log(" Combining images into PDF...");const Kr=performance.now();Vr=await kt($.files,$.selectedImages,j,$.pagesPerSheet),console.log(` [TIMING] PDF generation took: ${((performance.now()-Kr)/1e3).toFixed(2)}s`)}else throw new Error("No file to upload");console.log(` [TIMING] File selection took: ${((performance.now()-qr)/1e3).toFixed(2)}s`),console.log(` File size to upload: ${(Vr.size/1024/1024).toFixed(2)} MB`),Nr(`Uploading... ${Math.round(Wr)}%`);const Zr=performance.now(),Xr=await uploadFileChunked(Vr,s,(Kr,$r,Jr)=>{const Yr=parseFloat(Jr),Qr=Math.max(Yr,Wr);ar(Qr),Nr(`Uploading... ${Math.round(Qr)}%`)});if(console.log(` [TIMING] Upload took: ${((performance.now()-Zr)/1e3).toFixed(2)}s`),Xr.error)throw new Error("File upload failed: "+Xr.error.message);gr=Xr.data.publicUrl}Nr("Finalizing order...");const Ar=performance.now(),_r={shop_id:s,filename:$.filename,file_url:gr,copies:$.copies,paper_size:$.paperSize,color_mode:$.colorMode,print_type:$.printType,pages_per_sheet:$.pagesPerSheet,customer_name:$.customerName,customer_email:$.customerEmail||null,customer_phone:$.customerPhone||null,total_cost:et.cost},Fr=await submitPrintJob(_r);if(console.log(` [TIMING] Database job creation took: ${((performance.now()-Ar)/1e3).toFixed(3)}s`),Fr.error)throw new Error("Failed to submit order: "+Fr.error.message);const jr=Fr.data.id,Lr=((performance.now()-er)/1e3).toFixed(2);console.log(` [TIMING] === TOTAL SUBMISSION TIME: ${Lr}s ===`),console.log(` Order submitted successfully in ${Lr}s`);const Br=performance.now()-rr,zr=1500;Br<zr&&(Nr("Order submitted! "),await new Promise(Wr=>setTimeout(Wr,zr-Br))),e(`/status/${jr}`),((cr=$.file)==null?void 0:cr.type)==="application/pdf"&&$.selectedPages.length>0&&$.selectedPages.length<$.file.size&&(console.log(" Background: Processing PDF with selected pages..."),(async()=>{try{const Wr=await xr($.file,$.selectedPages),Vr=await uploadFileChunked(Wr,s);if(Vr.error){console.error(" Background processing failed:",Vr.error);return}await updatePrintJob(jr,{file_url:Vr.data.publicUrl}),console.log(" Background processing completed - Updated with processed PDF")}catch(Wr){console.error(" Background processing error:",Wr)}})()),await updatePaymentStatus(jr,"paid")}catch(gr){console.error(" Error submitting order:",gr),alert("Failed to submit order: "+gr.message),it(!1)}};if(at)return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Loading shop information..."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Fetching pricing data..."})]})});if(ft)return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Shop"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:ft}),jsxRuntimeExports.jsx("button",{onClick:Mr,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})});if(!a)return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Shop Not Found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"The shop you're looking for doesn't exist or is not active."})]})});if(Bt)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-20",children:[jsxRuntimeExports.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Editor Error"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-8",children:Bt}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 justify-center",children:[jsxRuntimeExports.jsx("button",{onClick:()=>jt(null),className:"btn-primary",children:"Try Again"}),jsxRuntimeExports.jsx("button",{onClick:()=>e(`/shop/${s}`),className:"btn-secondary",children:"Go Back"})]})]})})})});if(ut&&dt&&$.file){if(dt==="pdf")return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 sm:mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-1 sm:mb-2",children:"PDF Editor"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Edit before printing"})]}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{}),children:jsxRuntimeExports.jsx(PDFEditor,{file:$.file,initialPageIndex:Et,onSave:Pt,onCancel:Xt,directPageEdit:bt,pageSize:j,onPageSizeChange:_,colorMode:$.colorMode,pagesPerSheet:$.pagesPerSheet})})]})});if(dt==="image")return jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Loading Image Editor..."})]})}),children:jsxRuntimeExports.jsx(ImageEditor,{file:$.file,onSave:Pt,onCancel:Xt,pageSize:j,onPageSizeChange:_,colorMode:$.colorMode,pagesPerSheet:$.pagesPerSheet})})}return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[jsxRuntimeExports.jsx("div",{className:"mb-4 sm:mb-6",children:jsxRuntimeExports.jsxs("nav",{className:"flex items-center gap-2 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors",children:[jsxRuntimeExports.jsx(Home,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Home"})]}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Place Order"})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-4 sm:mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-1",children:a.name}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:a.address})]}),jsxRuntimeExports.jsx("button",{onClick:()=>wt(!0),className:"flex-shrink-0 p-2 rounded-lg bg-blue-50 hover:bg-blue-100 text-blue-600 transition-colors",title:"Shop Information",children:jsxRuntimeExports.jsx(Info,{className:"w-5 h-5"})})]}),a.operating_hours&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-3 border-t border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700 font-medium",children:getTodayHours(a.operating_hours)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleDot,{className:`w-4 h-4 ${isShopOpen(a.operating_hours)?"text-green-500":"text-red-500"}`}),jsxRuntimeExports.jsx("span",{className:`text-sm font-medium ${isShopOpen(a.operating_hours)?"text-green-600":"text-red-600"}`,children:isShopOpen(a.operating_hours)?"Open Now":"Closed"})]})]})]}),Ft&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>wt(!1),children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",onClick:er=>er.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Shop Information"}),jsxRuntimeExports.jsx("button",{onClick:()=>wt(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Contact"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-1",children:a.address}),jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-600",children:a.phone}),a.email&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:a.email})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Our Services"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Document Printing (PDF, Word, Images)"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Black & White and Color Printing"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Single and Double Sided Printing"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Multiple Paper Sizes (A3, A4, Letter)"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Bulk Printing Discounts"})]})]})]}),a.operating_hours&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Hours"}),jsxRuntimeExports.jsx("div",{className:"space-y-1",children:Object.entries(a.operating_hours).map(([er,rr])=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"capitalize font-medium text-gray-700",children:er}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:rr})]},er))})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 space-y-4 sm:space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",children:"Upload Document"}),jsxRuntimeExports.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${st?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragEnter:Yt,onDragLeave:Yt,onDragOver:Yt,onDrop:fr,children:It||mt?jsxRuntimeExports.jsx("div",{className:"py-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-4",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:It?jsxRuntimeExports.jsx(Image$1,{className:"w-8 h-8 text-blue-600 animate-pulse"}):jsxRuntimeExports.jsx(FileText,{className:"w-8 h-8 text-blue-600 animate-pulse"})}),jsxRuntimeExports.jsx("div",{className:"absolute -right-2 -bottom-2 w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center animate-bounce",children:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-white"})})]})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:It?"Converting to PDF...":"Normalizing PDF to A4..."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:It?St:Tt})]}),jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Progress"}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-bold text-blue-700",children:[It?Dt:_t,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full transition-all duration-300 ease-out flex items-center justify-end pr-1",style:{width:`${It?Dt:_t}%`},children:(It?Dt:_t)>10&&jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 text-center",children:It?"Please wait while we prepare your images...":"Optimizing pages with smart orientation detection..."})]})}):$.file||$.files.length>0?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:((Kt=$.file)==null?void 0:Kt.type)==="application/pdf"?jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6 text-green-600"}):jsxRuntimeExports.jsx(Image$1,{className:"w-6 h-6 text-green-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-green-600 font-medium",children:$.filename}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:[((nr=$.file)==null?void 0:nr.type)==="application/pdf"?"PDF Document":$.files.length>1?`${$.files.length} Images`:"Image File"," ",$.file?($.file.size/1024/1024).toFixed(2):($.files.reduce((er,rr)=>er+rr.size,0)/1024/1024).toFixed(2)," MB"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:Or,className:"flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg text-xs sm:text-sm hover:bg-blue-700 transition-colors",children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4"}),"Edit ",((ur=$.file)==null?void 0:ur.type)==="application/pdf"?"PDF":$.files.length>1?"Images":"Image"]}),jsxRuntimeExports.jsx("button",{onClick:()=>_e(er=>({...er,file:null,files:[],filename:"",selectedPages:[],selectedImages:[]})),className:"text-red-600 text-xs sm:text-sm hover:underline px-4 py-2",children:"Remove"})]})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-2",children:"Drag and drop or"}),jsxRuntimeExports.jsx("input",{type:"file",onChange:er=>or(er.target.files),accept:".pdf,.doc,.docx,.jpg,.png,.jpeg",multiple:!0,className:"hidden",id:"file-upload"}),jsxRuntimeExports.jsx("label",{htmlFor:"file-upload",className:"bg-blue-600 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-700",children:"Choose Files"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Supported: PDF, Images (JPG, PNG) - Multiple images allowed"})]})})]}),($.file||$.files.length>0)&&jsxRuntimeExports.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-3 space-y-3",children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-blue-600"}),"Print Settings"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Paper Size"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[g.slice(0,4).map(er=>jsxRuntimeExports.jsx("button",{onClick:()=>_e(rr=>({...rr,paperSize:er})),className:`px-3 py-2 text-xs font-medium rounded-lg transition-all ${$.paperSize===er?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:er},er)),g.length>4&&jsxRuntimeExports.jsxs("button",{className:"px-3 py-2 text-xs font-medium rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Ellipsis,{className:"w-3.5 h-3.5"}),jsxRuntimeExports.jsx("span",{children:"More"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Color Mode"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>_e(er=>({...er,colorMode:"BW"})),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 text-xs font-medium rounded-lg transition-all ${$.colorMode==="BW"?"bg-gray-700 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[jsxRuntimeExports.jsx("div",{className:"w-2.5 h-2.5 rounded bg-gray-500"}),jsxRuntimeExports.jsx("span",{children:"B&W"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>_e(er=>({...er,colorMode:"Color"})),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2.5 text-xs font-medium rounded-lg transition-all ${$.colorMode==="Color"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[jsxRuntimeExports.jsx("div",{className:"w-2.5 h-2.5 rounded bg-gradient-to-r from-red-500 via-yellow-500 to-blue-500"}),jsxRuntimeExports.jsx("span",{children:"Color"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Pages/Sheet"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1.5",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>_e(er=>({...er,pagesPerSheet:1})),className:`flex items-center justify-center gap-2 px-2 py-2.5 text-xs font-medium rounded-lg transition-all ${$.pagesPerSheet===1?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"1 Page"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>_e(er=>({...er,pagesPerSheet:2})),className:`flex items-center justify-center gap-2 px-2 py-2.5 text-xs font-medium rounded-lg transition-all ${$.pagesPerSheet===2?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[jsxRuntimeExports.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"1"}),jsxRuntimeExports.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20",strokeWidth:"2"}),jsxRuntimeExports.jsx("line",{x1:"5",y1:"8",x2:"9",y2:"8",strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("line",{x1:"5",y1:"11",x2:"9",y2:"11",strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("line",{x1:"5",y1:"14",x2:"9",y2:"14",strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("line",{x1:"15",y1:"8",x2:"19",y2:"8",strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("line",{x1:"15",y1:"11",x2:"19",y2:"11",strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("line",{x1:"15",y1:"14",x2:"19",y2:"14",strokeWidth:"1.5",strokeLinecap:"round"})]}),jsxRuntimeExports.jsx("span",{children:"2 Pages"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Print Type"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1.5",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>_e(er=>({...er,printType:"Single"})),className:`flex items-center justify-center gap-2 px-2 py-2.5 text-xs font-medium rounded-lg transition-all ${$.printType==="Single"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Single"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>_e(er=>({...er,printType:"Double"})),className:`flex items-center justify-center gap-2 px-2 py-2.5 text-xs font-medium rounded-lg transition-all ${$.printType==="Double"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[jsxRuntimeExports.jsx("rect",{x:"5",y:"4",width:"10",height:"14",rx:"1",fill:"white"}),jsxRuntimeExports.jsx("line",{x1:"7",y1:"7",x2:"13",y2:"7",strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10",strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("line",{x1:"7",y1:"13",x2:"10",y2:"13",strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M17 9 Q 19 9, 19 11 Q 19 13, 17 13",fill:"none",strokeWidth:"2",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M17.5 9 L 16 10.5 M 17.5 13 L 16 11.5",strokeWidth:"2",strokeLinecap:"round"})]}),jsxRuntimeExports.jsx("span",{children:"Double"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Copies"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_e(er=>({...er,copies:Math.max(1,er.copies-1)})),className:"w-10 h-10 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-700 font-bold text-xl transition-all",children:""}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:"1000",value:$.copies,onChange:er=>{const rr=er.target.value;_e(rr===""||rr==="0"?cr=>({...cr,copies:""}):cr=>({...cr,copies:parseInt(rr)||1}))},onBlur:er=>{(er.target.value===""||parseInt(er.target.value)<1)&&_e(rr=>({...rr,copies:1}))},onFocus:er=>er.target.select(),className:"w-24 text-center p-2.5 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all font-semibold text-base"}),jsxRuntimeExports.jsx("button",{onClick:()=>_e(er=>({...er,copies:Math.min(1e3,er.copies+1)})),className:"w-10 h-10 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-700 font-bold text-xl transition-all",children:"+"})]})]})]})]}),$.file&&$.file.type==="application/pdf"&&jsxRuntimeExports.jsxs("div",{className:"border-2 border-gray-200 rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Tr(!Rr),className:"w-full flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 transition-all",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Edit and Select Pages to Print"})]}),jsxRuntimeExports.jsx(ChevronRight,{className:`w-5 h-5 text-gray-600 transition-transform ${Rr?"rotate-90":""}`})]}),Rr&&jsxRuntimeExports.jsx("div",{className:"p-4 bg-white",children:jsxRuntimeExports.jsx(PDFPageSelector,{file:$.file,selectedPages:$.selectedPages,onPagesSelected:Dr,pageSize:j,colorMode:$.colorMode,pagesPerSheet:$.pagesPerSheet,onEditPage:Or,viewMode:"single"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",children:"Your Name *"}),jsxRuntimeExports.jsx("input",{type:"text",value:$.customerName,onChange:er=>_e(rr=>({...rr,customerName:er.target.value})),className:"w-full p-3 border rounded-lg",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",value:$.customerEmail,onChange:er=>_e(rr=>({...rr,customerEmail:er.target.value})),className:"w-full p-3 border rounded-lg"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",children:"Phone"}),jsxRuntimeExports.jsx("input",{type:"tel",value:$.customerPhone,onChange:er=>_e(rr=>({...rr,customerPhone:er.target.value})),className:"w-full p-3 border rounded-lg"})]})]})]}),et.cost>0?jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 sm:p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-medium",children:"Total Cost:"}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-blue-600",children:formatCurrency(et.cost)})]}),et.appliedTier&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-green-600",children:[jsxRuntimeExports.jsxs("p",{children:[" Bulk discount applied: ",et.appliedTier.name]}),jsxRuntimeExports.jsxs("p",{children:["You save: ",formatCurrency(et.savings)]})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[jsxRuntimeExports.jsxs("p",{children:["Price per page: ",formatCurrency(et.pricePerPage)]}),jsxRuntimeExports.jsxs("p",{children:[$.copies," copies  ",formatCurrency(et.pricePerPage)," = ",formatCurrency(et.cost)]})]})]}):jsxRuntimeExports.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:jsxRuntimeExports.jsx("p",{className:"text-yellow-800",children:d.length===0?"This shop hasn't set up pricing yet. Please contact them directly.":`No pricing found for ${$.paperSize} ${$.colorMode} ${$.printType}. Try a different combination.`})}),hr&&jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-blue-700",children:" Optimizing PDF for faster submission..."})]}),tr&&!hr&&Object.keys(Ut).length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-green-600",children:""}),jsxRuntimeExports.jsx("span",{className:"text-sm text-green-700",children:"Ready for instant submission!"})]}),jsxRuntimeExports.jsx("button",{onClick:zt,disabled:nt||!$.file&&(!$.files||$.files.length===0)||!$.customerName||et.cost<=0||((mr=$.file)==null?void 0:mr.type)==="application/pdf"&&$.selectedPages.length===0||((sr=$.files)==null?void 0:sr.length)>0&&$.selectedImages.length===0,className:"w-full bg-blue-600 text-white py-2.5 sm:py-3 px-4 sm:px-6 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base",children:nt?"Submitting...":"Submit Order"}),et.cost<=0&&d.length>0&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600 text-center",children:"Please select a valid combination of paper size, color mode, and print type"}),((yr=$.file)==null?void 0:yr.type)==="application/pdf"&&$.selectedPages.length===0&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600 text-center",children:"Please select at least one page to print from the PDF"}),((ir=$.file)==null?void 0:ir.type)==="application/pdf"&&jsxRuntimeExports.jsx(PDFPreview,{file:$.file})]})]}),Er&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 animate-scale-in",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200"}),jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent absolute top-0 left-0"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 tabular-nums min-w-[200px] transition-all duration-150",children:kr}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Please wait..."})]})]})})})]})},PaymentPage=()=>{const{jobId:s}=useParams(),e=useNavigate(),[a,o]=reactExports.useState(null),[d,h]=reactExports.useState(null),[g,b]=reactExports.useState(!1),[j,_]=reactExports.useState(!0),[$,_e]=reactExports.useState(null);reactExports.useEffect(()=>{et()},[s]);const et=async()=>{try{_(!0),_e(null);const{data:nt,error:it}=await getJobStatus(s);if(it)throw new Error("Failed to load order: "+it.message);if(!nt)throw new Error("Order not found");o(nt);const{data:st}=await getShopInfo(nt.shop_id);st&&h(st)}catch(nt){console.error(" Error loading job details:",nt),_e(nt.message)}finally{_(!1)}},tt=async()=>{try{const{error:nt}=await updatePaymentStatus(s,"paid");if(nt)throw new Error("Failed to update payment status: "+nt.message);b(!0),setTimeout(()=>{e(`/status/${s}`)},2e3)}catch(nt){console.error(" Payment confirmation error:",nt),alert("Failed to confirm payment: "+nt.message)}};return j?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})}):$?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Order"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:$}),jsxRuntimeExports.jsx("button",{onClick:et,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):g?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("div",{className:"text-green-600 text-6xl mb-4",children:""}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-green-600 mb-2",children:"Payment Confirmed!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"Thank you for your order."}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Redirecting to order status..."}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:jsxRuntimeExports.jsx("div",{className:"bg-green-600 h-2 rounded-full animate-pulse",style:{width:"100%"}})}),jsxRuntimeExports.jsx(Link,{to:`/status/${s}`,className:"text-blue-600 hover:underline",children:"Click here if you're not redirected automatically"})]})}):a?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto px-4 py-4 sm:py-8",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-4 sm:mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:"Payment"}),jsxRuntimeExports.jsxs("div",{className:"border-b pb-3 sm:pb-4 mb-3 sm:mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm sm:text-base font-semibold mb-2",children:"Order Summary"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Shop:"}),jsxRuntimeExports.jsx("span",{children:(d==null?void 0:d.name)||"Loading..."})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"File:"}),jsxRuntimeExports.jsx("span",{children:a.filename})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Copies:"}),jsxRuntimeExports.jsx("span",{children:a.copies})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Paper:"}),jsxRuntimeExports.jsxs("span",{children:[a.paper_size," ",a.color_mode," ",a.print_type]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-semibold",children:[jsxRuntimeExports.jsx("span",{children:"Total:"}),jsxRuntimeExports.jsx("span",{children:formatCurrency(a.total_cost)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-100 w-48 h-48 sm:w-64 sm:h-64 mx-auto rounded-lg flex items-center justify-center mb-3 sm:mb-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-2",children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"UPI QR Code"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:["Scan to pay ",formatCurrency(a.total_cost)]})]})}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-600 px-4",children:"Scan with UPI app to pay"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm sm:text-base font-medium text-blue-800 mb-2",children:"Instructions:"}),jsxRuntimeExports.jsxs("ol",{className:"list-decimal list-inside text-xs sm:text-sm text-blue-700 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Open your UPI app (Google Pay, PhonePe, Paytm, etc.)"}),jsxRuntimeExports.jsx("li",{children:"Scan the QR code above"}),jsxRuntimeExports.jsxs("li",{children:["Enter the exact amount: ",formatCurrency(a.total_cost)]}),jsxRuntimeExports.jsx("li",{children:"Complete the payment"}),jsxRuntimeExports.jsx("li",{children:"Click the button below after payment is complete"})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("button",{onClick:tt,className:"w-full sm:w-auto bg-green-600 text-white px-6 py-2.5 sm:py-3 rounded-lg font-medium hover:bg-green-700 text-sm sm:text-base",children:"Payment Complete"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Click after payment"})]})]})})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Order Not Found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"The order you're looking for doesn't exist."})]})})},StatusPage=()=>{const{jobId:s}=useParams(),[e,a]=reactExports.useState(null),[o,d]=reactExports.useState(null),[h,g]=reactExports.useState(!0),[b,j]=reactExports.useState(null),[_,$]=reactExports.useState(new Date),[_e,et]=reactExports.useState("connecting");reactExports.useEffect(()=>{tt(),console.log(" Setting up real-time updates for job:",s);const at=subscribeToJobUpdates(s,ft=>{console.log(" Real-time job update received:",ft),a(ft),$(new Date),et("connected")}),ht=startJobStatusPolling(s,ft=>{console.log(" Polling update received:",ft),a(ot=>!ot||ot.updated_at!==ft.updated_at?($(new Date),ft):ot)},3e4);return()=>{console.log(" Cleaning up subscriptions and polling"),at&&at.unsubscribe&&at.unsubscribe(),ht()}},[s]);const tt=async()=>{try{g(!0),j(null);const{data:at,error:ht}=await getJobStatus(s);if(ht)throw new Error("Failed to load order status: "+ht.message);if(!at)throw new Error("Order not found");a(at),$(new Date);const{data:ft}=await getShopInfo(at.shop_id);ft&&d(ft)}catch(at){console.error(" Error loading job status:",at),j(at.message),et("error")}finally{g(!1)}},nt=()=>{console.log(" Manual refresh requested"),tt()},it=at=>{switch(at){case"pending":return"text-yellow-600 bg-yellow-100";case"printing":return"text-blue-600 bg-blue-100";case"completed":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},st=at=>{switch(at){case"pending":return"";case"printing":return"";case"completed":return"";case"cancelled":return"";default:return""}},rt=at=>{switch(at){case"pending":return"Pending";case"printing":return"Printing";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return"Unknown"}};return h?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Loading order status..."})]})}):b?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[jsxRuntimeExports.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Status"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:b}),jsxRuntimeExports.jsx("button",{onClick:tt,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):e?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto px-4 py-4 sm:py-8",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-3",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Order Status"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[jsxRuntimeExports.jsx("div",{className:`w-2 h-2 rounded-full ${_e==="connected"?"bg-green-500":_e==="connecting"?"bg-yellow-500 animate-pulse":"bg-red-500"}`}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:_e==="connected"?"Live":_e==="connecting"?"Connecting":"Offline"})]}),jsxRuntimeExports.jsx("button",{onClick:nt,className:"bg-blue-600 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm hover:bg-blue-700 transition-colors",children:"Refresh"})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mb-6",children:["Last updated: ",_.toLocaleTimeString()]}),o&&jsxRuntimeExports.jsxs("div",{className:"mb-4 sm:mb-6 pb-4 sm:pb-6 border-b",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm sm:text-base font-semibold mb-2",children:"Shop Information"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:o.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:o.address}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:o.phone})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-4 sm:mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center mr-3 sm:mr-4 text-sm sm:text-base",children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base font-medium",children:"Order Received"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-gray-500 hidden sm:block",children:"Your order has been received"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-4 ${e.payment_status==="paid"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:e.payment_status==="paid"?"":""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Payment"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:e.payment_status==="paid"?"Payment confirmed":"Waiting for payment"}),e.payment_status==="paid"&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:new Date(e.updated_at).toLocaleString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-4 ${e.job_status==="printing"||e.job_status==="completed"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:e.job_status==="printing"||e.job_status==="completed"?"":""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Printing"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:e.job_status==="printing"?"Currently printing...":e.job_status==="completed"?"Printing completed":"Waiting to print"}),e.job_status==="printing"&&e.estimated_completion&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400",children:["Est. completion: ",new Date(e.estimated_completion).toLocaleString()]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-4 ${e.job_status==="completed"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:e.job_status==="completed"?"":""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Ready for Pickup"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:e.job_status==="completed"?"Ready for pickup!":"Will be ready soon"}),e.job_status==="completed"&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:new Date(e.updated_at).toLocaleString()})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-4 sm:pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-3 sm:mb-4 gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-base sm:text-lg font-medium",children:"Status:"}),jsxRuntimeExports.jsxs("span",{className:`px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${it(e.job_status)}`,children:[st(e.job_status)," ",rt(e.job_status)]})]}),e.job_status==="completed"&&jsxRuntimeExports.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 sm:p-4 text-center animate-pulse-glow",children:[jsxRuntimeExports.jsx("p",{className:"text-green-800 font-medium text-base sm:text-lg",children:" Ready for pickup!"}),jsxRuntimeExports.jsx("p",{className:"text-green-600 text-xs sm:text-sm mt-1",children:"Visit the shop to collect"}),o&&jsxRuntimeExports.jsxs("div",{className:"mt-3 text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:o.name}),jsxRuntimeExports.jsx("p",{children:o.address}),jsxRuntimeExports.jsx("p",{children:o.phone})]})]}),e.job_status==="printing"&&jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-blue-800 font-medium",children:" Your order is being printed!"}),jsxRuntimeExports.jsx("p",{className:"text-blue-600 text-sm mt-1",children:"We'll update you when it's ready for pickup"}),e.estimated_completion&&jsxRuntimeExports.jsxs("p",{className:"text-blue-600 text-sm mt-2",children:["Estimated completion: ",new Date(e.estimated_completion).toLocaleString()]})]}),e.job_status==="pending"&&e.payment_status==="paid"&&jsxRuntimeExports.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-yellow-800 font-medium",children:" Your order is in queue"}),jsxRuntimeExports.jsx("p",{className:"text-yellow-600 text-sm mt-1",children:"We'll start printing it soon"})]}),e.job_status==="cancelled"&&jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-red-800 font-medium",children:" Your order has been cancelled"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Please contact the shop for more information"})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-4 sm:pt-6 mt-4 sm:mt-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm sm:text-base font-medium mb-3",children:"Order Details"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Order ID:"}),jsxRuntimeExports.jsx("span",{className:"font-mono",children:e.id.slice(0,8)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"File:"}),jsxRuntimeExports.jsx("span",{children:e.filename})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Copies:"}),jsxRuntimeExports.jsx("span",{children:e.copies})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Specifications:"}),jsxRuntimeExports.jsxs("span",{children:[e.paper_size," ",e.color_mode," ",e.print_type]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Customer:"}),jsxRuntimeExports.jsx("span",{children:e.customer_name})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-medium",children:[jsxRuntimeExports.jsx("span",{children:"Total Cost:"}),jsxRuntimeExports.jsx("span",{children:formatCurrency(e.total_cost)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Payment Status:"}),jsxRuntimeExports.jsx("span",{className:e.payment_status==="paid"?"text-green-600":"text-yellow-600",children:e.payment_status==="paid"?"Paid":"Pending"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"border-t pt-4 sm:pt-6 mt-4 sm:mt-6 text-center",children:jsxRuntimeExports.jsx(Link,{to:`/shop/${e.shop_id}`,className:"text-blue-600 hover:underline",children:"Back to Shop"})})]})})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Order Not Found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"The order you're looking for doesn't exist."})]})})},DesignMockup=()=>{const[s,e]=reactExports.useState("v1"),[a,o]=reactExports.useState(!1),[d,h]=reactExports.useState(!1);return jsxRuntimeExports.jsx("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',background:"#f5f5f5",padding:"20px",minHeight:"100vh"},children:jsxRuntimeExports.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[jsxRuntimeExports.jsx("h1",{style:{textAlign:"center",marginBottom:"10px",color:"#333"},children:" Single-Page Upload/Edit Design"}),jsxRuntimeExports.jsx("p",{style:{textAlign:"center",color:"#666",marginBottom:"30px"},children:"Upload  Edit  Submit (All on ONE screen)"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"30px",flexWrap:"wrap"},children:[{id:"v1",label:"Version 1: Your Design"},{id:"v2",label:"Version 2: Enhanced"},{id:"v3",label:"Version 3: Pro"},{id:"comparison",label:"Side-by-Side"}].map(g=>jsxRuntimeExports.jsx("button",{onClick:()=>e(g.id),style:{padding:"10px 20px",background:s===g.id?"#4F46E5":"white",color:s===g.id?"white":"#666",border:`2px solid ${s===g.id?"#4F46E5":"#e5e7eb"}`,borderRadius:"8px",cursor:"pointer",fontWeight:s===g.id?"bold":"normal",fontSize:"14px"},children:g.label},g.id))}),s==="v1"&&jsxRuntimeExports.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[jsxRuntimeExports.jsx("h2",{style:{color:"#4F46E5",marginBottom:"15px"},children:"Version 1: Your Design (Clean & Simple)"}),jsxRuntimeExports.jsx("p",{style:{color:"#666",marginBottom:"25px"},children:" Single screen   Live preview   Inline controls"}),jsxRuntimeExports.jsx("div",{style:{maxWidth:"380px",margin:"0 auto",border:"3px solid #333",borderRadius:"30px",padding:"15px",background:"white",boxShadow:"0 10px 40px rgba(0,0,0,0.2)"},children:jsxRuntimeExports.jsxs("div",{style:{background:"white",borderRadius:"12px",overflow:"hidden"},children:[jsxRuntimeExports.jsx("div",{style:{background:"linear-gradient(135deg, #4F46E5 0%, #6366F1 100%)",color:"white",padding:"15px",fontSize:"14px",fontWeight:"600"},children:"Home > Place Order"}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px"},children:[jsxRuntimeExports.jsx("div",{style:{position:"relative",marginBottom:"20px"},children:jsxRuntimeExports.jsx("div",{style:{background:"#f3f4f6",borderRadius:"8px",padding:"15px",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"280px"},children:jsxRuntimeExports.jsxs("div",{style:{background:"white",width:"180px",height:"254px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",display:"flex",flexDirection:"column",padding:"15px",gap:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"8px",left:"8px",background:"#4F46E5",color:"white",fontSize:"10px",padding:"3px 8px",borderRadius:"4px",fontWeight:"bold"},children:"A4"}),jsxRuntimeExports.jsx("div",{style:{height:"8px",background:"#333",borderRadius:"2px"}}),jsxRuntimeExports.jsx("div",{style:{height:"6px",background:"#999",borderRadius:"2px",width:"80%"}}),jsxRuntimeExports.jsx("div",{style:{height:"6px",background:"#999",borderRadius:"2px"}}),jsxRuntimeExports.jsx("div",{style:{height:"6px",background:"#999",borderRadius:"2px",width:"90%"}}),jsxRuntimeExports.jsx("div",{style:{height:"60px",background:"#4F46E5",borderRadius:"4px",marginTop:"5px",opacity:.3}}),jsxRuntimeExports.jsx("div",{style:{height:"6px",background:"#999",borderRadius:"2px",marginTop:"5px"}}),jsxRuntimeExports.jsx("div",{style:{height:"6px",background:"#999",borderRadius:"2px",width:"70%"}}),jsxRuntimeExports.jsx("div",{style:{height:"6px",background:"#999",borderRadius:"2px",width:"85%"}})]})})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"12px",alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{style:{flex:1},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",color:"#666",marginBottom:"4px"},children:"Paper Size"}),jsxRuntimeExports.jsx("select",{style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"12px"},children:jsxRuntimeExports.jsx("option",{children:"A4 (210297 mm)"})})]}),jsxRuntimeExports.jsxs("div",{style:{width:"80px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",color:"#666",marginBottom:"4px"},children:"Fit"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px",border:"1px solid #ddd",borderRadius:"6px",background:"#f9fafb"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"12px"},children:"ON"}),jsxRuntimeExports.jsx("div",{style:{width:"36px",height:"20px",background:"#4F46E5",borderRadius:"10px",position:"relative"},children:jsxRuntimeExports.jsx("div",{style:{position:"absolute",right:"2px",top:"2px",width:"16px",height:"16px",background:"white",borderRadius:"50%"}})})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"12px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",color:"#666",marginBottom:"4px"},children:"Zoom: 100%"}),jsxRuntimeExports.jsx("input",{type:"range",style:{width:"100%"},min:"50",max:"200",defaultValue:"100"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px",marginBottom:"15px"},children:[jsxRuntimeExports.jsxs("button",{style:{padding:"10px",border:"2px solid #e5e7eb",borderRadius:"8px",background:"white",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"16px"},children:""})," Crop"]}),jsxRuntimeExports.jsxs("button",{style:{padding:"10px",border:"2px solid #e5e7eb",borderRadius:"8px",background:"white",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"16px"},children:""})," Rotate"]}),jsxRuntimeExports.jsxs("button",{style:{padding:"10px",border:"2px solid #e5e7eb",borderRadius:"8px",background:"white",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"3px",flexDirection:"column",lineHeight:"1.2"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"14px"},children:""}),jsxRuntimeExports.jsx("span",{children:"2 Pages"})]})]}),jsxRuntimeExports.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"12px",marginBottom:"12px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",marginBottom:"4px"},children:"Total: 1.00"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",color:"#666"},children:"1 page  1.00  1 copy"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"15px",padding:"8px",background:"#f0fdf4",borderRadius:"6px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"20px",height:"20px",background:"#10B981",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"bold"},children:""}),jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",color:"#10B981",fontWeight:"600"},children:"Ready for instant submission!"})]}),jsxRuntimeExports.jsx("button",{style:{width:"100%",background:"#4F46E5",color:"white",border:"none",borderRadius:"8px",padding:"14px",fontSize:"15px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 2px 8px rgba(79,70,229,0.3)"},children:"Submit Order"})]})]})}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"30px",background:"#f0fdf4",padding:"20px",borderRadius:"8px"},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#10B981",marginBottom:"10px"},children:" Strengths"}),jsxRuntimeExports.jsxs("ul",{style:{color:"#666",lineHeight:"2"},children:[jsxRuntimeExports.jsx("li",{children:"Clean, uncluttered interface"}),jsxRuntimeExports.jsx("li",{children:"All controls visible at once"}),jsxRuntimeExports.jsx("li",{children:"Clear paper size and fit options"}),jsxRuntimeExports.jsx("li",{children:"Instant cost visibility"})]})]})]}),s==="v2"&&jsxRuntimeExports.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[jsxRuntimeExports.jsx("h2",{style:{color:"#4F46E5",marginBottom:"15px"},children:"Version 2: Enhanced (Inline Editing)"}),jsxRuntimeExports.jsx("p",{style:{color:"#666",marginBottom:"25px"},children:" Live crop overlay   Page navigation   Color mode toggle"}),jsxRuntimeExports.jsx("div",{style:{maxWidth:"380px",margin:"0 auto",border:"3px solid #333",borderRadius:"30px",padding:"15px",background:"white",boxShadow:"0 10px 40px rgba(0,0,0,0.2)"},children:jsxRuntimeExports.jsxs("div",{style:{background:"white",borderRadius:"12px",overflow:"hidden"},children:[jsxRuntimeExports.jsxs("div",{style:{background:"linear-gradient(135deg, #4F46E5 0%, #6366F1 100%)",color:"white",padding:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"14px",fontWeight:"600"},children:"Place Order"}),jsxRuntimeExports.jsx("span",{style:{fontSize:"12px",opacity:.9},children:"document.pdf"})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px"},children:[jsxRuntimeExports.jsx("div",{style:{position:"relative",marginBottom:"15px"},children:jsxRuntimeExports.jsxs("div",{style:{background:"#f3f4f6",borderRadius:"8px",padding:"15px",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"280px",position:"relative"},children:[jsxRuntimeExports.jsxs("div",{style:{background:"white",width:"180px",height:"254px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",display:"flex",flexDirection:"column",padding:"15px",gap:"8px"},children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"8px",left:"8px",background:"#4F46E5",color:"white",fontSize:"10px",padding:"3px 8px",borderRadius:"4px",fontWeight:"bold"},children:"A4"}),jsxRuntimeExports.jsx("div",{style:{height:"8px",background:"#333",borderRadius:"2px"}}),jsxRuntimeExports.jsx("div",{style:{height:"6px",background:"#999",borderRadius:"2px",width:"80%"}}),jsxRuntimeExports.jsx("div",{style:{height:"6px",background:"#999",borderRadius:"2px"}}),jsxRuntimeExports.jsx("div",{style:{height:"6px",background:"#999",borderRadius:"2px",width:"90%"}}),jsxRuntimeExports.jsx("div",{style:{height:"60px",background:"#4F46E5",borderRadius:"4px",marginTop:"5px",opacity:.3}}),a&&jsxRuntimeExports.jsxs("div",{style:{position:"absolute",inset:"30px 20px 60px 20px",border:"2px dashed #10B981",background:"rgba(16, 185, 129, 0.1)",borderRadius:"4px"},children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"-8px",left:"-8px",width:"14px",height:"14px",background:"#10B981",border:"2px solid white",borderRadius:"50%"}}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"-8px",right:"-8px",width:"14px",height:"14px",background:"#10B981",border:"2px solid white",borderRadius:"50%"}}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",bottom:"-8px",left:"-8px",width:"14px",height:"14px",background:"#10B981",border:"2px solid white",borderRadius:"50%"}}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",bottom:"-8px",right:"-8px",width:"14px",height:"14px",background:"#10B981",border:"2px solid white",borderRadius:"50%"}})]})]}),jsxRuntimeExports.jsxs("div",{style:{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"6px 12px",borderRadius:"20px",fontSize:"11px",display:"flex",alignItems:"center",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"14px"},children:""}),jsxRuntimeExports.jsx("span",{children:"1 of 5"}),jsxRuntimeExports.jsx("button",{style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"14px"},children:""})]})]})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[jsxRuntimeExports.jsxs("div",{style:{flex:1,background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"8px 10px",fontSize:"11px"},children:[jsxRuntimeExports.jsx("div",{style:{color:"#999",marginBottom:"2px"},children:"Paper"}),jsxRuntimeExports.jsx("select",{style:{border:"none",background:"transparent",fontSize:"12px",fontWeight:"600",width:"100%",padding:0},children:jsxRuntimeExports.jsx("option",{children:"A4"})})]}),jsxRuntimeExports.jsxs("div",{style:{flex:1,background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"8px 10px",fontSize:"11px"},children:[jsxRuntimeExports.jsx("div",{style:{color:"#999",marginBottom:"2px"},children:"Color"}),jsxRuntimeExports.jsxs("select",{style:{border:"none",background:"transparent",fontSize:"12px",fontWeight:"600",width:"100%",padding:0},children:[jsxRuntimeExports.jsx("option",{children:" Color"}),jsxRuntimeExports.jsx("option",{children:" B&W"})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px",marginBottom:"15px"},children:[jsxRuntimeExports.jsxs("button",{onClick:()=>o(!a),style:{padding:"10px",border:`2px solid ${a?"#10B981":"#e5e7eb"}`,borderRadius:"8px",background:a?"#f0fdf4":"white",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",color:a?"#10B981":"#333"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"16px"},children:""})," Crop"]}),jsxRuntimeExports.jsxs("button",{style:{padding:"10px",border:"2px solid #e5e7eb",borderRadius:"8px",background:"white",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"16px"},children:""})," Rotate"]}),jsxRuntimeExports.jsxs("button",{style:{padding:"10px",border:"2px solid #e5e7eb",borderRadius:"8px",background:"white",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"3px",flexDirection:"column",lineHeight:"1.2"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"14px"},children:""}),jsxRuntimeExports.jsx("span",{children:"N-up"})]})]}),jsxRuntimeExports.jsxs("details",{style:{marginBottom:"15px",background:"#f9fafb",borderRadius:"8px",padding:"10px"},children:[jsxRuntimeExports.jsx("summary",{style:{fontSize:"12px",fontWeight:"600",color:"#666",cursor:"pointer"},children:" Advanced Settings"}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid #e5e7eb"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",color:"#666",marginBottom:"6px"},children:"Zoom: 100%"}),jsxRuntimeExports.jsx("input",{type:"range",style:{width:"100%",marginBottom:"10px"},min:"50",max:"200",defaultValue:"100"}),jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",color:"#666"},children:[jsxRuntimeExports.jsx("input",{type:"checkbox",defaultChecked:!0}),jsxRuntimeExports.jsx("span",{children:"Fit to Page"})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"12px",marginBottom:"12px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",marginBottom:"4px"},children:"Total: 5.00"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",color:"#666"},children:"5 pages  1.00  1 copy"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"15px",padding:"8px",background:"#f0fdf4",borderRadius:"6px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"20px",height:"20px",background:"#10B981",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"bold"},children:""}),jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",color:"#10B981",fontWeight:"600"},children:"Ready to submit!"})]}),jsxRuntimeExports.jsx("button",{style:{width:"100%",background:"#4F46E5",color:"white",border:"none",borderRadius:"8px",padding:"14px",fontSize:"15px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 2px 8px rgba(79,70,229,0.3)"},children:"Submit Order"})]})]})}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"30px",background:"#f0fdf4",padding:"20px",borderRadius:"8px"},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#10B981",marginBottom:"10px"},children:" Improvements Over V1"}),jsxRuntimeExports.jsxs("ul",{style:{color:"#666",lineHeight:"2"},children:[jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Live crop overlay"})," - See crop area in real-time"]}),jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Page navigation"})," - Navigate multi-page PDFs ( 1 of 5 )"]}),jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Color mode dropdown"})," - Quick B&W conversion"]}),jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Collapsible advanced settings"})," - Cleaner interface"]}),jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Better mobile layout"})," - Compact controls"]})]})]})]}),s==="v3"&&jsxRuntimeExports.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[jsxRuntimeExports.jsx("h2",{style:{color:"#4F46E5",marginBottom:"15px"},children:"Version 3: Pro (Maximum Features)"}),jsxRuntimeExports.jsx("p",{style:{color:"#666",marginBottom:"25px"},children:" Smart presets   Batch actions   Live cost updates"}),jsxRuntimeExports.jsx("div",{style:{maxWidth:"380px",margin:"0 auto",border:"3px solid #333",borderRadius:"30px",padding:"15px",background:"white",boxShadow:"0 10px 40px rgba(0,0,0,0.2)"},children:jsxRuntimeExports.jsxs("div",{style:{background:"white",borderRadius:"12px",overflow:"hidden"},children:[jsxRuntimeExports.jsxs("div",{style:{background:"linear-gradient(135deg, #4F46E5 0%, #6366F1 100%)",color:"white",padding:"15px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"5px"},children:"Place Order"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",opacity:.9},children:"document.pdf  5 pages  2.1 MB"})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"15px"},children:[jsxRuntimeExports.jsx("button",{style:{padding:"12px",border:"2px solid #4F46E5",borderRadius:"8px",background:"#EEF2FF",fontSize:"12px",fontWeight:"600",cursor:"pointer",color:"#4F46E5"},children:" Quick Print"}),jsxRuntimeExports.jsx("button",{style:{padding:"12px",border:"2px solid #e5e7eb",borderRadius:"8px",background:"white",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:" Economy"})]}),jsxRuntimeExports.jsx("div",{style:{position:"relative",marginBottom:"15px"},children:jsxRuntimeExports.jsxs("div",{style:{background:"#f3f4f6",borderRadius:"8px",padding:"15px",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"240px",position:"relative"},children:[jsxRuntimeExports.jsxs("div",{style:{background:"white",width:"160px",height:"226px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",display:"flex",flexDirection:"column",padding:"12px",gap:"6px"},children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"6px",left:"6px",background:"#4F46E5",color:"white",fontSize:"9px",padding:"2px 6px",borderRadius:"3px",fontWeight:"bold"},children:"A4"}),jsxRuntimeExports.jsx("div",{style:{height:"6px",background:"#333",borderRadius:"2px"}}),jsxRuntimeExports.jsx("div",{style:{height:"5px",background:"#999",borderRadius:"2px",width:"80%"}}),jsxRuntimeExports.jsx("div",{style:{height:"5px",background:"#999",borderRadius:"2px"}}),jsxRuntimeExports.jsx("div",{style:{height:"50px",background:"#4F46E5",borderRadius:"3px",marginTop:"4px",opacity:.3}})]}),jsxRuntimeExports.jsxs("div",{style:{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.8)",color:"white",padding:"8px 12px",borderRadius:"20px",fontSize:"11px",display:"flex",alignItems:"center",gap:"12px"},children:[jsxRuntimeExports.jsx("button",{style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"14px"},children:""}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"4px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"6px",height:"6px",background:"#4F46E5",borderRadius:"50%"}}),jsxRuntimeExports.jsx("div",{style:{width:"6px",height:"6px",background:"rgba(255,255,255,0.3)",borderRadius:"50%"}}),jsxRuntimeExports.jsx("div",{style:{width:"6px",height:"6px",background:"rgba(255,255,255,0.3)",borderRadius:"50%"}}),jsxRuntimeExports.jsx("div",{style:{width:"6px",height:"6px",background:"rgba(255,255,255,0.3)",borderRadius:"50%"}}),jsxRuntimeExports.jsx("div",{style:{width:"6px",height:"6px",background:"rgba(255,255,255,0.3)",borderRadius:"50%"}})]}),jsxRuntimeExports.jsx("button",{style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"14px"},children:""})]})]})}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"12px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"4px",borderBottom:"2px solid #e5e7eb",marginBottom:"12px"},children:[jsxRuntimeExports.jsx("button",{style:{padding:"8px 12px",border:"none",background:"transparent",fontSize:"12px",fontWeight:"600",color:"#4F46E5",borderBottom:"2px solid #4F46E5",marginBottom:"-2px",cursor:"pointer"},children:"Basic"}),jsxRuntimeExports.jsx("button",{style:{padding:"8px 12px",border:"none",background:"transparent",fontSize:"12px",color:"#999",cursor:"pointer"},children:"Layout"}),jsxRuntimeExports.jsx("button",{style:{padding:"8px 12px",border:"none",background:"transparent",fontSize:"12px",color:"#999",cursor:"pointer"},children:"Advanced"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"12px"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"10px",color:"#999",marginBottom:"4px"},children:"Paper Size"}),jsxRuntimeExports.jsxs("select",{style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"11px"},children:[jsxRuntimeExports.jsx("option",{children:"A4"}),jsxRuntimeExports.jsx("option",{children:"A5"}),jsxRuntimeExports.jsx("option",{children:"Letter"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"10px",color:"#999",marginBottom:"4px"},children:"Color Mode"}),jsxRuntimeExports.jsxs("select",{style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"11px"},children:[jsxRuntimeExports.jsx("option",{children:" Color"}),jsxRuntimeExports.jsx("option",{children:" B&W"}),jsxRuntimeExports.jsx("option",{children:" Grayscale"})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"6px"},children:[jsxRuntimeExports.jsxs("button",{style:{padding:"10px 6px",border:"2px solid #e5e7eb",borderRadius:"6px",background:"white",fontSize:"10px",fontWeight:"600",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"3px"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"16px"},children:""}),jsxRuntimeExports.jsx("span",{children:"Crop"})]}),jsxRuntimeExports.jsxs("button",{style:{padding:"10px 6px",border:"2px solid #e5e7eb",borderRadius:"6px",background:"white",fontSize:"10px",fontWeight:"600",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"3px"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"16px"},children:""}),jsxRuntimeExports.jsx("span",{children:"Rotate"})]}),jsxRuntimeExports.jsxs("button",{style:{padding:"10px 6px",border:"2px solid #e5e7eb",borderRadius:"6px",background:"white",fontSize:"10px",fontWeight:"600",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"3px"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"16px"},children:""}),jsxRuntimeExports.jsx("span",{children:"N-up"})]}),jsxRuntimeExports.jsxs("button",{style:{padding:"10px 6px",border:"2px solid #e5e7eb",borderRadius:"6px",background:"white",fontSize:"10px",fontWeight:"600",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"3px"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"16px"},children:""}),jsxRuntimeExports.jsx("span",{children:"More"})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{background:"#FEF3C7",border:"1px solid #FCD34D",borderRadius:"8px",padding:"10px",marginBottom:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",color:"#92400E"},children:jsxRuntimeExports.jsx("strong",{children:"Apply to all pages?"})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"6px"},children:[jsxRuntimeExports.jsx("button",{style:{padding:"4px 10px",background:"white",border:"1px solid #ddd",borderRadius:"4px",fontSize:"10px",fontWeight:"600",cursor:"pointer"},children:"No"}),jsxRuntimeExports.jsx("button",{style:{padding:"4px 10px",background:"#4F46E5",color:"white",border:"none",borderRadius:"4px",fontSize:"10px",fontWeight:"600",cursor:"pointer"},children:"Yes"})]})]}),jsxRuntimeExports.jsxs("div",{style:{background:"linear-gradient(135deg, #4F46E5 0%, #6366F1 100%)",color:"white",borderRadius:"8px",padding:"12px",marginBottom:"12px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"11px",opacity:.9},children:"Base cost"}),jsxRuntimeExports.jsx("span",{style:{fontSize:"11px",opacity:.9},children:"5.00"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"8px",borderTop:"1px solid rgba(255,255,255,0.3)"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"14px",fontWeight:"bold"},children:"Total"}),jsxRuntimeExports.jsx("span",{style:{fontSize:"14px",fontWeight:"bold"},children:"5.00"})]}),jsxRuntimeExports.jsx("div",{style:{fontSize:"10px",opacity:.8,marginTop:"4px"},children:"5 pages  1.00  1 copy"})]}),jsxRuntimeExports.jsxs("button",{style:{width:"100%",background:"#10B981",color:"white",border:"none",borderRadius:"8px",padding:"14px",fontSize:"15px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 2px 8px rgba(16,185,129,0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[jsxRuntimeExports.jsx("span",{children:"Submit Order"}),jsxRuntimeExports.jsx("span",{style:{fontSize:"18px"},children:""})]}),jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginTop:"10px"},children:jsxRuntimeExports.jsx("a",{href:"#",style:{fontSize:"11px",color:"#4F46E5",textDecoration:"none"},children:"or view all pages in grid "})})]})]})}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"30px",background:"#f0fdf4",padding:"20px",borderRadius:"8px"},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#10B981",marginBottom:"10px"},children:" Pro Features"}),jsxRuntimeExports.jsxs("ul",{style:{color:"#666",lineHeight:"2"},children:[jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Smart presets"}),' - "Quick Print" vs "Economy" mode']}),jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Tabbed controls"})," - Basic, Layout, Advanced"]}),jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Batch actions"}),' - "Apply to all pages?" prompt']}),jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Cost breakdown"})," - Transparent pricing"]}),jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Thumbnail dots"})," - Visual page indicator"]}),jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx("strong",{children:"Grid escape hatch"})," - Link to full grid if needed"]})]})]})]}),s==="comparison"&&jsxRuntimeExports.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[jsxRuntimeExports.jsx("h2",{style:{color:"#4F46E5",marginBottom:"25px",textAlign:"center"},children:"Feature Comparison"}),jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{background:"#f9fafb"},children:[jsxRuntimeExports.jsx("th",{style:{padding:"12px",textAlign:"left",border:"1px solid #e5e7eb",fontWeight:"600"},children:"Feature"}),jsxRuntimeExports.jsxs("th",{style:{padding:"12px",textAlign:"center",border:"1px solid #e5e7eb",fontWeight:"600"},children:["V1",jsxRuntimeExports.jsx("br",{}),"(Simple)"]}),jsxRuntimeExports.jsxs("th",{style:{padding:"12px",textAlign:"center",border:"1px solid #e5e7eb",fontWeight:"600"},children:["V2",jsxRuntimeExports.jsx("br",{}),"(Enhanced)"]}),jsxRuntimeExports.jsxs("th",{style:{padding:"12px",textAlign:"center",border:"1px solid #e5e7eb",fontWeight:"600"},children:["V3",jsxRuntimeExports.jsx("br",{}),"(Pro)"]})]})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb"},children:"Live PDF preview"}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb"},children:"Crop/Rotate/N-up controls"}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb"},children:"Paper size selector"}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb"},children:"Total cost display"}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""})]}),jsxRuntimeExports.jsxs("tr",{style:{background:"#fffbeb"},children:[jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb"},children:jsxRuntimeExports.jsx("strong",{children:"Live crop overlay"})}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""})]}),jsxRuntimeExports.jsxs("tr",{style:{background:"#fffbeb"},children:[jsxRuntimeExports.jsxs("td",{style:{padding:"12px",border:"1px solid #e5e7eb"},children:[jsxRuntimeExports.jsx("strong",{children:"Page navigation"})," ( 1 of 5 )"]}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""})]}),jsxRuntimeExports.jsxs("tr",{style:{background:"#fffbeb"},children:[jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb"},children:jsxRuntimeExports.jsx("strong",{children:"Color mode dropdown"})}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""})]}),jsxRuntimeExports.jsxs("tr",{style:{background:"#fffbeb"},children:[jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb"},children:jsxRuntimeExports.jsx("strong",{children:"Collapsible settings"})}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center"},children:""})]}),jsxRuntimeExports.jsxs("tr",{style:{background:"#fef3c7"},children:[jsxRuntimeExports.jsxs("td",{style:{padding:"12px",border:"1px solid #e5e7eb"},children:[jsxRuntimeExports.jsx("strong",{children:"Smart presets"})," (Quick/Economy)"]}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""})]}),jsxRuntimeExports.jsxs("tr",{style:{background:"#fef3c7"},children:[jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb"},children:jsxRuntimeExports.jsx("strong",{children:"Tabbed controls"})}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""})]}),jsxRuntimeExports.jsxs("tr",{style:{background:"#fef3c7"},children:[jsxRuntimeExports.jsxs("td",{style:{padding:"12px",border:"1px solid #e5e7eb"},children:[jsxRuntimeExports.jsx("strong",{children:"Batch actions"})," (Apply to all)"]}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""})]}),jsxRuntimeExports.jsxs("tr",{style:{background:"#fef3c7"},children:[jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb"},children:jsxRuntimeExports.jsx("strong",{children:"Cost breakdown"})}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center"},children:""}),jsxRuntimeExports.jsx("td",{style:{padding:"12px",border:"1px solid #e5e7eb",textAlign:"center",background:"#f0fdf4"},children:""})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"30px",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px"},children:[jsxRuntimeExports.jsxs("div",{style:{background:"#f0fdf4",padding:"20px",borderRadius:"8px",border:"2px solid #10B981"},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#10B981",marginBottom:"10px"},children:" Version 1"}),jsxRuntimeExports.jsxs("p",{style:{fontSize:"13px",color:"#666",marginBottom:"10px"},children:[jsxRuntimeExports.jsx("strong",{children:"Best for:"})," Quick implementation"]}),jsxRuntimeExports.jsxs("ul",{style:{fontSize:"12px",color:"#666",lineHeight:"1.8",paddingLeft:"20px"},children:[jsxRuntimeExports.jsx("li",{children:"Clean & simple"}),jsxRuntimeExports.jsx("li",{children:"Fastest to build"}),jsxRuntimeExports.jsx("li",{children:"All essential features"})]})]}),jsxRuntimeExports.jsxs("div",{style:{background:"#f0fdf4",padding:"20px",borderRadius:"8px",border:"3px solid #10B981"},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#10B981",marginBottom:"10px"},children:" Version 2"}),jsxRuntimeExports.jsxs("p",{style:{fontSize:"13px",color:"#666",marginBottom:"10px"},children:[jsxRuntimeExports.jsx("strong",{children:"Best for:"})," Mobile UX (RECOMMENDED)"]}),jsxRuntimeExports.jsxs("ul",{style:{fontSize:"12px",color:"#666",lineHeight:"1.8",paddingLeft:"20px"},children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("strong",{children:"Best balance"})}),jsxRuntimeExports.jsx("li",{children:"Live interactions"}),jsxRuntimeExports.jsx("li",{children:"Multi-page support"}),jsxRuntimeExports.jsx("li",{children:"Clean interface"})]})]}),jsxRuntimeExports.jsxs("div",{style:{background:"#f0fdf4",padding:"20px",borderRadius:"8px",border:"2px solid #10B981"},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#10B981",marginBottom:"10px"},children:" Version 3"}),jsxRuntimeExports.jsxs("p",{style:{fontSize:"13px",color:"#666",marginBottom:"10px"},children:[jsxRuntimeExports.jsx("strong",{children:"Best for:"})," Power users"]}),jsxRuntimeExports.jsxs("ul",{style:{fontSize:"12px",color:"#666",lineHeight:"1.8",paddingLeft:"20px"},children:[jsxRuntimeExports.jsx("li",{children:"Maximum features"}),jsxRuntimeExports.jsx("li",{children:"Presets & batch ops"}),jsxRuntimeExports.jsx("li",{children:"More complex UI"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"30px",background:"linear-gradient(135deg, #4F46E5 0%, #6366F1 100%)",color:"white",borderRadius:"12px",padding:"30px",textAlign:"center"},children:[jsxRuntimeExports.jsx("h2",{style:{marginBottom:"15px"},children:" My Recommendation"}),jsxRuntimeExports.jsx("p",{style:{fontSize:"18px",marginBottom:"20px"},children:jsxRuntimeExports.jsx("strong",{children:"Start with Version 2 (Enhanced)"})}),jsxRuntimeExports.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"8px",padding:"20px",textAlign:"left"},children:[jsxRuntimeExports.jsxs("p",{style:{marginBottom:"15px",lineHeight:"1.8"},children:[jsxRuntimeExports.jsx("strong",{children:"Why Version 2?"}),jsxRuntimeExports.jsx("br",{})," Perfect balance of simplicity and functionality",jsxRuntimeExports.jsx("br",{})," Live crop overlay for visual feedback",jsxRuntimeExports.jsx("br",{})," Page navigation for multi-page PDFs",jsxRuntimeExports.jsx("br",{})," Quick color mode switching",jsxRuntimeExports.jsx("br",{})," Collapsible advanced settings keep it clean",jsxRuntimeExports.jsx("br",{})," 99% mobile users will love the inline editing"]}),jsxRuntimeExports.jsxs("p",{style:{lineHeight:"1.8",opacity:.9},children:[jsxRuntimeExports.jsx("strong",{children:"Implementation:"})," We can build V2 first, then add V3 features (presets, batch actions) later based on user feedback."]})]})]})]})})};function App(){return jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(HomePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/design-mockup",element:jsxRuntimeExports.jsx(DesignMockup,{})}),jsxRuntimeExports.jsx(Route,{path:"/shop/:shopId",element:jsxRuntimeExports.jsx(OrderPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/shop/:shopId/order",element:jsxRuntimeExports.jsx(OrderPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/payment/:jobId",element:jsxRuntimeExports.jsx(PaymentPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/status/:jobId",element:jsxRuntimeExports.jsx(StatusPage,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})})]})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{CreditCard as C,DEFAULT_PAGE_SIZE as D,FileText as F,Maximize2 as M,PAGE_SIZES as P,RotateCcw as R,SquareCheck as S,X,ZoomOut as Z,Square as a,ZoomIn as b,createLucideIcon as c,PDFDocument as d,pushGraphicsState as e,concatTransformationMatrix as f,getPageSize as g,closePath as h,clip as i,jsxRuntimeExports as j,endPath as k,lineTo as l,moveTo as m,popGraphicsState as n,pdfjsWorker as o,pdfExports$1 as p,reactExports as r};
